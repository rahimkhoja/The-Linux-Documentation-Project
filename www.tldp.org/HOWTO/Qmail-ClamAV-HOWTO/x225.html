<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Installing Qmail-Scanner</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Qmail-Scanner and ClamAV HowTo"
HREF="index.html"><LINK
REL="UP"
TITLE="Qmail-Scanner"
HREF="c177.html"><LINK
REL="PREVIOUS"
TITLE="Installing Qmail-Scanner Prerequisites"
HREF="x182.html"><LINK
REL="NEXT"
TITLE="Ownership"
HREF="x246.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Qmail-Scanner and ClamAV HowTo</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x182.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 4. Qmail-Scanner</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x246.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN225"
></A
>4.3. Installing Qmail-Scanner</H1
><P
>We are now ready to install Qmail-Scanner. Download the latest source of
				Qmail-Scanner. As of the writing of this HOWTO, it is 1.20.</P
><P
>Create a user for Qmail-Scanner to run as.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>#groupadd qscand</PRE
></FONT
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>#useradd qscand -g qscand -c "qmail scanner" -s /nonexistent</PRE
></FONT
></TD
></TR
></TABLE
><P
>Unpack the tar ball and change to the Qmail-Scanner directory.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>#tar -zxvf qmail-scanner-1.20.tar.gz</PRE
></FONT
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>#cd qmail-scanner-1.20</PRE
></FONT
></TD
></TR
></TABLE
><P
>Run Configure to autodetect what software is installed on your system.
				Review the output to make sure it is correct. It should look similar to this:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;#./configure

This script will search your system for the virus scanners it knows
about, and will ensure that all external programs
qmail-scanner-queue.pl uses are explicitly pathed for performance
reasons.

It will then generate qmail-scanner-queue.pl - it is up to you to install it
correctly.

Continue? ([Y]/N) &#60;PRESS ENTER&#62;

Found tnef on your system! That means we'll be able to decode stupid
M$ attachments :-)


The following binaries and scanners were found on your system:

mimeunpacker=/usr/local/bin/reformime
unzip=/usr/bin/unzip
tnef=/usr/local/bin/tnef

Content/Virus Scanners installed on your System

clamuko=/usr/local/bin/clamdscan (which means clamscan won't be used as clamdscan is better)

Qmail-Scanner details.

log-details=0
fix-mime=1
debug=1
notify=sender,admin
redundant-scanning=no
virus-admin=root@mail  --substitute you domain here
local-domains='mail' --substitute your domain here
silent-viruses='klez','bugbear','hybris','yaha','braid','nimda','tanatos','sobig','winevar','palyh','fizzer','gibe','
cailont','lovelorn','swen','dumaru','sober','hawaii','holar-i'
scanners="clamuko_scanner"

If that looks correct, I will now generate qmail-scanner-queue.pl
for your system...
Continue? ([Y]/N)&#60;PRESS ENTER&#62;

			</PRE
></FONT
></TD
></TR
></TABLE
><P
>Now type:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
># ./configure ?install</PRE
></FONT
></TD
></TR
></TABLE
><P
>This installs qmail-scanner-queue.pl and creates the necessary directory
				structures. You should see similar messages as before. Once again, read the
				output of the script to make sure everything is correct. If it is press
			<B
CLASS="keycap"
>ENTER</B
> to install Qmail-scanner.</P
><P
>If qmail has been installed successfully, qmail-scanner-queue.pl should
				now be installed. You should see qmail-scanner-queue.pl in /var/qmail/bin.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>#ls /var/qmail/bin</PRE
></FONT
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>/var/qmail/bin/qmail-scanner-queue.pl</PRE
></FONT
></TD
></TR
></TABLE
><P
>If you do not see qmail-scanner-queue.pl in /var/qmail/bin, then execute
				the configure script again. Please pay attention to the output of the script
				and verify that all of the settings are correct. You can also visit the
				Qmail-scanner mail-archives at <A
HREF="http://lists.sourceforge.net/mailman/listinfo/qmail-scanner-general"
TARGET="_top"
>&#13;               <I
CLASS="citetitle"
>http://lists.sourceforge.net/mailman/listinfo/qmail-scanner-general</I
></A
>
				.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x182.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x246.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Installing Qmail-Scanner Prerequisites</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c177.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Ownership</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>