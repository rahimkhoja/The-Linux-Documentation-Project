<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>News Leafsite mini-HOWTO: How do I install it?</TITLE>
 <LINK HREF="News-Leafsite-4.html" REL=next>
 <LINK HREF="News-Leafsite-2.html" REL=previous>
 <LINK HREF="News-Leafsite.html#toc3" REL=contents>
</HEAD>
<BODY>
<A HREF="News-Leafsite-4.html">Next</A>
<A HREF="News-Leafsite-2.html">Previous</A>
<A HREF="News-Leafsite.html#toc3">Contents</A>
<HR>
<H2><A NAME="s3">3. How do I install it?</A></H2>

<P>A small installation help comes with the package, but let's do it
together :-) -- If Leafnode >=1.4 is shipped with your distribution,
it would be the wisest to use the pre-compiled version and leave out
the steps 1 to 4.
<P>
<P>1.) Be sure that there is no other news server running on your
computer. When you type<BR>
<B>$ telnet localhost nntp</B><BR>
you should get an error message. If you get a connection get back to the
prompt of your shell, you should uninstall INN, CNews or whatever you're
running now and comment out the nntp-line in your /etc/inetd.conf.
<P>2.) Make sure that there is a user called "news", check in
/etc/password for the name. If there isn't, create one (either typing<BR>
<B>$ adduser news</B><BR>
or using a tool shipped with your distribution).
<P>3.) Unpack the sources:<BR>
<B>$ tar xfz leafnode-1.4.tar.gz</B><BR>
and change into the source directory <BR>
<B>$ cd leafnode-1.4</B>
<P>4.) Compile the program and install it<BR>
<B>$ make; make install</B><BR>
<P>5.) Edit /usr/lib/leafnode/config (it may be on any other place like
/etc/leafnode when you use a pre-compiled version of your Linux
distribution). The line "server =" should point to the news server of
your ISP.
<P>6.) Edit /etc/nntpserver. It should include your local hostname
(localhost or whatever your computer name is, the command hostname
should help you). If in some startup file like /etc/profile or
&nbsp;/.bash_profile the environment variable is defined, you should
adjust to your computer´s name as well.
<P>7.) Edit the /etc/inetd.conf: Make sure that there is no line beginning
with "nntp". If there is such a line, comment it out putting a "#"
before it. Then add the following line:<BR>
<B>nntp    stream  tcp     nowait  news    /usr/sbin/tcpd /usr/local/sbin/leafnode</B><BR>
When someone (for example you :-) connects to your computer on the
NNTP port, leafnode is started as server process.
<P>8.) Go online and run the program "fetch" as root or news. The first time
fetch is started, it will download a list of your ISP's newsgroups. This
may take some time depending on the speed on your connection and the
number of groups your ISP has in its active-File.
<P>9.) Start your favorite newsreader (slrn, (r)tin and knews are not a
bad start) and subscribe to all your groups you read. Be careful not
just to subscribe these groups, but also to enter them, even when
they're empty.
<P>10.) Start fetch again to download all the news of the groups want to
get.
<P> 
<HR>
<A HREF="News-Leafsite-4.html">Next</A>
<A HREF="News-Leafsite-2.html">Previous</A>
<A HREF="News-Leafsite.html#toc3">Contents</A>
</BODY>
</HTML>
