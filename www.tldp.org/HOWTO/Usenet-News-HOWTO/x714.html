<HTML
><HEAD
><TITLE
>Connecting email with Usenet news</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Usenet News HOWTO "
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Setting up INN"
HREF="x687.html"><LINK
REL="NEXT"
TITLE="Security issues"
HREF="x758.html"></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Usenet News HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x687.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x758.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="AEN714">6. Connecting email with Usenet news</H1
><P
>Usenet news and mailing lists constantly remind us of each other.  And the
parallels are so strong that many mailing lists are gatewayed two-way
with corresponding Usenet newsgroups, in the <TT
CLASS="LITERAL"
>bit</TT
> hierarchy
which maps onto the old BITNET, and elsewhere.</P
><P
>There are probably ten different situations where a mailing list is
better, and ten others where the newsgroup approach works better. The
point to recognise is that the system administrator needs a choice of
gatewaying one with the other, whenever tradeoffs justify it. Instead
of getting into the tradeoffs themselves, this chapter will then focus
on the mechanisms of gatewaying the two worlds.</P
><P
>One clear and recurring use we find for this gatewaying is for mailing
lists which are of general use to many employees in a corporate network.
For instance, in stockbroking company, many employees may like to
subscribe to a business news mailing list. If each employee had to
subscribe to the mailing list independently, it would waste mail spool
area and perhaps bandwidth. In such situations, we receive the mailing
list into an internal newsgroup, so that individual mailboxes are not
overloaded. Everyone can then read the newsgroup, and messages are also
archived till expired.</P
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="AEN720">6.1. Feeding Usenet news to email</H2
><P
>In CNews, this is trivially done by adding one line to the
<TT
CLASS="LITERAL"
>sys</TT
> file, defining a new outgoing feed listing all the
relevant groups and distributions, and specifying the commandline to be executed
which is supposed to send out the outgoing message to that ``feed.'' This
command, in our case, should be a mail-sending program,
<EM
>e.g.</EM
>
<TT
CLASS="LITERAL"
>/bin/mail user@somewhere.com</TT
>. This is often adequate to get
the job done. We are sure almost every Usenet news software system will have
an equally easy way of piping the feed of a newsgroup to an email address.</P
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="AEN726">6.2. Feeding email to news: the <TT
CLASS="LITERAL"
>mail2news gateway</TT
></H2
><P
>With our Usenet software sources has been integrated a set of
scripts which we have been using for at least five years internally.
This set of scripts is called <TT
CLASS="LITERAL"
>mail2news</TT
>. It contains
one shellscript called <TT
CLASS="LITERAL"
>mail2news</TT
>, which takes an
email message from <TT
CLASS="LITERAL"
>stdin</TT
>, processes it, and feeds the
processed version to <TT
CLASS="LITERAL"
>inews</TT
>, the
<TT
CLASS="LITERAL"
>stdin</TT
>-based news article injection utility of C-News.
The <TT
CLASS="LITERAL"
>inews</TT
> utility accepts a new article post in its
<TT
CLASS="LITERAL"
>stdin</TT
> and queues it for digestion by
<TT
CLASS="LITERAL"
>newsrun</TT
> whenever it runs next.</P
><P
>To use <TT
CLASS="LITERAL"
>mail2news</TT
>, we assume you are using
Sendmail to process incoming email. Our instructions can easily be
modified to adapt to any Mail Transport Agent (MTA) of your choice. You
will have to configure Sendmail or any other MTA to redirect incoming
mails for the gateway to a program called <TT
CLASS="LITERAL"
>m2nmailer</TT
>,
a Perlscript which accepts the incoming message in its standard input
and a list of newsgroup names, space separated, on its command line.
Sendmail can be easily configured to trigger <TT
CLASS="LITERAL"
>m2nmailer</TT
>
this way by defining a new mailer in <TT
CLASS="LITERAL"
>sendmail.cf</TT
>,
and directing all incoming emails meant for the Usenet news system to
this mailer. Once you set up the appropriate rulesets for Sendmail,
it automatically triggers <TT
CLASS="LITERAL"
>m2nmailer</TT
> each time an
incoming email comes for the <TT
CLASS="LITERAL"
>mail2news</TT
>
gateway.</P
><P
>The precise configuration changes to Sendmail have already been
specified in the chapter titled ``Setting up C-News + NNTPd.''</P
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="AEN746">6.3. Using GNU Mailman as an email-NNTP gateway</H2
><P
>TO BE ADDED LATER</P
><DIV
CLASS="SECTION"
><H3
CLASS="SECTION"
><A
NAME="AEN749">6.3.1. GNU's all-singing all-dancing MLM</H3
><P
>TO BE ADDED LATER</P
></DIV
><DIV
CLASS="SECTION"
><H3
CLASS="SECTION"
><A
NAME="AEN752">6.3.2. Features of GNU Mailman</H3
><P
>TO BE ADDED LATER</P
></DIV
><DIV
CLASS="SECTION"
><H3
CLASS="SECTION"
><A
NAME="AEN755">6.3.3. Gateway features connecting NNTP and email</H3
><P
>TO BE ADDED LATER</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x687.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x758.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Setting up INN</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Security issues</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>