<HTML
><HEAD
><TITLE
>Configuring the pms</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.63
"><LINK
REL="HOME"
TITLE="Linux Amateur Radio AX.25 HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Configuring axspawn"
HREF="x1839.html"><LINK
REL="NEXT"
TITLE="Configuring the user_call programs"
HREF="x1958.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Amateur Radio AX.25 HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1839.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1958.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN1914"
>15. Configuring the <EM
>pms</EM
></A
></H1
><P
>The <EM
>pms</EM
> program is an implementation of a simple personal message
system. It was originally written by Alan Cox.
<A
HREF="mailto:dcb@vectorbd.com"
TARGET="_top"
>Dave Brown</A
>, N2RJT,
has taken on further development of it. At present it is still very
simple, supporting only the ability to send mail to the owner of the
system and to obtain some limited system information but Dave is
working to expand its capability to make it more useful.</P
><P
>After that is done there are a couple of simple files that you should create
that give users some information about the system and then you need to add
appropriate entries into the <TT
CLASS="LITERAL"
>ax25d.conf</TT
> file so that connected users
are presented with the PMS.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN1922"
>15.1. Create the <TT
CLASS="LITERAL"
>/etc/ax25/pms.motd</TT
> file</A
></H2
><P
>The <TT
CLASS="LITERAL"
>/etc/ax25/pms.motd</TT
> file contains the `message of the day' that
users will be presented with after they connect and receive the usual BBS
id header. The file is a simple text file, any text you include in this file
will be sent to users.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN1927"
>15.2. Create the <TT
CLASS="LITERAL"
>/etc/ax25/pms.info</TT
> file</A
></H2
><P
>The <TT
CLASS="LITERAL"
>/etc/ax25/pms.info</TT
> file is also a simple text file in which
you would put more detailed information about your station or configuration.
This file is presented to users in response to their issuing of the
<TT
CLASS="LITERAL"
>Info</TT
> command from the <TT
CLASS="LITERAL"
>PMS&#62;</TT
> prompt.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN1934"
>15.3. Associate AX.25 callsigns with system users</A
></H2
><P
>When a connected user sends mail to an AX.25 callsign, the <EM
>pms</EM
> expects
that callsign to be mapped, or associated with a real system user on your
machine. This is described in a section of its own.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN1938"
>15.4. Add the PMS to the <TT
CLASS="LITERAL"
>/etc/ax25/ax25d.conf</TT
> file</A
></H2
><P
>Adding the <EM
>pms</EM
> to your <TT
CLASS="LITERAL"
>ax25d.conf</TT
> file is very simple.
There is one small thing you need to think about though. Dave has added command
line arguments to the PMS to allow it to handle a number of different text
end-of-line conventions. AX.25 and NET/ROM by convention expect the end-of-line
to be <EM
>carriage return, linefeed</EM
> while the standard UNIX end-of-line is
just <EM
>newline</EM
>. So, for example, if you wanted to add an entry that
meant that the default action for a connection received on an AX.25 port is
to start the PMS then you would add a line that looked something like:</P
><P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>default  1  10 5 100 5   0    root  /usr/sbin/pms pms -a -o vk2ktj</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>This simply runs the <EM
>pms</EM
> program, telling it that it is an AX.25
connection it is connected to and that the PMS owner is <TT
CLASS="LITERAL"
>vk2ktj</TT
>.
Check the <EM
>man</EM
> page for what you should specify for other connection
methods.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN1952"
>15.5. Test the PMS</A
></H2
><P
>To test the PMS, you can try the following command from the command line:
# /usr/sbin/pms -u vk2ktj -o vk2ktj
Substitute your own callsign for mine and this will run the pms, telling it
that it is to use the UNIX end-of-line convention, and that user logging in
is <TT
CLASS="LITERAL"
>vk2ktj</TT
>. You can do all the things connected users can.</P
><P
>Additionally you might try getting some other node to connect to you to
confirm that your <TT
CLASS="LITERAL"
>ax25d.conf</TT
> configuration works.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1839.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1958.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Configuring <EM
>axspawn</EM
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Configuring the <EM
>user_call</EM
> programs</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>