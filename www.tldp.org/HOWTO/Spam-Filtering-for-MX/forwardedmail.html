<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Forwarded Mail</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Spam Filtering for Mail Exchangers"
HREF="index.html"><LINK
REL="UP"
TITLE="Considerations"
HREF="considerations.html"><LINK
REL="PREVIOUS"
TITLE="Blocking Access to Other SMTP Servers"
HREF="otherservers.html"><LINK
REL="NEXT"
TITLE="User Settings and Data"
HREF="usersettings.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Spam Filtering for Mail Exchangers: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="otherservers.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. Considerations</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="usersettings.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="forwardedmail"
></A
>3.3. Forwarded Mail</H1
><P
>&#13;      You should take care not to reject mail as a result of spam
      filtering if it is forwarded from <SPAN
CLASS="QUOTE"
>"friendly"</SPAN
>
      sources, such as:
    </P
><P
></P
><UL
><LI
><P
>&#13;	  Your backup MX hosts, if any.  Supposedly, these have
	  already filtered out most of the junk (see <A
HREF="multimx.html"
>Multiple Incoming Mail Exchangers</A
>).
	</P
></LI
><LI
><P
>&#13;	  Mailing lists, to which you or your users subscribe. You may
	  still filter such mail (it may not be as criticial if it
	  ends up in a black hole). However, if you reject the mail,
	  you may end up causing the list server to automatically
	  unsubscribe the recipient.
	</P
></LI
><LI
><P
>&#13;	  Other accounts belonging to the recipient.  Again,
	  rejections will generate collateral spam, and/or create
	  problems for the host that forwards the mail.
	</P
></LI
></UL
><P
>&#13;      You may see a logistical issue with the last two of these
      sources: They are specific to each recipient.  How to you allow
      each user to specify which hosts they want to whitelist, and
      then use such individual whitelists in a system-wide SMTP-time
      filtering setup?  If the message is forwarded to several
      recipients at your site (as may often be true in the case of
      a mailing list), how do you decide whose whitelist to use?
    </P
><P
>&#13;      There is no magic bullet here.  This is one of those situations
      where we just have to do a bit of work.  You can decide to
      accept all mails, regardless of spam classification, so long as
      it is sent from a host in the whitelist of any one of the
      recipients.  For instance, in response to each <B
CLASS="command"
>RCPT
      TO:</B
> command, we can match the sending host against the
      corresponding user's whitelist.  If found, set a flag that will
      prevent a subsequent rejection.  Effectively, you are using an
      <EM
>aggregate</EM
> of each recipient's whitelist.
    </P
><P
>&#13;      The implementation appendices cover this in more detail.
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="otherservers.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="usersettings.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Blocking Access to Other SMTP Servers</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="considerations.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>User Settings and Data</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>