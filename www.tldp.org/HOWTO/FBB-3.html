<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
 <TITLE>FBB Packet-radio BBS mini-HOWTO: How to install LinFBB in addition to existing WinFBB</TITLE>
 <LINK HREF="FBB-4.html" REL=next>
 <LINK HREF="FBB-2.html" REL=previous>
 <LINK HREF="FBB.html#toc3" REL=contents>
</HEAD>
<BODY>
<A HREF="FBB-4.html">Next</A>
<A HREF="FBB-2.html">Previous</A>
<A HREF="FBB.html#toc3">Contents</A>
<HR>
<H2><A NAME="s3">3.</A> <A HREF="FBB.html#toc3">How to install LinFBB in addition to existing WinFBB</A></H2>

<P><EM>Notice: Folks, you see, at my place, I have a
dual-boot system, consisting of Windows NT and
Linux (each of them having their own partition(s)
and file system). I wanted to have 'independent'
operating systems that won't see each other. So I
made two NT's partitions as NTFS partitions and
rest of the space used Linux as ext2 &amp; swap partitions.
Well, at first I have installed WinFBB under NT and X11
LinFBB under Linux. Both of them worked, but there
was a big "problem": I could not share their
system files. You might say: So, what a big deal.
But, my FBB's should serve as packet-radio forwarding
stations (regardless of which one I boot at the
moment), so it was really needed for new LinFBB
to "know", for example, the position where WinFBB
has stopped the mail exchange last time (and vice-
versa, of course).</EM></P>

<P>
<UL>
<LI>Well, in order to allow both WinFBB under
Windows NT and LinFBB under Linux to use
the same system files, it is needed to put these
files in a place that both operating systems are
able to "see". So I do that by re-installing
WinFBB onto a FAT (FAT16) partition that is
recognized by NT and Linux too. The best way to do
that is to install a "fresh" copy of WinFBB on
a FAT partition and to copy complete "old"
WinFBB from NTFS partition over the fresh
installation (whenever you are asked to
rewrite existing files, you should answer
"yes").


</LI>
<LI>When that is finished, you should have a "clone"
of the existing old WinFBB, but this time on
the FAT partition that is visible from under
Linux. Anyway, you should check if the "new" one
installation is able to run properly as the "old" one.


</LI>
<LI>I could also recommend you to check the file
tree of WinFBB in order to become more
familiar with it. The file tree of LinFBB
is a bit different so it is advisable to
note various details here and there.


</LI>
<LI>Some files can't be used as they are under <EM>both</EM>
operating systems (without some necessary
changes). That's why some file names should
be renamed (or, at least, you should make
appropriate copies of some files):

<P>
<BLOCKQUOTE><CODE>
<PRE>
      init.srv    ->  init_w.srv
      forward.sys ->  forw_w.sys
      port.sys    ->  port_w.sys
      protect.sys ->  prot_w.sys
      
</PRE>
</CODE></BLOCKQUOTE>
</P>

<P>FBB is able to recognize and accept those renamed files.</P>


</LI>
<LI>Make a backup of the actual WinFBB (I do that
by copying the whole WinFBB file structure into
the other Windows partition that <EM>won't</EM> be
shared with Linux, like NTFS one). You'll never
know when a catastrophe may happen, so as a result,
you won't be able to start neither of the "old" WinFBB or 
the "new" LinFBB. As a precaution, the backup might be the
easiest way to recover at least the old WinFBB for
a while (until you configure your new LinFBB, OK?).


</LI>
<LI>Now, you should restart your machine and boot
into Linux. Log on as 'root' or make 'su' from a
user's account.


</LI>
<LI>Mount a shared FAT directory (where FBB files are):
<B>mount -t vfat /dev/hda2 /mnt/win</B>
(for example). If that works, later you may adopt that
change within your <B>/etc/fstab</B> configuration.


</LI>
<LI>Copy LinFBB archive to <B>/tmp</B> directory.


</LI>
<LI>Position yourself to the 'base' directory:
<B>cd /usr/local/fbb</B> (for example).


</LI>
<LI>Unpack the archive: <B>tar xvzf /tmp/filename</B>.


</LI>
<LI>Start the installation script <B>./install.sh</B>
and, after asked for the 'base' installation
directory, chose <B>/usr/local/fbb</B>. It doesn't
matter if the program warns you that such
directory already exists so existing files
will be overwritten (by the way, if you
choose a mounted directory shared with NT,
many original WinFBB files, located there, would be
over-written by LinFBB files, so after returning
to Windows, WinFBB might not be as functional
as before this installation).


</LI>
<LI>Copy <B>/usr/local/fbb</B> to <B>/mnt/win/fbb</B> but do
*not* rewrite existing files with the new files
having the same names.


</LI>
<LI>Copy <B>/mnt/win/fbb/init_w.srv</B> to
<B>/mnt/win/fbb/init_l.srv</B> file.


</LI>
<LI>Edit <B>/mnt/win/fbb/init_l.srv</B> to what is
needed for Linux. You may use the existing
file <B>/mnt/win/fbb/init.srv</B> as an example.


</LI>
<LI>Copy newly edited <B>/mnt/win/fbb/init_l.srv</B>
over the <B>/mnt/win/fbb/init.srv</B> (if you do
not do that, maybe you wouldn't be able to start LinFBB
using <B>./xfbb.sh</B>, like me at the first time).


</LI>
<LI>Copy <B>/mnt/win/fbb/system/port_w.sys</B> to
<B>/mnt/win/fbb/system/port_l.sys</B> file.


</LI>
<LI>Edit <B>/mnt/win/fbb/system/port_l.sys</B> to
what is needed for Linux and LinFBB. You may use the
existing file <B>/mnt/win/fbb/system/port.sys</B>
as an example.


</LI>
<LI>Edit <B>/mnt/win/fbb/xfbb.sh</B> in order to fix
the right path.


</LI>
<LI>Ensure that you are in FBB's main directory:
<B>cd /mnt/win/fbb</B> (for example).


</LI>
<LI>Start the script <B>./xfbb.sh</B> to run LinFBB.
If everything is OK, your LinFBB under Linux
should run with the <EM>same</EM> configuration as
your "old" WinFBB under Windows. From this point,
both FBB's should behave very similar (actually,
I must admit that WinFBB has much better visual
quality than X11 LinFBB, but probably the reasons
for that you may find in Windows-vs.-Linux-GUI
quality "battle field"). FYI, my actual WinFBB is v7.00g25
(05 January 2000) and X11 LinFBB is v7.00g (04 August
1998).


</LI>
<LI>Although this combination WinFBB/X11 LinFBB works fine, I
have noticed some problems. For example, LinFBB
was not able to use <CODE>amsat</CODE> forward_to_file routine
(located in <B>/mnt/win/fbb/system/fwd</B> directory),
because that file was composed like this (for example):

<P>
<BLOCKQUOTE><CODE>
<PRE>
  A AMSAT
  *
  P @
  *
  C D:\FBB\SYSTEM\SAT\AMSAT.TXT     &lt;-- looks familiar to DOS/Windows only
  *
  G AMSAT
  *
  --------

      
</PRE>
</CODE></BLOCKQUOTE>
</P>

<P>On the other side, LinFBB's <CODE>amsat.sys</CODE> (located
in <B>/etc/ax25/fbb/fwd</B> directory) has suggested
something like this:</P>

<P>
<BLOCKQUOTE><CODE>
<PRE>
  A AMSAT
  *
  P @
  *
  C /var/ax25/fbb/sat/amsat.txt     &lt;-- looks familiar to Linux only
  *
  G AMSAT
  *
  --------

      
</PRE>
</CODE></BLOCKQUOTE>
</P>

<P>Well, then I copied LinFBB's <CODE>amsat.sys</CODE>
into <B>/mnt/win/fbb/system/fwd</B> directory so
it could become functional. As a result, I got
<EM>two</EM> <CODE>amsat.txt</CODE> files, one of them
for each of WinFBB/LinFBB, and of course, both files
appeared on different locations: the first one was
<B>/mnt/win/fbb/system/sat/amsat.txt</B> and it
was filled by WinFBB; the other one was in
<B>/var/ax25/fbb/sat/amsat.txt</B> and was filled by
LinFBB. I didn't like it that way.</P>

<P>In order to have only <EM>one</EM> result,
regardless of FBB version, the newly copied
<CODE>amsat.sys</CODE> had to be slightly changed:</P>

<P>
<BLOCKQUOTE><CODE>
<PRE>
  A AMSAT
  *
  P @
  *
  *C /var/ax25/fbb/sat/amsat.txt
  C /mnt/win/fbb/system/sat/amsat.txt
  *
  G AMSAT
  *
  --------

      
</PRE>
</CODE></BLOCKQUOTE>
</P>

<P>As you can see now, when LinFBB is active, its
<CODE>amsat.sys</CODE> will not forward into
its "native" location of <CODE>amsat.txt</CODE>.
Instead of that, it will go to the location
of the WinFBB's <CODE>amsat.txt</CODE> and just
add some new materials into it, OK?</P>

<P>Well now it's up to you to decide what to do
with your growing <CODE>amsat.txt</CODE>. An old
DosFBB manual says that the 'batch' file
(I suppose, the old good <CODE>APPEL.BAT</CODE>)
should be adopted in order for <B>SATUPDAT.EXE</B>
can update <EM>sat</EM> tracking data and, after
that, to erase AMSAT.TXT because it is not
needed anymore. Well, I haven't found a way to
manage that in both WinFBB and LinFBB. Actually,
whenever I perform housekeeping from either of them,
it seems that AMSAT.TXT remains intact. Happily,
it doesn't grow too much, so it's not a big problem.
Any suggestion here?</P>

</LI>
</UL>
</P>



<HR>
<A HREF="FBB-4.html">Next</A>
<A HREF="FBB-2.html">Previous</A>
<A HREF="FBB.html#toc3">Contents</A>
</BODY>
</HTML>
