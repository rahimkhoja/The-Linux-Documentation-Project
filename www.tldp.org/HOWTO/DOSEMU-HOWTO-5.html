<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The dosemu HOWTO: Multiple users and Non-interactive sessions</TITLE>
 <LINK HREF="DOSEMU-HOWTO-6.html" REL=next>
 <LINK HREF="DOSEMU-HOWTO-4.html" REL=previous>
 <LINK HREF="DOSEMU-HOWTO.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="DOSEMU-HOWTO-6.html">Next</A>
<A HREF="DOSEMU-HOWTO-4.html">Previous</A>
<A HREF="DOSEMU-HOWTO.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Multiple users and Non-interactive sessions</A></H2>

<H2><A NAME="ss5.1">5.1 Can I use dosemu on a multi-user system?</A>
</H2>

<P>Yes, you can configure dosemu on a per-user basis. See README.txt for
details.
<P>
<H2><A NAME="ss5.2">5.2 How can I run dos commands non-interactively?</A>
</H2>

<P>  
You can do any of the following:
1. redirect a file to dosemu standard input
2. use the keystroke configuration option and the -I command line option
as described in the README.txt file to specify keystrokes on the command
line that will act exactly as if you had typed them within dosemu
3. use the mkdexe program to create a DEXE file - a small
DOS filesystem image containing just the program you want to run -
see the README.txt file for details.
<P>Here are some additional alternatives:
<P>
<P>Daniel T. Schwager (<B>danny@dragon.s.bawue.de</B>) reported
(94/7/2) that
<P>You can use different dosemu.conf files (and different hd-boot-images
with different autoexec.bat's) and call dosemu like
<PRE>
$ dos -F my_quicken_q_exe_dosemu.conf
</PRE>
<P>---------------------
<P>
<P>Dietmar Braun (<B>braun@math20.mathematik.uni-bielefeld.de</B>)
reported (94/7/4) that
<P>This is no problem at all when you use the redirector of dosemu.  It
is possible to redirect a drive letter to a linux path given by an
environment variable.
<P>So I have a shell script named "<B>DOS</B>" which does something like 
<PRE>
 mkdir /tmp/dos.$$
 DOSTMP=/tmp/dos.$$; export DOSTMP
</PRE>

and then a little trick to get "<B>echo $* >
$DOSTMP/startup.bat</B>" really working (actually a small C Program 
which turns '/' in '<B>\</B>' and terminates lines correctly for
messy dos with cr/lf pairs and adds <B>^Z</B> at the end of the
file), creates startup files, links and so on in this directory, and
then starts dosemu. Within "<B>autoexec.bat</B>" drive c: is
redirected from hdimage to this tmp-directory, which has links for
<B>$HOME</B> and <B>$PWD</B>.
<P>So if I want to see my filenames shortened to 8.3 I can type "<B>DOS
dir</B>" and I get my current directory listing.  So I have full DOS
multi user (I don't have any DOS partition and redirecting to Linux
preserves user permissions) and multi tasking. (dosemu sessions 
are completely independent).  I did this once to be able to use a dos
driver for my printer. My printcap df is actually a DOS program. So
you can even make DOS executables act as lpr filters. 
<P>
<HR>
<A HREF="DOSEMU-HOWTO-6.html">Next</A>
<A HREF="DOSEMU-HOWTO-4.html">Previous</A>
<A HREF="DOSEMU-HOWTO.html#toc5">Contents</A>
</BODY>
</HTML>
