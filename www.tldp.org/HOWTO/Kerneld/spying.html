<HTML
><HEAD
><TITLE
>Spying on kerneld</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.52"><LINK
REL="HOME"
TITLE="Linux kerneld mini-HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Devices requiring special
     configuration"
HREF="special-devs.html"><LINK
REL="NEXT"
TITLE="Special kerneld uses"
HREF="goodies.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux kerneld mini-HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="special-devs.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="goodies.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SPYING"
>Spying on kerneld</A
></H1
><P
>If you have tried everything, and just cannot figure out
      what the kernel is asking kerneld to do, there is a way of
      seeing the requests that kerneld receives, and hence to figure
      out what should go into <TT
CLASS="FILENAME"
>/etc/conf.modules</TT
>:
      The <B
CLASS="COMMAND"
>kdstat</B
> utility. </P
><P
>This nifty little program comes with the modules-package,
      but it is not compiled or installed by default. To build it, go
      to the directory where you have the kerneld sources and type
      <B
CLASS="COMMAND"
>make kdstat</B
>.  Then, to make kerneld display
      information about what it is doing, run <B
CLASS="COMMAND"
>kdstat debug
      </B
> and kerneld will start spewing messages on the
      console about what it is doing. If you then try and run the
      command that you want to use, you will see the kerneld requests;
      these can be put into <TT
CLASS="FILENAME"
>/etc/conf.modules</TT
> and
      aliased to the module needed to get the job done. </P
><P
>To turn off the debugging, run <B
CLASS="COMMAND"
>/sbin/kdstat
       nodebug</B
>. </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="special-devs.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="goodies.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Devices requiring special
     configuration</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Special kerneld uses</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>