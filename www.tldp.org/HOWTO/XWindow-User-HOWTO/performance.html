<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Performance Considerations</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="The X Window User HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="X Networking and Security"
HREF="xsecurity.html"><LINK
REL="NEXT"
TITLE="Appendix"
HREF="appendix.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The X Window User HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="xsecurity.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="appendix.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="performance"
></A
>9. Performance Considerations</H1
><P
>&#13; As has been discussed, what we call <SPAN
CLASS="application"
>X</SPAN
>, is actually
 a convergence of various components: X server, Window Manager, Desktop, etc.
 With MS Windows, the GUI desktop is tightly integrated with the operating
 system itself. This is not the case in Linux which follows the Unix tradition
 of combining various independent components to achieve some end result. So we
 have choices with each component and it's attendant configuration and
 implementation. In short, much flexibility. This is where you come in. You
 can try various possibilities and decide what you gives you the most bang for
 the buck.

</P
><P
>&#13; On low end hardware, this gives us much latitude to decrease the demand on
 available system resources. This is good because, if given the opportunity,
 <SPAN
CLASS="application"
>X</SPAN
> can be quite greedy with system resources. If
 you've recently installed a new Linux distribution, you've probably been
 given a default Desktop with many bells and whistles. And something
 that will probably need a fair amount of memory and CPU to achieve a
 reasonable level of performance. If you have the horse power, this should not
 be a problem.

</P
><P
>&#13; It is often said that Linux functions very well with relatively little
 memory. This is true to a point. It does not mean though that every possible
 configuration will run with low memory. So if you want to use memory hungry
 applications, then you will have to have the memory. Or you will have to make
 sacrifices to achieve a satisfactory level of performance. It is quite
 possible to run <SPAN
CLASS="application"
>X</SPAN
> with reasonable performance on
 16 Meg of RAM, and even less if you really want to push it. But you would
 have to live with some real limitations.

</P
><P
>&#13; Let's look at some of the components and ways to decrease the demand on
 system resources, in case you are at the low end on hardware, or performance
 is not up to expectations.
</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN1266"
></A
>9.1. Hardware</H2
><P
>&#13; <P
></P
><UL
><LI
><P
>&#13; No big surprise, but overall system performance will be best with a fast
 graphics card, a fast hard drive, and lots and lots of memory -- if you want
 <EM
>both</EM
> a fast and flashy system.

 </P
></LI
><LI
><P
>&#13; Graphics cards are of course necessary, and the X server's video performance
 is tied to the card's chipset, and the corresponding XFree86 driver. Just
 because a given card is supported by XFree86 does not necessarily mean it is
 as well optimized as other cards! It may also perform better at a lower color
 depth (see below). It may well be worth the trip to xfree86.org to see if
 there are any notes related to your card with respect to performance or other
 issues.

 </P
></LI
><LI
><P
>&#13;  And you might try other versions of XFree86. At this time v4.2 was just
  recently released. Some cards may still perform better with 3.3.6 due to the
  way v4.x is being incrementally developed. If you are using x4.x and
  performance is not good, then make sure you are using the latest available
  version.

 </P
></LI
></UL
>
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN1277"
></A
>9.2. Memory</H2
><P
>&#13; The more memory, the better. <SPAN
CLASS="application"
>X</SPAN
> will do a lot
 caching to help performance. But caching requires memory, and if there isn't
 much to start with, then we would need to reduce memory requirements. Some
 tips for those with low memory or performance problems:
</P
><P
>&#13; <P
></P
><UL
><LI
><P
>&#13; Use the <B
CLASS="command"
>free</B
> command to make sure all memory and swap is
 recognized. 

 </P
></LI
><LI
><P
>&#13; Make sure you don't have other system services that are hogging memory or
 CPU. Use <B
CLASS="command"
>top</B
> or <B
CLASS="command"
>ps</B
> to see what is
 running, and disable anything you can to free up memory and CPU. Again, a
 default installation may have many things running that you don't really
 need.
 </P
></LI
><LI
><P
>&#13; Make sure you have plenty of swap space. With low, or even modest, memory,
 swap is all the more important. A general rule of thumb is twice as much swap
 as physical memory. With low memory, this is not enough. Try four times real
 memory. Or more. If you can't create more swap partitions, see the
 <B
CLASS="command"
>mkswap</B
> man page about creating swap files instead.
 Constant disk churning is a symptom of insufficient swap space, and the
 system will be slowed as a result, sometimes drastically. Or, possibly this
 may be the symptom of a poorly behaved kernel VM system (try another kernel
 in this case).

 </P
></LI
><LI
><P
>&#13; Drive performance is important for swap performance. Make sure your drive has
 DMA enabled if the drive supports it, and is otherwise tuned and performing
 up to snuff. See the <B
CLASS="command"
>hdparm</B
> man page. Slow drive + slow
 card + low memory = slow system.
 </P
></LI
><LI
><P
>&#13; Don't use <SPAN
CLASS="application"
>KDE</SPAN
> or <SPAN
CLASS="application"
>GNOME</SPAN
>
 if memory is tight. These both require substantial memory, and are not
 required to just run <SPAN
CLASS="application"
>X</SPAN
>. Think of these as
 usability enhancements. 32M probably may not be enough. 64M may be decent,
 depending on what other applications are being used, and other variables. 128M
 <EM
>should</EM
> be adequate in most situations. 256M or more to
 be comfortable. File Managers like <SPAN
CLASS="application"
>Nautilus</SPAN
> and
 <SPAN
CLASS="application"
>gmc</SPAN
> can also be memory hungry. 
 
 </P
></LI
><LI
><P
>&#13; Use a lightweight window manger. <SPAN
CLASS="application"
>WindowMaker</SPAN
>,
 <SPAN
CLASS="application"
>BlackBox</SPAN
>, <SPAN
CLASS="application"
>IceWM</SPAN
>,
 <SPAN
CLASS="application"
>fvwm</SPAN
> (and variants),
 <SPAN
CLASS="application"
>XFce</SPAN
>, all have reputations of performing well with
 low memory. There are surely others as well. Experiment.
 <SPAN
CLASS="application"
>fvwm</SPAN
> is generally considered the lightest of the
 light. 
</P
><P
>&#13; A very nice desktop is still very possible even without
 <SPAN
CLASS="application"
>KDE</SPAN
> or <SPAN
CLASS="application"
>GNOME</SPAN
>. In fact,
 most <SPAN
CLASS="application"
>KDE</SPAN
> and <SPAN
CLASS="application"
>GNOME</SPAN
>
 applications can still be used even if <SPAN
CLASS="application"
>KDE</SPAN
> and
 <SPAN
CLASS="application"
>GNOME</SPAN
> are not running themselves (assuming the
 right libs are installed).
 
 </P
></LI
><LI
><P
>&#13; Don't use fancy themes or backgrounds. Plain and simple is easier on
 resources. Use a solid color background. Avoid pixmaps or gradients for any
 kind of background, including menus, title bars, etc.
 </P
></LI
><LI
><P
>&#13; Use a lesser screen size and color depth. 800x600x16 will not push
 <SPAN
CLASS="application"
>X</SPAN
> as hard and be easier on system resources than
 higher values. While a ColorDepth of 24 is preferred, you probably will not
 notice the difference of 16 with the majority of applications.
 </P
></LI
><LI
><P
>&#13; Some applications require much more memory than others. Some notable hogs are
 <B
CLASS="command"
>Netscape</B
>, <B
CLASS="command"
>Mozilla</B
>, office suites, and
 <B
CLASS="command"
>the Gimp</B
>. <B
CLASS="command"
>Netscape</B
> is faster than
 <B
CLASS="command"
>Mozilla</B
> (but not as nice).
 <B
CLASS="command"
>Netscape-Navigator</B
> uses less memory than
 <B
CLASS="command"
>Netscape-Communicator</B
>. Close any of these apps when not in
 use. Use text browsers like <B
CLASS="command"
>lynx</B
> or <B
CLASS="command"
>w3m</B
>
 wherever you can, like reading locally installed HTML documentation. Much
 faster, and much less memory is required. 
 </P
></LI
><LI
><P
>&#13; Also, use text based clients for mail (<B
CLASS="command"
>mutt</B
> or
 <B
CLASS="command"
>pine</B
>) and news (<B
CLASS="command"
>slrn</B
> or
 <B
CLASS="command"
>trn</B
>). Again, faster and much less memory is used, 
 and these are after all text based protocols at heart anyway.
 </P
></LI
><LI
><P
>&#13; <B
CLASS="command"
>rxvt</B
> uses less memory than <B
CLASS="command"
>xterm</B
>,
 <B
CLASS="command"
>konsole</B
> or <B
CLASS="command"
>gnome-terminal</B
>.
 </P
></LI
><LI
><P
>&#13; If you run an <SPAN
CLASS="application"
>X</SPAN
> session for long periods of time
 (like days or weeks), restart <SPAN
CLASS="application"
>X</SPAN
> occasionally to
 free memory tied up as cache.
 </P
></LI
><LI
><P
>  
  Disable <SPAN
CLASS="QUOTE"
>"backing store"</SPAN
> and <SPAN
CLASS="QUOTE"
>"save-unders"</SPAN
> to
  reduce memory usage (performance penalty though). Check
  your Window Manager's settings too. See what modules are being loaded 
  in the <SPAN
CLASS="QUOTE"
>"Modules"</SPAN
> section of <TT
CLASS="filename"
>XF86Config</TT
> as
  well. Your installation may have many unnecessary ones enabled, or ones you
  can't take advantage of (e.g. <SPAN
CLASS="QUOTE"
>"v4l"</SPAN
>, aka
  <SPAN
CLASS="QUOTE"
>"Video4Linux"</SPAN
>).
 </P
></LI
><LI
><P
>  
  Font servers may provide a slight performance boost by off-loading font
  rendering to the font server, while freeing the X server to do other things.
  But, the font server will use a small additional amount of memory as well.
  So, you can try it either way to see if it makes a difference.
 </P
></LI
><LI
><P
>&#13; Lastly, RAM is cheap now. Buy some ;-) A new drive too.
 </P
></LI
><LI
><P
>&#13; RAM is still just too low for <SPAN
CLASS="application"
>X</SPAN
>? Check out
 <SPAN
CLASS="application"
>tinyX</SPAN
>: 
 <A
HREF="http://www.superant.com/smalllinux/tinyX01.html"
TARGET="_top"
>http://www.superant.com/smalllinux/tinyX01.html</A
>.
 Reportedly runs in as little as 4 Meg of RAM.

 </P
></LI
></UL
>
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN1368"
></A
>9.3. X over the Network</H2
><P
>&#13; X is not particularly network friendly. In other words, it is a bandwidth
 hog. This should not be a problem in LAN situations, but may be if trying to
 use X over the Internet.
</P
><P
>&#13; <P
></P
><UL
><LI
><P
>&#13;     <B
CLASS="command"
>lbxproxy</B
>, the low bandwidth X proxy, utilizes 
     various optimizations to improve performance in low bandwidth, or 
     high latency situations. See the man page.
   </P
></LI
><LI
><P
>&#13;     VNC (Virtual Network Computing), has some of the same advantages as 
     X for displaying applications on remote systems, but is more network
     friendly. Your Linux installation should have both VNC client and server
     packages available.
   </P
></LI
></UL
>
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN1378"
></A
>9.4. Other Tips</H2
><P
>&#13; Other tips to eek out better performance:
</P
><P
>&#13; <P
></P
><UL
><LI
><P
>&#13; Use <B
CLASS="command"
>xset</B
> to speed up the keyboard. This can make the
 system feel more responsive even if it isn't really. The default always
 seemed sluggish to me. 
 </P
></LI
><LI
><P
>&#13; <B
CLASS="command"
>renice</B
> <SPAN
CLASS="application"
>X</SPAN
> to give it a higher
 priority. Other platforms give the GUI high scheduling priority to achieve
 better responsiveness. But this is at a cost to other processes. Linux is a
 blank slate. You might include the font server (if being used), and key
 <SPAN
CLASS="application"
>KDE</SPAN
> and <SPAN
CLASS="application"
>GNOME</SPAN
> processes
 as well. 
</P
><P
>&#13; <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;
 nice -n -10 X :0

 </PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>&#13; This will not do much on systems that are mostly idle.

</P
><P
>&#13; This does not work so well with <B
CLASS="command"
>startx</B
> since
 <SPAN
CLASS="application"
>X</SPAN
> runs as root, and you are not root, right? So
 you would have to use something like <B
CLASS="command"
>sudo</B
> to have this done
 automatically.

 </P
></LI
></UL
>
</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="xsecurity.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="appendix.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="application"
>X</SPAN
> Networking and Security</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Appendix</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>