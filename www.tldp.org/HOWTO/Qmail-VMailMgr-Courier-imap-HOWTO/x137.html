<HTML
><HEAD
><TITLE
>Component installation</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Qmail VMailMgr and Courier-Imap HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Introduction "
HREF="introduction.html"><LINK
REL="NEXT"
TITLE="Putting it all together"
HREF="x380.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Qmail VMailMgr and Courier-Imap HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="introduction.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x380.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN137">2. Component installation</H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN139">2.1. Preparations</H2
><P
>You have two options
<P
></P
><UL
><LI
><P
> Get and compile source rpms. 
This has the benefit of being able to review the source before compiling,
and compiling for your specific setup.</P
></LI
><LI
><P
> Or simply get the binary rpms. 
This has the benefit of simplicity, and not having to worry about having the
necessary libraries installed.</P
></LI
></UL
>
I recommend using Bruce Guenter's rpm releases, since they are well patched, and
its what I used for building my systems. </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN147">2.1.1. Get source rpms</H3
><P
>You will need:
<P
></P
><UL
><LI
><P
> ucspi-tcp-0.88-1.src.rpm - <A
HREF="http://untroubled.org/rpms/ucspi-tcp/"
TARGET="_top"
>http://untroubled.org/rpms/ucspi-tcp/</A
></P
></LI
><LI
><P
> ucspi-unix-0.34-1.src.rpm - <A
HREF="http://untroubled.org/ucspi-unix/"
TARGET="_top"
>http://untroubled.org/ucspi-unix/</A
></P
></LI
><LI
><P
> daemontools-0.70-3.src.rpm - <A
HREF="http://untroubled.org/rpms/daemontools/"
TARGET="_top"
>http://untroubled.org/rpms/daemontools/</A
> </P
></LI
><LI
><P
> supervise-scripts-3.3-1.src.rpm - <A
HREF="http://untroubled.org/supervise-scripts/"
TARGET="_top"
>http://untroubled.org/supervise-scripts/</A
></P
></LI
><LI
><P
> qmail-1.03+patches-18.src.rpm - <A
HREF="http://untroubled.org/qmail+patches/current/"
TARGET="_top"
>http://untroubled.org/qmail+patches/current/</A
></P
></LI
><LI
><P
> vmailmgr-0.96.9-1.src.rpm - <A
HREF="http://www.vmailmgr.org/current/"
TARGET="_top"
>http://www.vmailmgr.org/current/</A
></P
></LI
><LI
><P
> courier-imap-1.4.3.tar.gz - <A
HREF="http://www.inter7.com/courierimap/"
TARGET="_top"
>http://www.inter7.com/courierimap/</A
></P
></LI
></UL
>
For Courier-imap you must build the source rpm from the tar 
file (instructions will follow).</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN172">2.1.2. Get binary rpms</H3
><P
>Qmail does not come in binary form. Such packages are explicitly disallowed by 
the author of Qmail, and frustrating as it may be, I understand his reasoning. </P
><P
>Courier-imap does not come in binary form, unless you want to use the one 
I built. If you want mine, visit <A
HREF="http://www.clearrivertech.com/linux/HOWTO/supportfiles/"
TARGET="_top"
>http://www.clearrivertech.com/linux/HOWTO/supportfiles/</A
>.</P
><P
>VMailMgr does not come in binary form that supports Courier-imap, unless you 
want to use the one I built. If you want mine, email me, and I will send it.
<P
></P
><UL
><LI
><P
> ucspi-tcp-0.88-1.i386.rpm - <A
HREF="http://untroubled.org/rpms/ucspi-tcp/"
TARGET="_top"
>http://untroubled.org/rpms/ucspi-tcp/</A
></P
></LI
><LI
><P
> ucspi-unix-0.34-1.i386.rpm - <A
HREF="http://untroubled.org/ucspi-unix/"
TARGET="_top"
>http://untroubled.org/ucspi-unix/</A
></P
></LI
><LI
><P
> daemontools-0.70-1.i386.rpm - <A
HREF="http://untroubled.org/rpms/daemontools/"
TARGET="_top"
>http://untroubled.org/rpms/daemontools/</A
> </P
></LI
><LI
><P
> supervise-scripts-3.3-1.noarch.rpm - <A
HREF="http://untroubled.org/supervise-scripts/"
TARGET="_top"
>http://untroubled.org/supervise-scripts/</A
></P
></LI
><LI
><P
> qmail-1.03+patches-18.src.rpm - <A
HREF="http://untroubled.org/qmail+patches/current/"
TARGET="_top"
>http://untroubled.org/qmail+patches/current/</A
>(*)</P
></LI
><LI
><P
> vmailmgr-0.96.9-2.i386.rpm - <A
HREF="http://www.vmailmgr.org/current/"
TARGET="_top"
>http://www.vmailmgr.org/current/</A
></P
></LI
><LI
><P
> vmailmgr-courier-imap-0.96.9-2.i386.rpm - <A
HREF="http://www.vmailmgr.org/current/"
TARGET="_top"
>http://www.vmailmgr.org/current/</A
></P
></LI
><LI
><P
> courier-imap-1.4.3.tar.gz - <A
HREF="http://www.inter7.com/courierimap/"
TARGET="_top"
>http://www.inter7.com/courierimap/</A
> (**)</P
></LI
></UL
>
* For qmail, you must always compile yourself due to the license restrictions.
** For Courier-imap you must build the binary rpm from the tar file (instructions will follow) or email me for my binary rpm.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN203">2.1.3. Get deb packages</H3
><P
>	There are multiple locations for qmail and vmailmgr deb packages.
	Courier-imap is part of the normal debian applications.</P
><P
>	You can get them in the following locations:
<P
></P
><UL
><LI
><P
> <A
HREF="http://bagic.net/~billy/debs/"
TARGET="_top"
>http://bagic.net/~billy/debs/</A
> - by Hon <A
HREF="mailto:billy@bagic.net"
TARGET="_top"
>billy@bagic.net</A
></P
></LI
><LI
><P
> <A
HREF="http://www.tet.dk/"
TARGET="_top"
>http://www.tet.dk/</A
> - by Ole Barnkob Kaas <A
HREF="mailto:admin@tet.dk"
TARGET="_top"
>admin@tet.dk</A
></P
></LI
><LI
><P
> <A
HREF="http://smarden.org/pape/Debian/"
TARGET="_top"
>http://smarden.org/pape/Debian/</A
> - by Gerrit Pape <A
HREF="mailto:pape@smarden.org"
TARGET="_top"
>pape@smarden.org</A
></P
></LI
></UL
>
	The packages by Hon are current and even include support for courier-imap, 
	which was a great help for me, so I am going to use a combination of them for my examples.
	You can of course choose the ones you want for yourself, but your results may vary.</P
><P
>	You will need:
<P
></P
><UL
><LI
><P
> ucspi-tcp_0.88-3_i386.deb - <A
HREF="http://bagic.net/~billy/debs/ucspi-tcp/0.88-3/"
TARGET="_top"
>http://bagic.net/~billy/debs/ucspi-tcp/0.88-3/</A
></P
></LI
><LI
><P
> ucspi-unix_0.34-1_i386.deb - <A
HREF="http://bagic.net/~billy/debs/ucspi-unix/"
TARGET="_top"
>http://bagic.net/~billy/debs/ucspi-unix/</A
></P
></LI
><LI
><P
> The latest daemontools from - <A
HREF="http://smarden.org/pape/Debian/daemontools.html"
TARGET="_top"
>http://smarden.org/pape/Debian/daemontools.html</A
> </P
></LI
><LI
><P
> supervise-scripts_3.3-6_i386.deb - <A
HREF="http://share.runtime-collective.com/~berkan/debian/dists/woody/misc/binary-i386/"
TARGET="_top"
>http://share.runtime-collective.com/~berkan/debian/dists/woody/misc/binary-i386/</A
></P
></LI
><LI
><P
> qmail_1.03-17_i386.deb - <A
HREF="http://bagic.net/~billy/debs/qmail/1.03-17/"
TARGET="_top"
>http://bagic.net/~billy/debs/qmail/1.03-17/</A
>(*)</P
></LI
><LI
><P
> vmailmgr_0.96.9-3_i386.deb - <A
HREF="http://bagic.net/~billy/debs/vmailmgr/"
TARGET="_top"
>http://bagic.net/~billy/debs/vmailmgr/</A
></P
></LI
><LI
><P
> courier-imap - apt-get courier-imap</P
></LI
></UL
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN242">2.1.4. Get tarred sources (for non-RPM users)</H3
><P
>If your system does not have, or you do not use RPMS, you can install from source.
<P
></P
><UL
><LI
><P
> ucspi-tcp-0.88.tar.gz - <A
HREF="http://cr.yp.to/ucspi-tcp/"
TARGET="_top"
>http://cr.yp.to/ucspi-tcp/</A
></P
></LI
><LI
><P
> ucspi-unix-0.34.tar.gz - <A
HREF="http://untroubled.org/ucspi-unix/"
TARGET="_top"
>http://untroubled.org/ucspi-unix/</A
></P
></LI
><LI
><P
> daemontools-0.70.tar.gz - <A
HREF="http://cr.yp.to/daemontools"
TARGET="_top"
>http://cr.yp.to/daemontools</A
></P
></LI
><LI
><P
> supervise-scripts-3.3.tar.gz - <A
HREF="http://untroubled.org/supervise-scripts/"
TARGET="_top"
>http://untroubled.org/supervise-scripts/</A
></P
></LI
><LI
><P
> (qmail) release-18.tar.gz - <A
HREF="http://untroubled.org/qmail+patches/current/"
TARGET="_top"
>http://untroubled.org/qmail+patches/current/</A
> (*)</P
></LI
><LI
><P
> vmailmgr-0.96.9.tar.gz - <A
HREF="http://www.vmailmgr.org/current/"
TARGET="_top"
>http://www.vmailmgr.org/current/</A
></P
></LI
><LI
><P
> courier-imap-1.4.3.tar.gz - <A
HREF="http://www.inter7.com/courierimap/"
TARGET="_top"
>http://www.inter7.com/courierimap/</A
></P
></LI
></UL
></P
><P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>(*) There may be minor differences in these instructions due to the use of the standard
Qmail package. Please review the documentation for Qmail and VMailMgr if any of
the files deviates from my instructions.</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN269">2.2. Install support packages</H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN271">2.2.1. Install with RPMS</H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN273">2.2.1.1. Compiling SRC.RPM's</H4
><P
>Simply run the following command for each package
rpm --rebuild &#60;package.src.rpm&#62;
-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm --rebuild ucspi-tcp-0.88-1.src.rpm
  rpm --rebuild ucspi-unix-0.34-1.src.rpm  
  rpm --rebuild daemontools-0.70-3.src.rpm  
  rpm --rebuild supervise-scripts-3.3-1.src.rpm  </PRE
></FONT
></TD
></TR
></TABLE
>
You may get dependancy errors. If you do then install the package that is being requested using the steps below.
This may happen when you compile daemontools before installing ucspi-tcp.</P
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN277">2.2.1.2. Installing RPM's</H4
><P
>If you compiled the source rpms, the binaries will be located 
in <TT
CLASS="LITERAL"
>/usr/src/redhat/RPMS/i386/</TT
> or something similar.</P
><P
>Simply run the following command for each package
rpm -ivh &#60;location&#62;/&#60;package.i386.rpm&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm -ivh /usr/src/redhat/RPMS/i386/ucspi-tcp-0.88-1.i386.rpm
  rpm -ivh /usr/src/redhat/RPMS/i386/ucspi-unix-0.34-1.i386.rpm
  rpm -ivh /usr/src/redhat/RPMS/i386/daemontools-0.70-3.i386.rpm
  rpm -ivh /usr/src/redhat/RPMS/i386/supervise-scripts-3.3-1.i386.rpm</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN284">2.2.2. Install with debs</H3
><P
>Run the following commands for each package
  (as root)
  dpkg -i &#60;package.deb&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  dpkg -i ucspi-tcp_0.88-3_i386.deb
  dpkg -i ucspi-unix_0.34-1_i386.deb
  dpkg -i daemontools_0.70-1_i386.deb
  dpkg -i supervise-scripts_3.3-6_i386.deb</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN289">2.2.3. Install with source</H3
><P
>Run the following commands for each package
  (As non-root user)
  tar zxf &#60;package.tar.gz&#62;
  cd &#60;newly created dir&#62;
  ./configure
  make
  (As root)
  make setup check (for ucspi-tcp and daemontools)
  or
  make install (for ucspi-unix and supervise-scripts)</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  (As non-root user)
  tar zxf supervise-scripts-2.4.tar.gz
  cd supervise-scripts-2.4
  ./configure
  make
  (As root)
  make setup check or  make install</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN294">2.3. Install Qmail</H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN296">2.3.1. Install with RPMS</H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN298">2.3.1.1. Compiling SRC.RPM's</H4
><P
>After installing the support packages, 

Simply run the following command:
rpm --rebuild &#60;package.src.rpm&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm --rebuild qmail-1.03+patches-18.src.rpm</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN303">2.3.1.2. Installing RPM's</H4
><P
>After compiling the source rpms, the binaries will be located 
in <TT
CLASS="LITERAL"
>/usr/src/redhat/RPMS/i386/</TT
> or something similar.</P
><P
>Simply run the following command for the qmail package
rpm -ivh &#60;location&#62;/&#60;package.i386.rpm&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm -ivh /usr/src/redhat/RPMS/i386/qmail-1.03+patches-18.i386.rpm</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>  * note start *
  - Remove sendmail and any dependant applications prior to installing Qmail
  - by running the following command for each package
  - rpm -e &#60;packagename&#62;*
  - 
  - On my system I had to remove sendmail, so I typed
  - rpm -e sendmail
  * note end *</P
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN311">2.3.2. Install with debs</H3
><P
>Run the following commands for each package
  (as root)
  dpkg -i &#60;package.deb&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  dpkg -i qmail_1.03-17_i386.deb</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN316">2.3.3. Install with source</H3
><P
>Run the following command
  (As non-root user)
  tar zxf &#60;package.tar.gz&#62;
  cd &#60;newly created dir&#62;
  (Now read the INSTALL file and follow the steps to install Qmail)
-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  (As non-root user)
  tar zxf release-18.tar.gz
  cd release-1.03
  vi INSTALL (Read and follow steps)</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN320">2.4. Install Courier-imap</H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN322">2.4.1. Install with RPMS</H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN324">2.4.1.1. Compiling SRC.RPM's</H4
><P
>Build the courier-imap rpms from the tar file
<TT
CLASS="LITERAL"
>rpm -ta courier-imap-1.4.3.tar.gz</TT
></P
><P
>  * note start *
  - This errors out if you compile as root, but if your not root you
  - wont have permissions to /usr/src/redhat. You will want to build as a 
  - non-root user, so create a ".rpmmacros" file (for rpm v3 and later) in 
  - your home directory containing the line "%_topdir /path/to/home/redhat".
  - Then create your own "redhat" directory containing all the subdirs that
  - /usr/src/redhat contains.
  - You should never build RPMs as root unless you have to.
  * note end *</P
><P
>* I will mention again, that I have built the binaries, and you can get them at *
* <A
HREF="http://www.clearrivertech.com/linux/HOWTO/supportfiles/"
TARGET="_top"
>http://www.clearrivertech.com/linux/HOWTO/supportfiles/</A
>. *</P
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN331">2.4.1.2. Installing RPM's</H4
><P
>After compiling the source rpms, the binary will be located 
in <TT
CLASS="LITERAL"
>/usr/src/redhat/RPMS/i386/</TT
> or something similar.</P
><P
>Simply run the following command for each package
  rpm -ivh &#60;location&#62;/&#60;package.i386.rpm&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm -ivh /usr/src/redhat/RPMS/i386/courier-imap-1.4.3.i386.rpm</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN338">2.4.2. Install with debs</H3
><P
>Run the following commands for each package
  (as root)
  apt-get &#60;package.deb&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  apt-get courier-imap</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN343">2.4.3. Install with source</H3
><P
>Run the following command
  (As non-root user)
  tar zxf &#60;package.tar.gz&#62;
  cd &#60;newly created dir&#62;
  ./configure
  make
  (As root)
  make install</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  (As non-root user)
  tar zxf courier-imap-1.4.3.tar.gz
  cd courier-imap-1.4.3
  ./configure
  make
  (As root)
  make install</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN348">2.5. Install VMailMgr</H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN350">2.5.1. Install with RPMS</H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN352">2.5.1.1. Compiling SRC.RPM's</H4
><P
>There is a problem compliling VMailMGR on RedHat 7.x distros (and maybe other new ones as well).
To solve this you must edit the source files
These files need to have an #include &#60;string.h&#62; added
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>lib/misc/exec.cc
lib/misc/keystrlist.cc
lib/misc/strlist.cc
lib/mystring/append.cc
authenticate/authvmailmgr.cc</PRE
></FONT
></TD
></TR
></TABLE
>

The following needs to have an #include &#60;stdlib.h&#62;:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>authenticate/vauthenticate.cc
authenticate/checkvpw.cc</PRE
></FONT
></TD
></TR
></TABLE
>
The copies I have on <A
HREF="http://www.clearrivertech.com/linux/HOWTO/supportfiles/rh72/"
TARGET="_top"
>http://www.clearrivertech.com/linux/HOWTO/supportfiles/rh72/</A
> are already patched.</P
><P
>Simply run the following command
rpm --rebuild &#60;package.src.rpm&#62;
-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm --rebuild vmailmgr-0.96.9-1.src.rpm  </PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN360">2.5.1.2. Installing RPM's</H4
><P
>If you compiled the source rpm, the binaries will be located 
in <TT
CLASS="LITERAL"
>/usr/src/redhat/RPMS/i386/</TT
> or something similar.</P
><P
>Simply run the following command for each package
rpm -ivh &#60;location&#62;/&#60;package.i386.rpm&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  rpm -ivh /usr/src/redhat/RPMS/i386/vmailmgr-0.96.9-1.i386.rpm
  rpm -ivh /usr/src/redhat/RPMS/i386/VMailMgr-daemon-0.96.6-1.i386.rpm
  rpm -ivh /usr/src/redhat/RPMS/i386/vmailmgr-courier-imap-0.96.9-2.i386.rpm</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN367">2.5.2. Install with debs</H3
><P
>Run the following commands for each package
  (as root)
  dpkg -i &#60;package.deb&#62;</P
><P
>-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  dpkg -i vmailmgr_0.96.9-3_i386.deb</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN372">2.5.3. Install with source</H3
><P
>There is a problem compliling VMailMGR on RedHat 7.x distros (and maybe other new ones as well).
To solve this you must edit the source files
These files need to have an #include &#60;string.h&#62; added
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>lib/misc/exec.cc
lib/misc/keystrlist.cc
lib/misc/strlist.cc
lib/mystring/append.cc
authenticate/authvmailmgr.cc</PRE
></FONT
></TD
></TR
></TABLE
>

The following needs to have an #include &#60;stdlib.h&#62;:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>authenticate/vauthenticate.cc
authenticate/checkvpw.cc</PRE
></FONT
></TD
></TR
></TABLE
>
The copies I have on <A
HREF="http://www.clearrivertech.com/linux/HOWTO/supportfiles/rh72/"
TARGET="_top"
>http://www.clearrivertech.com/linux/HOWTO/supportfiles/rh72/</A
> are already patched.</P
><P
>Run the following commands
  (As non-root user)
  tar zxf &#60;package.tar.gz&#62;
  cd &#60;newly created dir&#62;
  ./configure
  make
  (As root)
  make install
-Example-
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  (As non-root user)
  tar zxf vmailmgr-0.96.9.tar.gz
  cd vmailmgr-0.96.9
  ./configure
  make
  (As root)
  make setup check or  make install</PRE
></FONT
></TD
></TR
></TABLE
>
That should do it.</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="introduction.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x380.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Introduction</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Putting it all together</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>