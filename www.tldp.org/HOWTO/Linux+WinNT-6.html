<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
 <TITLE>Linux+WindowsNT mini-HOWTO: How to install WINDOWS NT/2000 and LINUX (RedHat 7.1) on a laptop</TITLE>
 <LINK HREF="Linux+WinNT-7.html" REL=next>
 <LINK HREF="Linux+WinNT-5.html" REL=previous>
 <LINK HREF="Linux+WinNT.html#toc6" REL=contents>
</HEAD>
<BODY>
<A HREF="Linux+WinNT-7.html">Next</A>
<A HREF="Linux+WinNT-5.html">Previous</A>
<A HREF="Linux+WinNT.html#toc6">Contents</A>
<HR>
<H2><A NAME="s6">6.</A> <A HREF="Linux+WinNT.html#toc6">How to install WINDOWS NT/2000 and LINUX (RedHat 7.1) on a <EM>laptop</EM></A></H2>


<H2><A NAME="ss6.1">6.1</A> <A HREF="Linux+WinNT.html#toc6.1">If you want to have *both* NT and 2000, besides Linux</A>
</H2>

<P><EM>Notice: Recently my bosses decided to get a couple of HP Omnibook
6000 portables, so I quickly rushed to play with new toys. It was a 
series with Pentium 3 at 1 GHz and 128 MB of RAM. There's also a hard 
disk of 30 GB, removable DVD and FDD drives, a secondary battery that 
goes to the removable drive bay (when it's empty) and NIC/modem combo 
card.</EM> </P>

<P>
<UL>
<LI>Well, the notebooks have come with Windows 2000 Professional 
preinstalled and I thought it might be great to reformat the disk 
and start from scratch. I think I did it again with Partition Magic 
utility by Power Quest. Actually, I have *erased* all existing
partitions because I noticed a small one at the beginning of the
disk, that looked to me a bit strange (well, I learned later that
it was there for hibernation and/or diagnostics).


</LI>
<LI>After that, I tried to repeat a procedure that I have always 
been very fond of: to make a couple of FAT partitions (cca. 2037 MB)
where my NT and/or W2k would go. Don't ask me why I use that old
FAT format - it is just to be sure that any type of Windows setup
will recognize such a partition and, as well, to be sure that some 
file exchange (if needed) would be possible between various operating 
systems. Beside these FAT partitions (that start, of course, from 
the beginning of the disk), I have also made several FAT partitions
but, this time, starting from the *end* of the disk. Partition
Magic allowes a user to do that (&lt;-- here the guys from Power
Quest should send me a couple of 0.01$ for this commercial of
their product :-)).

<P>Well, you may ask me why somebody should make a free space somewhere
in between. The answer is: In order to allow Linux's <B>/boot</B>
partition to stay under well known 1024 cylinder limitation.
When it comes to 1024 cyl area (actually, when you enter 1025,
1026 ... etc), it doesn't matter what is happening there. It
means, there you may put your Linux <B>/</B> (root) partition
(regardless of its size and structure), as well as to use 
remaining space for Windows/Linux exchange zone (i.e. FAT).</P>


</LI>
<LI>So far - so good. So, I put NT's installation disk and
followed the procedure (you should be aware to use a "retail" NT
installation disk, *not* the one that came with Omnibook 6000,
because it is supposed to "restore" an NT installation, accompanied
with a hibernation partition. Why such a partition seems not
to be suitable here, we'll see later.


</LI>
<LI>After Windows NT was installed completely, it was the right
time to insert Windows 2000 installation CD (once again, do not
use 2000's disks that have come with the computer). So, from
within NT running, I have installed 2000 onto the next partition 
(actually, only the first part of the installation process starts 
from under NT, but it is OK). When the process has finished, you
have two Windozes - on your first two partitions.


</LI>
<LI>Everything seems to be running OK, excepting the diagnostics.
It should be activated with F10 at system boot <B>if</B> "restore" 
CD's were used. BTW, NT's "restoration" finishes with even bigger 
partition (cca. 500 MB). And not only that: this partition seems to 
be a *primary* one. That means, you may end up with a shortage of 
primary partitions, in case you intend to install several operating 
systems. Anyway, I have decided that the diagnostics is not too much 
important to me, so there's no use of F10 at system boot anymore :-)


</LI>
<LI>Not to forget to say, the Windows 2000's boot loader should
offer *both* NT and 2000 boot options, if you have followed the
mentioned procedure (case you don't want to have *both* NT and W2k
on the system, you may skip to the next section).


</LI>
<LI>Well, that is the time when I usually look after a Linux
installation CD's. The first one (in case of two) should be inserted
into the DVD (or in a CD drive) and the system has to be re-booted.
As usual, after a second or two after switching the system on,
<CODE>Escape</CODE> should be pressed one or two times, in order to 
change the "boot" device order (of course, a CD/DVD should be 
chosen here).


</LI>
<LI>The rest of Linux installation is just as usual. Don't forget
to make a Linux boot floppy at the end of the process (you never
know when the boot floppy might be of help).


</LI>
<LI>Folks, in short, that was that. If everything goes fine, the
next system boot should take you into the Linux environment. Don't
be surprised when you don't see your beloved Windoze(s) boot
loader(s) anymore. You just have to look into the another great
Linux document, called 
<A HREF="http://tldp.org/HOWTO/LILO.html">LILO</A> mini-HOWTO. There you'll find more detailed information
about how <B>LILO</B> (<B>Li</B>nux <B>Lo</B>ader) works. 


</LI>
<LI>If you find it easier, read some pages before and check how it
was accomplished in the chapter "HOW TO <EM>UPGRADE</EM> WINDOWS NT TO 
WINDOWS 2000" 
</LI>
</UL>
</P>


<H2><A NAME="ss6.2">6.2</A> <A HREF="Linux+WinNT.html#toc6.2">If you want to have only Windows 2000 and Linux</A>
</H2>

<P><EM>Notice: Well, all I have said in the previous section, resulted
in a "multiboot" (or, better to say, "3-boot") system. When I want 
to run Linux - I have to choose its option from within LILO menu. 
When I am about to run any kind of Windoze - I have to choose Windows 
(or DOS, or whatever else) from within LILO menu. Soon after, on the
screen appears Windows 2000 boot loader. Finally, from this point,
either NT or 2000 may be booted. Well, for a next task, I wanted to 
install Symantec's Norton System Works onto both Microsoft environments. 
I did it successfully, but it seems that I have later entered a command 
that resulted in changing something very important in the setup. In sum, 
I have become not able to run both flavors of Windows properly. Looks 
that it was the right time to re-install all the stuff again :-)</EM> </P>

<P>
<UL>
<LI>Folks, this time I decided to use one of those "restore" CD's,
that came with the notebook. I must admit that I liked to see, as
the background, a great blue logo "HP Invent", as well as "Manufactured 
by Hewlett Packard" in My Computer's Properties (&lt;-- here the guys 
from HP should send me a couple of 0.01$ for this commercial :-))


</LI>
<LI>Using the "restore" CD's might help you to avoid the whole
long NT/2000's setup procedure(s), because they replicate or, if
you like to say, "clone" images from the CD's to the hard disk, and 
it is very fast. In addition, the hibernation/diagnostics partition 
is being made by default. Finally, a couple of HP utils and tools can 
only be "restored" from these CD's.


</LI>
<LI>So, after a 6-7 minutes, NT (or W2k) is in its place, ready to
work. Similarly to "retail" versions (mentioned in the previous
section), now it is the right time to boot the system with a Linux
installation CD.


</LI>
<LI>The rest of Linux installation is just as usual. Don't forget
to make a Linux boot floppy at the end of the process (you never
know when that boot floppy might be useful).


</LI>
<LI>Folks, that was that - in short. If everything is fine, the
next system boot should take you into the Linux environment. Don't
be surprised when you don't see your beloved Windoze(s) boot
loader(s) anymore. You just have to look into the another great
Linux document, called 
<A HREF="http://tldp.org/HOWTO/LILO.html">LILO</A> mini-HOWTO. There you'll find more detailed information
about how <B>LILO</B> (<B>Li</B>nux <B>Lo</B>ader) works. 


</LI>
<LI>If you find it easier, read some pages before and see how it
was done in the chapter "HOW TO <EM>UPGRADE</EM> WINDOWS NT TO 
WINDOWS 2000" 


</LI>
<LI>You bet, the life would be much easier if there were not such
troubles, like a "tolerance" between Windows and Linux world. Maybe 
I have made an another mistake somewhere in the cyberspace, but, as
soon as I have finished with that Linux installation - RedHat 7.1 in 
particular (today is May 04, 2002 and I still have no newer and better
distros here. Any donation from the readership ...?), I recognized 
that F10 at the system boot, does not open the HP diagnostics anymore. 
Actually, regardless of pressing F10, my Omnibook 6000 goes directly 
to the graphical LILO screen. *Before* installing Linux, diagnostics 
was running here without any problem.


</LI>
<LI>FYI, after the first next boot into W2k, its Disk Management tool 
has recognized the following partitions on the disk:

<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
</TD><TD> Size </TD><TD>Format </TD><TD> Label </TD><TD> Type </TD><TD></TD></TR><TR><TD>
1 </TD><TD> 15 MB </TD><TD> FAT </TD><TD> - </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
2 </TD><TD>7.30 GB </TD><TD>FAT32 </TD><TD> HPNOTEBOOK C: </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
3 </TD><TD> 52 MB </TD><TD> - </TD><TD> - </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
4 </TD><TD>18.37 GB</TD><TD> - </TD><TD> - </TD><TD> Logical </TD><TD></TD></TR><TR><TD>
5 </TD><TD> 258 MB </TD><TD> - </TD><TD> - </TD><TD> Logical </TD><TD></TD></TR><TR><TD>
6 </TD><TD>1.96 GB </TD><TD>Free space</TD><TD> - </TD><TD> - </TD><TD>
</TD></TR></TABLE>
</CENTER><BR>
</P>


</LI>
<LI>On the other hand, Partition Magic "sees" as follows:

<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
</TD><TD> Size in MB</TD><TD>Format </TD><TD> Label </TD><TD> Type </TD><TD></TD></TR><TR><TD>
1 </TD><TD> 14.7 </TD><TD> FAT </TD><TD> save to disk </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
2 </TD><TD>7.471,4 </TD><TD>FAT32 </TD><TD> HPNOTEBOOK </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
3 </TD><TD> 51.7 </TD><TD> ext2 </TD><TD> /boot </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
4 </TD><TD>21.077,9 </TD><TD>extended </TD><TD> - </TD><TD> Primary </TD><TD></TD></TR><TR><TD>
5 </TD><TD>18.811,4 </TD><TD>ext2 </TD><TD> / </TD><TD> Logical </TD><TD></TD></TR><TR><TD>
6 </TD><TD> 258,4 </TD><TD>swap </TD><TD> - </TD><TD> Logical </TD><TD></TD></TR><TR><TD>
7 </TD><TD>2.008,1 </TD><TD>free space</TD><TD> - </TD><TD> Logical </TD><TD>
</TD></TR></TABLE>
</CENTER><BR>
</P>


</LI>
<LI>Some more explanations, related to the tables above:
It is obvious that diagnostics partition, accompanied with
"restored" Windows 2000, is rather small - cca. 15 MB (comparing 
to the partition, that is created with "restored" Windows NT, which 
goes up to cca. 500 MB). Regardless of that fact, it is a <B>primary</B> 
one. That means you should be aware of how many primary partitions 
you have in the system. I am not sure now, but that might be one of
the reasons for not having diagnostic tools available anymore, 
after completing all operating system installations.

<P>Next, you may see that I have "shrinked" W2k's FAT32
partition to a smaller size (cca. 7.5 gig), in order to
release enough free space for Linux.</P>

<P>I would suggest you to let Linux setup procedure to transform the 
free space into Linux partitions. I mean, there's no need to prepare
the Linux partitions manually. As you can see from the tables, 
it took cca. 50 megs for the boot part, cca. twice a physical RAM 
(2 x 128 = 256 megs) for swap and the rest goes for other Linux parts.
Remaining free space was probably left after the conversions
of various file format systems.</P>


</LI>
<LI>What is the result now: Linux works, Windows works too. 
There's no diagnostics anymore. The hibernation (from under 
Windows) is not tested yet. At the first sight, the 3Com 
NIC/modem combo is not fully supported under Linux. Actually, 
NIC seems to work, but the modem part is a "winmodem". Nobody 
knows if HP would do something to solve that issue. All I could 
say is to avoid HP Omnibook 6000 if modem activities are your 
primary tasks. Of course, you may spend some $$$ and buy 
another PCI mini-card with supported modem chip. Beside that, HP's 
15" screen gives you great picture with the resolution of up to 
1400 x 1050 at 16 bit colors. Interestingly, that resolution seems
to be <EM>default</EM> under Windows 2000 and it is also easily 
adopted under Linux (RedHat 7.1). There is also somewhat "over-sensible" 
touchpad that often acts as the left mouse click. It seems to be a 
common feature for both Windows and Linux installations. It bothers 
me sometimes, but your mileage may vary.


</LI>
<LI>The plan is to convert the FAT32 partition to the NTFS in order 
to get more reliable Windows subsystem. On the other side, Linux 
main (root) partition should be "shrinked" in order to get some 
free space. That free space will be used later for exchanging files 
between these two operating systems (probably it will be also FAT).
</LI>
</UL>
</P>


<HR>
<A HREF="Linux+WinNT-7.html">Next</A>
<A HREF="Linux+WinNT-5.html">Previous</A>
<A HREF="Linux+WinNT.html#toc6">Contents</A>
</BODY>
</HTML>
