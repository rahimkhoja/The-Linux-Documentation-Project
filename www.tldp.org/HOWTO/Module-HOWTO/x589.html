<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>How To Boot Without A Disk Device Driver</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Linux Loadable Kernel Module HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Unresolved Symbols"
HREF="basekerncompat.html"><LINK
REL="NEXT"
TITLE="About Module Parameters"
HREF="parm.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Loadable Kernel Module HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="basekerncompat.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="parm.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN589"
></A
>7. How To Boot Without A Disk Device Driver</H1
><P
>For most systems, the ATA disk device driver must be bound into the
base kernel because the root filesystem is on an ATA disk
<A
NAME="AEN592"
HREF="#FTN.AEN592"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
> and the kernel cannot mount the
root filesystem, much less read any LKMs from it, without the ATA disk
driver.  But if you really want the device driver for your root
filesystem to be an LKM, here's how to do it with Initrd:</P
><P
>"Initrd" is the name of the "initial ramdisk" feature of Linux.  With
this, you have your loader (probably LILO or Grub) load a filesystem into
memory (as a ramdisk) before starting the kernel.  When it starts the
kernel, it tells it to mount the ramdisk as the root filesystem.  You
put the disk device driver for your real root filesystem and all the
software you need to load it in that ramdisk filesystem.  Your startup
programs (which live in the ramdisk) eventually mount the real (disk)
filesystem as the root filesystem.  Note that a ramdisk doesn't
require any device driver.</P
><P
>This does not free you, however, from having to bind into the base
kernel 1) the filesystem driver for the filesystem in your ramdisk,
and 2) the executable interpreter for the programs in the ramdisk.</P
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN592"
HREF="x589.html#AEN592"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>You probably know this type of disk as
"IDE".  Strictly speaking, IDE is an incorrect appelation.
IDE refers to the "Integrated Drive Electronics" technology which all
modern disk drives, notably including all SCSI disk drives, use.  The first IDE
drives in common usage were ATA, and the names kind of got confused.
ATA, like SCSI, is a precise specification of electrical signals,
commands, etc.  </P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="basekerncompat.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="parm.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Unresolved Symbols</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>About Module Parameters</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>