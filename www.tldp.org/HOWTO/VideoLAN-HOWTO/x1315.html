<HTML
><HEAD
><TITLE
>&#13;Send announces for the programs streamed by VLS with the
mini-SAP-server

</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="VideoLAN HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="
Add a channel information service
"
HREF="sap.html"><LINK
REL="PREVIOUS"
TITLE="
Send announces when streaming with VLC

"
HREF="x1299.html"><LINK
REL="NEXT"
TITLE="
Start VLC(s) on the client(s)

"
HREF="x1352.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>VideoLAN HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1299.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 12. Add a channel information service</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1352.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN1315"
></A
>12.2. Send announces for the programs streamed by VLS with the
mini-SAP-server</H1
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;The mini-SAP-server is only available for Linux and Mac OSX.

</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="simplesect"
><H2
CLASS="simplesect"
><A
NAME="AEN1319"
></A
>12.2.1. Install the mini-SAP-server</H2
><P
>&#13;Download the latest version of the mini-SAP-server from the <A
HREF="http://www.videolan.org/streaming/"
TARGET="_top"
>streaming download page</A
>.

</P
><P
>&#13;Install-it:

</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<TT
CLASS="prompt"
>% </TT
><TT
CLASS="userinput"
><B
>tar xvzf miniSAPserver-version.tar.gz</B
></TT
>
<TT
CLASS="prompt"
>% </TT
><TT
CLASS="userinput"
><B
>cd miniSAPserver-version</B
></TT
>
<TT
CLASS="prompt"
>% </TT
><TT
CLASS="userinput"
><B
>./configure (if version &#62;= 0.2.3)</B
></TT
>
<TT
CLASS="prompt"
>% </TT
><TT
CLASS="userinput"
><B
>make</B
></TT
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="simplesect"
><H2
CLASS="simplesect"
><A
NAME="AEN1333"
></A
>12.2.2. Configure the mini-SAP-server</H2
><P
>Edit the configuration file <TT
CLASS="filename"
>sap.cfg</TT
> shipped
with the tarball. It should contain a global section with the Time To
Live (TTL) and the IP version (IPv4 or IPv6) used for the SAP announces
and a section per program announced. Use the comments to understand each
parameter.</P
><P
>The Time To Live option indicates the maximum number of routers
that the SAP announce packets can cross before being dropped.</P
></DIV
><DIV
CLASS="simplesect"
><H2
CLASS="simplesect"
><A
NAME="AEN1338"
></A
>12.2.3. Run the mini-SAP-server</H2
><P
>&#13;Start the mini-SAP-server:

</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<TT
CLASS="prompt"
>% </TT
><TT
CLASS="userinput"
><B
>./sapserver -c sap.cfg</B
></TT
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;If you want to run the mini-SAP-server in the
background, use the <B
CLASS="command"
>-d</B
> command line switch. For
instance:

</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<TT
CLASS="prompt"
>% </TT
><TT
CLASS="userinput"
><B
>./sapserver -d -c sap.cfg</B
></TT
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;You can also omit the <B
CLASS="command"
>-c</B
> 
command line switch if your config file is <TT
CLASS="filename"
>/etc/sap.cfg</TT
>.

</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1299.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1352.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Send announces when streaming with VLC</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sap.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Start VLC(s) on the client(s)</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>