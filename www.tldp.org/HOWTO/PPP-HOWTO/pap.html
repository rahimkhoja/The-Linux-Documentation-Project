<HTML
><HEAD
><TITLE
>If your PPP server uses PAP (Password Authentication
Protocol)</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.52"><LINK
REL="HOME"
TITLE="Linux PPP HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Other options to consider adding"
HREF="x980.html"><LINK
REL="NEXT"
TITLE="The PAP/CHAP secrets file"
HREF="x1005.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><A
HREF="http://www.linuxports.com/howto/ppp"
TARGET="_top"
>Linux PPP HOWTO</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x980.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1005.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="PAP"
>Chapter 16. If your PPP server uses PAP (Password Authentication
Protocol)</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>16.1. <A
HREF="pap.html#AEN994"
>Using MSCHAP</A
></DT
><DT
>16.2. <A
HREF="x1005.html"
>The PAP/CHAP secrets file</A
></DT
><DT
>16.3. <A
HREF="x1034.html"
>The PAP secrets file</A
></DT
><DT
>16.4. <A
HREF="x1053.html"
>The CHAP secrets file</A
></DT
><DT
>16.5. <A
HREF="x1071.html"
>Handling multiple PAP-authenticated connections</A
></DT
></DL
></DIV
><P
>If the server to which you are connecting requires PAP or CHAP
authentication, you have a little bit more work.</P
><P
>To the above options file, add the following lines

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#
# force pppd to use your ISP user name as your 'host name' during the
# authentication process
name &#60;your ISP user name&#62;	# you need to edit this line
#
# If you are running a PPP *server* and need to force PAP or CHAP
# uncomment the appropriate one of the following lines. Do NOT use 
# these is you are a client connecting to a PPP server (even if it uses PAP
# or CHAP) as this tells the SERVER to authenticate itself to your
# machine (which almost certainly can't do - and the link will fail).
#+chap
#+pap
#
# If you are using ENCRYPTED secrets in the /etc/ppp/pap-secrets
# file, then uncomment the following line.
# Note: this is NOT the same as using MS encrypted passwords as can be
# set up in MS RAS on Windows NT.
#+papcrypt</PRE
></TD
></TR
></TABLE
>&#13;</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN994"
>16.1. Using MSCHAP</A
></H1
><P
>Microsoft Windows NT RAS can be set up to use a variation on CHAP
(Challenge/Handshake Authentication Protocol). In your PPP sources tar
ball, you will find a file called README.MSCHAP80 that discusses this.</P
><P
>You can determine if the server is requesting authentication using this
protocol by enabling debugging for pppd. If the server is requesting MS
CHAP authentication, you will see lines like:-</P
><P
>&#13;<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>rcvd [LCP ConfReq id=0x2 &#60;asyncmap 0x0&#62; &#60;auth chap 80&#62; &#60;magic 0x46a3&#62;]</PRE
></TD
></TR
></TABLE
>&#13;</P
><P
>The critical information here is <I
CLASS="EMPHASIS"
>auth chap 80</I
>.</P
><P
>In order to use MS CHAP, you will need to recompile pppd to support
this. Please see the instructions in the README.MSCHAP80 file in the PPP
source file for instructions on how to compile and use this variation.</P
><P
>You should note that at present this code supports only Linux PPP
clients connecting to an MS Windows NT server. It does <I
CLASS="EMPHASIS"
>NOT</I
> support
setting up a Linux PPP server to use MSCHAP80 authentication from clients.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x980.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1005.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Other options to consider adding</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>The PAP/CHAP secrets file</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>