<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux Chinese HOWTO English Version: Chinese X Window System</TITLE>
 <LINK HREF="Chinese-HOWTO-6.html" REL=next>
 <LINK HREF="Chinese-HOWTO-4.html" REL=previous>
 <LINK HREF="Chinese-HOWTO.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="Chinese-HOWTO-6.html">Next</A>
<A HREF="Chinese-HOWTO-4.html">Previous</A>
<A HREF="Chinese-HOWTO.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Chinese X Window System</A></H2>

<P>X Window System is a software with powerful environment of graphical user interface under UNIX System. XFree86 is a modified version from MIT X Window System and also freely distributed. 
<H2><A NAME="cxwin"></A> <A NAME="ss5.1">5.1 CXWin</A>
</H2>

<P>The Chinese X, abbreviated with CXWin, is really a patch of XFree86, making it can show Chinese words under X Window System.
Founder of it is 
<A HREF="mailto:srlee@csie.nctu.edu.tw">srlee</A>.
CXWin only support BIG5 code at present, and can let you be possessed of Chinese pop-up menus, of Chinese titles of windows, and of showing Chinese under a variety of window managers and applications. 
<P>
<H3>How to get it?</H3>

<P>You can get CXWin 3.3 from this ftp site below:
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/X/Xserver/CXwin/3.3/">ftp://linux.cis.nctu.edu.tw/packages/X/Xserver/CXwin/3.3/</A></BLOCKQUOTE>
<P>If you use XFree86 3.2, you can get the Linux ELF format of version 3.2.
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/CXwin/binaries/">ftp://linux.cis.nctu.edu.tw/packages/chinese/CXwin/binaries/</A></BLOCKQUOTE>
<P>
<P>All you need is to get the corresponding X server. For example, if your video card is matched with <CODE>XF86_SVGA</CODE>, just take <CODE>XF86_SVGA.gz</CODE> home.
<CODE>XF86_SVGA.gz</CODE> should work properly on most video cards. 
<P>If you system is compatible with rpm, you can get the newest CXWin 3.3.1 of rpm.
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/X/Xserver/CXwin/3.3.1/">ftp://linux.cis.nctu.edu.tw/packages/X/Xserver/CXwin/3.3.1/</A></BLOCKQUOTE>
<P>
<H3>Patches</H3>

<P>You can get the patches at the same place to compile to binary files by yourself if you've got the sources of XFree86.
<P>
<H3>Installation</H3>

<P>Make sure that you have these shared libraries if your choice is CXWin 3.3 (You can use <CODE>ldconfig -p</CODE> for an observation):
<BLOCKQUOTE><CODE>
<PRE>
libm.so.5 => /lib/libm.so.5.0.6
libdl.so.1 => /lib/libdl.so.1.7.14
libc.so.5 => /lib/libc.so.5.3.12
</PRE>
</CODE></BLOCKQUOTE>
<P>If your choice is CXWin 3.2, then you need the libc of version 5.2.18 or newer.
<P>First, unzip the compressed files of gzip. 
<BLOCKQUOTE><CODE>
<PRE>
# gzip -d XF86_SVGA.gz
</PRE>
</CODE></BLOCKQUOTE>

Duplicate the original X server as a copy as the root identification.
<BLOCKQUOTE><CODE>
<PRE>
# cd /usr/X11R6/bin
# mv XF86_SVGA XF86_SVGA_BACKUP
</PRE>
</CODE></BLOCKQUOTE>

Put the decompressed CXWin into the exact place and create the decent symbolic link:
<BLOCKQUOTE><CODE>
<PRE>
# mv /tmp/XF86_SVGA /usr/X11R6/bin
# chown root.bin XF86_SVGA
# chmod 4755 XF86_SVGA
# ln -sf XF86_SVGA X
</PRE>
</CODE></BLOCKQUOTE>
<P>If your choice is rpm, then everything is more simple and more compact.
<BLOCKQUOTE><CODE>
<PRE>
# rpm -Uvv XFree86-SVGA-3.3.1-1c.i386.rpm
</PRE>
</CODE></BLOCKQUOTE>
<P>CXWin needs the following <EM>four BIG5 fonts</EM> to work normally:
<CODE>taipei15</CODE>, <CODE>taipei16</CODE>, <CODE>taipeik20</CODE> and <CODE>taipeik24</CODE>.
Install these Chinese fonts in accordance with the method of next section.
<P>
<H2><A NAME="xfont"></A> <A NAME="ss5.2">5.2 Installation of Chinese fonts</A>
</H2>

<H3>Where to get these fonts?</H3>

<P>Maybe you have already installed some Chinese fonts; for GB fonts, you can find them out through the next way:
<BLOCKQUOTE><CODE>
<PRE>
# xlsfonts | grep gb
-cclib-song-medium-r-normal--0-0-72-72-c-0-gb2312.1980-1
-cclib-song-medium-r-normal--16-160-72-72-c-160-gb2312.1980-1
-isas-fangsong ti-medium-r-normal--0-0-72-72-c-0-gb2312.1980-0
-isas-fangsong ti-medium-r-normal--16-160-72-72-c-160-gb2312.1980-0
-isas-song ti-medium-r-normal--0-0-72-72-c-0-gb2312.1980-0
-isas-song ti-medium-r-normal--16-160-72-72-c-160-gb2312.1980-0
-isas-song ti-medium-r-normal--24-240-72-72-c-240-gb2312.1980-0
hanzigb13fs
hanzigb13st
hanzigb16fs
hanzigb16st
hanzigb24st
</PRE>
</CODE></BLOCKQUOTE>

The last five fonts are the previous five ones' aliases. To check the installed BIG5 fonts, using
<BLOCKQUOTE><CODE>
<PRE>
# xlsfonts | grep big5
-kc-kai-medium-r-normal-fantizi-0-0-75-75-c-0-big5.eten.3.10-1
-kc-kai-medium-r-normal-fantizi-20-200-75-75-c-200-big5.eten.3.10-1
-kc-kai-medium-r-normal-fantizi-24-240-75-75-c-240-big5.eten.3.10-1
-kc-ming-medium-r-normal-fantizi-0-0-75-75-c-0-big5.eten.3.10-1
-kc-ming-medium-r-normal-fantizi-15-150-75-75-c-160-big5.eten.3.10-1
-kc-ming-medium-r-normal-fantizi-24-240-75-75-c-240-big5.eten.3.10-1
-uw-ming-medium-r-normal-fantizi-0-0-75-75-c-0-big5.eten.3.10-1
-uw-ming-medium-r-normal-fantizi-16-160-75-75-c-160-big5.eten.3.10-1
-uw-ming-medium-r-normal-fantizi-20-200-75-75-c-200-big5.eten.3.10-1
-uw-songti-medium-r-normal-fantizi-0-0-75-75-c-0-big5.eten.3.10-1
-uw-songti-medium-r-normal-fantizi-20-200-75-75-c-200-big5.eten.3.10-1
-uw-songti-medium-r-normal-fantizi-24-240-75-75-c-240-big5.eten.3.10-1
</PRE>
</CODE></BLOCKQUOTE>

You can take all of it from this ftp site<CODE>
<A HREF="ftp://ftp.ifcss.org/pub/software/fonts/">ftp://ftp.ifcss.org/pub/software/fonts/</A></CODE> if you haven't installed any of them or if you want more of them. The <CODE>gb/bdf/</CODE> amongst them is a GB font while the <CODE>big5/bdf</CODE> is a BIG5 font.
<H3>Installation of X fonts</H3>

<P>Assuming that you have already got a BIG5 font, <CODE>eb5-24k2.bdf.gz</CODE>, and a GB font, <CODE>gb24st.bdf.gz</CODE>. What you have to do first is that changing them into the format of <CODE>.pcf</CODE>.
<BLOCKQUOTE><CODE>
<PRE>
# gzip -cd eb5-24k2.bdf.gz | bdftopcf -t > eb5-24k2.pcf
# gzip -cd gb24st.bdf.gz | bdftopcf -t > gb24st.pcf
# compress *.pcf
</PRE>
</CODE></BLOCKQUOTE>

Then install them under <CODE>/usr/X11R6/lib/X11/fonts/misc</CODE>
<BLOCKQUOTE><CODE>
<PRE>
# mv *.pcf.Z /usr/X11R6/lib/X11/fonts/misc/
# cd /usr/X11R6/lib/X11/fonts/misc
# mkfontdir .
</PRE>
</CODE></BLOCKQUOTE>

Now it should contain the following two lines in <CODE>fonts.dir</CODE>:
<BLOCKQUOTE><CODE>
<PRE>
eb5-24k2.pcf.Z -kc-kai-medium-r-normal-fantizi-24-240-75-75-c-240-big5.eten.3.10-1
gb24st.pcf.Z -isas-song ti-medium-r-normal--24-240-72-72-c-240-gb2312.1980-0
</PRE>
</CODE></BLOCKQUOTE>

You can create other aliases for these fonts for the advantages of saving typing time when using Chinese softwares.
Add the two lines in <CODE>fonts.alias</CODE>,
<BLOCKQUOTE><CODE>
<PRE>
gb24st    "-isas-song ti-medium-r-normal--24-240-72-72-c-240-gb2312.1980-0"
taipeik24 "-kc-kai-medium-r-normal-fantizi-24-240-75-75-c-240-big5.eten.3.10-1"
</PRE>
</CODE></BLOCKQUOTE>

Next, tell X Server to reload these fonts,
<BLOCKQUOTE><CODE>
<PRE>
# xset fp rehash
</PRE>
</CODE></BLOCKQUOTE>

If everything is fine, you can use the new fonts now:
<BLOCKQUOTE><CODE>
<PRE>
# cxterm -GB -fn 12x24 -fh gb24st &amp;
</PRE>
</CODE></BLOCKQUOTE>
<P>You can put these fonts into another directory, too, for instance,
<CODE>/usr/X11R6/lib/X11/fonts/chinese</CODE>.
If this works, you have to add this line <CODE>/etc/XF86Config</CODE> to the Section "Files",
<BLOCKQUOTE><CODE>
<PRE>
    FontPath    "/usr/X11R6/lib/X11/fonts/chinese/"
</PRE>
</CODE></BLOCKQUOTE>
<P>So, when you start X next time, you can use these fonts without any problems.
<P>
<H3>Transformations from other fonts to X fonts</H3>

<P>There is a TTF2BDF program, written by lwj, can let you transform the TTF fonts of Windows into BDF fonts. You can get it from here below:
<BLOCKQUOTE>
<A HREF="ftp://linux.cis.nctu.edu.tw/packages/chinese/TTF2BDF.EXE">ftp://linux.cis.nctu.edu.tw/packages/chinese/TTF2BDF.EXE</A></BLOCKQUOTE>

This is a Win32 program, thus you must execute it on Windows 95 or NT.
<P>Next step is that change BDF into PCF, then you can use it under X. (You can use BDF directly under X; but that BDF carried with bigger sizes means PCF will be a better choice though.)
<BLOCKQUOTE><CODE>
<PRE>
# bdftopcf -t &lt; ming.bdf > ming.pcf
</PRE>
</CODE></BLOCKQUOTE>
<P>You may change HBF into BDF and PCF fonts, too. Here is the ftp site for the utility of transformation.
<BLOCKQUOTE>
<A HREF="ftp://ftp.ifcss.org/pub/software/fonts/utils/hbf.tar.gz">ftp://ftp.ifcss.org/pub/software/fonts/utils/hbf.tar.gz</A></BLOCKQUOTE>
<P>
<BLOCKQUOTE><CODE>
<PRE>
# hbftobdf ccfs24.hbf > ccfs24.bdf
# bdftopcf -t &lt; ccfs24.bdf > ccfs24.pcf
</PRE>
</CODE></BLOCKQUOTE>
<P>Other nice font conversion programs are available at:
<BLOCKQUOTE>
<A HREF="ftp://crl.nmsu.edu/CLR/multiling/General/ttf2bdf-1.8-ELF.tar.gz">ftp://crl.nmsu.edu/CLR/multiling/General/ttf2bdf-1.8-ELF.tar.gz</A><BR>
<A HREF="ftp://crl.nmsu.edu/CLR/multiling/General/xmbdfed-3.0.tar.gz">ftp://crl.nmsu.edu/CLR/multiling/General/xmbdfed-3.0.tar.gz</A></BLOCKQUOTE>
<P>
<H2><A NAME="ss5.3">5.3 TaBE &amp; B5LE</A>
</H2>

<P>TaBE and B5LE(Big5 Locale Environment) are projects both based on locale for solving the Chinese ability under X.
If we can finish them, then the problems coming with Chinese I/O under X can be resolved thoroughly.
<P>The TaBE author, shawn, has been taken for the military service in Taiwan, and the homepage of TaBE had been removed either(so awfully?), so this project has been dead from that time.
<P>Author of B5LE is Thinker &lt;
<A HREF="mailto:Thinker.bbs@bbs.yzu.edu.tw">Thinker.bbs@bbs.yzu.edu.tw</A>&gt;. However, the major platform is FreeBSD , though. If someone install B5LE successfully on Linux platform, please let me know about it. The concerned homepage is listed as follows:
<BLOCKQUOTE>
<A HREF="http://ftp-cnpa.yzit.edu.tw/~thinker/B5LE/">http://ftp-cnpa.yzit.edu.tw/~thinker/B5LE/</A></BLOCKQUOTE>
<P>
<P>
<HR>
<A HREF="Chinese-HOWTO-6.html">Next</A>
<A HREF="Chinese-HOWTO-4.html">Previous</A>
<A HREF="Chinese-HOWTO.html#toc5">Contents</A>
</BODY>
</HTML>
