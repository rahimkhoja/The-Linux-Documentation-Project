<HTML
><HEAD
><TITLE
>Client: Scripting</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="VPN HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Implementation"
HREF="implemenetation.html"><LINK
REL="PREVIOUS"
TITLE="Client: Set the routes"
HREF="x645.html"><LINK
REL="NEXT"
TITLE="Addenda"
HREF="c671.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>VPN HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x645.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Implementation</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c671.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN652">5.19. Client: Scripting</H1
><P
>&#13;Use the <A
HREF="x346.html#vpn-script"
>vpnd script</A
>.  Only you may need to 
modify it a little.  Make the following changes:
</P
><P
>&#13;
<P
></P
><UL
><LI
><P
>&#13;Change the variables at the top to match your setup.  Most should be just
fine as they are, but you can change them should you need to.
</P
></LI
><LI
><P
>&#13;Line 27: add the local and remote IP addresses before $PPP_OPTIONS
</P
></LI
><LI
><P
>&#13;Line 31: Change this line, and the two after it to set routes for
your internal nets.
</P
></LI
></UL
>

</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN664">5.19.1. Keeping it running</H2
><P
>&#13;While bash scripts are generally stable, they have been known to fail. 
In order to make sure that the <B
CLASS="command"
>vpnd</B
> script keeps running, add
an entry to the client's crontab that runs the <B
CLASS="command"
>check-vpnd</B
>
script. I run mine every 5 minutes or so.  If <B
CLASS="command"
>vpnd</B
> is indeed
running, <B
CLASS="command"
>check-vpnd</B
> doesn't use much CPU.
</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x645.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c671.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Client: Set the routes</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="implemenetation.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Addenda</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>