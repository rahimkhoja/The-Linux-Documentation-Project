<HTML
><HEAD
><TITLE
>Client: Configure ssh</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="VPN HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Implementation"
HREF="implemenetation.html"><LINK
REL="PREVIOUS"
TITLE="Client: Configure pppd"
HREF="x613.html"><LINK
REL="NEXT"
TITLE="Client: Bring up the connection"
HREF="x633.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>VPN HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x613.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Implementation</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x633.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN620">5.16. Client: Configure <B
CLASS="command"
>ssh</B
></H1
><P
>&#13;As root on the client, run the following lines:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;# mkdir /root/.ssh
# ssh-keygen -f /root/.ssh/identity.vpn -P ""
</PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;This will create two files, <TT
CLASS="filename"
>identity.vpn</TT
> and <TT
CLASS="filename"
>identity.vpn.pub</TT
> in the
<TT
CLASS="filename"
>.ssh</TT
> directory.  The first is your private key, and should be kept such.
<EM
>Never send this over the net</EM
> unless it is via an encrypted session.  The
second file is your public key, and you can send this anywhere you want, it only
serves to allow you access to other systems, and cannot be used to get into your
own.  It is a text file with one line in it that is your actual key.  At the end
of the line is the comment field which you may change without fear of breaking
the key.  an example key looks something like this:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;1024 35 1430723736674162619588314275167.......250872101150654839 root@vpn-client.mycompany.com
</PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;It's actually a lot longer than that, but it wouldn't fit on the page if I
showed the whole thing.  Copy your key into the <TT
CLASS="filename"
>/home/vpn-users/.ssh/authorized_keys</TT
>
file on the server.  Make sure that there is only one key per line, and
that each key is not broken onto multiple lines.  You may alter
the comment field all that you like in order to help you remember which
line goes with which user.  I highly recommend doing so.
</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x613.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x633.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Client: Configure <B
CLASS="command"
>pppd</B
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="implemenetation.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Client: Bring up the connection</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>