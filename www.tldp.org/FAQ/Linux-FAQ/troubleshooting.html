<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Troubleshooting</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="The Linux FAQ"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Connecting To A Network"
HREF="networking.html"><LINK
REL="NEXT"
TITLE="Software Development"
HREF="development.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Linux FAQ</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="networking.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="development.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="troubleshooting"
></A
>12. Troubleshooting</H1
><DIV
CLASS="qandaset"
><DL
><DT
>Q: <A
HREF="troubleshooting.html#nasty-messages-about-inodes"
>What are these Nasty Messages about Inodes, Blocks, and the Like?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#ppp-connection-dies-when-sending"
>Why Do FTP Transfers Seem to Hang?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#free-dumps-core"
>Why Does Free Dump Core?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#netscape-crashes"
>Why Does Netscape Crash Frequently?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#ftp-wont-login"
>Why Won't My FTP or Telnet Server Allow Logins?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#track-of-bookmarks-netscape"
>How Do I Keep Track of Bookmarks in Netscape?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#computer-has-wrong-time"
>Why Does the Computer Have the Wrong Time?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#setuid-scripts-dont-work"
>Why Don't Setuid Scripts Work?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#free-memory-keeps-shrinking"
>Why Is Free Memory as Reported by <B
CLASS="command"
>free</B
> Shrinking?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#add-memory-system-slows"
>Why Does the System Slow to a Crawl When Adding More Memory?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#some-programs-wont-log-in"
>Why Won't Some Programs (e.g., <B
CLASS="command"
>xdm</B
>) Allow Logins?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#log-in-with-no-password"
>Why Do Some Programs Allow Logins with No Password?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#machine-runs-very-slowly-when"
>Why Does the Machine Run Very Slowly with GCC / X / ...?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#can-only-log-in-as-root"
>Why Does My System Only Allow Root Logins?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#screen-is-all-full-of-weird"
>Why Is the Screen Is All Full of Weird Characters Instead of Letters?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#screwed-up-system-and-cant-log-in"
>If I Screwed Up the System and Can't Log In, How Can I Fix It?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#forgot-root-password"
>What if I Forget the <TT
CLASS="literal"
>root</TT
> Password?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#a-security-hole-in-rm"
>What's This Huge Security Hole in <B
CLASS="command"
>rm</B
>!?!?!</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#lpr-andor-lpd-dont-work"
>Why Don't <B
CLASS="command"
>lpr</B
> and/or <B
CLASS="command"
>lpd</B
> Work?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#timestamps-on-files-are-incorrectly"
>Why Are the Timestamps on Files on MS-DOS Partitions Set Incorrectly?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#root-file-system-read-only"
>Why is My Root File System Read-Only?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#huge-proc-kcore"
>What Is <TT
CLASS="filename"
>/proc/kcore</TT
>?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#fdformat-except-as-root"
>Why Does <B
CLASS="command"
>fdformat</B
> Require Superuser Privileges?</A
></DT
><DT
>Q: <A
HREF="troubleshooting.html#upgraded-kernel-pcmcia-doesnt-work"
>Why Doesn't My PCMCIA Card Work after Upgrading the Kernel?</A
></DT
></DL
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="nasty-messages-about-inodes"
></A
><B
>Q: </B
>What are these Nasty Messages about Inodes, Blocks, and the Like?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You may have a corrupted file system, probably caused by not shutting Linux down
properly before turning off the power or resetting. You need to use a recent 
shutdown program to do this for example, the one included in the util-linux 
package, available on sunsite and tsx-11. 
</P
><P
>If you're lucky, the program <B
CLASS="command"
>fsck</B
> (or <B
CLASS="command"
>e2fsck</B
>
or <B
CLASS="command"
>xfsck</B
> as appropriate if you don't have the 
automatic <B
CLASS="command"
>fsck</B
> front-end) will be able to repair your file system. 
If you're unlucky, the file system is trashed, and you'll have to 
re-initialize it with mkfs (or <B
CLASS="command"
>mke2fs</B
>, <B
CLASS="command"
>mkxfs</B
>, etc.), 
and restore from a backup. 
</P
><P
>NB: don't try to check a file system that's mounted read/writethis includes
the root partition, if you don't see 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> VFS: mounted root
... read-only</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>at boot time.
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="ppp-connection-dies-when-sending"
></A
><B
>Q: </B
>Why Do FTP Transfers Seem to Hang?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>FTP transfers that die suddenly are due, apparently,
to some form of overrunning buffer. 
It occurs both with Linux and Microsoft servers. On Linux systems, the problem seems to occur 
most commonly with the distribution's server software. 
</P
><P
>If you receive <TT
CLASS="literal"
>ftp: connection refused</TT
> errors, then the problem
is likely due to a lack of authentication. 
Refer to <A
HREF="troubleshooting.html#ftp-wont-login"
><I
>Why Won't My FTP or Telnet Server Allow Logins?</I
></A
>. 
</P
><P
>One remedy is to be replacing the distribution FTP server with the Linux port of
the OpenBSD FTP server. The home page is: 
<A
HREF="http://www.eleves.ens.fr:8080/home/madore/programs/"
TARGET="_top"
><I
CLASS="citetitle"
>http://www.eleves.ens.fr:8080/home/madore/programs/</I
></A
>. 
</P
><P
>To install the BSD server, follow the installation
instructions, and refer to the manual pages for <TT
CLASS="filename"
>inetd</TT
> 
and <TT
CLASS="filename"
>inetd.conf</TT
>. (If you have the newer <TT
CLASS="filename"
>xinetd</TT
>, see below.) 
Be sure to tell <TT
CLASS="filename"
>inetd</TT
> to run the BSD daemon alone, not as a subprocess 
of, for example, <TT
CLASS="filename"
>tcpd</TT
>. Comment out the line that begins 
<TT
CLASS="literal"
>ftp</TT
> in the <TT
CLASS="filename"
>/etc/inetd.conf</TT
> file 
and replace it with a line similar to (if you install the new 
<TT
CLASS="filename"
>ftpd</TT
> in <TT
CLASS="filename"
>/usr/local/sbin/</TT
>): 
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
>&#13;# Original entry, commented out. #ftp stream tcp nowait root /usr/sbin/tcpd
/usr/sbin/in.ftpd

# Replacement entry: ftp stream tcp nowait root /usr/local/sbin/ftpd -l
</PRE
></FONT
></TD
></TR
></TABLE
><P
>The replacement daemon will become effective
after rebooting or sending (as root) a <TT
CLASS="literal"
>SIGHUP</TT
> to 
<TT
CLASS="literal"
>inetd</TT
>, e.g.: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> # kill -HUP inetd</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>To configure <TT
CLASS="filename"
>xinetd</TT
>, create an entry in <TT
CLASS="filename"
>/etc/xinetd.d</TT
> per the instructions in the
<TT
CLASS="filename"
>xinetd.conf</TT
> manual page. Make sure, again, that the 
command-line arguments for <TT
CLASS="filename"
>ftpd</TT
> are correct, and that 
you have installed the <TT
CLASS="filename"
>/etc/ftpusers</TT
> and 
<TT
CLASS="filename"
>/etc/pam.d/ftp</TT
> files. Then restart <TT
CLASS="filename"
>xinetd</TT
> with the command: 
<TT
CLASS="literal"
>/etc/rc.d/init.d/xinetd restart</TT
>. The command should report 
"OK," and the restart will be noted in the system message log. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="free-dumps-core"
></A
><B
>Q: </B
>Why Does Free Dump Core?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>In Linux 1.3.57 and later, the format of <TT
CLASS="filename"
>/proc/meminfo</TT
> was changed in a way that the
implementation of <SPAN
CLASS="application"
>free</SPAN
> doesn't understand. 
</P
><P
>Get the latest version, from metalab.unc.edu, in
<TT
CLASS="filename"
>/pub/Linux/system/Status/ps/procps-0.99.tgz</TT
>. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="netscape-crashes"
></A
><B
>Q: </B
>Why Does Netscape Crash Frequently?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>Netscape shouldn't crash, if it and the network are properly configured. Some things to check:
</P
><P
></P
><UL
><LI
><P
>Make sure that the <TT
CLASS="literal"
>MOZILLA_HOME</TT
>
environment variable is correctly set. If you installed Netscape under 
<TT
CLASS="filename"
>/usr/local/netscape/</TT
>, for example, that should be the 
value of <TT
CLASS="literal"
>MOZILLA_HOME</TT
>. Set it from the command line (e.g, 
"<TT
CLASS="literal"
>export MOZILLA_HOME="/usr/local/netscape"</TT
>" under 
<B
CLASS="command"
>bash</B
> or add it to one your personal or system 
initialization files. Refer to the manual page for your shell for details. 
</P
></LI
><LI
><P
>If you have a brand-new version of
Netscape, try a previous version, in case the run-time libraries are slightly 
incompatible. For example, if Netscape version 4.75 is installed (type 
"<TT
CLASS="literal"
>netscape --version</TT
>" at the shell prompt), try 
installing version 4.7. All versions are archived at <A
HREF="ftp://ftp.netscape.com/"
TARGET="_top"
><I
CLASS="citetitle"
>ftp://ftp.netscape.com/</I
></A
>. 
</P
></LI
><LI
><P
>Netscape uses its own Motif and Java Runtime Environment
libraries. If a separate version of either is installed on your system, 
ensure that they aren't interfering with Netscape's libraries; e.g., by 
un-installing them. 
</P
></LI
><LI
><P
>Make sure that Netscape can connect to its default name servers. The program will appear to
freeze and time out after several minutes if it can't. This indicates a 
problem with the system's Internet connection; likely, the system can't 
connect to other sites, either. 
</P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="ftp-wont-login"
></A
><B
>Q: </B
>Why Won't My FTP or Telnet Server Allow Logins?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>This applies to server daemons that respond to
clients, but don't allow logins. On new systems that have Pluggable 
Authentication Modules installed, look for a file named, 
"<TT
CLASS="filename"
>ftp</TT
>," or "<TT
CLASS="filename"
>telnet</TT
>," in the directory <TT
CLASS="filename"
>/etc/pam/</TT
> or <TT
CLASS="filename"
>/etc/pam.d/</TT
>. 
If the corresponding authentication file doesn't exist, the instructions for 
configuring FTP and Telnet authentication and other PAM configuration, should 
be in <TT
CLASS="filename"
>/usr/doc/pam-&#38;version&#38;</TT
>. Refer also to the answer for 
<A
HREF="error-messages.html#ftp-421-error"
><I
>FTP server says: "421 service not available, remote server has closed connection."</I
></A
>. 
</P
><P
>If it's an FTP server on an older system, make sure that the account exists in
<TT
CLASS="filename"
>/etc/passwd</TT
>, especially <TT
CLASS="literal"
>anonymous</TT
>. 
</P
><P
>This type of problem may also be caused a failure to resolve the host addresses properly, especially
if using Reverse Address Resolution Protocol (RARP). The simple answer to 
this is to list all relevant host names and IP addresses in the 
<TT
CLASS="filename"
>/etc/hosts</TT
> files on each machine. ( Refer to the example 
<TT
CLASS="filename"
>/etc/hosts</TT
> and <TT
CLASS="filename"
>/etc/resolv.conf</TT
> 
files in <A
HREF="tips.html#sendmail-pause"
><I
><I
>Sendmail</I
> Pauses for Up to a Minute at Each Command</I
></A
>. 
If the network has an internal DNS, make sure that each host can resolve network 
addresses using it. 
</P
><P
>If the host machine doesn't respond to FTP
or Telnet clients at all, then the server daemon is not installed correctly, 
or at all. Refer to the manual pages: <TT
CLASS="literal"
>inetd</TT
> and 
<TT
CLASS="literal"
>inetd.conf</TT
> on older systems, or <TT
CLASS="literal"
>xinetd</TT
> 
and <TT
CLASS="literal"
>xinetd.conf</TT
>, as well as <TT
CLASS="literal"
>ftpd</TT
>, and 
<TT
CLASS="literal"
>telnetd</TT
>. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="track-of-bookmarks-netscape"
></A
><B
>Q: </B
>How Do I Keep Track of Bookmarks in Netscape?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>This probably applies to most
other browsers, too. In the Preferences/Navigator menu, set your home page to 
Netscape's <TT
CLASS="filename"
>bookmarks.html</TT
> file, which is located in the 
<TT
CLASS="filename"
>.netscape</TT
> (with a leading period) subdirectory. For 
example, if your login name is <TT
CLASS="literal"
>smith</TT
>, set the home 
page to: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> file://home/smith/.netscape/bookmarks.html</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>Setting up your personal home page like this will
present you with a nicely formatted (albeit possibly long) page of bookmarks 
when Netscape starts. And the file is automatically updated whenever you add, 
delete, or visit a bookmarked site. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="computer-has-wrong-time"
></A
><B
>Q: </B
>Why Does the Computer Have the Wrong Time?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>There are two clocks in your computer. The
hardware (CMOS) clock runs even when the computer is turned off, and is used 
when the system starts up and by DOS (if you use DOS). The ordinary system 
time, shown and set by <B
CLASS="command"
>date</B
>, is maintained by the kernel 
while Linux is running. 
</P
><P
>You can display the CMOS clock time,
or set either clock from the other, with <TT
CLASS="filename"
>/sbin/clock</TT
> 
(now called <B
CLASS="command"
>hwclock</B
> in many distributions). Refer to: 
<TT
CLASS="literal"
>man 8 clock</TT
> or <TT
CLASS="literal"
>man 8 hwclock</TT
>. 
</P
><P
>There are various other programs that can correct either or both
clocks for system drift or transfer time across the network. Some of them may 
already be installed on your system. Try looking for 
<B
CLASS="command"
>adjtimex</B
> (corrects for drift), Network Time Protocol 
clients like <B
CLASS="command"
>netdate</B
>, <B
CLASS="command"
>getdate</B
>, and 
<B
CLASS="command"
>xntp</B
>, or NTP client-server suite like 
<B
CLASS="command"
>chrony</B
>. 
Refer to <A
HREF="app-management.html#ported-compiled-written-xxx"
><I
>How Do I Find a Particular Application?</I
></A
>. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="setuid-scripts-dont-work"
></A
><B
>Q: </B
>Why Don't Setuid Scripts Work?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>They aren't supposed to. This feature has been
disabled in the Linux kernel on purpose, because setuid scripts are almost 
always a security hole. <SPAN
CLASS="application"
>Sudo</SPAN
> and 
<SPAN
CLASS="application"
>SuidPerl</SPAN
> can provide more security than setuid 
scripts or binaries, especially if execute permissions are limited to a 
certain user ID or group ID. 
</P
><P
>If you want to know why setuid scripts are a security hole, read the FAQ for
<A
HREF="news:comp.unix.questions"
TARGET="_top"
><I
CLASS="citetitle"
>news:comp.unix.questions</I
></A
>. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="free-memory-keeps-shrinking"
></A
><B
>Q: </B
>Why Is Free Memory as Reported by <B
CLASS="command"
>free</B
> Shrinking?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>The "<TT
CLASS="literal"
>free</TT
>" figure printed by <B
CLASS="command"
>free</B
> doesn't
include memory used as a disk buffer cacheshown in the 
<TT
CLASS="literal"
>buffers</TT
> column. If you want to know how much memory is 
really free add the <TT
CLASS="literal"
>buffers</TT
> amount to 
<TT
CLASS="literal"
>free</TT
>. Newer versions of <B
CLASS="command"
>free</B
> print 
an extra line with this info. 
</P
><P
>The disk buffer cache tends to
grow soon after starting Linux up. As you load more programs and use more 
files, the contents get cached. It will stabilize after a while. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="add-memory-system-slows"
></A
><B
>Q: </B
>Why Does the System Slow to a Crawl When Adding More Memory?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>This is a common symptom of a failure to cache the additional memory.
The exact problem depends on your motherboard. 
</P
><P
>Sometimes you have to enable caching of
certain regions in your BIOS setup. Look in the CMOS setup and see if there 
is an option to cache the new memory area which is currently switched off. 
This is apparently most common on a '486. 
</P
><P
>Sometimes the RAM has to be in certain sockets to be cached.
</P
><P
>Sometimes you have to set jumpers to enable caching.
</P
><P
>Some motherboards don't cache all of the RAM if you have more RAM per amount of cache than the
hardware expects. Usually a full 256K cache will solve this problem. 
</P
><P
>If in doubt, check the manual. If you still can't fix it because the
documentation is inadequate, you might like to post a message to 
<A
HREF="news:comp.os.linux.hardware"
TARGET="_top"
><I
CLASS="citetitle"
>news:comp.os.linux.hardware</I
></A
> giving all of the details make, 
model number, date code, etc., so other Linux users can avoid it. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="some-programs-wont-log-in"
></A
><B
>Q: </B
>Why Won't Some Programs (e.g., <B
CLASS="command"
>xdm</B
>) Allow Logins?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You are probably using non-shadow password programs and are using shadow passwords.
</P
><P
>If so, you have to get or compile a shadow password version of
the programs in question. The shadow password suite can be found at 
<A
HREF="ftp://tsx-11.mit.edu/pub/linux/sources/usr.bin/shadow/"
TARGET="_top"
><I
CLASS="citetitle"
>ftp://tsx-11.mit.edu/pub/linux/sources/usr.bin/shadow/</I
></A
>. This is the source code. 
The binaries are probably in <TT
CLASS="filename"
>linux/binaries/usr.bin/</TT
>. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="log-in-with-no-password"
></A
><B
>Q: </B
>Why Do Some Programs Allow Logins with No Password?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You probably have the same problem as in <A
HREF="troubleshooting.html#some-programs-wont-log-in"
><I
>Why Won't Some Programs (e.g., <I
>xdm</I
>) Allow Logins?</I
></A
>,
with an added wrinkle. 
</P
><P
>If you are using shadow passwords, you should put a letter
<TT
CLASS="literal"
>x</TT
> or an asterisk in the password field of 
<TT
CLASS="filename"
>/etc/passwd</TT
> for each account, so that if a program 
doesn't know about the shadow passwords it won't think it's a passwordless 
account and let anyone in. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="machine-runs-very-slowly-when"
></A
><B
>Q: </B
>Why Does the Machine Run Very Slowly with GCC / X / ...?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You may have too little real memory. If you have less RAM than all the programs you're running at
once, Linux will swap to your hard disk instead and thrash horribly. The 
solution in this case is to not run so many things at once or buy more 
memory. You can also reclaim some memory by compiling and using a kernel with 
fewer options configured. 
See <A
HREF="development.html#upgrade-recompile-kernel"
><I
>How To Upgrade/Recompile a Kernel</I
></A
>. 
</P
><P
>You can tell how much memory and swap you're using with the free command,
or by typing: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ cat /proc/meminfo</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>If your kernel is configured with a RAM disk, this is probably wasted space and will cause
things to go slowly. Use LILO or rdev to tell the kernel not to allocate a 
RAM disk (see the LILO documentation or type <TT
CLASS="literal"
>man rdev</TT
>). 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="can-only-log-in-as-root"
></A
><B
>Q: </B
>Why Does My System Only Allow Root Logins?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You probably have some permission problems, or you have a file <TT
CLASS="filename"
>/etc/nologin</TT
>.
</P
><P
>In the latter case, put <TT
CLASS="literal"
>rm -f /etc/nologin</TT
> in your
<TT
CLASS="filename"
>/etc/rc.local</TT
> or <TT
CLASS="filename"
>/etc/rc.d/*</TT
> scripts. 
</P
><P
>Otherwise, check the permissions on your shell, and
any file names that appear in error messages, and also the directories that 
contain these files, up to and including the root directory. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="screen-is-all-full-of-weird"
></A
><B
>Q: </B
>Why Is the Screen Is All Full of Weird Characters Instead of Letters?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You probably sent some binary data to your screen by mistake.
Type <TT
CLASS="literal"
>echo 'c'</TT
> to fix it. 
Many Linux distributions have a command, 
<B
CLASS="command"
>reset</B
>, that does this. 
</P
><P
>If that doesn't help, try a direct screen escape command:
<TT
CLASS="literal"
>echo '<B
CLASS="keycap"
>Ctrl</B
>-<B
CLASS="keycap"
>V</B
> 
<B
CLASS="keycap"
>Ctrl</B
>-<B
CLASS="keycap"
>O</B
>'</TT
>. 
</P
><P
>This resets the default font of a Linux console.
Remember to hold down the Control key and type the letter, instead of, for 
example, <B
CLASS="keycap"
>Ctrl</B
>, then 
<B
CLASS="keycap"
>V</B
>. 
The sequence <B
CLASS="keycap"
>Ctrl</B
>-<B
CLASS="keycap"
>V</B
> 
<B
CLASS="keycap"
>Esc</B
> <B
CLASS="keycap"
>C</B
>. 
</P
><P
>causes a full screen reset. If there's data left on the shell command line after
typing a binary file, press 
<B
CLASS="keycap"
>Ctrl</B
>-<B
CLASS="keycap"
>C</B
> a few times to 
restore the shell command line. 
</P
><P
>Another possible command is an alias, <TT
CLASS="literal"
>sane</TT
>, that can work with generic terminals:
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ alias sane='echo -e " c";tput is2;
&#62; stty sane line 1 rows $LINES columns $COLUMNS'</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>The alias is enclosed with open quotes (backticks), not single quotes. The line break is included
here for clarity, and is not required. 
</P
><P
>Make sure that <TT
CLASS="literal"
>$LINES</TT
> and <TT
CLASS="literal"
>$COLUMNS</TT
> are defined in the
environment with a command similar to this in <TT
CLASS="filename"
>~/.cshrc</TT
> 
or <TT
CLASS="filename"
>~/.bashrc</TT
>, 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ LINES=25; export $LINES; $COLUMNS=80; export $COLUMNS</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>using the correct numbers of <TT
CLASS="literal"
>$LINES</TT
> and <TT
CLASS="literal"
>$COLUMNS</TT
>
for the terminal. 
</P
><P
>Finally, the output of <B
CLASS="command"
>stty -g</B
> can be used to create a shell script
that will reset the terminal: 
</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Save the output of <B
CLASS="command"
>stty -g</B
> to a file. In this example, the file is named <TT
CLASS="filename"
>termset</TT
>:
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ stty -g &#62;termset </PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>The output of <B
CLASS="command"
>stty -g</B
> (the contents of <TT
CLASS="filename"
>termset</TT
>)
will look something like: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> 500:5:bd:8a3b:3:1c:7f:15:4:0:1:0:11:13:1a:0:12:f:17:16:0:0:73</PRE
></FONT
></TD
></TR
></TABLE
>
</P
></LI
><LI
><P
>Edit <TT
CLASS="filename"
>termset</TT
> to become a shell script; adding an
interpreter and <B
CLASS="command"
>stty</B
> command: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> #!/bin/bash stty 500:5:bd:8a3b:3:1c:7f:15:4:0:1:0:11:13:1a:0:12:f:17:16:0:0:73</PRE
></FONT
></TD
></TR
></TABLE
>
</P
></LI
><LI
><P
>Add executable permissions to <B
CLASS="command"
>termset</B
> and use as a shell script:
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ chmod +x termset $ ./termset</PRE
></FONT
></TD
></TR
></TABLE
>
</P
></LI
></OL
><P
>[Floyd L. Davidson, Bernhard Gabler]
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="screwed-up-system-and-cant-log-in"
></A
><B
>Q: </B
>If I Screwed Up the System and Can't Log In, How Can I Fix It?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>You did create an emergency floppy (or floppies), right?
Reboot from an emergency floppy or floppy pair. 
For example, the Slackware boot and root disk pair in the install 
subdirectory of the Slackware distribution. 
</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>There are also two, do-it-yourself rescue disk creation packages in
<A
HREF="ftp://metalab.unc.edu/pub/Linux/system/recovery/"
TARGET="_top"
><I
CLASS="citetitle"
>ftp://metalab.unc.edu/pub/Linux/system/recovery/</I
></A
>. 
These are better because they have your own kernel on them, so you don't run 
the risk of missing devices and file systems. 
</P
><P
>Get to a shell prompt and mount your hard disk with something like
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ mount -t ext2 /dev/hda1 /mnt</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>Then your file system is available under the directory <TT
CLASS="filename"
>/mnt</TT
> and you can fix the
problem. Remember to unmount your hard disk before rebooting 
(<B
CLASS="command"
>cd</B
> somewhere else first, or it will say it's busy). 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="forgot-root-password"
></A
><B
>Q: </B
>What if I Forget the <TT
CLASS="literal"
>root</TT
> Password?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/warning.gif"
HSPACE="5"
ALT="Warning"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Incorrectly editing any of the files in the <TT
CLASS="filename"
>/etc/</TT
>directory can
severely screw up a system. Please keep a spare copy of any files in case you 
make a mistake.</TD
></TR
></TABLE
></DIV
> 
</P
><P
>If your Linux distribution permits,
try booting into single-user mode by typing <TT
CLASS="literal"
>single</TT
> at 
the <TT
CLASS="literal"
>BOOT lilo:</TT
> prompt. With more recent distributions, you 
can boot into single-user mode when prompted by typing <TT
CLASS="literal"
>linux 
1</TT
>, <TT
CLASS="literal"
>linux single</TT
>, or 
<TT
CLASS="literal"
>init=/bin/bash</TT
>. 
</P
><P
>If the above doesn't work for you, boot from the installation or rescue floppy,
and switch to another virtual console with 
<B
CLASS="keycap"
>Alt</B
>-<B
CLASS="keycap"
>F1</B
> -- 
<B
CLASS="keycap"
>Alt</B
>-<B
CLASS="keycap"
>F8</B
>, and then mount 
the root file system on <TT
CLASS="literal"
>/mnt</TT
>. Then proceed with the steps 
below to determine if your system has standard or shadow passwords, and how 
to remove the password. 
</P
><P
>Using your favorite text editor, edit
the root entry of the <TT
CLASS="filename"
>/etc/passwd</TT
> file to remove the 
password, which is located between the first and second colons. '''Do 
this only if the password field does not contain an <TT
CLASS="literal"
>x</TT
>, 
in which case see below.''' 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> root:Yhgew13xs:0:0: ...</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>Change that to:
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> root::0:0: ...</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>If the password field contains an <TT
CLASS="literal"
>x</TT
>, then you must remove the password from
the <TT
CLASS="filename"
>/etc/shadow</TT
> file, which is in a similar format. 
Refer to the manual pages: <TT
CLASS="literal"
>man passwd</TT
>, and 
<TT
CLASS="literal"
>man 5 shadow</TT
>. 
</P
><P
>[Paul Colquhuon, Robert Kiesling, Tom Plunket]
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="a-security-hole-in-rm"
></A
><B
>Q: </B
>What's This Huge Security Hole in <B
CLASS="command"
>rm</B
>!?!?!</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>No there isn't. You are obviously new to unices and need to read a good book to find out how things work. Clue: the ability to delete files depends on permission to write
in that directory. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="lpr-andor-lpd-dont-work"
></A
><B
>Q: </B
>Why Don't <B
CLASS="command"
>lpr</B
> and/or <B
CLASS="command"
>lpd</B
> Work?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>First make sure that your <TT
CLASS="filename"
>/dev/lp*</TT
> port is correctly
configured. Its IRQ (if any) and port address need to match the settings on 
the printer card. You should be able to dump a file directly to the printer: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ cat the_file &#62;/dev/lp1</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>If <B
CLASS="command"
>lpr</B
> gives you a message like <TT
CLASS="literal"
>myname@host: host
not found</TT
>" it may mean that the TCP/IP loopback interface, 
<TT
CLASS="literal"
>lo</TT
>, isn't working properly. Loopback support is compiled 
into most distribution kernels. Check that the interface is configured with 
the ifconfig command. By Internet convention, the network number is 
127.0.0.0, and the local host address is 127.0.0.1. If everything is 
configured correctly, you should be able to telnet to your own machine and 
get a login prompt. 
</P
><P
>Make sure that <TT
CLASS="filename"
>/etc/hosts.lpd</TT
> contains the machine's host name.
</P
><P
>If your machine has a network-aware <B
CLASS="command"
>lpd</B
>, like the
one that comes with LPRng, make sure that <TT
CLASS="filename"
>/etc/lpd.perms</TT
> 
is configured correctly. 
</P
><P
>Also look at the <I
CLASS="citetitle"
>Printing HOWTO</I
>. "Where can I get the
HOWTO's and other documentation? ". 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="timestamps-on-files-are-incorrectly"
></A
><B
>Q: </B
>Why Are the Timestamps on Files on MS-DOS Partitions Set Incorrectly?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>There is a bug in the program <B
CLASS="command"
>clock</B
> (often found in
<TT
CLASS="filename"
>/sbin</TT
>). It miscounts a time zone offset, confusing 
seconds with minutes or something like that. Get a recent version. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="root-file-system-read-only"
></A
><B
>Q: </B
>Why is My Root File System Read-Only?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>To understand how you got into this state, see
<A
HREF="error-messages.html#ext2-fs-warning-mounting"
><I
><I
>EXT2-fs: warning: mounting unchecked file system</I
></I
></A
>. 
</P
><P
>Remount it. If <TT
CLASS="filename"
>/etc/fstab</TT
> is correct, you can simply type:
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> mount -n -o remount /</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>If <TT
CLASS="filename"
>/etc/fstab</TT
> is wrong, you must give the device name and possibly
the type, too: e.g. 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>mount -n -o remount -t ext2 /dev/hda2 /</PRE
></FONT
></TD
></TR
></TABLE
>
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="huge-proc-kcore"
></A
><B
>Q: </B
>What Is <TT
CLASS="filename"
>/proc/kcore</TT
>?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>None of the files in <TT
CLASS="filename"
>/proc</TT
> are really therethey're all, "pretend," files
made up by the kernel, to give you information about the system and don't 
take up any hard disk space. 
</P
><P
><TT
CLASS="filename"
>/proc/kcore</TT
> is like an "alias" for the memory in your computer.
Its size is the same as the amount of RAM you have, and if you read it as a file, 
the kernel does memory reads. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="fdformat-except-as-root"
></A
><B
>Q: </B
>Why Does <B
CLASS="command"
>fdformat</B
> Require Superuser Privileges?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>The system call to format a floppy can only be done as root, regardless of the
permissions of <TT
CLASS="filename"
>/dev/fd0*</TT
>. If you want any user to be 
able to format a floppy, try getting the <B
CLASS="command"
>fdformat2</B
> 
program. This works around the problems by being setuid to root. 
</P
></DIV
></DIV
><DIV
CLASS="qandaentry"
><DIV
CLASS="question"
><P
><A
NAME="upgraded-kernel-pcmcia-doesnt-work"
></A
><B
>Q: </B
>Why Doesn't My PCMCIA Card Work after Upgrading the Kernel?</P
></DIV
><DIV
CLASS="answer"
><P
><B
>A: </B
>The PCMCIA Card Services modules, which are located in
<TT
CLASS="filename"
>/lib/modules/</TT
><EM
>version</EM
><TT
CLASS="filename"
>/pcmcia</TT
>, 
where <EM
>version</EM
> is the version number of the kernel, use 
configuration information that is specific to that kernel image only. The 
PCMCIA modules on your system will not work with a different kernel image. 
You need to upgrade the PCMCIA card modules when you upgrade the kernel. 
</P
><P
>When upgrading from older kernels, make sure that you have the
most recent version of the run-time libraries, the modutils package, and so 
on. Refer to the file <TT
CLASS="filename"
>Documentation/Changes</TT
> in the 
kernel source tree for details. 
</P
><P
>Important: If you use the
PCMCIA Card Services, do not enable the <TT
CLASS="literal"
>Network device 
support/Pocket and portable adapters</TT
> option of the kernel 
configuration menu, as this conflicts with the modules in Card Services. 
</P
><P
>Knowing the PCMCIA module dependencies of the old kernel is
useful. You need to keep track of them. For example, if your PCMCIA card 
depends on the serial port character device being installed as a module for 
the old kernel, then you need to ensure that the serial module is available 
for the new kernel and PCMCIA modules as well. 
</P
><P
>The procedure described here is somewhat kludgey, but it is much easier than re-calculating
module dependencies from scratch, and making sure the upgrade modules get 
loaded so that both the non-PCMCIA and PCMCIA are happy. Recent kernel 
releases contain a myriad of module options, too many to keep track of 
easily. These steps use the existing module dependencies as much as possible, 
instead of requiring you to calculate new ones. 
</P
><P
>However, this procedure does not take into account instances where module dependencies are
incompatible from one kernel version to another. In these cases, you'll need 
to load the modules yourself with insmod, or adjust the module dependencies 
in the <TT
CLASS="filename"
>/etc/conf.modules</TT
> file. The 
<TT
CLASS="filename"
>Documentation/modules.txt</TT
> file in the kernel source tree 
contains a good description of how to use the kernel loadable modules and the 
module utilities like <B
CLASS="command"
>insmod</B
>, <B
CLASS="command"
>modprobe</B
>, 
and <B
CLASS="command"
>depmod</B
>. <TT
CLASS="filename"
>Modules.txt</TT
> also contains 
a recommended procedure for determining which features to include in a 
resident kernel, and which to build as modules. 
</P
><P
>Essentially, you need to follow these steps when you install a new kernel.
</P
><P
></P
><UL
><LI
><P
>Before building the new kernel, make a record
with the <B
CLASS="command"
>lsmod</B
> command of the module dependencies that 
your system currently uses. For example, part of the <B
CLASS="command"
>lsmod</B
> 
output might look like this: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13; Module         Pages            Used by
 memory_cs      2                0
 ds             2                [memory_cs]  3
 i82365         4                2
 pcmcia_core    8                [memory_cs ds i82365] 3
 sg             1                0
 bsd_comp       1                0
 ppp            5                [bsd_comp] 0
 slhc           2                [ppp] 0
 serial         8                0
 psaux          1                0
 lp             2                0
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>This tells you for example that the <TT
CLASS="filename"
>memory_cs</TT
> module needs the ds and
<TT
CLASS="filename"
>pcmcia_core</TT
> modules loaded first. What it doesn't say is 
that, in order to avoid recalculating the module dependencies, you may also 
need to have the <TT
CLASS="filename"
>serial</TT
>, <TT
CLASS="filename"
>lp</TT
>, <TT
CLASS="filename"
>psaux</TT
>, and other standard modules available to prevent 
errors when installing the pcmcia routines at boot time with 
<B
CLASS="command"
>insmod</B
>. A glance at the <TT
CLASS="filename"
>/etc/modules</TT
> 
file will tell you what modules the system currently loads, and in what 
order. Save a copy of this file for future reference, until you have 
successfully installed the new kernel's modules. Also save the 
<B
CLASS="command"
>lsmod</B
> output to a file, for example, with the command: 
<B
CLASS="command"
>lsmod &#62;lsmod.old-kernel.output</B
>. 
</P
></LI
><LI
><P
>Build the new kernel, and install the boot image, either
<TT
CLASS="filename"
>zImage</TT
> or <TT
CLASS="filename"
>bzImage</TT
>, to a floppy 
diskette. To do this, change to the <TT
CLASS="filename"
>arch/i386/boot</TT
> 
directory (substitute the correct architecture directory if you don't have an 
Intel machine), and, with a floppy in the diskette drive, execute the 
command: 
</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> $ dd if=bzImage of=/dev/fd0 bs=512</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>if you built the kernel with the <B
CLASS="command"
>make
bzImage</B
> command, and if your floppy drive is 
<TT
CLASS="filename"
>/dev/fd0</TT
>. This results in a bootable kernel image being 
written to the floppy, and allows you to try out the new kernel without 
replacing the existing one that LILO boots on the hard drive. 
</P
></LI
><LI
><P
>Boot the new kernel from the floppy to make sure that it works.
</P
></LI
><LI
><P
>With the system running the new kernel, compile and install a current version of the PCMCIA
Card Services package, available from metalab.unc.edu as well as other Linux 
archives. Before installing the Card Services utilities, change the names of 
<TT
CLASS="filename"
>/sbin/cardmgr</TT
> and <TT
CLASS="filename"
>/sbin/cardctl</TT
> to <TT
CLASS="filename"
>/sbin/cardmgr.old</TT
> and 
<TT
CLASS="filename"
>/sbin/cardctl.old</TT
>. The old versions of these utilities 
are not compatible with the replacement utilities that Card Services 
installs. In case something goes awry with the installation, the old 
utilities won't be overwritten, and you can revert to the older versions if 
necessary. When configuring Card Services with the <TT
CLASS="literal"
>make 
config</TT
> command, make sure that the build scripts know where to 
locate the kernel configuration, either by using information from the running 
kernel, or telling the build process where the source tree of the new kernel 
is. The <TT
CLASS="literal"
>make config</TT
> step should complete without 
errors. Installing the modules from the Card Services package places them in 
the directory <TT
CLASS="filename"
>/lib/modules/</TT
><EM
>version</EM
><TT
CLASS="filename"
>/pcmcia</TT
>, 
where <EM
>version</EM
> is the version number of the new kernel. 
</P
></LI
><LI
><P
>Reboot the system, and note which, if
any, of the PCMCIA devices work. Also make sure that the non-PCMCIA hardware 
devices are working. It's likely that some or all of them won't work. Use 
<B
CLASS="command"
>lsmod</B
> to determine which modules the kernel loaded at boot 
time, and compare it with the module listing that the old kernel loaded, 
which you saved from the first step of the procedure. (If you didn't save a 
listing of the <B
CLASS="command"
>lsmod</B
> output, go back and reboot the old 
kernel, and make the listing now.) 
</P
></LI
><LI
><P
>When all modules are properly loaded, you can replace the old kernel image on the
hard drive. This will most likely be the file pointed to by the 
<TT
CLASS="filename"
>/vmlinuz</TT
> symlink. Remember to update the boot sector by 
running the <B
CLASS="command"
>lilo</B
> command after installing the new kernel 
image on the hard drive. 
</P
></LI
><LI
><P
>Also look at the questions, How do I upgrade/recompile my kernel? and Modprobe can't
locate module, "XXX," and similar messages. 
</P
></LI
></UL
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="networking.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="development.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Connecting To A Network</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Software Development</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>