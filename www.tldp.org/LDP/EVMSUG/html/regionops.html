<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Region operations</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="EVMS User Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="The LVM2 plug-in"
HREF="appxlvm2.html"><LINK
REL="PREVIOUS"
TITLE="Container operations"
HREF="contops.html"><LINK
REL="NEXT"
TITLE="The CSM plug-in"
HREF="appxcsm.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>EVMS User Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="contops.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix D. The LVM2 plug-in</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="appxcsm.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="regionops"
></A
>D.2. Region operations</H1
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4954"
></A
>D.2.1. Creating LVM2 regions</H2
><P
>You create LVM2 regions from the freespace in LVM2 containers.
If there is at least one extent of freespace in the container, you can create a new region.</P
><P
>The following options are available for creating LVM2 regions:</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>name</DT
><DD
><P
>The name of the new region.</P
></DD
><DT
>size</DT
><DD
><P
>The size of the new region.  This size must be a multiple of the
container's extent-size.  If it isn't, the size will be rounded down as appropriate.
By default, all of the available freespace in the container will be used for the new region.</P
></DD
><DT
>stripes</DT
><DD
><P
>If the container consumes two or more objects, and each object has unallocated
extents, then the new region can be striped across multiple objects.  This is similar to
RAID-0 striping and achieves an increased amount of I/O throughput.  This option
specifies how many objects the new region should be striped across.  By default, new
regions are not striped, and this value is set to 1.</P
></DD
><DT
>stripe_size</DT
><DD
><P
>The granularity of striping.  The default value is 64 KB.  Use this option only if the
stripes option is greater than 1.</P
></DD
><DT
>pvs</DT
><DD
><P
>A list of names of the objects the new region should map to.  By default, this
list is empty, which means all available objects will be used to allocate space to the new region.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4979"
></A
>D.2.2. Expanding LVM2 regions</H2
><P
>You can expand an existing LVM region if there are any unused extents in the 
container.  The following options are available for expanding LVM regions.</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>size</DT
><DD
><P
>The amount of space to add to the region.  This is a delta-size,
not the new absolute size of the region.  As with creating new regions,
this size must be a multiple of the container's extent-size, and will be rounded
down if necessary.</P
></DD
><DT
>stripes</DT
><DD
><P
>The number of objects to stripe this new portion of the region across.
This value can be different than the number of stripes in the existing region.
For example, if the region was created originally with three stripes, but now only
two objects are available, then the new portion of the region could be striped
across just those two objects.  The number of stripes for the last mapping in the
region will be used as the default.</P
></DD
><DT
>stripe_size</DT
><DD
><P
>The granularity of striping. As with the number of stripes, this value
can be different than the stripe-size for the existing region.  By default, the
stripe-size of the last mapping in the region is used.</P
></DD
><DT
>pvs</DT
><DD
><P
>A list of names of the objects the region should be expanded onto.
By default, this list is empty, which means all available objects will be used to
allocate additional space for the region.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4999"
></A
>D.2.3. Shrinking LVM2 regions</H2
><P
>You can shrink an existing LVM region by removing extents from the end of
the region.  Regions must have at least one extent, so regions cannot be
shrunk to zero.</P
><P
>The following options are available when shrinking LVM regions.
Because regions are always shrunk by removing space from the end of the region,
a list of objects cannot be specified in this command.</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>size</DT
><DD
><P
>The amount of space to remove from the region.
This is a delta-size, not the new absolute size of the region.
As with creating and expanding regions, this size must be a multiple of
the container's extent-size, and will be rounded down if necessary.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN5008"
></A
>D.2.4. Deleting LVM2 regions</H2
><P
>You can delete an existing LVM region as long as it is not currently a
compatibility volume, an EVMS volume, or consumed by another EVMS plug-in.
No options are available for deleting LVM regions.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="renamereg2"
></A
>D.2.5. Renaming LVM2 regions</H2
><P
>You can rename an existing LVM2 region.  In the EVMS GUI and text-mode UIs, this
is done using the <B
CLASS="command"
>modify properties</B
> command, which is available through the "Actions"
menu or the context-sensitive pop-up menus.  In the EVMS CLI, this is done using the
<B
CLASS="command"
>set</B
> command.</P
><P
>If the renamed LVM2 region has a compatibility volume on it, then the name of that
compatibility volume will also change.  In order for this to work correctly, that volume must
be unmounted before the name is changed.  Also, be sure to update your
<TT
CLASS="filename"
>/etc/fstab</TT
> file if the volume is listed, or the volume won't be mounted properly the next
time the system boots.</P
><P
>If the renamed LVM2 region has an EVMS volume or another storage object built on it,
then the region's name change will be transparent to the upper layers.  In this case, the
rename can be done while the volume is mounted.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="contops.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="appxcsm.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Container operations</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="appxlvm2.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>The CSM plug-in</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>