<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Rolling back a snapshot</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="EVMS User Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Creating snapshots"
HREF="evmscreatesnap.html"><LINK
REL="PREVIOUS"
TITLE="Deleting a snapshot"
HREF="x1843.html"><LINK
REL="NEXT"
TITLE="Creating volumes"
HREF="evmscreatevol.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>EVMS User Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1843.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 11. Creating snapshots</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="evmscreatevol.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN1847"
></A
>11.7. Rolling back a snapshot</H1
><P
>Situations can arise where a user wants to restore the original volume to
the saved state of the snapshot.  This action is called a rollback.  One such scenario
is if the data on the original is lost or corrupted.  Snapshot rollback acts as a quick
backup and restore mechanism, and allows the user to avoid a more lengthy restore
operation from tapes or other archives.</P
><P
>Another situation where rollback can be particularly useful is when you are
testing new software.  Before you install a new software package, create a writeable
snapshot of the target volume.  You can then install the software to the snapshot
volume, instead of to the original, and then test and verify the new software on the
snapshot.  If the testing is successful, you can then roll back the snapshot to the
original and effectively install the software on the regular system.  If there is a problem
during the testing, you can simply delete the snapshot without harming the original
volume.</P
><P
>You can perform a rollback when the following conditions are met:
</P
><P
></P
><UL
><LI
><P
>&#13;Both the snapshot and the original volumes
are unmounted and otherwise not in use.  
</P
></LI
><LI
><P
>&#13;There is only a single snapshot of an original.</P
><P
>&#13;If an original has multiple snapshots,
all but the desired snapshot must be deleted before rollback can take place.
</P
></LI
></UL
><P
>No options are available for rolling back snapshots.</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN1859"
></A
>11.7.1. Using the EVMS GUI or Ncurses</H2
><P
>Follow these steps to roll back a snapshot with the EVMS GUI or Ncurses:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Select 
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Other</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Storage Object Tasks</SPAN
>+.+
+ </P
></LI
><LI
><P
>Select the object "snap."</P
></LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Next</SPAN
>.</P
></LI
><LI
><P
>Select <SPAN
CLASS="guibutton"
>Rollback</SPAN
></P
>.</LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Next</SPAN
>.</P
></LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Rollback</SPAN
> on the action panel.
</P
></LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Rollback</SPAN
> on the warning panel.
</P
></LI
></OL
><P
>Alternatively, you can perform these same steps with the context-sensitive menus:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>From the Feature Objects panel, right click (or press 
<B
CLASS="keycap"
>Enter</B
> on) the object "snap."</P
></LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Rollback</SPAN
> on the popup menu.</P
></LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Rollback</SPAN
> on the action panel.</P
></LI
><LI
><P
>Click or activate <SPAN
CLASS="guibutton"
>Rollback</SPAN
> on the warning panel.</P
></LI
></OL
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN1900"
></A
>11.7.2. Using the CLI</H2
><P
>Follow these steps to roll back a snapshot with the CLI:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Issue the following command to the CLI:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
>task:rollback,snap</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Press <B
CLASS="keycap"
>Enter</B
> to select "Rollback" (the default choice) at the warning message.</P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1843.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="evmscreatevol.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Deleting a snapshot</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="evmscreatesnap.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Creating volumes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>