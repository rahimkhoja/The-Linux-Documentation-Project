<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Container operations</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="EVMS User Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="The LVM2 plug-in"
HREF="appxlvm2.html"><LINK
REL="PREVIOUS"
TITLE="The LVM2 plug-in"
HREF="appxlvm2.html"><LINK
REL="NEXT"
TITLE="Region operations"
HREF="regionops.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>EVMS User Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="appxlvm2.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix D. The LVM2 plug-in</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="regionops.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="contops"
></A
>D.1. Container operations</H1
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4909"
></A
>D.1.1. Creating LVM2 containers</H2
><P
>Containers are created with an initial set of objects.
These objects can be disks, segments, or regions.  There are two options
available when creating an LVM2 container:</P
><P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>name</DT
><DD
><P
>The name of the new container.
</P
></DD
><DT
>extent_size</DT
><DD
><P
>The physical-extent (PE) size, which is the granularity with which regions
can be created.  The default is 32 MB.  Unlike the LVM1 plug-in, there is no
limitation to the number of extents that can be allocated to an LVM2 region.
</P
></DD
></DL
></DIV
></P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4922"
></A
>D.1.2. Adding objects to LVM2 containers</H2
><P
>You can add objects to existing LVM containers in order to increase
the pool of storage that is available for creating regions.
Because the name and extent-size are set when the container is created,
no options are available when you add new objects to a container.
Each object must be large enough to hold at least one physical extent.
If an object is not large enough to satisfy this requirement, the LVM2 plug-in
will not allow the object to be added to the container.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4925"
></A
>D.1.3. Removing objects from LVM2 containers</H2
><P
>You can remove a consumed object from its container as long as no regions
are mapped to that object.
The LVM2 plug-in does not allow objects that are in use to be removed from their
container.  If an object must be removed, you can delete or shrink regions, or
move extents, in order to free the object from use.</P
><P
>No options are available for removing objects from LVM containers.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4929"
></A
>D.1.4. Expanding consumed objects in LVM2 containers</H2
><P
>In addition to adding new objects to an LVM2 container, you can also expand
the space in a container by expanding one of the existing consumed objects (PVs).
For example, if a PV is a disk-segment with freespace immediately following it on
the disk, you can expand that segment, which will increase the amount of freespace
in the container.  Likewise, if a PV is a RAID-0 or RAID-5 region, you can expand
that region by adding additional objects, which in turn increases the freespace in the
container.</P
><P
>When using the GUI or text-mode UIs, PV-expand is performed by expanding
the container.  If any of the existing PVs are expandable, they will appear in the
expand-points list.  Choose the PV to expand, and then the options for expanding
that object.  After the PV has expanded, the container's freespace will reflect the
additional space available on that PV.</P
><P
>When using the CLI, PV-expand is performed by expanding the appropriate object
directly.  The CLI and the EVMS engine will route the necessary commands so the
container is expanded at the same time.</P
><P
>The options for expanding a PV are dependent on the plug-in that owns that PV object.
Please see the appropriate plug-in's appendix for more details on options for that object.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4935"
></A
>D.1.5. Shrinking consumed objects in LVM2 containers</H2
><P
>&#13;In addition to removing existing objects from an LVM2 container, you can
also reduce the size of a container by shrinking one of the existing
consumed objects (PVs).  This is only allowed if the consumed object
has physical extents (PEs) at the end of the object that are not allocated
to any LVM2 regions.  In this case, LVM2 will allow the object to
shrink by the number of unused PEs at the end of that object.
</P
><P
>&#13;For example, if a PV is a desk-segment, you can shrink that segment,
which will decrease the amount of freespace in the container.  Likewise,
if a PV is a RAID-0 or RAID-5 region, you can shrink that region by
removing one of the objects, which in turn decreases the freespace in
the container.
</P
><P
>&#13;When using the GUI or text-mode UIs, PV-shrink is performed by shrinking
the container.  If any of the existing PVs are shrinkable, they will
appear in the shrink-points list.  Choose the PV to shrink, and then the
options for shrinking that object.  After the PV has shrunk, the container's
freespace will reflect the reduced space available on that PV.
</P
><P
>&#13;When using the CLI, PV-shrink is performed by shrinking the appropriate
object directly.  The CLI and the EVMS engine will route the necessary
commands so the container is shrunk at the same time.
</P
><P
>&#13;The options for shrinking a PV are dependent on the plug-in that owns
that PV object.  Please see the appropriate plug-in's appendix for more
details on options for that object.
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4942"
></A
>D.1.6. Deleting LVM2 containers</H2
><P
>You can delete a container as long as the container does not have any produced
regions.
The LVM2 plug-in does not allow containers to be deleted if they have any regions.
No options are available for deleting LVM2 containers.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN4945"
></A
>D.1.7. Renaming LVM2 containers</H2
><P
>You can rename an existing LVM2 container.  
When renaming an LVM2 container,
all of the regions produced from that container will automatically have their names changed as
well, because the region names include the container name.
In the EVMS GUI and text-mode UIs, this is done using the 
<B
CLASS="command"
>modify properties</B
> command,
which is available through the "Actions" menu or the context-sensitive pop-up menus.
In the EVMS CLI, this is done using the <B
CLASS="command"
>set </B
>command.</P
><P
>See <A
HREF="regionops.html#renamereg2"
>Section D.2.5</A
> for more information about the effects of renaming the regions.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="appxlvm2.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="regionops.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>The LVM2 plug-in</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="appxlvm2.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Region operations</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>