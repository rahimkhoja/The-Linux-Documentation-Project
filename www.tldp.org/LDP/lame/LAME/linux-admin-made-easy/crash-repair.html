<HTML
><HEAD
><TITLE
>File System Corruption after Power Outage or System Crash</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.63
"><LINK
REL="HOME"
TITLE="Linux Administration Made Easy"
HREF="index.html"><LINK
REL="UP"
TITLE="Help!  Trouble in Paradise!"
HREF="trouble-in-paradise.html"><LINK
REL="PREVIOUS"
TITLE="Getting Linux Installed on new, Unsupported Hardware"
HREF="unsupported-tips.html"><LINK
REL="NEXT"
TITLE="Where to Turn for Help"
HREF="where-to-turn.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Administration Made Easy</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="unsupported-tips.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 13. Help!  Trouble in Paradise!</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="where-to-turn.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CRASH-REPAIR"
>13.2. File System Corruption after Power Outage or System Crash</A
></H1
><P
>Although Linux is a stable operating system, should it happen to
crash unexpectantly (perhaps due to a kernel bug, or perhaps due to a
power outage), your file system(s) will not have been unmounted and
therefore will be automatically checked for errors when Linux is
restarted.</P
><P
>Most of the time, any file system problems are minor ones caused by
file buffers not being written to the disk, such as deleted inodes still
marked in use.  In the majority of cases, the file system check will be
able to detect and repair such anomolies automatically, and upon completion
the Linux boot process will continue normally.</P
><P
>Should a file system problem be more severe (such problems tend to
be caused by faulty hardware such as a bad hard drive or memory chip;
something to keep in mind should file system corruption happen
frequently), the file system check may not be able to repair the problem
automatically.  This is usually, but not always, the case when the root
file system itself is corrupted.  In this case, the Red Hat boot process
will display an error message and drop you into a shell, allowing you to
attempt file system repairs manually.</P
><P
>As the recovery shell unmounts all file systems, and then mounts the
root file system <SPAN
CLASS="QUOTE"
>"read-only"</SPAN
>, you will be able to perform full
file system checks using the appropriate utilities.  Likely you will be
able to run e2fsck on the corrupted file system(s) which should hopefully
resolve all the problems found.</P
><P
>After you have (hopefully) repaired any file system problems, simply
exit the shell to have Linux reboot the system and attempt a subsequent
restart.</P
><P
>Naturally, to be prepared for situations such as a non-recoverable
file system problem, you should have one or more of the following things
available to you:</P
><P
></P
><UL
COMPACT="COMPACT"
><LI
><P
>The boot/root emergency disk set,
<EM
>AND/OR</EM
></P
></LI
><LI
><P
>The LILO emergency boot disk,
<EM
>AND</EM
></P
></LI
><LI
><P
>A recent backup copy of your important files -- just in
case!</P
></LI
></UL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="unsupported-tips.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="where-to-turn.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Getting Linux Installed on new, Unsupported Hardware</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="trouble-in-paradise.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Where to Turn for Help</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>