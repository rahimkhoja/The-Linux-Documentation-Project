<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Analysis</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Pocket Linux Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Checking and Mounting Disks"
HREF="phase4.html"><LINK
REL="PREVIOUS"
TITLE="Checking and Mounting Disks"
HREF="phase4.html"><LINK
REL="NEXT"
TITLE="Design"
HREF="x755.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Pocket Linux Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="phase4.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Checking and Mounting Disks</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x755.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN729"
></A
>5.1. Analysis</H1
><P
>In the previous chapter we added many new commands by installing
    coreutils and as a result the root disk has a lot more functionality. But
    there are still a few things lacking. One thing that really stands out is
    that there was no way to mount disks. In order to get a read-write root
    filesystem we had to resort to passing the <TT
CLASS="parameter"
><I
>rw</I
></TT
>
    kernel parameter at the <TT
CLASS="prompt"
>grub&#62;</TT
> prompt. This is fine for
    an emergency situation, but a normal system boot process should do things
    differently.</P
><P
>Most GNU/Linux distributions take several steps to mount
    filesystems. Watching the boot process or digging into the startup scripts
    on one of the popular Linux distributions reveals the following sequence
    of events:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>The kernel automatically mounts the root filesystem as
        read-only.</P
></LI
><LI
><P
>All local filesystems are checked for errors.</P
></LI
><LI
><P
>If filesystems are clean, root is remounted as
        read-write.</P
></LI
><LI
><P
>The rest of the local filesystems are mounted.</P
></LI
><LI
><P
>Network filesystems are mounted.</P
></LI
></OL
><P
>So far our Pocket Linux system can do step one and that is it. If we
    want to have a professional looking boot / root diskset we will have to do
    better than one out of five. In this phase of the project we will work on
    steps two and three. Steps four and five can wait. Since this is a
    diskette-based system, there really are no other filesystems to mount
    besides root.</P
><P
>Taking into account all of the above information, the goals for this
    phase are defined as follows:</P
><P
></P
><UL
><LI
><P
>A way to check filesystem integrity.</P
></LI
><LI
><P
>The ability to mount filesystems.</P
></LI
><LI
><P
>A script to automate checking and mounting of local
        filesystems.</P
></LI
></UL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="phase4.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x755.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Checking and Mounting Disks</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="phase4.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Design</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>