
<HTML>
<HEAD>
<TITLE>Device Drivers</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<h2>Device Drivers</h2>

<p>If you choose to write a device driver, you must take
everything written here as a guide, and no more.  I cannot
guarantee that this chapter will be free of errors, and I
cannot guarantee that you will not damage your computer, even
if you follow these instructions exactly.  It is highly
unlikely that you will damage it, but I cannot guarantee
against it.  There is only one ``infallible'' direction I can
give you: <b>Back up!</b> Back up before you test your new
device driver, or you may regret it later.

<dl>
<dt><A HREF="whatis.html">What is a Device Driver?</a>
<dd>What is this ``device driver'' stuff anyway?  Here's
a <b>very</b> short introduction to the concept.
<dt><A HREF="fake.html">User-space device drivers</a>
<dd>It's not always necessary to write a ``real'' device
driver.  Sometimes you just need to know how to write
code that runs as a normal user process and still accesses
hardware.
<dt><A HREF="basics.html">Device Driver Basics</a>
<dd>Assuming that you need to write a ``real'' device driver,
there are some things that you need to know regardless of
what type of driver you are writing.  In fact, you may need
to learn what type of driver you ought to write...
<dt><A HREF="char.html">Character Device Drivers</a>
<dd>This section includes details specific to character device
drivers, and assumes that you know everything in the previous section.
<dt>TTY drivers
<dd>This section hasn't been written yet.  TTY drivers are
character devices that interface with the kernel's generic TTY
support, and they require more than just a standard character
device interface.  I'd appreciate it if someone would write
up how to attach a character device driver to the generic
TTY layer and submit it to me for inclusion in this guide.
<dt><A HREF="block.html">Block Device Drivers</a>
<dd>This section includes details specific to block device drivers (suprise!)
<dt><A HREF="scsi.html">Writing a SCSI Device Driver</a>
<dd>This is a technical paper written by Rik Faith at the
University of North Carolina.
<dt><A HREF="../net/net-intro.html">Network Device Drivers</a>
<dd>Alan Cox gives an introduction to the network layer, including
device drivers.
<dt><A HREF="reference.html">Supporting Functions</a>
<dd>Many functions are useful to all sorts of drivers. Here is
a summary of quite a few of them.
<dt><A HREF="addrxlate.html">Translating Addresses in Kernel Space</a>
<dd>An edited version of a post of Linus Torvalds to the linux-kernel
mailing list about how to correctly deal with translating memory
references when writing kernel source code such as device drivers.
<dt><A HREF="exceptions.html">Kernel-Level Exception Handling</a>
<dd>An edited version of a post of Joerg Pommnitz to the linux-kernel
mailing list about how the new (Linux 2.1.8) exception mechanism
works.
</dl>

<h4>Other sources of information</h4><A name="other"></a>

<p>Quite a few other references are also available on the topic
of writing Linux device drivers by now. I put up some (slightly
outdated by now, but still worth reading, I think) notes for a
talk I gave in May 1995 entitled
<A href="../../../~johnsonm/devices.html">Writing
Linux Device Drivers</a>,
which is specifically oriented at character devices implemented
as kernel runtime-loadable modules.

<p><A href="http://www.ssc.com/lj"><i>Linux Journal</i></a> has
had a long-running series of articles called <b>Kernel Korner</b>
which, despite the wacky name, has had quite a bit of useful information
on it.  Some of the articles from that column may be available on
the web; most of them are available for purchase as back issues.
One particularly useful series of articles, which focussed in
far more detail than my 30 minute talk on the subject of kernel
runtime-loadable modules, was in issues 23, 24, 25, 26, and 28.
They were written by Alessandro Rubini and Georg v. Zezschwitz.
Issue 29 is slated (as of this writing) to have an article
on writing network device drivers, written by Alan Cox.
Issues 9, 10, and 11 have a series that I wrote on block device
drivers.

<p>Copyright (C) 1992, 1993, 1994, 1996 Michael K. Johnson,
johnsonm@redhat.com.<br>
<P>
<P><HR SIZE=3>
<P><B><A NAME="Messages">Messages</A></B>
<NOBR>
<font size=-1>







</font>
</NOBR>
 <P>
<NOBR>
<DL COMPACT>
<DT> 22. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/22.html">
DMA to user space</A> <i> by Marcel Boosten</i>
 <IMG SRC="../../../Icons/newer.gif" ALT="newer" WIDTH=31 HEIGHT=12
  ALIGN="bottom"> </DT>
<DT> 21. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/21.html">
How a device driver can driver his device</A> <i> by Kim yeonseop</i>
 <IMG SRC="../../../Icons/new1month.gif" ALT="new" WIDTH=31 HEIGHT=12
  ALIGN="bottom"> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/note.gif" ALT="None:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/21/1.html">
Untitled</A><i></i>
 <IMG SRC="../../../Icons/new1month.gif" ALT="new" WIDTH=31 HEIGHT=12
  ALIGN="bottom"> </DT>
</DL>
</DD>
<DT> 20. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/20.html">
memcpy error?</A> <i> by Edgar Vonk</i> </DT>
<DT> 19. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/19.html">
Unable to handle kernel paging request - error</A> <i> by Edgar Vonk</i> </DT>
<DT> 17. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/17.html">
_syscallX() Macros</A> <i> by <A HREF="http://www.afn.org/~oppie">Tom Howley</A></i> </DT>
<DT> 16. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/16.html">
MediaMagic Sound Card DSP-16.  How to run in Linux.</A> <i> by <A HREF="http://www.afn.org/~oppie">Robert Hinson</A></i> </DT>
<DT> 15. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/15.html">
What does mark_bh() do?</A> <i> by Erik Petersen</i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/note.gif" ALT="None:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/15/1.html">
Untitled</A> <i> by Praveen Dwivedi</i> </DT>
</DL>
</DD>
<DT> 14. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/14.html">
3D Acceleration</A> <i> by jamesbat@innotts.co.uk</i> </DT>
<DT> 13. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/13.html">
Device Drivers: /dev/radio...</A> <i> by <A HREF="http://www-jcr.lmh.ox.ac.uk/~weejock/">Matthew Kirkwood</A></i> </DT>
<DT> 12. <IMG src="../../../Icons/note.gif" ALT="None:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/12.html">
Does anybody know why kernel wakes my driver up without apparant reasons?</A> <i> by David van Leeuwen</i> </DT>
<DT> 11. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/11.html">
Getting a DMA buffer aligned with 64k boundaries</A> <i> by <A HREF="http://www.fmc.uam.es/juan">Juan de La Figuera Bayon</A></i> </DT>
<DT> 10. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/10.html">
Hardware Interface I/O Access</A> <i> by Terry Moore</i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/more.gif" ALT="More:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/10/1.html">
You are somewhat confused...</A> <i> by <A HREF="../../../~johnsonm">Michael K. Johnson</A></i> </DT>
</DL>
</DD>
<DT> 9. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/9.html">
Is Anybody know something about SIS 496 IDE chipset?</A> <i> by Alexander</i> </DT>
<DT> 7. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/7.html">
Vertical Retrace Interrupt - I need to use it</A> <i> by <A HREF="http://sashimi.wwa.com/~brynn">Brynn Rogers</A></i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/note.gif" ALT="None:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/7/1.html">
Your choice...</A> <i> by <A HREF="../../../~johnsonm">Michael K. Johnson</A></i> </DT>
</DL>
</DD>
<DT> 6. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/6.html">
help working with skb structures</A> <i> by arkane</i> </DT>
<DT> 5. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/5.html">
Interrupt Sharing ?</A> <i> by <A HREF="http://www.mathematik.uni-stuttgart.de/~floeff">Frieder L&ouml;ffler</A></i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/idea.gif" ALT="Idea:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/5/1.html">
Interrupt sharing-possible</A> <i> by <A HREF="http://cs.felk.cvut.cz/~xmyslik/english.html">Vladimir Myslik</A></i> </DT>
<DT> -&gt; <IMG src="../../../Icons/more.gif" ALT="More:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/5/1/1.html">
Interrupt sharing - How to do with Network Drivers?</A> <i> by <A HREF="http://www.mathematik.uni-stuttgart.de/~floeff">Frieder L&ouml;ffler</A></i> </DT>
<DT> -&gt; <IMG src="../../../Icons/feedback.gif" ALT="Feedback:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/5/1/1/1.html">
Interrupt sharing 101</A> <i> by <A HREF="http://www.undergrad.math.uwaterloo.ca/~cpbeaure">Christophe Beauregard</A></i> </DT>
</DL>
</DD>
<DT> 4. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/4.html">
Device Driver notification of "Linux going down"</A> <i> by Stan Troeh</i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/note.gif" ALT="Note:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/4/1.html">
Through application which has opened the device</A> <i> by <A HREF="../../../~johnsonm">Michael K. Johnson</A></i> </DT>
<DT> 2. <IMG src="../../../Icons/news.gif" ALT="News:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/4/2.html">
Device Driver notification of "Linux going down"</A> <i> by <A HREF="http://www.hut.fi/~mkohtala/">Marko Kohtala</A></i> </DT>
</DL>
</DD>
<DT> 3. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/3.html">
Is waitv honored?</A> <i> by <A HREF="../../../~johnsonm">Michael K. Johnson</A></i> </DT>
<DT> 2. <IMG src="../../../Icons/note.gif" ALT="None:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/2.html">
PCI Driver</A> <i> by Flavia Donno</i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/2/1.html">
There is linux-2.0/drivers/pci/pci.c</A> <i> by Hasdi</i> </DT>
</DL>
</DD>
<DT> 1. <IMG src="../../../Icons/note.gif" ALT="Note:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1.html">
Re: Network Device Drivers</A> <i> by <A HREF="http://rsphy1.anu.edu.au/~gpg109">Paul Gortmaker</A></i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/more.gif" ALT="More:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1/1.html">
Re: Network Device Drivers</A> <i> by <A HREF="http://fester.axis.net/~ntucker/">Neal Tucker</A></i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/more.gif" ALT="More:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1/1/1.html">
network driver info</A> <i> by <A HREF="http://www.csc.calpoly.edu/~ntucker/">Neal Tucker</A></i> </DT>
<DT> -&gt; <IMG src="../../../Icons/idea.gif" ALT="Idea:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1/1/1/1.html">
Network Driver Desprately Needed</A> <i> by <A HREF="http://www.aerotek.co.uk">Paul Atkinson</A></i> </DT>
</DL>
</DD>
<DT> 2. <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1/2.html">
Transmit function</A> <i> by Joerg Schorr</i> </DT>
<DD>
<DL COMPACT>
<DT> 1. <IMG src="../../../Icons/more.gif" ALT="More:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1/2/1.html">
Re: Transmit function</A> <i> by Paul Gortmaker</i> </DT>
<DT> -&gt; <IMG src="../../../Icons/question.gif" ALT="Question:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="devices/1/2/1/1.html">
Skbuff</A> <i> by Joerg Schorr</i> </DT>
</DL>
</DD>
</DL>
</DD>
</DL>
</NOBR>

<P>
<P>



  





<BR> 
 
<BR></BODY>
</HTML>
