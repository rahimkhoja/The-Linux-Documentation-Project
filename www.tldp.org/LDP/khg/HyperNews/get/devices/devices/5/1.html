
<HTML>
<HEAD>
<TITLE>Interrupt sharing-possible</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../../Icons/idea.gif" ALT="Idea:"
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
Interrupt sharing-possible</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../../devices.html" >
 Device Drivers</A> </font><BR>

<I>Re</I>: 
  <IMG SRC="../../../../../Icons/question.gif" 
   WIDTH=15 HEIGHT=15
   ALT="Question" ALIGN="absmiddle">
  <A HREF="../5.html" >
   Interrupt Sharing ?</A>  (<A HREF="http://www.mathematik.uni-stuttgart.de/~floeff" >Frieder L&ouml;ffler</A>)<BR>
<I>Keywords:</I> Interrupt sharing, PCI, Plug%0Aamp;Play <BR>
<I>Date:</I> Thu, 11 Jul 1996 02:24:57 GMT <BR>
<I>From:</I> <A HREF="http://cs.felk.cvut.cz/~xmyslik/english.html" >Vladimir Myslik</A> &lt;<A HREF="mailto:xmyslik@cslab.felk.cvut.cz" >xmyslik@cslab.felk.cvut.cz</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>

<P>Linux kernel has support for shared interrupt usage. It has a
list of routines (func.) that are called when an HW intr arises. On the interrupt arrival, the
routines in the list are circularily called in the order in which the devices ISRs were hooked onto this chain.
</P>

<P>So, if your SCSI generates int#11 and your ethernet card the same irq,
and the bus really notices CPU about them, linux should have no problems.
</P>

<P>However, the ISA and IMHO PCI devices have problems with sharing one IRQ line per several physical cards (devices).
The devices should had been designed with open collector or with 3-state IRQ lines with transition to IRQ active
only during the interrupt generation(log. 0/1), instead of sitting on the irq line.
</P>

<P>So, a user wanting to find out whether it's possible to share one irq line, should
set both the cards to it, make either of them generate interrupt (packet arrival,seek on disk) and
look at the /proc/interrupts statistics, whether the appropriate number incremented or not.
</P>

<P>Got all from usenet&amp;kernel sources, don't blame me.

</P>

</td></tr>
</table>
<P><NOBR>





</NOBR><BR>
<P><B><A NAME="Messages">Messages</A></B>
<NOBR>
<font size=-1>







</font>
</NOBR>
 <P>
<NOBR>
<DL COMPACT>
<DT> 1. <IMG src="../../../../../Icons/more.gif" ALT="More:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="1/1.html">
Interrupt sharing - How to do with Network Drivers?</A> <i> by <A HREF="http://www.mathematik.uni-stuttgart.de/~floeff">Frieder L&ouml;ffler</A></i> </DT>
<DT> -&gt; <IMG src="../../../../../Icons/feedback.gif" ALT="Feedback:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="1/1/1.html">
Interrupt sharing 101</A> <i> by <A HREF="http://www.undergrad.math.uwaterloo.ca/~cpbeaure">Christophe Beauregard</A></i> </DT>
</DL>
</NOBR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
