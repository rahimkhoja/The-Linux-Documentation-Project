
<HTML>
<HEAD>
<TITLE>Icmp.c and kernal ping replies</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../Icons/note.gif" ALT=""
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
Icmp.c and kernal ping replies</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../../khg.html" >
 The Linux Kernel Hackers' Guide</A> </font><BR>

<I>Re</I>: 
  <IMG SRC="../../../../Icons/question.gif" 
   WIDTH=15 HEIGHT=15
   ALT="Question" ALIGN="absmiddle">
  <A HREF="../55.html" >
   Can you block or ignore ICMP packets?</A> <BR>
<I>Keywords:</I> ICMP ping Internet echo flood <BR>
<I>Date:</I> Sat, 22 Mar 1997 15:55:26 GMT <BR>
<I>From:</I> Don Thomas &lt;<A HREF="mailto:dgt@multiline.com.au" >dgt@multiline.com.au</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>

<P>Hi, 
</P>

<P>I'm not sure if you can ignore ICMP requests, but I have been
able to modify icmp.c to stop the kernal replying to ping
requests. This halves the amount of traffic if you are flood
pinged, plus the person pinging you, may well believe that you
are down because of the absence of replies. I added this
to icmp.c in the /usr/src/linux/net/ipv4 directory, and then
re-compiled. Seems to work okay on 2.0.28. 
</P>

<P>#define CONFIG_IP_IGNORE_ECHO_REQUESTS
</P>

<P>Regards,
</P>

<P>Don
</P>

</td></tr>
</table>
<P><NOBR>





</NOBR><BR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
