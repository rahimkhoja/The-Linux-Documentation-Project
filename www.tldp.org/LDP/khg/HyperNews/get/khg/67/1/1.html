
<HTML>
<HEAD>
<TITLE>Why you would want to get a memory snapshot</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
<a href="http://www.hypernews.org/HyperNews/get/hypernews.html">
HyperNews <a href="../../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../../Icons/th_up.gif" ALT="Agree:"
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
Why you would want to get a memory snapshot</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../../../khg.html" >
 The Linux Kernel Hackers' Guide</A> </font><BR>

<I>Re</I>: 
  <IMG SRC="../../../../../Icons/question.gif" 
   WIDTH=15 HEIGHT=15
   ALT="Question" ALIGN="absmiddle">
  <A HREF="../../67.html" >
   How to get a Memory snapshot ?</A>  (Manuel Porras Brand)<BR>

<I>Re</I>: 
  <IMG SRC="../../../../../Icons/disagree.gif" 
   WIDTH=15 HEIGHT=15
   ALT="Disagree" ALIGN="absmiddle">
  <A HREF="../1.html" >
   Why not to get a memory snapshot?</A>  (<A HREF="http://www.kauhajoki.fi/~jusantal/" >Jukka Santala</A>)<BR>
<I>Keywords:</I> UPS memory-image, Power-Fail Interrupt, power-fail recovery  <BR>
<I>Date:</I> Tue, 11 Aug 1998 17:07:18 GMT <BR>
<I>From:</I> Dave M. &lt;<A HREF="mailto:DGMDGM@INAME.COM" >DGMDGM@INAME.COM</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>

If I understand the question correctly, one reason you would want to get a memory snapshot before a power failure would be in the case where you are designing a system that does not have a UPS but does have a Power Fail Interrupt. 
<P>

This is a concept that was used back in the mini-computer days. When the power supply sensed a drop in input voltage it would generate an interrupt that would notify the system that power was about to be lost. The power supply was designed to continue to provide power for a number of milliseconds (typically 60-120) after the loss of line power. This would give the OS just enough time to stash  memory and the state of all registers in an image that could be retrieved upon power-up. When power was restored, this image could be used to restart the system where it left off. It could also be analyzed during the boot process and used to direct recovery operations upon restart.
<P>

The need for this type of power-fail restart may not be immediately obvious to a PC user but if you are using your computer to perform some type of machine control or  instrumentation monitoring, where power-fail recovery is critical, then knowing what the OS was doing at the time of power loss is very important.
<P>

Dave M.
<P>

</td></tr>
</table>
<P><NOBR>





</NOBR><BR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
