<HTML
><HEAD
>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
<TITLE
>Apache-alapú WebDAV szerver, LDAP és SSL szolgáltatásokkal</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"/></HEAD
><BODY
CLASS="article"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
><A
NAME="AEN2"/>Apache-alapú WebDAV szerver, LDAP és SSL szolgáltatásokkal</H1
><H3
CLASS="author"
><A
NAME="AEN4"
>Saqib Ali</A
></H3
><DIV
CLASS="affiliation"
><DIV
CLASS="address"
><P
CLASS="address"
><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saqib@seagate.com<br/>
	&nbsp;
	  Offshore XML/XHTML Development
	 <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><DIV
CLASS="revhistory"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Verziótörténet</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v4.1.2</TD
><TD
ALIGN="LEFT"
>2003.10.17</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Hozzáadva az SSL teljesítménybeállítási fejezet</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v4.1.1</TD
><TD
ALIGN="LEFT"
>2003.09.29</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Frissítések az SSL részben, az olvasói visszajelzésekre alapozva.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v4.1.0</TD
><TD
ALIGN="LEFT"
>2003.09.02</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Frissítések az SSL részben, az olvasói visszajelzésekre alapozva.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v4.0.2</TD
><TD
ALIGN="LEFT"
>2003.08.01</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Kisebb frissítések az Apache-ot beállító parancssorban. /dev/random hivatkozás az SSL részben.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v4.0.1</TD
><TD
ALIGN="LEFT"
>2003.07.27</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Az SSL fejezet további információval bõvítve.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v4.0</TD
><TD
ALIGN="LEFT"
>2002.06.29</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Frissítve a HOGYAN Apache 2.0.-ra. A doksi forráskódja XML formátumú.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v3.4</TD
><TD
ALIGN="LEFT"
>2002.06.29</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Hozzáadva a "Hogyan generáljunk CSR-t" fejezet.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: v3.3</TD
><TD
ALIGN="LEFT"
>2002.04.14</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sa</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Hozzáadva a "WebDAV szerver üzemeltetése" fejezet.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="abstract"
><A
NAME="AEN53"/><P
></P
><P
>&#13;Ez a HOGYAN egy Apache-alapú WebDAV szerver 
telepítését írja le, LDAP-al az azonosításhoz, és SSL-el a titkosításhoz.</P
><P
></P
></DIV
></DIV
><HR/></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tartalomjegyzék</B
></DT
><DT
>1. <A
HREF="#intro"
>Bevezetés</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#AEN62"
>Errõl a dokumentumról</A
></DT
><DT
>1.2. <A
HREF="#AEN69"
>Közremûködõk</A
></DT
><DT
>1.3. <A
HREF="#AEN73"
>Mi az Apache?</A
></DT
><DT
>1.4. <A
HREF="#AEN78"
>Mi a WebDAV?</A
></DT
><DT
>1.5. <A
HREF="#AEN92"
>Mi a PHP?</A
></DT
><DT
>1.6. <A
HREF="#AEN97"
>Mi a MySQL?</A
></DT
><DT
>1.7. <A
HREF="#AEN102"
>Mire van szükségünk?</A
></DT
><DT
>1.8. <A
HREF="#AEN123"
>Feltételezések</A
></DT
><DT
>1.9. <A
HREF="#AEN133"
>Magyar fordítás</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#AEN140"
>Követelmények</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#AEN143"
>Alapok</A
></DT
><DT
>2.2. <A
HREF="#AEN146"
>Apache 2.0.46</A
></DT
><DT
>2.3. <A
HREF="#AEN150"
>OpenSSL</A
></DT
><DT
>2.4. <A
HREF="#AEN154"
>iPlanet LDAP programkönyvtár</A
></DT
><DT
>2.5. <A
HREF="#AEN158"
>mod_auth_ldap</A
></DT
><DT
>2.6. <A
HREF="#AEN162"
>MySQL adatbázismotor</A
></DT
><DT
>2.7. <A
HREF="#AEN166"
>PHP</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#AEN170"
>Telepítés</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="#AEN173"
>Telepítési feltételek</A
></DT
><DT
>3.2. <A
HREF="#AEN208"
>MySQL</A
></DT
><DT
>3.3. <A
HREF="#AEN245"
>Apache 2.0</A
></DT
><DT
>3.4. <A
HREF="#AEN271"
>mod_auth_ldap</A
></DT
><DT
>3.5. <A
HREF="#AEN284"
>Tanúsítvány adatbázis az LDAPS:// részére</A
></DT
><DT
>3.6. <A
HREF="#AEN290"
>PHP</A
></DT
></DL
></DD
><DT
>4. <A
HREF="#config-webdav"
>A WebDAV szolgáltatások telepítése és beállítása</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="#AEN310"
>Módosítások az
<TT
CLASS="filename"
>/usr/local/apache/conf/httpd.conf</TT
> fájlban</A
></DT
><DT
>4.2. <A
HREF="#AEN326"
>Egy DAVLockDB könyvtár létrehozása</A
></DT
><DT
>4.3. <A
HREF="#AEN340"
>A DAV engedélyezése</A
></DT
><DT
>4.4. <A
HREF="#AEN350"
>Egy "DAVtest" nevû könyvtár létrehozása</A
></DT
><DT
>4.5. <A
HREF="#AEN365"
>Az Apache újraindítása</A
></DT
><DT
>4.6. <A
HREF="#AEN377"
>A WebDAV protokoll tesztelése</A
></DT
></DL
></DD
><DT
>5. <A
HREF="#AEN402"
>A WebDAV szerver üzemeltetése</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#AEN414"
>A DAV megosztott hozzáférésének korlátozása</A
></DT
><DT
>5.2. <A
HREF="#AEN434"
>Írás jog korlátozása DAV megosztás alatt</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#ssl"
>Az SSL megvalósítása és használata a HTTP forgalom biztonságossá tételére</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#AEN448"
>Az SSL bemutatása</A
></DT
><DT
>6.2. <A
HREF="#AEN512"
>Teszt tanúsítványok</A
></DT
><DT
>6.3. <A
HREF="#AEN518"
>Tanúsítványok "üzemi" használatra</A
></DT
><DT
>6.4. <A
HREF="#AEN522"
>Hogyan generálhatsz a CSR-t?</A
></DT
><DT
>6.5. <A
HREF="#InstallingServerCert"
>A szerver titkos kulcsának és tanúsítványának telepítése</A
></DT
><DT
>6.6. <A
HREF="#AEN625"
>A jelmondat (passphrase) eltávolítása az RSA titkos kulcsból</A
></DT
><DT
>6.7. <A
HREF="#AEN651"
>SSL teljesítménybeállítás</A
></DT
></DL
></DD
><DT
>A. <A
HREF="#AEN676"
>HTTP/HTTPS teljesítménybeállító programok</A
></DT
><DT
>B. <A
HREF="#AEN689"
>Hardveres SSL titkosítási megoldások</A
></DT
><DT
>C. <A
HREF="#AEN699"
>Megbízott tanúsítvány hatóságok (Trusted Certificate Authorities)</A
></DT
><DT
><A
HREF="#glossary"
>A nyilvános kulcsú titkosítással kapcsolatos szavak gyûjteménye</A
></DT
></DL
></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
NAME="intro"/>1. Bevezetés</H2
><P
>&#13;Jelen dokumentum célja, hogy felépítsünk egy Apache + MySQL + PHP + WebDAV -alapú webes alkalmazásszervert, amely LDAP szerverek használatával végzi az azonosítást (authentication). A dokumentum felfedi a titkosított LDAP tranzakciókezelés egyes részleteit is. </P
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Megjegyzés"/></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Megjegyzés:</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Ha bármilyen problémával találkozol az Apache 
vagy valamely modul telepítésénél, lépj kapcsolatba velem a  <TT
CLASS="email"
>&lt;<A
HREF="mailto:saqib@seagate.com"
>saqib@seagate.com</A
>&gt;</TT
> e-mail címen.</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN62"/>1.1. Errõl a dokumentumról</H3
><P
>Ez a dokumentum eredetileg 2001-ben készült. Azóta számos frissítés és bõvítés történt. Köszönet minden közremûködõnek a frissítésekért és javításokért.</P
><P
>Eme dokumentum XML kódja megtalálható a <A
HREF="http://www.xml-dev.com:8080/cocoon/mount/docbook/Apache-WebDAV-LDAP-HOWTO.xml"
TARGET="_top"
>http://www.xml-dev.com:8080/cocoon/mount/docbook/Apache-WebDAV-LDAP-HOWTO.xml</A
> webhelyen.</P
><P
>A dokumentum utolsó változata a <A
HREF="http://www.xml-dev.com:8080/cocoon/mount/docbook/Apache-WebDAV-LDAP-HOWTO.html"
TARGET="_top"
>http://www.xml-dev.com:8080/cocoon/mount/docbook/Apache-WebDAV-LDAP-HOWTO.html</A
> honlapon található.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN69"/>1.2. Közremûködõk</H3
><P
>Ha szeretnél közremûködni a HOGYAN karbantartásában, letöltheted az XML kódot a <A
HREF="http://www.xml-dev.com:8080/cocoon/mount/docbook/Apache-WebDAV-LDAP-HOWTO.xml"
TARGET="_top"
>http://www.xml-dev.com:8080/cocoon/mount/docbook/Apache-WebDAV-LDAP-HOWTO.xml</A
> webhelyrõl, és elküldheted a frissített kódot a saqib@seagate.com e-mail címre A SZERZÕK LISTÁJÁBAN ÉS A VÁLTOZÁSOK TÖRTÉNETÉBEN A TE NEVEDDEL :).
Ez megkönnyíti számomra a kapcsolatfelvételt mindazokkal akik frissítették/javították a dokumentumot. Köszönöm.
</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN73"/>1.3. Mi az Apache?</H3
><P
>Az Apache egy nyílt forráskódú http szerver modern operációs rendszerekre,  amilyen a UNIX és a Windows NT. Http szolgáltatásokat nyújt a jelenlegi  HTTP szabványoknak megfelelõen. </P
><P
>Az Apache szabadon/ingyenesen letölthetõ a <A
HREF="http://httpd.apache.org/"
TARGET="_top"
>http://httpd.apache.org/</A
> webhelyrõl.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN78"/>1.4. Mi a WebDAV?</H3
><P
>A WebDAV egy Web enabled Distributed Authoring and Versioning, vagyis Web
alapú Elosztott Szerzõi és Változatnyilvántartó rendszer. Együttmûködési környezetet
biztosít azoknak a felhasználóknak, akik szerkesztik/karbantartják egy webszerver fájljait. Technikailag a DAV a http protokoll kiterjesztése.</P
><P
>Íme egy rövid leírás a DAV által biztosított bõvítésekrõl:</P
><P
><EM
> Felülírási védelem:</EM
> Zárolási és
feloldási mechanizmus az "elveszett frissítés" probléma kiküszöbölésére. A DAV
protokoll mind a megosztott, mind a kizárólagos zárolásokat támogatja.</P
><P
><EM
>Tulajdonságok:</EM
> Meta-adatok (cím,
tárgy, készítõ, stb.)</P
><P
><EM
>Nevek karbantartása:</EM
> Fájlok másolása,
átnevezése, mozgatása és törlése.</P
><P
><EM
>Hozzáférés-szabályozás (Access Control; AC):</EM
> A hozzáférés korlátozása bizonyos erõforrásokhoz. Jelenleg a DAV feltételezi az AC meglétét, és nem biztosít túl erõs azonosítási mechanizmust.</P
><P
><EM
>Változatnyilvántartás:</EM
> Dokumentumok
revíziójának nyilvántartása. Még nem megvalósított.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN92"/>1.5. Mi a PHP?</H3
><P
>A PHP (rekurzív betûszó "PHP: Hypertext Preprocessor"; "PHP: Hiperszöveg Elõfeldolgozó") széleskörûen használt, nyíl forráskódú, általános célú szkript-nyelv, amely különösen Web-es fejlesztéseknél alkalmazható és beágyazható a HTML-be.</P
><P
>A PHP megtalálható a <A
HREF="http://www.php.net"
TARGET="_top"
>http://www.php.net</A
> webhelyen.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN97"/>1.6. Mi a MySQL?</H3
><P
>A MySQL a legnépszerûbb nyílt forráskódú SQL adatbázis-kezelõ, a MySQL AB fejleszti, terjeszti és támogatja.</P
><P
>A MySQL adatbázismotor letölthetõ a <A
HREF="http://www.MySQL.com/"
TARGET="_top"
>http://www.MySQL.com/</A
> webhelyrõl.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN102"/>1.7. Mire van szükségünk?</H3
><P
>&#13;A cél eléréséhez szükséges eszközök:</P
><P
></P
><OL
TYPE="i"
><LI
><P
>C Compiler, például GCC</P
></LI
><LI
><P
>Apache 2 Web szerver</P
></LI
><LI
><P
>LDAP Module az Apache-hoz</P
></LI
><LI
><P
>iPlanet LDAP lib fájlok</P
></LI
><LI
><P
>SSL motor</P
></LI
><LI
><P
>PHP</P
></LI
><LI
><P
>MySQL adatbázismotor</P
></LI
></OL
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Megjegyzés"/></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Megjegyzés:</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Mindezen csomagok szabadon
hozzáférhetõk és letölthetõk a Net-rõl.</P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN123"/>1.8. Feltételezések</H3
><P
>A dokumentum feltételezi, hogy a következõk már telepítve vannak a
rendszereden:</P
><P
></P
><OL
TYPE="i"
><LI
><P
>gzip vagy gunzip - megtalálható a <A
HREF="http://www.gnu.org"
TARGET="_top"
>http://www.gnu.org</A
> webhelyen</P
></LI
><LI
><P
>gcc és GNU make - megtalálható a <A
HREF="http://www.gnu.org"
TARGET="_top"
>http://www.gnu.org</A
> webhelyen</P
></LI
></OL
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN133"/>1.9. Magyar fordítás</H3
><P
>&#13;A magyar fordítást <A
HREF="mailto:souly1@freemail.hu_NO_SPAM"
TARGET="_top"
>Kilián Magdolna</A
> készítette (2003.03.28). A lektorálást <A
HREF="mailto:laca@janus.gimsz.sulinet.hu_NO_SPAM"
TARGET="_top"
>Szijjártó László</A
> végezte el (2003.07.09).
Utoljára <A
HREF="mailto:dacas@freemail.hu_NO_SPAM"
TARGET="_top"
>Daczi (dacas) László</A
>  frissítette (2003.12.10).
A dokumentum legfrissebb változata megtalálható a <A
HREF="http://tldp.fsf.hu/index.html"
TARGET="_top"
>Magyar Linux Dokumentációs Projekt</A
> honlapján.
</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR/><H2
CLASS="sect1"
><A
NAME="AEN140"/>2. Követelmények</H2
><P
>Le kell töltened és fordítanod (compile) néhány csomagot. Ez a HOGYAN elmagyarázza a 
fordítási folyamatot, de tudnod kell forráskódból telepíteni.</P
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN143"/>2.1. Alapok</H3
><P
>Szükséged van Solarisra/Linuxra és GNU CC fordítóra a gépen. A GNU gnzip és GNU tar szintén szükséges.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN146"/>2.2. Apache 2.0.46</H3
><P
>Az Apache egy HTTP szerver, Web-es alkalmazások kiszolgálására használjuk. Töltsd le az Apache 2.0.46 forráskódot a <A
HREF="http://www.apache.org/dist/httpd/"
TARGET="_top"
>http://www.apache.org/dist/httpd/</A
> webhelyrõl.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN150"/>2.3. OpenSSL</H3
><P
>Töltsd le az OpenSSL csomagot a <A
HREF="http://www.openssl.org/source/"
TARGET="_top"
>http://www.openssl.org/source/</A
> webhelyrõl. A legutolsó verziót töltsd le. Az OpenSSL telepítést az SSL könyvtárak mod_ssl fordítására használjuk Apache-csal, valamint SSL bizonyítványok karbantartására a webszerveren. Töltsd le az OpenSSL forráskódot gzippelt fájlként a /tmp/downloads könyvtárba.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN154"/>2.4. iPlanet LDAP programkönyvtár</H3
><P
>&#13;Töltsd le az iPlanet LDAP SDK csomagot a <A
HREF="http://wwws.sun.com/software/download/products/3ec28dbd.html"
TARGET="_top"
>http://wwws.sun.com/software/download/products/3ec28dbd.html</A
> honlapról. Az iPlanet LDAP SDK csomagot fogjuk használni, mert ez tartalmazza az ldaps-hoz szükséges programkönyvtárakat (LDAP az SSL felett).
</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN158"/>2.5. mod_auth_ldap</H3
><P
>Az mod_auth_ldap csomagot az LDAP támogatás Apache-ba fordítására fogjuk használni. Töltsd le a <A
HREF="http://www.muquit.com/muquit/software/mod_auth_ldap/mod_auth_ldap_apache2.html"
TARGET="_top"
>http://www.muquit.com/muquit/software/mod_auth_ldap/mod_auth_ldap_apache2.html</A
> honlapról.
</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN162"/>2.6. MySQL adatbázismotor</H3
><P
>Töltsd le a soron következõ MySQL csomagot a <A
HREF="http://www.MySQL.com/downloads/index.html"
TARGET="_top"
>http://www.MySQL.com/downloads/index.html</A
> honlapról.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN166"/>2.7. PHP</H3
><P
>Töltsd le a PHP forráskódját a <A
HREF="http://www.php.net/downloads.php"
TARGET="_top"
>http://www.php.net/downloads.php</A
> webhelyrõl.</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR/><H2
CLASS="sect1"
><A
NAME="AEN170"/>3. Telepítés</H2
><P
>Elõször ellenõrizd le néhány telepítési feltétel meglétét, majd kezdd meg a telepítést.</P
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN173"/>3.1. Telepítési feltételek</H3
><P
>Az alkalmazásszerver tervünk szerinti telepítéséhez szükségesek az SSL és LDAP programkönyvtárak. Az SSL motorra is szüksége van az Apach 2.x-nek, az SSL tanúsítványok kezeléséhez/használatához.
</P
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN176"/>3.1.1. iPlanet LDAP SDK</H4
><P
>Jelentkezz be root felhasználóként, a su parancs használatával:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
>$ su -</B
></PRE
></FONT
></TD
></TR
></TABLE
><P
>Hozzd létre az <TT
CLASS="filename"
>/usr/local/iplanet-ldap-sdk.5</TT
> könyvtárat. Másold az <TT
CLASS="filename"
>ldapcsdk5.08-Linux2.2_x86_glibc_PTH_OPT.OBJ.tar.gz</TT
> fájlt a <TT
CLASS="filename"
>/tmp/downloads</TT
> könyvtárból az <TT
CLASS="filename"
>/usr/local/iplanet-ldap-sdk.5</TT
> könyvtárba.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># mkdir /usr/local/iplanet-ldap-sdk.5</B
>
<B
CLASS="command"
># cp /tmp/downloads/ldapcsdk5.08-Linux2.2_x86_glibc_PTH_OPT.OBJ.tar /usr/local/iplanet-ldap-sdk.5</B
>
<B
CLASS="command"
># cd /usr/local/iplanet-ldap-sdk.5</B
>
<B
CLASS="command"
># tar -xvf ldapcsdk5.08-Linux2.2_x86_glibc_PTH_OPT.OBJ.tar</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Most az összes szükséges iPlanet LDAP lib fájlnak a megfelelõ könyvtárban kell lennie.</P
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN192"/>3.1.2. OpenSSL motor</H4
><P
>Ezután az OpenSSL motort kell telepítened.</P
><P
>Az OpenSSL az SSL/TLS protokoll nyílt forráskódú megvalósítása. Az OpenSSL szükséges az SSL tanúsítványok létrehozásához és kezeléséhez a webszerveren. A telepítés a lib fájlokhoz is szükséges, ezeket az SSL modul az Apache kiszolgálására használja.</P
><P
>Lépj be abba a könyvtárba, ahova az OpenSSL forráskódjának fájljait tetted.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> <B
CLASS="command"
># cd /tmp/download</B
>
<B
CLASS="command"
># gzip -d openssl.x.x.tar.gz</B
>
<B
CLASS="command"
># tar -xvf openssl.x.x.tar</B
>
<B
CLASS="command"
># cd openssl.x.x</B
>
<B
CLASS="command"
># make</B
>
<B
CLASS="command"
># make test</B
>
<B
CLASS="command"
># make install</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A  <B
CLASS="command"
>make install</B
> lefutása után az openssl futtatható fájljai az <TT
CLASS="filename"
>/usr/local/ssl</TT
> könyvtárban lesznek.</P
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN208"/>3.2. MySQL</H3
><P
>A MySQL telepítése elég egyszerû. A letöltött futtatható állományokat a megfelelõ könyvtárba kell tenni.</P
><P
>Kezdetként hozz létre egy user:group csoportot a MySQL démon számára, majd másold be a fájlokat a megfelelõ könyvtárakba.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> <B
CLASS="command"
># groupadd MySQL</B
>
<B
CLASS="command"
># useradd -g MySQL MySQL</B
>
<B
CLASS="command"
># cd /usr/local</B
>
<B
CLASS="command"
># gunzip &lt; /path/to/MySQL-VERSION-OS.tar.gz | tar xvf - </B
>
<B
CLASS="command"
># ln -s full-path-to-MySQL-VERSION-OS MySQL</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ezután futtasd az install_db szkriptet, és állítsd be a fájlok jogosultságait.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> <B
CLASS="command"
># cd MySQL</B
>
<B
CLASS="command"
># scripts/MySQL_install_db</B
>
<B
CLASS="command"
># chown -R MySQL .</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN223"/>3.2.1. A MySQL indítása</H4
><P
>Most indítsd el a MySQL kiszolgálót a telepítés ellenõrzéséhez.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> <B
CLASS="command"
># bin/MySQLd_safe --user=MySQL &amp;</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ellenõrizd a MySQL démon futását, a ps -ef parancs használatával. A következõ kimenetnek kell megjelennie:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># ps -ef | grep MySQL</B
>
root      3237     1  0 May29 ?        00:00:00 /bin/sh bin/safe_MySQLd
MySQL     3256  3237  0 May29 ?        00:06:58 /usr/local/MySQL/bin/MySQLd --defaults-extra-file=/usr/local/MySQL/data/my.cnf --basedir=/usr/local/MySQL --datadir=/usr/local/MySQL/data --user=MySQL --pid-file=/usr/local/MySQL/data/downloa
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN231"/>3.2.2. A MySQL leállítása</H4
><P
>A MySQL kiszolgáló leállításához kövesd az alábbi útmutatást:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># cd /usr/local/MySQL</B
>
<B
CLASS="command"
># ./bin/MySQLadmin -u root -p shutdown</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN237"/>3.2.3. A Data Directory helyének meghatározása</H4
><P
>A MySQL démon minden információt egy "Data Directory" nevû könyvtárban tárol. Ha követted a fenti útmutatást, a Data Directory megtalálható az <TT
CLASS="filename"
>/usr/local/MySQL/data</TT
> könyvtár alatt.</P
><P
>A Data Directory helyének meghatározásához használd a <B
CLASS="command"
>MySQLadmin</B
> segédprogramot, az alábbi módon:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># /usr/local/MySQL/bin/MySQLadmin variables -u root --password={your_password} | grep datadir</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN245"/>3.3. Apache 2.0</H3
><P
>Kezdetnek állíts be néhány FLAGS-et a fordító számára.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># export LDFLAGS="-L/usr/local/iplanet-ldap-sdk.5/lib/ -R/usr/local/iplanet-ldap-sdk.5/lib/:/usr/local/lib"</B
>
<B
CLASS="command"
># export CPPFLAGS="-I/usr/local/iplanet-ldap-sdk.5/include"</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ezután csomagold ki az Apache 2.0 forrásfájljait, és futtasd a <TT
CLASS="filename"
>configure</TT
> szkriptet.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># cd /tmp/download</B
>
<B
CLASS="command"
># gzip -d httpd-2.0.46.tar.gz </B
>
<B
CLASS="command"
># tar -xvf httpd-2.0.46.tar</B
>
<B
CLASS="command"
># cd httpd-2.0.46</B
>
<B
CLASS="command"
>#./configure --enable-so --with-ssl --enable-ssl --enable-rewrite --enable-dav</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ezután add ki a make parancsot</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># make</B
>
<B
CLASS="command"
># make install</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN263"/>3.3.1. Az Apache indítása</H4
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># /usr/local/apache2/bin/apachectl start</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN267"/>3.3.2. Az Apache leállítása</H4
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># /usr/local/apache2/bin/apachectl stop</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN271"/>3.4. mod_auth_ldap</H3
><P
>Csomagold ki a modauthldap_apache2.tar.gz fájlt.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
>cd /tmp/download</B
>
<B
CLASS="command"
># gzip -d modauthldap_apache2.tar.gz</B
>
<B
CLASS="command"
># tar -xvf modauthldap_apache2.tar</B
>
<B
CLASS="command"
># cd modauthldap_apache2</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Most állítsd be és telepítsd a mod_auth_ldap csomagot.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># ./configure --with-apxs=/usr/local/apache2/bin/apxs  --with-ldap-dir=/usr/local/iplanet-ldap-sdk.5/</B
>
<B
CLASS="command"
># make</B
>
<B
CLASS="command"
># make install</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN284"/>3.5. Tanúsítvány adatbázis az LDAPS:// részére</H3
><P
>Le kell töltened a cert7.db és key7.db adatbázisokat a <A
HREF="http://www.xml-dev.com/xml/key3.db"
TARGET="_top"
>http://www.xml-dev.com/xml/key3.db</A
> és <A
HREF="http://www.xml-dev.com/xml/cert7.db"
TARGET="_top"
>http://www.xml-dev.com/xml/cert7.db</A
> webhelyrõl és el kell helyezned az <TT
CLASS="filename"
>/usr/local/apache2/sslcert/</TT
> könyvtárban.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN290"/>3.6. PHP</H3
><P
>Csomagold ki a PHP forrásfájlokat.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
>gzip -d php-xxx.tar.gz</B
>
<B
CLASS="command"
>tar -xvf php-xxx.tar</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Állítsd be, majd futtasd a make parancsot.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
>cd php-xxx</B
>
<B
CLASS="command"
>./configure --with-MySQL --with-apxs=/usr/local/apache2/bin/apxs</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Fordítsd le a forráskódot.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># make </B
>
<B
CLASS="command"
># make install</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Másold a php.ini fájlt a megfelelõ könyvtárba.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
>cp php.ini-dist /usr/local/lib/php.ini</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect1"
><HR/><H2
CLASS="sect1"
><A
NAME="config-webdav"/>4. A WebDAV szolgáltatások telepítése és beállítása</H2
><P
>Ez egy könnyû rész. Ebben a fejezetben engedélyezni fogjuk a WebDAV szolgáltatást az Apache egy fõkönyvtárában.</P
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN310"/>4.1. Módosítások az
<TT
CLASS="filename"
>/usr/local/apache/conf/httpd.conf</TT
> fájlban</H3
><P
>&#13;Ellenõrizd a következõ Apache direktívák meglétét az
<TT
CLASS="filename"
>/usr/local/apache/conf/httpd.conf</TT
> fájlban:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  Addmodule mod_dav.c
</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
> Amennyiben nincs benne, add hozzá. Ez jelzi az Apache számára a DAV képesség meglétét. A direktívát mindenképp konténeren (container) kívül kell elhelyezni.  </P
><P
>&#13;Ezt követõen meg kell adnod azt, hogy az Apache hol tárolja a DAVLockDB fájlt. Ez egy zárolási adatbázis a WebDAV-hoz, ezt írhatóvá kell tenned a  httpd  processz számára.
</P
><P
>&#13;A DAVLock fájlt én az <TT
CLASS="filename"
>/usr/local/apache/var</TT
> könyvtárban tárolom.
Én ezt a könyvtárat más célokra is használom. Add hozzá a következõ sort az
<TT
CLASS="filename"
>/usr/local/apache/conf/httpd.conf</TT
> fájlhoz, annak meghatározásához, hogy a DAVLockDB fájl az
<TT
CLASS="filename"
>/usr/local/apache/var</TT
> könyvtárban van: </P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  DAVLockDB      /usr/local/apache/var/DAVLock 
</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>Az utasítást a tárolón kívül helyezd el.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN326"/>4.2. Egy DAVLockDB könyvtár létrehozása</H3
><P
> Mint fent említettem, egy könyvtárat kell létrehoznod a DAVLockDB fájl számára, majd írhatóvá kell tenned a webszerver folyamat számára. Általában a webszerver folyamat "<EM
>nobody</EM
>" felhasználói néven fut. Ellenõrizd ezt a következõ parancs használatával:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
>ps -ef | grep httpd</B
></PRE
></FONT
></TD
></TR
></TABLE
>
Az <TT
CLASS="filename"
>/usr/local/apache</TT
> alatt hozz létre egy könyvtárat, és állítsd be a hozzáférési jogokat, a következõ parancsok használatával:  </P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  <B
CLASS="command"
># cd /usr/local/apache</B
>
  <B
CLASS="command"
># mkdir var</B
>
  <B
CLASS="command"
># chmod -R 755 var/</B
>
  <B
CLASS="command"
># chown -R nobody var/</B
>
  <B
CLASS="command"
># chgrp -R nobody var/</B
>
</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN340"/>4.3. A DAV engedélyezése</H3
><P
> A DAV engedélyezése pofonegyszerû. Az Apache fõkönyvtára alatti könyvtár DAV engedélyezéséhez, add hozzá annak a bizonyos könyvtárnak a tárolójához a következõ direktívát: </P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  DAV On
</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
> Ez engedélyezi a DAV-ot arra a könyvtárra és alkönyvtáraira.  </P
><P
>A következõ példa beállítás engedélyezi a DAV és LDAP azonosítást/hitelesítést az <TT
CLASS="filename"
>/usr/local/apache/htdocs/DAVtest</TT
> könyvtárra. Rakd be az  <TT
CLASS="filename"
>/usr/local/apache/conf/httpd.conf</TT
> fájlba.
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13; DavLockDB /tmp/DavLock
&lt;Directory "/usr/local/apache2/htdocs/DAVtest"&gt;
Options Indexes FollowSymLinks
AllowOverride None
order allow,deny
allow from all
AuthName "SMA Development server"
AuthType Basic
LDAP_Debug On
#LDAP_Protocol_Version 3
#LDAP_Deref NEVER
#LDAP_StartTLS On
LDAP_Server you.ldap.server.com 
#LDAP_Port 389
# Ha az SSL aktív, meg kell adnod az LDAP SSL portot, ez általában 636
LDAP_Port 636
LDAP_CertDbDir /usr/local/apache2/sslcert
Base_DN "o=SDS"
UID_Attr uid
DAV On
#require valid-user
require valid-user
#require roomnumber "123 Center Building"
#require filter "(&amp;(telephonenumber=1234)(roomnumber=123))"
#require group cn=rcs,ou=Groups
&lt;/Directory&gt;
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN350"/>4.4. Egy "DAVtest" nevû könyvtár létrehozása</H3
><P
> Mint egy korábbi részben említettem, minden DAV könyvtárnak írhatónak 
kell lennie a webszerver folyamat által. Ebben a példában feltételezzük, hogy a 
webszerver "<EM
>nobody</EM
>" név alatt fut. Ez az általános. A felhasználó megtekintéséhez (akinek neve alatt a webszerver fut) használd a </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># ps -ef | grep httpd</B
></PRE
></FONT
></TD
></TR
></TABLE
><P
>parancsot.</P
><P
>Hozz létre egy tesztkönyvtárat "<TT
CLASS="filename"
>DAVtest</TT
>" néven az
 <TT
CLASS="filename"
>/usr/local/apache2/htdocs</TT
> könyvtár alatt:</P
><P
><B
CLASS="command"
># mkdir /usr/local/apache/htdocs/DAVtest</B
></P
><P
>Változtasd meg a hozzáférési jogokat a könyvtárban, az legyen írható-olvasható a httpd folyamat számára. Feltételezve, hogy a httpd "<EM
>nobody</EM
>" felhasználónév alatt fut, használd a következõ parancsokat:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  # cd /usr/local/apache/htdocs
  # chmod -R 755 DAVtest/
  # chown -R nobody DAVtest/
  # chgrp -R nobody DAVtest/
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN365"/>4.5. Az Apache újraindítása</H3
><P
>Végül le kell futtatnod az Apache-hoz mellékelt konfigurációs tesztrutint, a <TT
CLASS="filename"
>httpd.conf</TT
> fájl szintaxisának ellenõrzéséhez:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># /usr/local/apache/bin/apachectl configtest</B
></PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;Ha hibaüzenetet kapsz, akkor ellenõrizd le, hogy minden utasítást helyesen követtél-e. 
Ha nem tudod kitalálni a hiba okát, írj nekem (a hibaüzenetet is írd meg) a  <A
HREF="mailto:saqib@seagate.com"
TARGET="_top"
>saqib@seagate.com</A
> e-mail címre.
</P
><P
> Ha a konfiguráció tesztje sikeres, indítsd el az Apache webszervert: </P
><P
><B
CLASS="command"
># /usr/local/apache/bin/apachectl restart</B
></P
><P
>Most van egy WebDAV engedélyezett Apache szervered LDAP hitelesítéssel és
SSL titkosítással.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN377"/>4.6. A WebDAV protokoll tesztelése</H3
><P
>Nagyon fontos, hogy a most telepített WebDAV teljesen összhangban legyen a WebDAV-2 protokollal. Ha nem teljesen kompatibilis, akkor a WebDAV
alkalmazások kliens oldala nem fog rendesen mûködni.</P
><P
>A kompatibilitás teszteléséhez a Litmus nevû eszközt használjuk. A
Litmus a WebDAV protokoll tesztelõje, amely azt vizsgálja, hogy
összhangban van-e egy szerver az RFC2518-ben leírt WebDAV protokollal.</P
><P
>Töltsd le a Litmus forráskódját a <A
HREF="http://www.webdav.org/neon/litmus/"
TARGET="_top"
>http://www.webdav.org/neon/litmus/</A
> webhelyrõl, majd másold be a /tmp/downloads könyvtárba.</P
><P
>Használd a  gzip és tar programokat a kicsomagoláshoz:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># cd /tmp/downloads</B
>
<B
CLASS="command"
># gzip -d litmus-0.6.x.tar.gz</B
>
<B
CLASS="command"
># tar -xvf litmus-0.6.x.tar</B
>
<B
CLASS="command"
># cd litmus-0.6.x</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A Litmus fordítása és telepítése egyszerû:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># ./configure</B
>
<B
CLASS="command"
># make</B
>
<B
CLASS="command"
># make install</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A <B
CLASS="command"
>make install</B
> parancs a bináris fájlokat az <TT
CLASS="filename"
>/usr/local/bin</TT
>, a súgó fájljait pedig az <TT
CLASS="filename"
>/usr/local/man</TT
> könyvtárba teszi.</P
><P
>A most telepített WebDAV szerver teszteléséhez használd a </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># /usr/local/bin/litmus http://you.dav.server/DAVtest userid passwd</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>parancsot.</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR/><H2
CLASS="sect1"
><A
NAME="AEN402"/>5. A WebDAV szerver üzemeltetése</H2
><P
>Ebben a részben megvitatjuk a különbözõ kezelési feladatokat - például LDAP belépés ellenõrzése, és hogyan dolgozunk Apache-on DAV módszerrel.</P
><P
>A legtöbb konfigurációs változást a DAV-hoz a <TT
CLASS="filename"
>&#13;httpd.conf</TT
> fájl használatával tesszük. Ez a fájl az <TT
CLASS="filename"
>&#13;/usr/local/apache/conf/httpd.conf</TT
> könyvtárban található.</P
><P
> A <TT
CLASS="filename"
>httpd.conf</TT
> egy szöveges konfigurációs fájl,
amelyet az Apache használ. Szerkesztéséhez bármely szövegszerkesztõt
használhatsz, én leginkább a vi-t szoktam. Készíts egy másolatot errõl
a fájlról, mielõtt megváltoztatod. </P
><P
>Miután a <TT
CLASS="filename"
>httpd.conf</TT
> fájlban elvégezted a
változtatásokat, az Apache szervert újra kell indítanod az <B
CLASS="command"
>/usr/local/apache/bin/apachectl restart</B
> paranccsal. Mielõtt
újraindítanád, teszteld a httpd.conf érvényességét az <B
CLASS="command"
>&#13;/usr/local/apache/bin/apachectl configtest </B
> paranccsal. </P
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN414"/>5.1. A DAV megosztott hozzáférésének korlátozása</H3
><P
>Az elõzõ részben, amikor létrehoztuk a DAVtest megosztást, az LDAP-ot 
hitelesítési célból használtuk. Azonban bárki, aki hitelesíti magát, az LDAP-
ot használva a felhasználói azonosítójával/jelszavával, hozzáférhet ahhoz a 
mappához.</P
><P
>A <B
CLASS="command"
>require</B
> direktíva használatával a httpd.conf fájlban
limitálhatod adott egyének vagy csoportok hozzáférését.</P
><P
>Ha megnézed a DAVtest konfigurációt az elõzõ részbõl :
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  &lt;Directory /usr/local/apache/htdocs/DAVtest&gt;
  Dav On
  #Options Indexes FollowSymLinks

  AllowOverride None
  order allow,deny
  allow from all
  AuthName "LDAP_userid_password_required"
  AuthType Basic
  &lt;Limit GET PUT POST DELETE PROPFIND PROPPATCH MKCOL COPY MOVE LOCK UNLOCK&gt;
  Require valid-user
  &lt;/Limit&gt;
  LDAP_Server ldap.server.com
  LDAP_Port 389
  Base_DN "o=ROOT"

  UID_Attr uid
  &lt;/Directory&gt;
</PRE
></FONT
></TD
></TR
></TABLE
>
Láthatod, hogy a <B
CLASS="command"
>require</B
> direktíva értéke  <B
CLASS="command"
>valid-user</B
>. Ami azt jelenti, hogy bármely hitelesített felhasználónak hozzáférése van ahhoz a mappához.
</P
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN423"/>5.1.1. Hozzáférés korlátozása egyéni UID alapján</H4
><P
>LDAP UID-t is használhatjuk a DAV mappa hozzáférésének korlátozására.</P
><P
>A <B
CLASS="command"
>require valid-user</B
> direktíva megváltoztatható <B
CLASS="command"
>require user 334455 445566</B
> értékre.</P
><P
>Ez a 334455 és 445566 UID-vel rendelkezõ felhasználókra korlátozza a hozzáférést. Senki másnak nem lesz hozzáférése ehhez a mappához.</P
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN430"/>5.1.2. Hozzáférés korlátozása csoportok tagjai számára</H4
><P
> A <B
CLASS="command"
>require</B
> direktívát használhatod csoportok tagjai 
hozzáférésének korlátozására. Ezt megteheted az LDAP csoportok vagy 
az LDAP szûrõk használatával. A szûrõt az LDAP filter szintaxis szerint kell felépíteni. </P
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN434"/>5.2. Írás jog korlátozása DAV megosztás alatt</H3
><P
> Lehetséges a DAV megosztások forrásainak szerkesztését bizonyos 
személyekre korlátozni, mindemellett bárki megnézheti ezeket az erõforrásokat (például fájlokat - dacas). Ezt könnyen teheted a <B
CLASS="command"
> &lt;Limit&gt;</B
> címke használatával a <TT
CLASS="filename"
>httpd.conf</TT
> fájlban. </P
><P
> 
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  &lt;Directory /usr/local/apache/htdocs/DAVtest&gt;
  Dav On
  #Options Indexes FollowSymLinks

  AllowOverride None
  order allow,deny
  allow from all
  AuthName "LDAP_userid_password_required"
  AuthType Basic
  &lt;Limit GET PUT POST DELETE PROPFIND PROPPATCH MKCOL COPY MOVE LOCK UNLOCK&gt;
  Require valid-user
  &lt;/Limit&gt;
  LDAP_Server ldap.server.com
  LDAP_Port 389
  Base_DN "o=ROOT"

  UID_Attr uid
  &lt;/Directory&gt;
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>A <B
CLASS="command"
>&lt;limit&gt;</B
> megváltoztatásával korlátozhatod adott személy írási jogát:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;  &lt;Limit PUT POST DELETE PROPPATCH MKCOL COPY MOVE LOCK UNLOCK&gt;
  Require 334455
  &lt;/Limit&gt;
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>Alapvetõen korlátozzuk a 334455 UID-vel rendelkezõ felhasználó PUT POST DELETE PROPPATH MKCOL COPY MOVE LOCK és 
az UNLOCK jogát. Mindenki más képes lesz használni a GET és PROPFIND módszert a forrásokon, de mást nem.</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR/><H2
CLASS="sect1"
><A
NAME="ssl"/>6. Az SSL megvalósítása és használata a HTTP forgalom biztonságossá tételére</H2
><P
>Manapság a fájlszerveren tárolt adatok biztonsága nagyon fontos. A 
kompromittált adatok több ezer dollárba is kerülhetnek egy társaságnak. Az 
utolsó részben LDAP hitelesítési modult fordítottunk az Apache-ba, hogy 
biztosítsuk a hitelesítési mechanizmust. Bár a HTTP forgalom nem igazán 
biztonságos, és minden adat tiszta szövegként jelenik meg - ez azt jelenti, hogy 
az LDAP hitelesítés (userid/passwd) ugyancsak tiszta szövegként megy át. Ez 
problémát okozhat. Bárki kutathat ezen userid/passwd párosok után és hozzáférhet  
a DAV állományhoz. Ennek megelõzéséhez titkosítanunk kell a HTTP forgalmat, 
valójában a HTTP+SSL vagy HTTPS segítségével. Bármi, ami átmegy a HTTPS-en,
titkosított lesz, így az LDAP userid/passwd-ben nem kutakodhatnak. A HTTPS a 
443-as porton fut. Az elõzõ rész fordítási folyamatának eredményeként az Apache 
mindkét porton, a 80-ason (normál HTTP) és 443-ason (HTTPS) is fut. Ha csak a 
DAV-hoz használod majd a szervert, akkor nagyon ajánlott bezárni a 80-as portot. 
A HOGYAN ezen  részében néhány információt nyújtok az SSL-rõl és annak üzemeltetésérõl egy Apache HTTP szerveren. 
</P
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN448"/>6.1. Az SSL bemutatása</H3
><P
>&#13;Az SSL (Secure Socket Layer; Biztonsági Alréteg) egy protokoll réteg, amely a hálózati (Network layer) és az alkalmazási rétegek (Application layer) között van. Mint neve is sugallja, az SSL mindenféle forgalom titkosítására használható - LDAP, POP, IMAP és legfõképp HTTP.
</P
><P
>&#13;Íme egy végletekig leegyszerûsített ábra az SSL-el kapcsolatban álló rétegekrõl.
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;
	+-------------------------------------------+
	|   LDAP   |    HTTP    |   POP   |   IMAP  |
	+-------------------------------------------+
	|                   SSL                     |
	+-------------------------------------------+
	|      Hálózati réteg (Network Layer)       |
	+-------------------------------------------+
	
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN453"/>6.1.1. Az SSL-ben használt titkosító algoritmusok</H4
><P
>Háromféle titkosítási technológiát használnak az SSL-ben: "nyilvános-titkos kulcs" (Public-Private Key), "szimmetrikus kulcs" (Symmetric Key), és <A
HREF="#digitsign"
>"digitális aláírás"</A
> (Digital Signature).
</P
><P
>&#13;<STRONG
>"Nyilvános-titkos kulcs" titkosítás - SSL kapcsolat indítása: </STRONG
> Ebben az algoritmusban a titkosítás és a visszafejtés nyilvános-titkos kulcspárral történik. A webszerveré a titkos kulcs, a nyilvános kulcsot pedig a tanúsítványban küldi el a kliensnek.
</P
><P
></P
><OL
TYPE="1"
><LI
><P
>A kliens kéri a HTTPS-t használó Web szervertõl a tartalmat.</P
></LI
><LI
><P
>A web szerver válaszol egy Digitális Tanúsítvánnyal (Digital Certificate), amiben benne van a szerver nyilvános kulcsa.</P
></LI
><LI
><P
>A kliens ellenõrzi, hogy lejárt-e a tanúsítvány.</P
></LI
><LI
><P
>Ezután a kliens ellenõrzi, hogy a tanúsítvány hatóság (Certificate Authority; továbbiakban CA), amely aláírta a tanúsítványt, megbízott hatóság-e a böngészõ listáján. Ez a magyarázata annak, miért van szükségünk egy megbízott CA-tól kapott tanúsítványra.</P
></LI
><LI
><P
>A kliens ellenõrzi, hogy a webszerver teljes domain neve (Fully Qualified Domain Name) megegyezik-e a tanúsítványon lévõ közönséges névvel (Common Name).</P
></LI
><LI
><P
>Ha minden megfelelõ, létrejön az SSL kapcsolat.</P
></LI
></OL
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Megjegyzés"/></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Megjegyzés:</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Bármi, amit titkos kulccsal titkosítottak, kizárólag a nyilvános kulccsal fejthetõ vissza. Ennek megfelelõen, bármilyen nyilvános kulccsal titkosított dolog, kizárólag a titkos kulccsal fejthetõ vissza. Elterjedt az a tévhit, miszerint kizárólag nyilvános kulccsal lehet titkosítani és titkos kulccsal visszafejteni. Ez nem így van. Bármelyik kulcs használható titkosításra és visszafejtésre egyaránt (ha annak párját használják visszafejtésre és titkosításra - dacas). Végül is, ha az egyik kulcsot használták titkosításra, a másikat kell használni a visszafejtésre stb. Egy üzenet nem titkosítható és visszafejthetõ kizárólag a nyilvános kulcs használatával.</P
><P
><EM
>A titkos kulccsal történõ titkosítás és a nyilvános kulccsal
történõ visszafejtés biztosíték a címzetteknek arról, hogy a küldeményt a küldõ (a titkos kulcs tulajdonosa) adta fel (mivel a titkos kulcs használatához szükséges jelmondatot csak Õ ismeri - dacas).
A nyilvános kulccsal történõ titkosítás és titkos kulccsal visszafejtés biztosítja azt,
hogy a küldeményt csak a meghatározott címzett (a titkos kulcs tulajdonosa) képes visszafejteni.</EM
>
</P
></TD
></TR
></TABLE
></DIV
><P
><STRONG
>Szimmetrikus titkosítás -  az adatok
tulajdonképpeni átvitele</STRONG
>: Miután az SSL kapcsolat létrejött,
szimmetrikus titkosítást használ az adatok titkosítására, kevesebb CPU ciklust felhasználva (tehát kevésbé erõforrásigényes - a lektor). Szimmetrikus titkosításkor az adat ugyanazzal a kulccsal titkosítható és visszafejthetõ. A szimmetrikus titkosítás kulcsa a kapcsolat indításakor kerül átadásra, a nyilvános-titkos kulcspárral történõ titkosítás alatt. </P
><P
><STRONG
>Üzenet ellenõrzés</STRONG
> A szerver kivonatot készít az üzenetrõl valamilyen algoritmus szerint, mint például <A
HREF="#hmac"
>HMAC</A
>, <A
HREF="#sha1"
>SHA</A
>, <A
HREF="#md5"
>MD5</A
>, majd ezek alapján ellenõrzi az adatok sértetlenségét.</P
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN484"/>6.1.2. A hitelesség és sértetlenség ellenõrzése</H4
><P
>Titkosítási folyamat</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;             Feladó                  Címzett
          titkos kulcsa          nyilvános kulcsa
          ,-.                     ,-.
         (   )..........         (   )..........
          `-' ''''|'|'||          `-' ''''''''||
                  | |                    |
                  | |                    |
   .-----------.  | |    .-----------.   |     .-----------.
   |           |  V |    |Titkosított|   V     |Titkosított|
   |Sima szöveg|--------&gt;|  szöveg   |--------&gt;|  szöveg   |
   |           |1. lépés |    1      |2. lépés |    2      |\
   `-----------'    |    `-----------'          `----------' \    __
         |          |                                         \   [_'
         |          |                                  5. lépés\   |
         |3. lépés  |                                       __   --|--
         |          |                                  _.--'       |
         V          |                            _..-''           / \
    .----------.    |                      _..-''               Címzett
    |  SHA 1   |    V    .---------._..-''
    | Üzenet   |--------&gt;|Digitális|
    | kivonat  | 4. lépés| aláírás |             _
    `----------'         `---------'         _  (_)
        _____ ____   ____  ____ _   _ ____ _| |_ _  ___  ____
       | ___ |  _ \ / ___)/ ___) | | |  _ (_   _) |/ _ \|  _ \
       | ____| | | ( (___| |   | |_| | |_| || |_| | |_| | | | |
       |_____)_| |_|\____)_|    \__  |  __/  \__)_|\___/|_| |_|
                               (____/|_|
	</PRE
></FONT
></TD
></TR
></TABLE
><P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>1. lépés: az eredeti "sima szöveg" titkosítása a feladó titkos kulcsának használatával, ennek eredménye a "titkosított szöveg 1". Ez biztosítja a feladó hitelességét.</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>2. lépés: a "titkosított szöveg 1" titkosítása a címzett nyilvános kulcsával, ennek eredménye a "titkosított szöveg 2". Ez biztosítja a címzett hitelességét (értsd: csak a címzett tudja visszafejteni a szöveget a saját titkos kulcsával).</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>3. lépés: az SHA1 üzenet kivonat (ellenõrzõ összeg - dacas) készítése a "sima szöveg" alapján.</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>4. lépés: SHA1 üzenet kivonat titkosítása a feladó titkos kulcsával, ennek eredménye a "sima szöveg" digitális aláírása. Ezt a digitális aláírást a címzett felhasználhatja az üzenet sértetlenségének és a feladó hitelességének ellenõrzésére.</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>5. lépés: a "digitális aláírás" és a "titkosított szöveg 2" elküldése a címzettnek.</P
></LI
></UL
><P
>Visszafejtési folyamat</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;           Címzett                   Feladó
        titkos kulcsa            nyilvános kulcsa
         ,-.                     ,-.
        (   )..........         (   )..........
         `-' ''''''''||          `-' '''''''|||
                |                      |    |
                |                      |    |
  .-----------. |      .-----------.   |    | .-----------.        .----#1----.
  |Titkosított| V      |Titkosított|   V    | |           |        |  SHA 1   |
  |  szöveg   |-------&gt;|  szöveg   |---------&gt;|Sima szöveg|-------&gt;| Üzenet   |
  |    2      |1. lépés|     1     |2. lépés| |           |3. lépés|  kivonat |
  `-----------'        `-----------'        | `-----------'        `----------'
                                            |                        ||
                                            |                        ||5. lépés
                                            |                        ||
                                            |                        ||
                               .---------.  |                    .----------.
                               |Digitális|  V                    |  SHA 1   |
                               | aláírás |----------------------&gt;| Üzenet   |
                 _             `---------'  4. lépés  _          | kivonat  |
                | |                               _  (_)         `----#2----'
              __| |_____  ____  ____ _   _ ____ _| |_ _  ___  ____
             / _  | ___ |/ ___)/ ___) | | |  _ (_   _) |/ _ \|  _ \
            ( (_| | ____( (___| |   | |_| | |_| || |_| | |_| | | | |
             \____|_____)\____)_|    \__  |  __/  \__)_|\___/|_| |_|
                                    (____/|_|
 </PRE
></FONT
></TD
></TR
></TABLE
><P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>1. lépés: a "titkosított szöveg 2" visszafejtése a címzett titkos kulcsának használatával, ennek eredménye a "titkosított szöveg 1".</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>2. lépés: a "titkosított szöveg 1" visszafejtése a feladó nyilvános kulcsának használatával, ennek eredménye a "sima szöveg".</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>3. lépés: SHA1 üzenet kivonat (ellenõrzõ összeg - dacas) elkészítése, az elõzõ 2 lépés eredményeként kapott "sima szöveg" alapján.</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>4. lépés: a "digitális aláírás" visszafejtése a feladó nyilvános kulcsának használatával, ennek eredménye az "SHA1 üzenet kivonat".</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>5. lépés: az "SHA üzenet kivonat #1" és "SHA üzenet kivonat #2" összehasonlítása. Amennyiben a kettõ egyezik, úgy az üzenet nem módosult az átvitel alatt, így az eredeti "sima szöveg" sértetlen.</P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN512"/>6.2. Teszt tanúsítványok</H3
><P
>Az Apache fordítása közben létrehoztunk egy teszt tanúsítványt. A mod-ssl
csomagban lévõ makefile programot használtuk az egyéni Tanúsítvány
létrehozásához. Erre a
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># make certificate TYPE=custom</B
></PRE
></FONT
></TD
></TR
></TABLE
>
parancsot használtuk.
</P
><P
>Ezt a tanúsítványt tesztelési célokra használhatjuk.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN518"/>6.3. Tanúsítványok "üzemi" használatra</H3
><P
>"Üzemi" használathoz szükségünk lesz egy tanúsítványra valamely Certificate Authority-tól (tanúsítvány hatóság) (ezentúl CA). A CA-k a tanúsítványt áruba bocsátók, akik egy megbízható CA listán vannak a felhasználó böngészõ kliensében. Mint azt az algoritmus titkosítás részben említettem, ha a CA nincs a megbízott hatóságok listáján, a felhasználó figyelmeztetõ üzenetet kap, amikor megpróbál kapcsolódni egy biztosított/biztonságos helyhez.</P
><P
>&#13;Hasonlóan a teszt tanúsítványokhoz, ez is küld egy figyelmeztetõ üzenetet
a felhasználó böngészõjének.
</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN522"/>6.4. Hogyan generálhatsz a CSR-t?</H3
><P
>&#13;A CSR (TAK) vagy Certificate Signing Request-et (tanúsítvány aláírási kérelem) el kell küldeni egy megbízott CA-nak aláírásra. Ez a rész foglalkozik azzal, hogyan generálhatsz CSR-t és küldheted el egy általad kiválasztott CA-nak.
Az <B
CLASS="command"
># openssl req</B
> parancs használható erre, az alábbiak szerint:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># cd /usr/local/apache/conf/</B
>
<B
CLASS="command"
># /usr/local/ssl/bin/openssl req -new -nodes -keyout private.key -out public.csr</B
>
Generating a 1024 bit RSA private key
............++++++
....++++++
writing new private key to 'private.key'
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:US
State or Province Name (full name) [Some-State]:California
Locality Name (eg, city) []:San Jose
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Seagate
Organizational Unit Name (eg, section) []:Global Client Server
Common Name (eg, YOUR name) []:xml.seagate.com
Email Address []:saqib@seagate.com

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:badpassword
An optional company name []:

</PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Megjegyzés"/></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>"PRNG not seeded" üzenet</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Ha nincs <TT
CLASS="filename"
>/dev/random</TT
> könyvtár a rendszerünkön, <EM
>"PRNG not seeded" </EM
> hibaüzenetet kapsz. Ebben az esetben add ki a következõ parancsot:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># /usr/local/ssl/bin/openssl req -rand <TT
CLASS="filename"
>some_file.ext</TT
> -new -nodes -keyout private.key -out public.csr </B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A "some_file.ext" részt cseréljük ki egy rendszerünkön létezõ fájl nevére. Bármilyen fájlt megadhatunk. Az Openssl ezt fogja véletlen szám generáláshoz használni.</P
><P
>A Solaris 9 rendszer részeként adnak <TT
CLASS="filename"
>/dev/random</TT
> fájlt. Amennyiben Solaris rendszert használsz, elképzelhetõ, hogy telepítened kell a <A
HREF="http://sunsolve.sun.com/pub-cgi/findPatch.pl?patchId=112438"
TARGET="_top"
>112438</A
> foltot a /dev/random fájl használatához.</P
></TD
></TR
></TABLE
></DIV
><P
>&#13;Ezen a ponton pár kérdést tesz fel a szerver helyérõl, hogy generálhassa
a Certificate Signing Request-et.
</P
><P
>&#13;Megjegyzés: A közönséges neved (Common Name) a teljes DNS neve (Fully Qualified DNS) a webszerverednek, például
dav.server.com. Ha mást írsz oda, akkor NEM fog mûködni. Jegyezd meg a használt jelszót, a jövõbeli használat érdekében.
</P
><P
>Mihelyst befejezõdött a folyamat, lesz egy <TT
CLASS="filename"
>private.key</TT
> és egy <TT
CLASS="filename"
>public.csr</TT
> fájlod.
Szükséged lesz a <TT
CLASS="filename"
>public.csr</TT
> fájlt bemutatnunk a CA-nak.
Ekkor a public.key fájl még nem titkosított. A titkosításhoz használd az
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
> <B
CLASS="command"
># mv private.key private.key.unecrpyted</B
>
<B
CLASS="command"
># /usr/local/ssl/bin/openssl rsa -in private.key.unecrpyted -des3 -out private.key</B
>
</PRE
></FONT
></TD
></TR
></TABLE
><P
>parancsokat.</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="InstallingServerCert"/>6.5. A szerver titkos kulcsának és tanúsítványának telepítése</H3
><P
>Miután a CA feldolgozta a kérésed, visszaküldenek egy kódolt tanúsítványt. A Digitális Tanúsítvány formátumát az  X.509 v3 szabvány határozza meg. A következõkben látható egy tipikus, X509 v3 szabvány szerinti Digitális Tanúsítvány felépítése:</P
><P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Certificate
 			<P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Version</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>Serial Number</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>Algorithm ID</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>Issuer</P
></LI
></UL
>
 			<P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Validity</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Not Before</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>Not After</P
></LI
></UL
></LI
></UL
>
 			<P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Subject</P
></LI
></UL
>
 			<P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Subject Public Key Info</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Public Key Algorithm</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>RSA Public Key</P
></LI
></UL
></LI
></UL
>
 			<P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>Extensions</P
></LI
></UL
>
 		</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>Certificate Signature Algorithm</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>Certificate Signature</P
></LI
></UL
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN594"/>6.5.1. Egy Digitális Tanúsítvány ellenõrzése</H4
><P
>Egy X.509 Tanúsítvány ellenõrzésére használd a következõ parancsot: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># openssl verify <TT
CLASS="filename"
>server.crt</TT
></B
>
 server.crt: OK </PRE
></FONT
></TD
></TR
></TABLE
><P
>Ahol a <TT
CLASS="filename"
>server.crt</TT
> a Digitális Tanúsítványt tartalmazó fájl neve.</P
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="viewingdigitcertcontent"/>6.5.2. Egy Digitális Tanúsítvány tartalmának megtekintése</H4
><P
>Egy Digitális Tanúsítvány tartalma megtekinthetõ a <B
CLASS="command"
># openssl x509</B
> parancs használatával, az alábbiak szerint:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># openssl x509 -text -in <TT
CLASS="filename"
>server.crt</TT
></B
>
 Certificate:
     Data:
         Version: 3 (0x2)
         Serial Number: 312312312 (0x0)
         Signature Algorithm: md5WithRSAEncryption
 	Issuer: C=US, O=GTE Corporation, CN=GTE CyberTrust Root
         Validity
             Not Before: Feb  8 03:25:50 2000 GMT
             Not After : Feb  8 03:25:50 2001 GMT
 	    Subject: C=US, ST=New York, L=Pelham, O=xml-dev, OU=web, CN=www.xml-dev.com/Email=saqib@xml-dev.com
         Subject Public Key Info:
             Public Key Algorithm: rsaEncryption
             RSA Public Key: (1024 bit)
                 Modulus (1024 bit):
 		............
 		............
                 Exponent: 65537 (0x10001)
     Signature Algorithm: md5WithRSAEncryption
     	............
 	............

 	</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN609"/>6.5.3. A httpd.conf fájl módosítása a tanúsítványok telepítéséhez</H4
><P
>Ezt kell elhelyezned a szerveren, és beállítanod az Apache-ban ennek helyét.</P
><P
>Például a titkos kulcsot az <TT
CLASS="filename"
>/usr/local/apache2/conf/ssl.key/</TT
> könyvtárba, a tanúsítványt pedig az <TT
CLASS="filename"
>/usr/local/apache2/conf/ssl.crt/</TT
> könyvtárba.</P
><P
>Másold le a tanúsítványt egy <TT
CLASS="filename"
>server.crt</TT
> nevû fájlba, az <TT
CLASS="filename"
>/usr/local/apache2/conf/ssl.crt/</TT
> könyvtárba.</P
><P
>Az elõzõ lépésben generált private.key fájlt helyezd az <TT
CLASS="filename"
>/usr/local/apache2/conf/ssl.key/</TT
> könyvtárba</P
><P
>Ezután módosítsd az <TT
CLASS="filename"
>/usr/local/apache2/conf/ssl.conf</TT
> fájlt, hogy a megfelelõ titkos kulcsra és tanúsítványra mutasson:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;#   Server Certificate:
#   Point SSLCertificateFile at a PEM encoded certificate.  If
#   the certificate is encrypted, then you will be prompted for a
#   pass phrase.  Note that a kill -HUP will prompt again.  Keep
#   in mind that if you have both an RSA and a DSA certificate you
#   can configure both in parallel (to also allow the use of DSA
#   ciphers, etc.)
<STRONG
>SSLCertificateFile /usr/local/apache2/conf/ssl.crt/server.crt</STRONG
>
#SSLCertificateFile /usr/local/apache2/conf/ssl.crt/server-dsa.crt

#   Server Private Key:
#   If the key is not combined with the certificate, use this
#   directive to point at the key file.  Keep in mind that if
#   you've both a RSA and a DSA private key you can configure
#   both in parallel (to also allow the use of DSA ciphers, etc.)
<STRONG
>SSLCertificateKeyFile /usr/local/apache2/conf/ssl.key/private.key</STRONG
>
#SSLCertificateKeyFile /usr/local/apache2/conf/ssl.key/server-dsa.key
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN625"/>6.6. A jelmondat (passphrase) eltávolítása az RSA titkos kulcsból</H3
><P
>A webszerveren tárolt RSA titkos kulcs általában titkosított, ezért szükséged van egy jelmondatra a használatához. Ezért kér jelmondatot, 
mikor az Apache-ot modssl-el indítod:</P
><P
>&#13;<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># apachectl startssl</B
>
<B
CLASS="command"
>Apache/1.3.23 mod_ssl/2.8.6 (Pass Phrase Dialog)</B
>
<B
CLASS="command"
>Some of your private key files are encrypted for security reasons.</B
>
<B
CLASS="command"
>In order to read them you have to provide us with the pass phrases.</B
>
<B
CLASS="command"
>Server your.server.dom:443 (RSA)</B
>
<B
CLASS="command"
>Enter pass phrase:</B
>
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>Az RSA titkos kulcs titkosítása nagyon fontos. Ha valaki megkaparintja a
"titkosítatlan RSA titkos kulcsot", akkor könnyen eltulajdoníthatja a  webszervert. Ha a kulcs titkosított, az illetõ nem tud semmit tenni a jelmondat
nélkül, hacsak "nyers erõvel" (brute force) fel nem töri. Használj erõs (értsd: hosszú és értelmetlen) jelmondatot erre a célra. </P
><P
>A kulcs titkosítása néha kellemetlenség forrása is lehet, mivel a webszerver minden indításakor kéri a jelmondatot. Különösen ha rc
szkripteket használunk, a webszerver rendszerindításkor történõ betöltéséhez. A jelmondat bekérése problémát okozhat, mivel megállítja a folyamatot, bemenetre vár.</P
><P
>Könnyen megszabadulhatsz a jelmondattól, ha visszafejted (decrypt) a kulcsot. Bizonyosodj meg arról, hogy senki se szerezheti meg a kulcsot. Vedd figyelembe a biztonsági és védelmi ajánlásokat, mielõtt visszafejted a kulcsot a webszerveren.</P
><P
>A kulcs visszafejtésének módja:</P
><P
>Elõször készíts másolatot a titkosított kulcsról</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># cp server.key server.key.cryp</B
></PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>aztán írd újra a kulcsot titkosítással. Kérni fogja tõled az eredeti
titkosított kulcs jelmondatát:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
><B
CLASS="command"
># /usr/local/ssl/bin/openssl rsa -in server.key.cryp -out server.key</B
>
read RSA key
Enter PEM pass phrase:
writing RSA key
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
><P
>&#13;Íme egy módja annak, miként biztosíthatod a visszafejtett titkos kulcsot. Így csak a root felhasználó olvashatja:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># chmod 400 server.key</B
>
</PRE
></FONT
></TD
></TR
></TABLE
>
</P
></DIV
><DIV
CLASS="sect2"
><HR/><H3
CLASS="sect2"
><A
NAME="AEN651"/>6.7. SSL teljesítménybeállítás</H3
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
NAME="AEN653"/>6.7.1. Munkafolyamatok közötti SSL részfolyamat-gyorstár  (Inter Process SSL Session Cache)</H4
><P
> Az Apache többfolyamatos modellt használ, amelyben NEM ugyanaz a munkafolyamat foglalkozik az összes kéréssel. Ennek eredményeként az SSL részfolyamat adatai (Session Information) elvesznek, mikor a kliens többszörös kéréssel fordul a szerverhez. A többszörös kapcsolódás nagy többletterhelést jelent a webszervernek és a kliensnek. Ennek elkerülésére az SSL részfolyamatok adatai egy munkafolyamatok közötti részfolyamat-tárban tárolódnak, ez lehetõvé teszi a munkafolyamatok számára a kapcsolódási adatokhoz való hozzáférést. Az SSLSessionCache kapcsoló az <TT
CLASS="filename"
>/usr/local/apache2/conf/ssl.conf</TT
> fájlban van, itt határozhatod meg az SSL részfolyamat-gyorstár helyét:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;SSLSessionCache        shmht:logs/ssl_scache(512000)
#SSLSessionCache        shmcb:logs/ssl_scache(512000)
#SSLSessionCache         dbm:logs/ssl_scache
SSLSessionCacheTimeout  300
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A dbm használata: a logs/ssl_scache DBF hash-fájlt készít gyorstárként a helyi lemezeden.</P
><P
>A shmht használata: a logs/ssl_scache(512000) a gyorstárat a megosztott memóriában hozza létre.</P
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Megjegyzés"/></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>shmht vs shmcb</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>shmht: egy hash táblát használ az SSL kapcsolódási adatok gyorstárazására a megosztott memóriában.</P
><P
>shmht: egy ciklikus buffert használ az SSL kapcsolódási adatok gyorstárazására a megosztott memóriában.</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Megjegyzés"/></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Megjegyzés:</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Nem minden platform/operációs rendszer támogatja hash tábla létrehozását a megosztott memóriában. Ekkor a "dbm:logs/ssl_scache"-t kell használnod helyette.</P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect3"
><HR/><H4
CLASS="sect3"
><A
NAME="AEN667"/>6.7.2. Az SSLSession gyorstár ellenõrzése</H4
><P
>Az SSLSessionCache megfelelõ mûködésének ellenõrzésére az <B
CLASS="command"
>openssl</B
> segédprogramot használhatod a <B
CLASS="command"
>-reconnect</B
> kapcsolóval, mint azt a következõkben láthatod:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;<B
CLASS="command"
># openssl s_client -connect your.server.dom:443 -state  -reconnect</B
>

CONNECTED(00000003)
.......
.......
Reused, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
SSL-Session:
.....
Reused, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
SSL-Session:
.....
Reused, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
SSL-Session:
.....
Reused, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
SSL-Session:
.....
Reused, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
SSL-Session:
.....
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A <B
CLASS="command"
>-reconnect</B
> kapcsoló kényszeríti az "s_client"-et arra, hogy ötször ugyanazzal a SSL munkafolyamat-azonosítóval (SSL session ID) kapcsolódjon a szerverhez. Ötször ugyanannak az SSL munkafolyamat-azonosítónak az újrahasználatát kell látnod, mint a fenti példában.</P
></DIV
></DIV
></DIV
><DIV
CLASS="appendix"
><HR/><H1
CLASS="appendix"
><A
NAME="AEN676"/>A. HTTP/HTTPS teljesítménybeállító programok</H1
><P
>Íme egy lista, a Web szerverekhez használható, nyílt forrású teljesítménybeállító programokról:</P
><P
></P
><OL
TYPE="i"
><LI
><P
><A
HREF="http://distcache.sourceforge.net/"
TARGET="_top"
>SSLswamp</A
> - 
		egy SSL-t használó szerverhez csatlakozni képes terhelhetõségi teszt/teljesítménymérõ program</P
></LI
><LI
><P
><A
HREF="http://www.hpl.hp.com/personal/David_Mosberger/httperf.html"
TARGET="_top"
>HTTPERF</A
> - Egy eszköz a Web szerver teljesítményének beméréséhez</P
></LI
><LI
><P
><A
HREF="http://httpd.apache.org/docs-2.1/en/programs/ab.html"
TARGET="_top"
>ab</A
> - Apache HTTP szerver teljesítménybeállító program</P
></LI
></OL
></DIV
><DIV
CLASS="appendix"
><HR/><H1
CLASS="appendix"
><A
NAME="AEN689"/>B. Hardveres SSL titkosítási megoldások</H1
><P
>A következõ hardveres SSL titkosítási megoldások érhetõk el:</P
><P
></P
><OL
TYPE="i"
><LI
><P
><A
HREF="http://www.ncipher.com"
TARGET="_top"
>CHIL (Cryptographic Hardware Interface Library; titkosító hardverek csatolófelületeinek programkönyvtára)</A
>  az nCipher-tõl</P
></LI
><LI
><P
><A
HREF="http://httpd.apache.org/docs-2.1/en/programs/ab.html"
TARGET="_top"
>ab</A
> - Apache HTTP szerver teljesítménybeállító program</P
></LI
></OL
></DIV
><DIV
CLASS="appendix"
><HR/><H1
CLASS="appendix"
><A
NAME="AEN699"/>C. Megbízott tanúsítvány hatóságok (Trusted Certificate Authorities)</H1
><P
>Íme a tanúsítvány hatóságok (Certificate Authorities) listája, amelyeket a különbözõ böngészõk megbízhatónak minõsítenek:</P
><P
></P
><OL
TYPE="i"
><LI
><P
><A
HREF="http://www.baltimore.com/"
TARGET="_top"
>Baltimore</A
></P
></LI
><LI
><P
><A
HREF="http://www.entrust.com/"
TARGET="_top"
>Entrust</A
></P
></LI
><LI
><P
><A
HREF="http://www.globalsign.net/"
TARGET="_top"
>GeoTrust</A
></P
></LI
><LI
><P
><A
HREF="http://www.thawte.com"
TARGET="_top"
>Thawte</A
></P
></LI
><LI
><P
><A
HREF="http://www.trustcenter.de/"
TARGET="_top"
>TrustCenter</A
></P
></LI
></OL
></DIV
><DIV
CLASS="GLOSSARY"
><H1
><A
NAME="glossary"/>A nyilvános kulcsú titkosítással kapcsolatos szavak gyûjteménye</H1
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN720"/>A</H1
><DL
><DT
><A
NAME="asymmetric_crypt"/><B
>Asymmetric Cryptography (aszimmetrikus titkosítás)</B
></DT
><DD
><P
>Ez a titkosítás egy kulcspárt - titkos (Private) és nyilvános (Public) kulcsot használ. A titkos kulcsot (Private Key) biztonságos helyen kell tartani, a nyilvános kulcsot (Public Key) pedig széles körben terjeszteni.</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN726"/>C</H1
><DL
><DT
><A
NAME="certificate"/><B
>Certificate (tanúsítvány)</B
></DT
><DD
><P
>Egy adatjegyzék, amely az <A
HREF="#InstallingServerCert"
>X.509 Format</A
>-ban szereplõ információkat tartalmazza. </P
></DD
><DT
><A
NAME="ca"/><B
>Certificate Authority (CA) (tanúsítvány hatóság; TH)</B
></DT
> (CA)<DD
><P
>A digitális tanúsítvány (Digital Certificate) kibocsátója. Azon végfelhasználó (End-Entity) azonosságát is hitelesíti, amelynek birtokában van a digitális tanúsítvány.</P
></DD
><DT
><A
NAME="csr"/><B
>Certificate Signing Request (CSR) (tanúsítvány aláírási kérelem; TAK)</B
></DT
> (CSR)<DD
><P
>A tanúsítvány aláírási kérelem (Certificate Signing Request; CSR) az, ami elküldésre kerül a tanúsítvány hatóságnak (Certifiate Authority; CA) bejegyzésre. Az aláírási kérelem tartalmazza a végfelhasználó (End-Entity) nyílvános kulcsát (Public Key), amelyre a digitális tanúsítványt kérelmezik.</P
></DD
><DT
><A
NAME="cn"/><B
>Common Name (CN) (közönséges név)</B
></DT
> (CN)<DD
><P
>A közönséges név (Common Name) a végfelhasználó (End-Entity) neve, például Saqib Ali. Ha a végfelhasználó egy webszerver, akkor ez a webszerver "teljesen képzett domain neve" (Fully Qualified Domain Name; FQDN).</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN748"/>D</H1
><DL
><DT
><A
NAME="digitcert"/><B
>Digital Certificate (digitális tanúsítvány)</B
></DT
><DD
><P
>Egy tanúsítvány kapcsolja a nyilvános kulcsot (Public Key) egy személyhez (Subject; end-entity). Ez a tanúsítvány az <A
HREF="#InstallingServerCert"
>X.509 Format</A
>-ban meghatározott egyéb azonosító információkat is tartalmaz a személyrõl. A kibocsátó CA (tanúsítvány hatóság; TH) aláírásával van ellátva, annak titkos kulcsát használva ehhez a mûvelethez. Íme egy <A
HREF="#viewingdigitcertcontent"
>digitális tanúsítvány</A
>.</P
></DD
><DT
><A
NAME="digitsign"/><B
>Digital Signature (digitális aláírás)</B
></DT
><DD
><P
>Egy digitális aláírás (Digital Signature) az üzenetkivonat (Message Digest) titkos kulccsal történõ aláírásával készíthetõ el.  Biztosít a küldõ (Sender) (személy)azonosságáról (Identity) és az adat sértetlenségérõl (Integrity of the Data).</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN760"/>E</H1
><DL
><DT
><A
NAME="end_entity"/><B
>End-Entity (végfelhasználó)</B
></DT
><DD
><P
>Egy felhasználó, aki részt vesz a nyilvános kulcsú titkosításban. Általában szerver, szolgáltatás (Service), útválasztó (Router) vagy személy. A tanúsítvány hatóság (Certificate Authority; CA) nem végfelhasználó.</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN766"/>H</H1
><DL
><DT
><A
NAME="hash"/><B
>Hash (a titkosítás eredménye)</B
></DT
><DD
><P
>A titkosítás eredménye egy hexadecimális szám, amely egy szöveg karakterláncából lett generálva, ezért két különbözõ karakterlánc nem képes ugyanazt a titkosított eredményt produkálni.</P
></DD
><DT
><A
NAME="hmac"/><B
>HMAC: Keyed Hashing for Message Authentication (kulcsos titkosítás üzenethitelesítéshez)</B
></DT
> (HMAC)<DD
><P
>A HMAC egy megvalósítása az üzenethitelesítõ-kód algoritmusnak (Message Authentication Code Algorithm).</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN777"/>M</H1
><DL
><DT
><A
NAME="mac"/><B
>Message Authentication Code (üzenethitelesítõ-kód)</B
></DT
> (MAC)<DD
><P
>Hasonló az üzenetkivonathoz (Message Digest; Hash/Fingerprint), azzal a különbséggel, hogy a titkosított eredmény kiszámításához a megosztott rejtett kulcs (Shared Secret Key) lett felhasználva. Mivel a rejtett kulcs lett felhasználva, ezért egy támadó nem tudja megváltoztatni az üzenetkivonatot. Mindezek mellett a rejtett kulcsok kell elõször közölni a partnerekkel, ellentétben a digitális aláírással, amelynél az üzenetkivonat a titkos kulccsal (Private Key) van aláírva. A HMAC egy példája az üzenethitelesítõ-kód algoritmusnak.</P
></DD
><DT
><A
NAME="md5"/><B
>Message Digest 5 - MD5 (üzenetkivonat 5)</B
></DT
> (MD5)<DD
><P
>Az üzenetkivonat 5 (Message Digest 5; MD5) egy 128 bites egyirányú titkosító függvény.</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN789"/>P</H1
><DL
><DT
><A
NAME="private_key"/><B
>Private Key (titkos kulcs)</B
></DT
><DD
><P
>A titkos kulcsot - az aszimmetrikus titkosítási rendszerben - a tulajdonosa (End-Entity) biztonságos helyen tartja. Titkosításra és visszafejtésre használható.</P
></DD
><DT
><A
NAME="public_key"/><B
>Public Key (nyilvános kulcs)</B
></DT
><DD
><P
>Az aszimmetrikus titkosítás nyilvános kulcsát széles körben terjesztik. Titkosításra és visszafejtésre használható.</P
></DD
><DT
><A
NAME="pki"/><B
>Public Key Infrastructure (PKI) (nyilvános kulcsos rendszer; NYKR)</B
></DT
> (PKI)<DD
><P
>Nyilvános kulcsos rendszer.</P
></DD
></DL
></DIV
><DIV
CLASS="glossdiv"
><H1
CLASS="glossdiv"
><A
NAME="AEN804"/>S</H1
><DL
><DT
><A
NAME="sha1"/><B
>SHA-1: Secure Hash Algorithm (biztonságos titkosító algoritmus)</B
></DT
> (MD5)<DD
><P
>A biztonságos titkosító algoritmus (Secure Hash Algorithm; SHA-1) egy 160 bites egyirányú titkosító függvény. Az üzenet maximális hossza 2^64 bit.</P
></DD
><DT
><A
NAME="sslayer"/><B
>Secure Socket Layer (SSL) (Biztonsági Alréteg)</B
></DT
> (SSL)<DD
><P
>Az SSL egy biztonsági protokoll, amely hitelességet (digitális aláírás), megbízhatóságot (titkosítás) és adatsértetlenséget (üzenet ellenõrzés - MD5, SHA, stb.) biztosít</P
></DD
><DT
><A
NAME="symmetric_crypt"/><B
>Symmetric Cryptography (Szimmetrikus Titkosítás)</B
></DT
><DD
><P
>Ebben a rendszerben az üzenet ugyanazzal a kulccsal titkosítható és visszafejthetõ. (((n^2-n))/2) számú kulcsra van szüksége n felhasználónak, ha ezen módszer szerint akarnak titkosítani.
	</P
></DD
></DL
></DIV
></DIV
></DIV
></BODY
></HTML
>
