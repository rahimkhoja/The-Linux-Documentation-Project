<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">

 <TITLE>Linux érintõképernyõ HOGYAN</TITLE>
</HEAD>
<BODY>
<H1>Linux érintõképernyõ HOGYAN</H1>

<H2>Christoph Baumann, cgb@debian.org</H2>v3.1, 2002.11.06
<HR>
<EM>Ez a dokumentum leírja, hogyan állítsunk be egy érintõképernyõt mint beviteli
eszközt XFree86 alatt. A szerzõnek mindössze EloTouch&reg; és MicroTouch&reg;
eszközökkel volt alkalma dolgozni, így ez a HOGYAN leginkább ezek beállításához
használható. Az ebben a HOGYANban található példák a /dev/ttyS0 vagy /dev/ttyS1
soros porton keresztül csatlakoztatott eszközökre koncentrálnak.
(Értékelnénk ha valaki USB eszközrõl is adna információt!)</EM>
<HR>
<P>(c) 2002 by Christoph Baumann. Ez a dokumentáció szabadon terjeszthetõ a GNU Free Documentation License leírása szerint.</P>
<H2><A NAME="s1">1. Az eszköz beállítása</A></H2>

<P>Az érintõképernyõ eszközök beállítása az XF86Config állomány 
(ált. /etc/X11/XF86Config vagy /etc/XF86Config) Xinput szakaszában szerepel.
Elõször ellenõrizzük le, hogy az eszközmeghajtó modul létezik. Ezek az 
/usr/X11R6/lib/modules/ könyvtárban találhatók (a fent említett eszközökhöz az  
xf86Elo.so és xf86MuTouch.so modulok tartoznak). Most vessünk egy pillantást 
az XF86Config állományra. Valahol szerepelni kell benne egy szakasznak, ami ehhez hasonlóan néz ki:</P>
<P>
<PRE>
Section "Files"
...
ModulePath "/usr/X11R6/lib/modules"
...
EndSection
</PRE>
</P>
<P>Ahhoz, hogy az X szerver betöltse a modult lennie kell egy hasonló szakasznak benne:</P>
<P>
<PRE>
Section "Module"
Load "xf86Elo.so"
EndSection
</PRE>
</P>
<P>Most egy még trükkösebb rész következik. Az X szervernek szüksége van az eszköz néhány paraméterére. Ennek a résznek valami hasonlónak kell lenni
(a "man XF86Config" parancs segítségével részletesebb információhoz juthatunk):</P>
<P>
<PRE>
Section "Xinput"
 SubSection "Elographics"  
#MicroTouch eszközök használatakor a következõ alfejezetet 
#kellene bejegyeznünk: SubSection "MicrotouchFinger"
  Port "/dev/ttyS1" # az eszköz a 2. soros portra csatlakozik
  DeviceName "TouchScreen" #itt egyértelmû azonosítót kötelezõ megadnunk
  MinimumXPosition 300
  MaximumXPosition 3700
  MinimumYPosition 300
  MaximumYPosition 3700
  UntouchDelay 10 #MuTouch eszközök nem támogatják
  ReportDelay 10  #MuTouch eszközök nem támogatják
  AlwaysCore #az eszköz induláskor aktiválódik
 EndSubSection
EndSection
</PRE>
</P>
<P>A MinimumXPosition stb. bejegyzések értékei természetesen az érintõképernyõ  
beállításai (úgymint az érintõképernyõ monitortól számított viszonylagos helyzete 
az adott síkban). Ezek az értékek határozzák meg a monitorunkon megjelenített (0,0) és (xmax,ymax)  
pontok hozzárendelését az érintõképernyõnkhöz (az xmax és ymax értékek az X  
szerverben beállított felbontástól függenek, pl. 1024x768). Az érintõképernyõ 
kiolvassa ezeket az értékeket és felhasználja a képpontok interpolálásához. 
Próbáljuk megérteni a következõ szemléltetõ ábra alapján:</P>
<P>
<PRE>
 ---------------érintõképernyõ-------------------
 I                                              I
 I  ########látható kép területe##############  I
 I  #x                                       #  I
 I  # (0,0)                                  #  I
 I  # (MinimumXPosition,MinimumYPosition)    #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #     (MaximumXPosition,MaximumYPosition)#  I
 I  #                             (xmax,ymax)#  I
 I  #                                       x#  I
 I  ##########################################  I
 I                                              I
 ------------------------------------------------
</PRE>
</P>
<P>Ezt megtehetjük próbálgatással vagy az eszköz kimeneti jelének
olvasásával (némelyik soros portnak programozásra van szüksége, errõl
a "The Linux Serial Programming HOWTO" ("A soros port programozása 
Linux alatt HOGYAN") leírásban olvashatunk. EloTouch és MicroTouch tipusú eszközökhöz 
létezik egy kezdetleges beállító segédprogram, amit ezen leírás szerzõje készített. 
Ezt a következõ helyen találjuk meg: 
<A HREF="ftp://metalab.unc.edu/pub/linux/X11/xutils/touchcal-0.1.tar.gz">ftp://metalab.unc.edu/pub/linux/X11/xutils/touchcal-0.1.tar.gz</A>).</P>
<H2><A NAME="s2">2. Az eszköz beüzemelése</A></H2>

<P>Az X szerver indítása után, egy Xterminal ablakba gépeljük be a következõ parancsot: </P>
<P><CODE>xsetpointer &lt;devicename&gt;</CODE></P>
<P>ahol <CODE>&lt;devicename&gt;</CODE> az XF86Configban a következõ sorral
meghatározott név:
<CODE>DeviceName "....."</CODE>, ebben a példában ennek "TouchScreen"-nek kell lennie.</P>
<P>Ha az eszközt az X szerver indulásával egyidejûleg szeretnénk indítani
használjuk az "AlwaysCore" beállítást (lásd feljebb).</P>
<H2><A NAME="s3">3. Érintõképernyõ és egér párhuzamos használata</A></H2>

<P>Az érintõképernyõ és egér párhuzamos használatának beállításához lépjünk be
az Xinput szakasz egér beállítási részébe. A meghatározások ugyanazok
mint a "pointer" szakaszban. Íme egy példa PS/2 egér beállításra:
<PRE>
Section "Xinput" 
   SubSection "Mouse" 
      Protocol "PS/2" 
      Port "/dev/mouse" #ez lehet "/dev/psaux" is 
      DeviceName "Mouse" 
      AlwaysCore 
   EndSubSection
...
EndSection 
</PRE>

Néhány ember hívta fel a figyelmem erre, különösen az "AlwaysCore" beállítás 
használatára. Köszönet nekik érte.</P>
<H2><A NAME="s4">4. Beállítás XFree86 4.x alatt</A></H2>

<P>(Lee Monamy készítette)</P>
<P>Példa egy ELO tipusú érintõképernyõ beállítására XF86Config-4.x alatt:</P>
<P>
<PRE>
Section "InputDevice"
        Identifier "ELO touchscreen"
        Driver "elographics"
        Option  "Device"        "/dev/ttyS0"
        Option  "MinimumXPosition"      "300"
        Option  "MaximumXPosition"      "3700"
        Option  "MinimumYPosition"      "300"
        Option  "MaximumYPosition"      "3700"
        Option  "UntouchDelay"  "10"
        Option  "ReportDelay"   "10"
        Option  "SendCoreEvents"        "yes"
EndSection
</PRE>
</P>
<P>Lényeges különbségek a 3.x változathoz képest, hogy egy eszközt kell megadnunk 
__nem__ pedig egy portot, különben hibajelzést kapunk. Az "AlwaysCore" helyett
"SendCoreEvents"-t kell használni.</P>
<P>Ki kell egészítenünk a ServerLayout szakaszt annak ellenére, hogy az X a
következõt írja ki:
"(II) XINPUT: Adding extended input device "TOUCHSCREEN" (type:
Elographics Touch Screen)"
magyarul: "(II) XINPUT: Kibõvített beviteli eszköz hozzáadva
"ÉRINTÕKÉPERNYÕ" (típus: Elographics Touch Screen)"</P>
<P>
<PRE>
Section "ServerLayout"
        Identifier      "Default Layout"
        Screen  "Default Screen"
        InputDevice "Generic Keyboard"
...
        InputDevice "ELO touchscreen"
EndSection
</PRE>
</P>
<H2><A NAME="ss4.1">4.1 Másik beállítási példa</A>
</H2>

<P>Dirk Mueller-tõl 
(Microtouch SMT3 sorozat):</P>
<P>
<PRE>
Section "InputDevice"
        Identifier  "MicroTouchFinger"
        Driver      "mutouch"
        Option      "Type" "finger"
        Option      "Device" "/dev/ttyS0"
        Option      "ScreenNo" "0"
        Option      "MinimumXPosition" "0"
        Option      "MaximumXPosition" "16383"
        Option      "MinimumYPosition" "0"
        Option      "MaximumYPosition" "16383"
EndSection
</PRE>
</P>
<P>A "Type" beállítás lehet "finger" vagy "stylus"
Mióta a Microtouch-ot felvásárolta a 3M-Touch támogatás az eszközökhöz a következõ helyen található:
<A HREF="http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux">http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux</A></P>
<H2><A NAME="ss4.2">4.2 Kiegészítés</A>
</H2>

<P>Wong Yeow Sen szerint a beállítási változók nevei megváltoztak
az XFree86 4.2 változatában (legfeljebb a Red Hat 7.3 óta). Ha úgy néz ki,
hogy a beállított kalibrációs értékeket nem dolgozza fel, próbáld meg a következõt:</P>
<P>
<PRE>
...
        Option  "MinX"      "100"
        Option  "MaxX"      "4000"
        Option  "MinY"      "100"
        Option  "MaxY"      "4000"
...
</PRE>
</P>
<H2><A NAME="s5">5. Érintõképernyõk Fujitsu LifeBooks gépeken</A></H2>

<P>(Joerg Hau-tól)</P>
<P>Ezen eszközökrõl a következõ helyeken találsz információt:</P>
<P>"...</P>
<P>Harald Hoyer Linux érintõpanel meghajtó programok Fujitsu Lifebooks gépekhez
B112/B142/B2130,
<A HREF="http://parzelle.de/Linux/Lifebook/">http://parzelle.de/Linux/Lifebook/</A>. Sajnos ez csak az XFree 3.x
változatával használható és úgy néz ki, hogy az itt lévõ információ nem
változik (halott?).</P>
<P>Kenan Esau Lifebook B sorozat érintõképernyõ meghajtóprogram, amely Harald
programjának átirata az XFree 4.x változatára.
<A HREF="http://www.conan.de/lifebook/lifebook.html">http://www.conan.de/lifebook/lifebook.html</A>.</P>
<P>Én [Joerg Hau] Kenan meghajtó programját használom a Fujitsu LifeBook B142 gépemen
(a leírás ezen a helyen található:
<A HREF="http://www.mysunrise.ch/users/joerg.hau/linux/b142.htm">http://www.mysunrise.ch/users/joerg.hau/linux/b142.htm</A>),
és tuti jól mûködik.</P>
<P>..."</P>
<H2><A NAME="s6">6. Ajánlott irodalom</A></H2>

<P>
<UL>
<LI>Az XF86Config használati útmutatója (manual page - a ford.)</LI>
<LI>
<A HREF="http://www.elotouch.com/support/linux.asp">http://www.elotouch.com/Support/linux.asp</A></LI>
<LI>
<A HREF="http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux">http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux</A></LI>
<LI>
<A HREF="http://www.hof-berlin.de/tablet/tablet.html">http://www.hof-berlin.de/tablet/tablet.html</A>
(Köszönet Christer Olofssonnak amiért elküldte ezt az URL-t)</LI>
<LI>Az érintõképernyõhöz mellékelt használati utasítás :-)</LI>
</UL>
</P>

<H2><A NAME="s7">7. Magyar fordítás</A></H2>

<P>A magyar fordítást 
<A HREF="mailto:dacas@freemail.hu_NO_SPAM">Daczi László</A> készítette (2002.07.18).
Bármilyen fordítással kapcsolatos észrevételt a 
<A HREF="mailto:linuxhowto@sch.bme.hu_NO_SPAM">linuxhowto@sch.bme.hu</A> címre küldjetek.
A lektorálást 
<A HREF="mailto:abrudana@freemail.hu_NO_SPAM">Abrudán Attila</A> végezte el (2002.09.06).
Frissítve 2002.11.07.-én. A dokumentum legfrissebb változata megtalálható a 
<A HREF="http://tldp.fsf.hu/index.html">Magyar Linux Dokumentációs Projekt</A> honlapján.</P>
</BODY>
</HTML>
