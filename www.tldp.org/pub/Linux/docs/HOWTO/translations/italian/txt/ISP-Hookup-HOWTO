  ISP-Hookup-HOWTO
  Egil Kvaleberg, egil@kvaleberg.no
  v1.26, 5 Marzo 1998

  Questo documento descrive come usare Linux per collegarsi a un Inter­
  net Service Provider tramite una connessione TCP/IP via modem.  Oltre
  alla procedura basilare di chiamata e attivazione del collegamento, si
  descrive anche la gestione della posta e delle news.  Traduzione ital­
  iana e manutenzione: Jose Luis Scanferlato (jls@acm.org).
  ______________________________________________________________________

  Indice Generale


  1. Introduzione
     1.1 Copyright
     1.2 Disconoscimento
     1.3 Traduzioni
     1.4 Nuove versioni di questo documento
     1.5 Commenti

  2. Come mi collego al resto del mondo?
     2.1 La configurazione basilare

  3. Come faccio a navigare?
  4. Come faccio a inviare e ricevere  (IDXposta elettronica)IDX?
  5. News
     5.1 Come faccio a configurare un news-reader online?
     5.2 Come faccio a configurare un news-reader offline?
     5.3 Come faccio a configurare C News?
     5.4 Come faccio a configurare Leafnode?

  6. Come faccio ad automatizzare la procedura di connessione?
  7. Parole finali
     7.1 Altre cose che dovrei sapere?

  8. Informazioni specifiche su alcuni Internet Provider
     8.1 Dove posso imparare di più?
     8.2 Ringraziamenti


  ______________________________________________________________________



  11..  IInnttrroodduuzziioonnee

  Questa descrizione è stata fatta per rispondere alcune delle domande
  di coloro che intendono configurare e usare Linux per collegarsi ai
  rispettivi ISP (Internet Service Provider) tramite collegamento
  telefonico.

  Per aiutare anche i meno esperti, si è tentato di coprire la maggior
  parte dei problemi incontrati. Questo creerà inevitabilmente un certo
  grado di sovrapposizione con altri documenti Howto di Linux e libri
  del LDP. Questi documenti dovrebbero essere consultati per un maggiore
  approfondimento e dettagli.

  La maggior parte della documentazione esistente è diretta a utenti con
  una certa esperienza, e quindi i principianti avranno spesso problemi
  ad individuare le informazioni significative.

  Per semplificare, negli esempi che seguiranno, verranno usate le
  seguenti informazioni:


  ·  User name: dirk

  ·  Password: PrettySecret

  ·  Internet service provider: acme.xz

  ·  Email server: mail.acme.xz

  ·  News server: news.acme.xz

  ·  Name server: 193.212.1.0

  ·  Numero di telefono: 12345678

  Il nostro dirk chiamerà il suo computer roderick.

  Tutti i riferimenti della tabella precedente dovrebbero naturalmente
  essere sostituiti con i valori adatti all'Internet Provider che si
  desidera usare. Spesso, un minimo di cambiamenti sarà sufficiente per
  quelli che hanno più Internet Provider. Mi piacerebbe essere informato
  sui problemi che riscontrate in merito.


  11..11..  CCooppyyrriigghhtt

  Copyright (c) 1996,1997,1998 by Egil Kvaleberg. Questo documento può
  essere distribuito sotto le condizioni stabilite dalla licenza LDP da
  http://sunsite.unc.edu/LDP/COPYRIGHT.html


  11..22..  DDiissccoonnoosscciimmeennttoo

  L'autore non si assume nessuna responsabilità sul contenuto di questo
  documento. Usate i concetti, esempi e tutto quanto a vostro proprio
  rischio.

  Una delle molte possibili configurazioni verrà descritta. Nel mondo
  Linux, normalmente esistono più modi di ottenere una cosa. I paragrafi
  contenenti suggerimenti alternativi sono contraddistinti da
  AALLTTEERRNNAATTIIVVAA:: Tenete anche in considerazione che i riferimenti FTP
  spesso cambiano man mano che arrivano nuove versioni.

  Saranno descritti soltanto programmi che sotto certe condizioni (per
  quanto ne so Io) possono essere usati o valutati per scopi privati. La
  maggior parte dei programmi sono disponibili con i rispettivi sorgenti
  sotto condizioni GNU o simile.


  11..33..  TTrraadduuzziioonnii

  Oltre a questa, sono disponibili traduzioni di questo documento nelle
  seguenti lingue:

  Tedesco, da Cristoph Seibert: http://tech.appl-opt.physik.uni-
  essen.de/LinuX/german-howto/DE-ISP-Verbindung-HOWTO.html

  Coreano, da Kidong Lee: http://www.postech.ac.kr/~cessi/howto/ISP-
  Hookup/ISP-Hookup-HOWTO.html

  Francese, da Eric Jacoboni: http://www.minet.net/linux/HOWTO-fr/ISP-
  Hookup-HOWTO.html

  Polacco, da Piotr Pogorzelski: UURRLL TTBBAA

  Norvegese: http://www.kvaleberg.com/no-linux.html

  11..44..  NNuuoovvee vveerrssiioonnii ddii qquueessttoo ddooccuummeennttoo

  L'ultima versione (in italiano) di questo documento, sarà sempre
  reperibile nell'area WWW e FTP dell'Italian Linux Documentation
  Project (rispettivamente http://www.pluto.linux.it/ildp/ e
  ftp://ftp.pluto.linux.it/pub/ildp/ per la rete commerciale, e
  http://ildp.psy.unipd.it e ftp://ftp.psy.unipd.it/pub/pluto/ildp/ per
  la rete GARR e loro mirror elencati nel file
  ftp://ftp.pluto.linux.it/pub/pluto/MIRRORS.

  L'ultima versione (in inglese) di Linux ISP Hookup HOWTO sarà
  periodicamente inviata sul newsgroup comp.os.linux.answers, ed è anche
  disponibile sui vari siti FTP dedicati a Linux, compreso
  sunsite.unc.edu.

  L'ultima versione (in inglese) di questo documento è disponibile in
  formato HTML a http://www.kvaleberg.com/ISP-Hookup-HOWTO.html


  11..55..  CCoommmmeennttii

  Ogni commento, segnalazione di errore, informazioni aggiuntive e
  critiche di ogni tipo possono essere indirizzati a:

  egil@kvaleberg.no

  http://www.kvaleberg.com/


  22..  CCoommee mmii ccoolllleeggoo aall rreessttoo ddeell mmoonnddoo??

  Si assumerà che avete installato il software essenziale di rete della
  vostra distribuzione Linux, e che avete definito quale porta seriale
  verrà usata come

  La configurazione predefinita normalmente permetterà l'accesso diretto
  a /dev/modem soltanto all'utente root.

  Per collegarsi ad un Internet Provider direttamente tramite un account
  di tipo shell, e per sperimentare con le sequenze di connessione,
  potete usare il programma molto semplice da usare.


  22..11..  LLaa ccoonnffiigguurraazziioonnee bbaassiillaarree

  La configurazione del sistema da usare in rete dovrebbe essere fatta
  da root. Prima di continuare, assicuratevi che il file seguente linea:



       ALL: ALL



  Ma normalmente vorreste autorizzare voi stessi, quindi aggiungete la
  seguente linea al file



       ALL: LOCAL



  Oppure:
       ALL: 127.0.0.1



  Notate che quanto segue è valido solo per un collegamento PPP con
  indirizzo IP dinamico. Nel caso abbiate una connessione fissa, ci
  saranno alcune differenze.

  È carino avere un nome associato al sistema, un nome che l'utente può
  scegliere a piacere. Scrivete questo nome nel file



       roderick



  Il passo successivo è specificare il name server in



       search .
       nameserver 193.212.1.0



  Il specificato con un indirizzo IP numerico, e sarà diverso per ogni
  ISP. Se necessario, potete avere fino a tre server, uno per linea. I
  server verranno interrogati nella sequenza in cui sono elencati.

  Se volete utilizzare nomi come miosistema come abbreviazione di
  miosistema.acme.xz, dovete sostituire la prima linea con:



       search acme.xz



  Un minimo di configurazione è anche richiesto nel file bastare così:



       127.0.0.1   localhost
       0.0.0.0     roderick



  fisso, dovranno sostituire 0.0.0.0 con l'indirizzo reale.

  Allo stesso modo, un


       loopback    127.0.0.0
       localnet    0.0.0.0



  Dovreste anche impostare il vostro dominio esterno in


       acme.xz



  Il nome utente e la password dell'account presso l'Internet Provider
  si deve specificare in


       dirk * PrettySecret



  Per i provider che usano CHAP invece di PAP il file da modificare è

  Finalmente, la parte fondamentale riguardante la procedura stessa di
  connessione deve essere specificata prima che PPP possa essere
  iniziato. Questo viene fatto nello script



       TIMEOUT 5
       "" ATZ
       OK ATDT12345678
       ABORT "NO CARRIER"
       ABORT BUSY
       ABORT "NO DIALTONE"
       ABORT WAITING
       TIMEOUT 45
       CONNECT ""
       TIMEOUT 5
       "name:" ppp



  Alcuni dettagli devono essere in qualche maniera tarati. Ovviamente,
  il primo da modificare è il numero telefonico indicato sulla terza
  linea. Altri dovranno sostituire la stringa di inizializzazione del
  modem ATZ con qualcosa di più adatto al modem che stanno utilizzando.
  L'ultima linea indica che ci si aspetta un prompt che finisce per
  name:, e che la risposta dovrebbe essere ppp quando arriva.  Altri
  sistemi possono richiedere altre procedure di login.

  La composizione del numero telefonico e l'avvio del protocollo PPP
  vengono eseguiti con il seguente comando:



       exec pppd connect \
            'chat -v -f /etc/ppp/chatscript' \
             -detach crtscts modem defaultroute \
             user dirk \
             /dev/modem 38400



  A questo punto, dovremmo essere online, e rimanere collegati fino a
  quando il processo viene terminato tramite ctrl-C.  verranno aggiunti
  ai log di sistema. Per leggerli, digitate:
       tail /var/adm/messages



       dmesg



  Mentre PPP è su, avrete accesso diretto a Internet e potete usare
  programmi come ftp, ncftp, rlogin, telnet, finger ecc. Tutti questi
  programmi sono parte del software standard di rete.

  Altre informazioni riguardanti PPP sono disponibili da:

  /usr/lib/ppp/README.linux

  /usr/lib/ppp/README.linux-chat

  Per concludere, qualche parola aggiuntiva sulla sicurezza. Il file
  elenca tutti i servizi che il vostro sistema offre all'esterno.  Con
  il file abbiamo descritto, nessun tipo di accesso esterno sarà
  permesso.  Per coloro che ne avranno bisogno, l'accesso deve essere
  esplicitamente autorizzato nel file traffico locale può essere
  permesso da:



       ALL: LOCAL



  Guardate anche man 5 hosts_access.

  Un piccolo particolare: esiste una certa confusione sui nomi dei
  protocolli POP. Una definizione in praticamente tutto è:



       pop2            109/tcp         pop-2           # PostOffice V.2
       pop3            110/tcp         pop-3 pop       # PostOffice V.3



  AALLTTEERRNNAATTIIVVAA:: Invece di utilizzare flessibile. Ma non insieme a

  AALLTTEERRNNAATTIIVVAA:: Quei fortunati che hanno una connessione TCP/IP
  permanente, per esempio tramite Ethernet possono tranquillamente
  ignorare tutto su PPP e piuttosto concentrarsi sulla configurazione
  della scheda di rete.

  AALLTTEERRNNAATTIIVVAA:: Altri che non hanno la possibilità di usare PPP, ma
  possono invece utilizzare SLIP, per il quale esiste un supporto simile
  a quello di PPP. Un'altra possibilità è UUCP. Altri ancora potrebbero
  dover affidare lo scambio della posta e delle news tramite SOUP. Una
  descrizione di quest'ultimo può essere trovata a:
  ftp://ftp.sol.no/user/bjorn/Linux-offline.tgz

  Il programma TERM è un'altra opzione. Fate riferimento al documento
  _T_e_r_m_-_H_O_W_T_O.
  33..  CCoommee ffaacccciioo aa nnaavviiggaarree ??

  Se pensate che il testo è la cosa più importante potreste usare il
  browser Lynx. È disponibile da:

  ftp://sunsite.unc.edu/pub/Linux/system/Network/info-
  systems/lynx-2.3.bin2.tar.gz

  Se avete installato X potete anche usare uno dei vari browser grafici.
  Chimera può essere trovato a:

  ftp://sunsite.unc.edu/pub/Linux/system/Network/info-
  systems/chimera-1.65.bin.ELF.tar.gz

  http://www.unlv.edu/chimera/

  Mosaic

  ftp://sunsite.unc.edu/pub/Linux/system/Network/info-
  systems/Mosaic-2.7b1-aout.tgz

  ftp://ftp.NCSA.uiuc.edu/Web/Mosaic/Unix/binaries/2.6

  Netscape (aka.  Mozilla)

  ftp://sunsite.unc.edu/pub/Linux/system/Network/info-systems/netscape-
  v11b3.tar.gz

  ftp://ftp.cs.uit.no/pub/www/netscape

  Questi browser sono costantemente disponibili in nuove ed in vari modi
  _e_c_c_i_t_a_n_t_i versioni.

  L'uso e valutazione di questi programmi è soggetto a certe condizioni.
  Siete pregati di osservarle.


  44..  CCoommee ffaacccciioo aa iinnvviiaarree ee rriicceevveerree ppoossttaa eelleettttrroonniiccaa??

  Prima di tutto, verificate che smista la posta interna ed esterna,
  bufferizzando la posta in uscita fino al momento in cui è possibile
  inoltrarla.


  Sendmail si basa sulla configurazione che trova in esempio adatto per
  gli utenti di un Internet Provider può essere trovato a:
  ftp://ftp.sol.no/user/egilk/sendmail.cf. Questo esempio è basato su
  agente di consegna, ma può essere modificato facilmente per usare

  È certamente necessario avere un indirizzo di dominio uuffffiicciiaallee per la
  posta in uscita, cosa che viene specificata in


       # come chi mi maschero (null per non mascherarsi)
       DMacme.xz



  che il nome utente in locale è lo stesso che avete presso l'Internet
  Provider. Se avete un nome differente, basta specificare il nome com­
  pleto:


       DMdick@acme.xz

  Sendmail è adesso configurato per spedire ddiirreettttaammeennttee al
  destinatario. Per evitare lunghi e ripetuti collegamenti in quei casi
  dove la connessione presso il destinatario è lenta e irregolare, è di
  solito conveniente usare il vostro Internet Provider come
  ritrasmettitore (relay host). Questo può essere specificato da DS:



       # "Smart" relay host (può essere null)
       DSmail.acme.xz



  Ricordatevi che sendmail è un po' permaloso con i caratteri di
  tabulazione presenti in l'editor tabulatori rimangano intatti.

  La ricezione della posta elettronica può essere effettuata con il
  protocollo POP3, che può essere lanciato ogni volta che si stabilisce
  la connessione. Uno script per testare questo è



       sendmail -q
       popclient -3 -v mail.acme.xz -u dirk -p "PrettySecret" \
              -k -o /usr/spool/mail/dirk



  connessione PPP è stata attivata. Ricordatevi che questo script è solo
  di prova, quindi conviene assicurarsi che la mailbox non venga toccata
  durante la sua esecuzione. L'opzione -k, che sta per kkeepptt, indica che
  la posta rimane disponibile nella mailbox del vostro Internet
  Provider, e della quale voi ne ricevete una copia. Certamente,
  conviene disabilitare questa opzione una volta che avete la certezza
  che funziona correttamente.

  State attenti che la password verrà mostrata sulla linea di comando.
  Notate anche che popclient sta diventando obsoleto, e che dovreste
  considerare invece l'uso di

  Una versione migliore e più sicura di questo script può essere
  prelevata da: ftp://ftp.sol.no/user/egilk/pop-script.tar.gz

  Questa versione dello script richiede che venga isntallato anche non
  vi pentirete mai. È già compreso nelle maggiori distribuzioni,
  altrimenti potete prelevarlo da:
  ftp://sunsite.unc.edu/pub/Linux/system/Mail/mailhandlers/procmail-3.10-2.tar.gz

  Procmail è uno strumento semplice e flessibile che può gestire la
  posta elettronica in ingresso in base ad una grande varietà di
  criteri. Inoltre, è in grado di effettuare certe operazioni
  automaticamente come per esempio messaggi di risposta durante le
  vacanze.

  Notate che quando usate procmail direttamente come in questo caso la
  situazione è leggermente diversa da come viene descritta nella
  documentazione di procmail. Il .forward nnoonn èè richiesto, e non avete
  neanche bisogno di .procmailrc.  Quest'ultimo è necessario solo se
  volete ordinare la posta.

  Come interfaccia utente per leggere e spedire posta elettronica potete
  adottare programmi come


  AALLTTEERRNNAATTIIVVAA:: Fetchmail è diventato recentemente una alternativa
  migliorata di popclient. L'ultima versione è disponibile da:
  ftp://ftp.ccil.org/pub/esr/fetchmail/fetchmail-3.3.tar.gz

  AALLTTEERRNNAATTIIVVAA:: Per un normale utente con accesso telefonico ad un
  Internet Provider, non è realmente necessario avere il demone sendmail
  attivo.  Per ridurre le richieste di risorse, e altri possibili
  problemi, conviene commentare il lancio di sendmail, che di solito si
  trova nel file /etc/rc.d/rc.M (varia a seconda della distribuzione che
  state usando).

  AALLTTEERRNNAATTIIVVAA:: Al posto di sendmail potete usare il più semplice
  descrizione di questo programma (come di tante altre cose menzionate
  in questo documento) nella _L_i_n_u_x _N_e_t_w_o_r_k _A_d_m_i_n_i_s_t_r_a_t_o_r_'_s _G_u_i_d_e.

  AALLTTEERRNNAATTIIVVAA:: Esiste anche un pacchetto di macro m4 per costruire un
  file installazione semplice potrebbe essere sufficiente modificare una
  configurazione già esistente.

  AALLTTEERRNNAATTIIVVAA:: Ci sono altri programmi più semplici ma meno flessibili
  per gestire la posta. Pine, per esempio, può funzionare in modo
  standalone se configurato adeguatamente.  Può anche essere possibile
  usare nuove versioni di alcuni browser Web.

  AALLTTEERRNNAATTIIVVAA:: Tanti sono molto entusiasti di utilizzare Emacs anche per
  la gestione della posta e delle news. Ulteriori informazioni possono
  essere trovate a: http://www.ifi.uio.no/~larsi/

  AALLTTEERRNNAATTIIVVAA:: Un sostituto di popclient è pop-perl5.  È disponibile da:
  ftp://sunsite.unc.edu/pub/Linux/System/Mail/pop-perl5-1.1.tar.gz


  55..  NNeewwss

  55..11..  CCoommee ffaacccciioo aa ccoonnffiigguurraarree uunn nneewwss--rreeaaddeerr oonnlliinnee??

  possibile leggere le news oonnlliinnee.  Ci sono diversi programmi
  disponibili, due delle alternative semplici sono

  Per iniziare a leggere le news, il più delle volte l'unica cosa
  necessaria in termini di configurazione è impostare NNTPSERVER (di
  solito una volta e tutte nel file



       export NNTPSERVER=news.acme.xz



  Per avere l'indirizzo del mittente (campo _F_r_o_m), alcuni programmi
  _p_o_s_s_o_n_o richiedere:



       export NNTP_INEWS_DOMAIN=acme.xz



  55..22..  CCoommee ffaacccciioo aa ccoonnffiigguurraarree uunn nneewwss--rreeaaddeerr oofffflliinnee??

  news offline e quindi risparmiare sulla bolletta del telefono e
  ottenere una maggiore flessibilità, è necessario predisporre in
  qualche modo un news-spool locale. Questo richiede un po' di
  configurazione ed anche una certa quantità di spazio disco dedicata.
  Dopo l'installazione iniziale, le cose dovrebbero più o meno girare da
  sole, con qualche intervento ogni tanto.

  In seguito verranno descritte due diverse soluzioni.


  55..33..  CCoommee ffaacccciioo aa ccoonnffiigguurraarree CC NNeewwss??

  Questa soluzione è basata sul server delle news CC NNeewwss ed il
  protocollo NNTP. C News è stato originariamente progettato per una
  configurazione diversa, ma è abbastanza flessibile di adattarsi anche
  alla nostra situazione.  Si potrebbe anche usare il più recente IINNNN
  come server delle news, ma potrebbe richiedere un po' più di risorse.
  In ogni caso, fate attenzione a nnoonn installare entrambi, dato che non
  convivono facilmente.

  È cruciale che tutta la gestione delle news venga fatta dall'utente
  news, e che tutti i file di configurazione si trovino nella cartella
  effettuato il login come root, potete digitare su news; cd.

  I file di configurazione più importanti sono:


  ·   dei newsgroup attivi. Viene aggiornato su richiesta dal comando
     comp.os.linux.networking y.


  ·   semplicemente indicare quello che desiderate nel campo
     _O_r_g_a_n_i_z_a_t_i_o_n_: dei vostri articoli, per esempio:



       Dirk Gently's Holistic Detective Agency



  ·   nel nostro esempio essere impostato a acme.xz.


  ·   del vostro sito nel thread Path:.  Nella impostazione qui
     descritta, usando vostro sistema, quindi potete impostare questo
     nome come volete a condizione che non sia già in uso. In questo
     esempio useremo roderick.


  ·  Il file e ulteriore distribuzione delle news. Assumeremo che il
     nostro Internet Provider aggiunga acme.xz al Path, e che questa è
     la nostra unica fonte di news.  L'esempio dato in realtà dice che
     accetteremo qualsiasi cosa in arrivo, e che invieremo soltanto
     delle news fresche verso acme.xz che sono state originate nel
     nostro sito. In questa configurazione semplificata, si assume che
     tutti i gruppi arriveranno da una singola fonte. /all specifica la
     distribuzione, e ddeevvee essere indicata. La lettera F dice che (i
     puntatori ai) nuovi articoli in uscita saranno raccolti in un file.



       ME:all/all::
       acme/acme.xz:all,!junk/all:FL:



  ·  Una cartella da creare per le news in uscita, nel nostro caso:



       mkdir /var/spool/news/out.going/acme



  ·   controlla i posting nei gruppi moderati, anche se questo compito
     viene normalmente lasciato all'Internet Provider.

  C News necessita di un certo grado di manutenzione giornaliera, ma
  questo può essere indicato una volta per tutte tramite il comando
  crontab -e news. La seguente impostazione può essere modificata
  secondo le esigenze:



       # mantieni i batch entrante e uscente
       10,40 *  * * * /usr/lib/newsbin/input/newsrun

       # scadenza delle news, una volta al giorno
       30 0  * * * /usr/lib/newsbin/expire/doexpire

       # monitoraggio ed eventuali report
       00 2  * * sat /usr/lib/newsbin/maint/addmissing
       40 3  * * * /usr/lib/newsbin/maint/newswatch
       50 3  * * * /usr/lib/newsbin/maint/newsdaily



  ingresso e uscita (ogni mezz'ora), doexpire cancellerà gli articoli
  man mano che scadono (ogni notte alle 00:30), mentre gli ultimi tre
  comandi eseguono varie procedure di supervisione e correzione di
  errori.

  Occorre anche effettuare un po' di pulizia in caso di riavvio del
  sistema.  Come utente root, aggiungete la seguente linea al file
  /etc/rc.d/rc.local:



       su news -c /usr/lib/newsbin/maint/newsboot



  Le news possono essere raccolte da un server NNTP tramite il programma
  NNeewwssXX, prelevato da
  ftp://sunsite.unc.edu/pub/Linux/system/news/transport/newsx-0.9.tar.gz
  oppure da ftp://ftp.sol.no/user/egilk/newsx-0.9.tar.gz

  Configurare NewsX è abbastanza semplice.  L'installazione è un caso
  classico di:



       make
       su
       make install
       exit


  Con le impostazioni appena descritte, tutto quello che resta da fare è
  creare i gruppi che desiderate leggere usando il comando

  Per scaricare degli articoli, l'utente news deve eseguire i seguenti
  comandi (si assume che il collegamento tramite PPP o simile è già su):



       newsrun
       newsx acme news.acme.xz
       newsrun



  L'opzione -d permette visualizzare continuamente dei messaggi sullo
  schermo. Per ulteriori informazioni, rivolgetevi alla documentazione
  di NewsX.

  NewsX si prenderà cura di inviare le news in uscita.

  Per controllare la cancellazione degli articoli man mano che scadono,
  è necessario un file explist. I commenti spiegano le nostre
  intenzioni:



       # conserva lo storico per 14 giorni, nulla oltre i 120 giorni
       /expired/                       x       14      -
       /bounds/                        x       0-1-120 -

       # conserva questi per due mesi
       comp.sources,comp.os.linux.all  x       60      -

       # il rumore viene buttato via subito
       junk,control                    x       2       -

       # predefinito:  14 giorni, nessuna archiviazione
       all                             x       14      -



  AALLTTEERRNNAATTIIVVAA:: In uno news-spool piccolo, normalmente non è necessario
  il newsgroup control.  Il traffico è eennoorrmmee in confronto alla
  possibile convenienza. Il punto è che gli articoli saranno cancellati,
  e che i gruppi possono essere creati automaticamente.  Per assicurarsi
  che i messaggi di controllo che contengono newgroup non causino
  disordini, un file chiamato quello che permetteremo:



       comp.os.linux   tale@uunet.com  yv
       all             any             nq



  In questo esempio, tutti i gruppi sotto la gerarchia comp.os.linux
  verrano creati (y), e che l'utente news sarà notificato (v). Tutto il
  resto verrà ignorato (n) in completo silenzio (q).  L'ultima linea è
  sufficiente se volete creare tutto i gruppi manualmente.

  AALLTTEERRNNAATTIIVVAA:: Al posto di NewsX potete usare suck.

  55..44..  CCoommee ffaacccciioo aa ccoonnffiigguurraarree LLeeaaffnnooddee??

  Una soluzione completamente differente è installare il pacchetto
  integrato permette la gestione di tutte le operazioni richieste per un
  news spool personale, ed è facile da configurare. È disponibile da
  http://www.troll.no/freebies/leafnode.html

  Per quanto riguarda C News, tutta la manutenzione delle news dovrebbe
  essere realmente eseguita dall'utente news.

  La cartella di lavoro di leafnode è /usr/lib/leafnode.  Per
  installare, digitare:



       cd /usr/lib/leafnode
       tar -xzvf leafnode-0.8.tgz
       cd leafnode-0.8
       make
       su
       make install



  Osservate in quanto segue che il prefisso /usr/local/sbin andrebbe
  sostituito da /usr/sbin se avete installato leafnode da un pacchetto.

  Mentre siete ancora nei panni di root, modificate la linea che
  controlla NNTP nel file /etc/inetd.conf:



       nntp  stream  tcp  nowait  news  /usr/sbin/tcpd /usr/local/sbin/leafnode



  Attivatelo con:


       killall -HUP inetd



  Ritornate come utente news digitando exit. Nel file
  /usr/lib/leafnode/config modificate la linea che definisce il server
  NNTP. Nel nostro caso:



       server = news.acme.xz



  Leafnode sarà autosufficente aggiungendo il seguente comando tramite
  crontab -e come utente news:



       # scadenza delle news, una volta al giorno
       0 4 * * * /usr/local/sbin/texpire


  Anche lo scambio delle news viene fatto dall'utente news con il
  seguente comando (assumendo che PPP è attivo):



       /usr/local/sbin/fetch



  Quelli che desiderano leggere le news dovrebbero seguire la ricetta
  descritta in _C_o_m_e _f_a_c_c_i_o _a _c_o_n_f_i_g_u_r_a_r_e _u_n _n_e_w_s_r_e_a_d_e_r _o_n_l_i_n_e_?, eccetto
  che nella configurazione del server delle news si deve definire
  localmente, cioè:



       export NNTPSERVER=localhost



  Questo sarebbe tutto quanto serve. Il primo fetch trasferirà l'elenco
  dei newsgroup disponibili. In seguito, leafnode prenderà nota dei
  gruppi che vengono richiesti dagli utenti, e si adatterà a questo la
  volta ssuucccceessssiivvaa che viene attivato.

  Si rende noto che leafnode ha qualche problema laddove sono richieste
  particolari autorizzazioni per NNTP.

  AALLTTEERRNNAATTIIVVAA:: Al posto di leafnode potete usare nntpcache, disponibile
  da ftp://ftp.suburbia.net/pub/nntpcache/nntpcache.tgz.

  AALLTTEERRNNAATTIIVVAA:: Un'altra alternativa è usare il newsreader pullslrn-pull.
  Il newsreader va compilato abilitando l'opzione spool.


  66..  CCoommee ffaacccciioo aadd aauuttoommaattiizzzzaarree llaa pprroocceedduurraa ddii ccoonnnneessssiioonnee??

  La gestione automatica della posta e delle news è abbastanza facile
  sotto Linux.

  Come primo e principale passo, si deve creare uno script iniziare il
  collegamento con l'Internet Provider. Spesso, basta una riga con il
  seguente comando:



       /usr/sbin/pppd



       connect "/usr/lib/ppp/chat -v -f /etc/ppp/chatscript"
       crtscts
       modem
       defaultroute
       asyncmap 00000000
       user dirk
       /dev/modem 38400


  Per chiudere il collegamento, usate la versione predefinita di

  Dopo aver verificato il funzionamento di questi script, si devono
  scrivere altri script che eseguiranno le diverse operazioni. Lo script
  per prelevare la posta è già stato descritto precedentemente, ed
  assumeremo che si trova nel file /home/dirk/pop.

  Uno script per lo scambio della posta può essere messo in /root/mail:



       #! /bin/sh
       #
       # scambia posta elettronica
       # 10 minuti di timeout:
       TIMEOUT=600
       DT=10

       # lancia sendmail:
       sendmail -q &

       # preleva la posta:
       su dirk -c /home/dirk/pop

       # attendi la fine di sendmail:
       t=0
       while ! mailq | grep -q "Mail queue is empty"; do
           t=$[$t+$DT]
           if [ $t -gt $TIMEOUT ] ; then
            echo "sendmail -q timeout ($TIMEOUT).."
            exit 1
           fi
           sleep $DT
       done

       exit 0



  Lo script per lo scambio delle news può essere messo nel file
  /usr/lib/news/news:



       #!/bin/sh
       #
       # scambio delle news
       # viene eseguita come utente news:
       cd /usr/lib/news

       #aggiorna il batch di uscita (C News):
       /usr/lib/newsbin/input/newsrun < /dev/null

       #scambia le news:
       /usr/lib/newsbin/newsx acme news.acme.xz

       #e svuota il batch in ingresso:
       /usr/lib/newsbin/input/newsrun < /dev/null



  Adesso manca soltanto uno script per mettere insieme i diversi pezzi,
  e che può essere messo nel file /root/news+mail:

       #!/bin/sh
       #
       # scambio della posta e delle news
       # viene eseguito come utente root
       #
       if ! /usr/lib/ppp/ppp-on; then
           exit 1
       fi
       trap "/usr/lib/ppp/ppp-off" 1 2 3 15

       #scambio della posta e news:
       /root/mail &
       su news -c ~news/news
       wait

       #chiude il collegamento
       /usr/lib/ppp/ppp-off

       #aggiorna il batch in ingresso (C News):
       su news -c /usr/lib/newsbin/input/newsrun < /dev/null &

       exit 0



  È abbastanza semplice modificare lo script precedente per attivare la
  connessione solo quando c'è della posta o delle news da spedire.
  Supponiamo di chiamarlo teniamo presente che il nome dello spool delle
  news in uscita deve essere aggiornato di conseguenza:



       #!/bin/sh
       #
       # scambio della posta e delle news, solo se ci sono messaggi in uscita
       # (C News spool)
       if [ -s /var/spool/news/out.going/acme/togo ] ||
           ! ( mailq | grep -q "Mail queue is empty"); then
            /root/news+mail
       fi



  L'unica cosa che manca è specificare quando dovrebbe accadere tutto
  ciò. Questo viene fatto usando il comando crontab -e effettuare sempre
  lo scambio della posta e delle news alle 07:00 del mattino, e
  successivamente ogni 4 ore ma solo se ci sono messaggi da spedire



       00 7            * * *   /root/news+mail
       00 11,15,19,23  * * *   /root/news+mail.cond



  Verificate separatamente il corretto funzionamento di ogni componente
  prima di collegarli insieme. Successivamente potreste aggiungere molte
  altre operazioni, come per esempio sincronizzare la data e ora (usando
  (mirroring) di file WWW e FTP gestiti localmente verso il vostro
  Internet Provider (usando make e ftp).

  AALLTTEERRNNAATTIIVVAA:: A seconda delle vostre preferenze, potete impostare le
  procedure al contrario. Ogni volta che la connessione PPP viene
  attivata, verrà eseguito anche lo script aggiungere in questo script
  qualunque incantesimo sia necessario per effettuare lo scambio della
  posta e delle news. Usate man pppd per ulteriori dettagli.

  AALLTTEERRNNAATTIIVVAA:: È anche possibile attivare automaticamente il
  collegamento PPP ogni volta che viene rilevato traffico di rete.
  Questa è in molti aspetti la soluzione più elegante, ma dipende molto
  di una buona configurazione onde evitare frequenti (e costosi)
  collegamenti.  Altre informazioni possono essere trovate a
  http://www.dna.lth.se/~erics/diald.html.

  L'utility diald è disponibile da
  ftp://sunsite.unc.edu/pub/Linux/system/network/serial/diald-0.16.tar.gz.

  In questo sito potete anche trovare altre variazioni sul tema dei
  collegamenti PPP.


  77..  PPaarroollee ffiinnaallii

  77..11..  AAllttrree ccoossee cchhee ddoovvrreeii ssaappeerree??


  ·  I diversi messaggi di errore nel sistema vengono normalmente
     gestiti tramite la posta interna. Per assicurarsi che questi
     messaggi siano letti, dovreste creare un file comando newaliases
     ogni volta che modificate questo file.  Un esempio che dovrebbe
     coprire la maggior parte delle eventualità è:



       PostMaster: root
       ftp: root
       news: root
       usenet: root
       FaxMaster: root
       fax: root
       WebMaster: root
       MAILER.DAEMON: root



  ·  Molti programmi per Linux sono reperibili da carico. Ma ci sono
     molti mirror quindi ogni volta che trovate un riferimento a
     ftp://sunsite.unc.edu/pub/Linux/ dovreste cercare un mirror più
     vicino a Voi, per esempio ftp://ftp.nvg.unit.no/pub/linux/sunsite/.


  ·  Nel caso stiate migrando da Yarn, dovrebbe essere possibile
     convertire le sue cartelle in cartelle standard usando il programma
     yarn2mf disponibile a ftp://ftp.sol.no/user/egilk/yarn2mf.zip


  88..  IInnffoorrmmaazziioonnii ssppeecciiffiicchhee ssuu aallccuunnii IInntteerrnneett PPrroovviiddeerr

  Alcune informazioni più dettagliate su alcuni Internet Provider sono
  disponibili da una varietà di siti:

  DDeemmoonn IInntteerrnneett

  ftp://ftp.demon.co.uk/pub/unix/linux/Demon/slack3.0.help.tgz

  NNeettccoomm

  http://www.netcom.com/bin/webtech/NetCruiser/Operating_Systems/Linux/linux.cfg.html

  PPoowweerrTTeecchh,, TTeelleennoorr OOnnlliinnee,, TTeelliiaa

  http://www.kvaleberg.com/no-isp.html

  SSttaannffoorrdd

  http://www-leland.stanford.edu/~wkn/Linux/network/network.html

  MMCCII

  http://www.kvaleberg.com/linux-mci.html

  SSIISSCCOOMM

  http://www.siscom.net/support/linux_setup.htm

  AAOOLL non è disponibile dato che utilizza un protocollo proprietario.

  Se avete delle informazioni su un Internet Provider non elencato qui,
  siete pregati di contattarmi.


  88..11..  DDoovvee ppoossssoo iimmppaarraarree ddii ppiiùù??

  Il libro intitolato Linux Network Administrator's Guide di Olaf Kirch
  del Linux Documentation Project è abbastanza obbligatorio per chiunque
  intenda configurare e mantenere qualsiasi cosa relazionata con TCP/IP
  e Internet (ftp://sunsite.unc.edu/pub/Linux/docs/linux-doc-
  project/network-guide/nag-1.0.ascii.tar.gz)

  La documentazione di ogni pacchetto software vi fornirà tutta
  l'informazione che Vi serve, o almeno un riassunto. Le pagine man sono
  il primo posto dove guardare. Provate come esempio:



       man pppd



  Potete anche trovare della documentazione su alcuni programmi sotto la
  cartella sempre è bene strutturata.

  I seguenti HOWTO sono di particolare interesse:



  ·  IInnssttaallllaattiioonn--HHOOWWTTOO per trovare delle informazioni basilari.

  ·  NNEETT--22--HHOOWWTTOO è una descrizione molto completa sull'installazione e
     configurazione del software di rete. Molto di questo sarà già
     pronto se state usando una distribuzione standard di Linux come
     Slackware, Red Hat o Debian).  Ma molte sezioni sulla
     configurazione e risoluzione dei problemi valgono veramente la pena
     di leggere.

  ·  MMaaiill--HHOOWWTTOO spiega come configurare i vari tool. Come appena detto,
     molto di questo sarà già pronto se avete installato una
     distribuzione standard di Linux.


  ·  NNeewwss--HHOOWWTTOO spiega come configurare uno spool delle news
     convenzionale.

  ·  TTiinnyy--NNeewwss documenta un pacchetto alternativo per la gestione delle
     news.

  ·  PPPPPP--HHOOWWTTOO contiene una buona descrizione dei problemi che potete
     trovare con le connessioni PPP.

  ·  SSeerriiaall--HHOOWWTTOO contiene tutto quello che Vi serve per configurare le
     porte seriali.

  ·  MMaaiill--QQuueeuuee Vi racconta come configurare _s_e_n_d_m_a_i_l per accodare
     sempre la posta remota ma inoltrare immediatamente la posta locale.

  Red Hat ha una mailing list sull'argomento PPP. Per abbonarsi occorre
  inviare un messaggio a redhat-ppp-list-request con il subject


       subscribe



  88..22..  RRiinnggrraazziiaammeennttii

  Le informazioni raccolte in questo documento provengono da diverse
  fonti. Ringrazio le seguenti persone che direttamente o indirettamente
  hanno contribuito:



       Adam Holt <holt@graphics.lcs.mit.edu>
       Arne Coucheron <arneco@oslonett.no>
       Arne Riiber <riiber@oslonett.no>
       Arnt Gulbrandsen <agulbra@troll.no>
       Bjorn Steensrud <bjornst@powertech.no>
       Gisle Hannemyr <gisle@a.sn.no>
       Hans Amund Rosbach <haro@sesam.dnv.no>
       Hans Peter Verne <hpv@ulrik.uio.no>
       Harald T Alvestrand <Harald.T.Alvestrand@uninett.no>
       Harald Terkelsen  <Harald.Terkelsen@adm.hioslo.no>
       Haavard Engum <hobbes@interlink.no>
       James Youngman <JYoungman@vggas.com>
       Johan S. Seland <johanss@sn.no>
       John Phillips <john@linux.demon.co.uk>
       Jorn Lokoy <jorn@oslonett.no>
       Kenneth Tjostheim <kenneth.tjostheim@asplanviak.no>
       Kjell M. Myksvoll <kjell.myksvoll@fou.telenor.no>
       Kjetil T. Homme <kjetilho@math.uio.no>
       Michael Meissner <meissner@cygnus.com>
       N J Bailey <N.J.Bailey@leeds.ac.uk>
       Nicolai Langfeldt <janl@math.uio.no>
       Ove Ruben R Olsen <Ove.R.Olsen@ub.uib.no>
       R. Bardarson <ronb@powernet.net>
       Steinar Fremme <steinar@fremme.no>
       Sverre H. Huseby <sverrehu@ifi.uio.no>
       Trond Eivind Glomsrod <teg@stud.imf.unit.no>
       Tommy Larsen <tommy@mix.hive.no>
       Yves Bellefeuille <yan@storm.ca>



