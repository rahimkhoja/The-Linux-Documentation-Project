
Linux Installation Strategies mini-HOWTO

Tobby Banerjee

   <tobbyb@usa.net>
   Revision History
   Revision 1.0.1 2001-05-02 Revised by: pm
   Conversione in formato DocBook SGML.
   Revision 1.0   2000-12-20 Revised by: tb
   Rilascio iniziale.

   In questo documento verranno esposte alcune strategie di
   installazione utili a chi ha intenzione di creare un sistema
   dual-boot fra Windows e Linux. Traduzione e adattamenti in
   italiano a cura di Diego Beraldin. Revisione a cura di Beatrice
   Torracca.
     __________________________________________________________

   Table of Contents
   1. Licenza (in inglese)
   2. Contatto email
   3. Nozioni di base
   4. Un appunto sui dischi rigidi e sulle partizioni
   5. Un po' di teoria
   6. Partizionamento del disco
   7. Installazione
   8. Con Lilo
   9. Con Loadlin
   10. Riavvio del sistema
   11. Configurare Loadlin
   12. Rimuovere Linux e riportare le partizioni Windows allo
          stato originale

   13. XFree 4.01
   14. Consigli e suggerimenti
   15. Linux oggi e le sfide di domani

        15.1. Nel dettaglio – Elaborazione testi
        15.2. Audiovisivi
        15.3. Internet
        15.4. Giochi
        15.5. Desktop publishing

1. Licenza (in inglese)

   You are free to do with this document whatever you please but
   reading it would be a good idea. I am naturally not responsible
   for any consequence or action arising out of the use of
   information provided in this document. I am not a very
   responsible person and you heed me at your own peril.
     __________________________________________________________

2. Contatto email

   Se questo documento dovesse rivelarsi utile, non si esiti a
   contattarmi all'indirizzo <tobbyb@hotmail.com>. Sarebbe molto
   gradita anche qualche azione Microsoft, ma non si disdegnano
   nemmeno ringraziamenti un po' meno "generosi".
     __________________________________________________________

3. Nozioni di base

   Lo scopo principale di questo documento è rendere la
   coesistenza fra Windows e Linux quanto più semplice e meno
   complessa possibile, in altre parole, far sì che, dal punto di
   vista di Windows, Linux non esista. È attualmente possibile
   installare Linux all'interno di una partizione Windows come
   immagine disco grazie al cosiddetto file system di loopback:
   RedHat e Mandrake offrono questa funzionalità ma non è per
   niente una buona idea a causa del modo in cui Windows gestisce
   i file. Eseguire la deframmentazione del sistema si trasformerà
   in un incubo, Linux stesso diventerà estremamente lento e non
   si sarà soddisfatti né usando Windows né usando Linux. Lo
   stesso è valido anche per il file system Umsdos, sebbene Linux
   non ne risenta con esiti altrettanto disastrosi, per cui la
   cosa migliore è installare Linux in una partizione separata. In
   questo documento sono date per scontate alcune cose, ma niente
   di preoccupante, ossia:

     * il proprio sistema operativo è Windows 9x (95 o 98), non ME
       o 2000;
     * si ha una certa dimestichezza con il computer cioè si sa
       come avviare il sistema da dischetto o da CD;
     * si ha una discreta conoscenza di DOS e di Windows;
     * avendo ben chiaro cosa sia una partizione, si ha intenzione
       di installare Linux in una partizione separata;
     * il disco rigido in uso, che attualmente ospita Windows e su
       cui si ha intenzione di installare Linux, ha una capacità
       superiore a 8.4 GB (è possibile proseguire oltre con la
       lettura anche se il proprio disco è più piccolo).

   Tutto ciò premesso, possiamo cominciare. La prima cosa da fare
   è liberare lo spazio necessario a Linux. Come altri futuri
   utenti di Linux, è probabile che si abbia una sola grande
   partizione su cui è installato Windows. Quest'ultima
   corrisponde all'unità C. Nel mio caso, arrivava a occupare
   addirittura 13,5 GB. È necessario creare in questo spazio una
   partizione separata per Linux (che verrà in seguito etichettata
   D). È possibile usare il programma Fdisk di Windows, ma non è
   una buona idea perché comporterebbe la perdita di tutti i dati
   nonché la necessità di creare ex novo le nuove partizioni (una
   per Windows e una per Linux). In alternativa, il sistema più
   semplice e più comodo è usare un'ottima utilità di
   partizionamento non distruttiva e disponibile in forma libera
   chiamata Fips. La caratteristica che rende preferibile Fips è
   la possibilità di creare una nuova partizione a partire dallo
   spazio libero nella partizione C senza alcuna perdita di dati.
   È possibile procurarsi la versione più recente di Fips (2.0)
   alla pagina http://www.igd.fhg.de/~aschaefe/fips/ (N.d.T.: al
   momento della traduzione di questo testo, questa pagina non
   risulta più attiva). Il programma è presente anche nella
   directory /dostools o /dosutils del CD principale di
   installazione della maggior parte delle distribuzioni Linux.

   La procedura che verrà esposta qui di seguito prevede l'uso di
   Fips. Chi decida di usare Fdisk da Windows, cosa onestamente
   del tutto inutile (a meno che non si sia appena comprato un
   computer nuovo, ma anche in tal caso è meglio creare un'unica
   partizione con Fdisk da Windows e dividerla poi con Fips per
   motivi che verranno esposti più avanti) oppure un'utilità di
   partizionamento commerciale come Partition Magic dovrà
   vedersela da solo.
     __________________________________________________________

4. Un appunto sui dischi rigidi e sulle partizioni

   Un disco rigido può contenere fino a un massimo di 4 partizioni
   primarie, non mi si venga a chiedere perché, non lo so. Ma
   oltre a partizioni primarie, un disco rigido può contenere
   anche una partizione "estesa", che a sua volta è in grado di
   avere al suo interno un certo numero di partizioni logiche
   (all'incirca 15). Le partizioni estese non sono delle vere e
   proprie partizioni come quelle primarie o quelle logiche: in
   esse non possono essere immagazzinati dati perché in realtà
   funzionano da contenitori per le partizioni logiche. È in
   queste ultime che in realtà vengono immagazzinati i dati:
   semplice, no? Così, in Windows, C è una partizione primaria e,
   se si usasse il programma Fdisk di Windows (partizionando il
   disco Fdisk non consente di avere più di una partizione
   primaria) D verrebbe ad essere la prima partizione logica di
   una partizione estesa. E sarebbe la seconda partizione logica,
   e così via. In Linux le cose sono leggermente diverse. La prima
   partizione primaria è chiamata /dev/hda1, la seconda partizione
   primaria /dev/hda2 e così via fino alla quarta che viene a
   essere /dev/hda4. Nel caso in cui il disco contenga 1
   partizione primaria e una estesa, in Linux esse saranno
   indicate rispettivamente come /dev/hda1 (quella primaria) e
   /dev/hda2 (quella estesa). Le partizioni logiche di una
   partizione estesa vengono chiamate /dev/hda5, /dev/hda6 e così
   via. Il secondo disco rigido sarebbe indicato come /dev/hdb, il
   terzo come /dev/hdc (in genere è il lettore CD, se impostato
   come master secondario) e il quarto e ultimo disco rigido come
   /dev/hdd (ultimo perché la scheda madre consente di collegare
   fino a un massimo di 4 dispositivi IDE) mentre grazie al cielo
   i dispositivi SCSI vengono chiamati /dev/sda.
     __________________________________________________________

5. Un po' di teoria

   Grazie a Fips è possibile creare una nuova partizione a partire
   dallo spazio libero presente su disco. Per definizione si
   tratta di un'operazione estremamente delicata, per cui è
   consigliato fare il backup di tutti i dati di una certa
   importanza, nel caso in cui qualcosa dovesse andare storto.
   Detto ciò, è anche vero che Fips è stato usato con successo da
   molte persone nelle condizioni più disparate e non c'è motivo
   di dubitare che l'operazione vada a buon fine, a meno che non
   ci sia già qualcosa che non va nel disco, nella tabella di
   allocazione file [NdT: FAT, dall'inglese File Allocation Table]
   o nella tabella delle partizioni. Si rimanda comunque a una
   lettura della documentazione di Fips.

   Prima di iniziare con il partizionamento del disco, bisogna
   però decidere in che modo si vuole avviare Linux. La scelta
   predefinita e più diffusa prevede l'uso di Lilo, un bootloader
   semplice ed elementare che sovrascriverà, dopo averlo salvato,
   l'MBR (Master Boot Record) del disco rigido e al momento del
   boot permetterà di scegliere se avviare Windows oppure Linux.
   Scegliendo Windows verrà avviato Windows e ci si troverà di
   fronte la consueta schermata di avvio del sistema di casa
   Redmond, viceversa scegliendo Linux verrà avviato Linux. Se
   entro un intervallo di tempo – dai 5 secondi in su, a seconda
   di quanto stabilito in fase di configurazione – non verrà
   effettuata alcuna scelta, verrà avviato il sistema operativo
   predefinito, sia esso Windows o Linux, ancora una volta a
   seconda di quanto stabilito in fase di configurazione. È
   possibile ripristinare l'MBR originale in qualsiasi momento, ad
   esempio se si disinstalla Linux, con il comando /sbin/lilo -u
   da Linux o con il comando fdisk /MBR da DOS: l'MBR attuale
   verrà sovrascritto dall'MBR di Windows. Va da sé che in seguito
   non sarà più possibile scegliere di avviare Linux né tanto meno
   avere accesso alla partizione Linux.

   Il problema che l'uso di Lilo implica, soprattutto per chi ha
   un disco di grandi dimensioni, è che bisognerà dedicare a Linux
   una porzione non indifferente dello spazio disponibile su
   disco. Non si tratta di una soluzione flessibile, perché se da
   un lato è possibile accedere alla partizione Windows da Linux –
   i file MPEG di grandi dimensioni possono essere salvati in essa
   rendendoli così accessibili a entrambi i sistemi operativi –
   non è altrettanto possibile fare il contrario.

   Ciò è dovuto a un'astrusa limitazione del BIOS che obbliga Lilo
   a risiedere entro e non oltre i primi 1024 cilindri del disco
   rigido. Windows e Linux non sono soggetti a limitazioni di
   questo tipo, evidentemente si tratta di qualcosa legato alla
   traduzione degli indirizzi e all'LBA, la cui comprensione è a
   dir poco ostica. Per ora è sufficiente sapere che il BIOS non è
   in grado di avere accesso ai dati posti oltre il limite dei
   1024 cilindri e, dal momento che Lilo si affida al BIOS per
   avviare i SO, è soggetto alla stessa limitazione. Ragion per
   cui, volendo usare Lilo per avviare Linux, è necessario
   assicurarsi che la partizione Linux si trovi al di sotto del
   limite dei 1024 cilindri. Il mio disco rigido, così come tutti
   i dischi rigidi più recenti, ha una dimensione superiore ai
   1024 cilindri (1650 cilindri, per la precisione). Usando Lilo
   dovrei creare la partizione Linux più o meno all'altezza del
   cilindro 1000 o 1010, il che equivarrebbe a dedicare a Linux la
   bellezza di 5,2GB su 12,9GB, cosa impossibile dal momento che,
   per l'uso che ne faccio io, a Linux sono più che sufficienti
   2GB mentre per Windows (tra file audio MP3 e video MPEG) 7GB
   sono ben lungi dall'essere sufficienti.

   La soluzione, perché in Linux c'è sempre una soluzione, è
   Loadlin: un'alternativa a Lilo troppo spesso sottovalutata che
   è inspiegabilmente meno diffusa e conosciuta, nonostante
   garantisca una flessibilità molto maggiore. Usando Loadlin, una
   validissima alternativa per i possessori di dischi di grandi
   dimensioni, non ci si dovrà più preoccupare del limite dei 1024
   cilindri. E non è tutto: diventa possibile avviare Linux con un
   collegamento sulla scrivania di Windows e modificare il file
   autoexec.bat in modo che all'avvio venga data la possibilità di
   avviare un SO o l'altro, come accade con Lilo. Non si ha più
   alcun vincolo, dunque, per la dimensione delle partizioni. Nel
   mio caso, ho optato per una partizione estesa di 2,2GB
   contenente 3 partizioni logiche. Sì, 3 partizioni. È normale
   creare tre partizioni, una per i file di avvio del kernel, una
   partizione di root e una partizione di swap (ma su questo si
   ritornerà più avanti).

   Anche dovendo usare a tutti i costi Lilo, è comunque
   disponibile una soluzione per non essere costretti a rinunciare
   a tutto quello spazio: creare la partizione Linux a metà del
   disco. Per fare ciò, è necessario dividere in 2 la partizione
   appena creata con Fips (usando a tal fine nuovamente Fips): la
   prima partizione, che ricadrà all'interno del limite dei 1024
   cilindri, può essere usata per Linux mentre la seconda per
   Windows. Il disco rigido ospiterà così 3 partizioni, di cui la
   prima e la terza saranno dedicate a Windows e quella centrale a
   Linux. Personalmente, eviterei questa disposizione, ma ognuno è
   libero di fare le proprie scelte. (Per il momento, si fa
   riferimento alla partizione Linux come se fosse una sola ma in
   fase di installazione la si dividerà in 3 con gli strumenti
   messi a disposizione da Linux.) In alternativa, è possibile
   creare una piccola partizione /boot di 15-20MB prima del
   cilindro 1024 e installare il resto del sistema dove si vuole
   ma, ancora una volta, personalmente lo eviterei.
     __________________________________________________________

6. Partizionamento del disco

   Tutto ciò premesso, possiamo passare dalla teoria alla pratica
   con il partizionamento del disco. Prima di tutto, è necessario
   creare un disco di avvio DOS (digitando format a: /s in un
   prompt di DOS o in DOS). Il disco dovrà contenere i seguenti
   tre file: fips.exe, restorrb.exe e errors.txt. In seguito,
   eseguire la deframmentazione del disco in modo da spostare
   tutti i dati all'inizio dell'unità liberando lo spazio
   necessario affinché Fips possa creare una nuova partizione. In
   Norton SpeedDisk dovrà essere selezionata l'opzione di
   ottimizzazione dello spazio libero. Norton in genere sposta i
   dati alla fine dell'unità e questo impedirebbe a Fips di creare
   la nuova partizione. Eseguire l'utilità Scandisk e riavviare il
   sistema con inserito il disco di avvio appena creato.

   Digitando fips al prompt dei comandi, verrà lanciato Fips, che
   mostrerà la tabella delle partizioni accompagnata da un
   avvertimento sullo stato incoerente di quest'ultima. Se il
   disco ha una dimensione superiore a 1024 cilindri, si può
   tranquillamente ignorare quest'avvertimento. In seguito, Fips
   chiederà se si desidera proseguire (un programma molto preciso,
   non c'è che dire) e, dopo aver risposto affermativamente, si
   verrà invitati a salvare una copia di backup della propria
   tabella delle partizioni e del settore di boot. Rispondere
   affermativamente anche a questa domanda è di importanza
   fondamentale perché permette di riportare il disco rigido allo
   stato originale, cioè con una sola partizione, nel caso in cui
   qualcosa dovesse andare storto. Tornerà utile anche qualora si
   volesse disinstallare Linux o ridimensionare la partizione
   riservata a Linux. Indipendentemente dall'uso fatto della nuova
   partizione nel frattempo, se si dispone della copia di backup è
   possibile riportare il disco rigido alla condizione antecedente
   al partizionamento. L'operazione di ripristino è sempre
   possibile, tranne che in un caso: se nel frattempo si formatta
   la partizione originale (Windows) che era stata precedentemente
   divisa per fare spazio a Linux, la FAT originale verrà
   sovrascritta da un'altra di dimensioni inferiori, rendendo
   impossibile l'operazione di ripristino.

   Dopo aver salvato la copia di backup, apparirà una schermata
   con 3 numeri di cui il primo corrisponde alla partizione
   originale; si noti che occupa la dimensione più ridotta
   possibile: Fips assegna come scelta predefinita tutto lo spazio
   disponibile su disco alla nuova partizione. La seconda colonna
   mostra le informazioni relative al cilindro, che serviranno
   come riferimento per chi volesse usare Lilo. La terza
   corrisponde alla dimensione della nuova partizione che si sta
   per creare (ed è già al più alto valore consentito). È
   possibile ridimensionare la partizione con i tasti freccia
   quindi, nel nostro caso, sarà sufficiente ridurre le dimensioni
   della nuova partizione fino al valore desiderato (dato che
   quello mostrato inizialmente è il massimo consentito). Per gli
   utenti di Lilo, la nuova partizione dovrà essere al di sotto
   del limite dei 1024 cilindri: una buona scelta come punto
   d'inizio della nuova partizione è, ad esempio, 1000. Una volta
   raggiunta la dimensione desiderata per la nuova partizione,
   premere INVIO. Fips chiederà conferma e scriverà la nuova
   tabella delle partizioni.

   Riavviare il sistema. È importante ricordarsi di modificare le
   impostazioni del BIOS in modo da non fare di nuovo il boot dal
   dischetto. Facendo doppio clic su Risorse del computer è
   possibile vedere il risultato del duro lavoro fatto sinora:
   sarà presente una nuova unità chiamata D accanto al disco C
   iniziale. Lasciando perdere per ora D, eseguire scandisk sulla
   partizione originale (C) e se va tutto bene non dovrebbero
   essere rilevati errori. È quindi possibile procedere
   all'installazione di Linux.

   Alcune guide su Linux a questo punto consigliano, erroneamente,
   di eliminare la partizione appena creata con il programma Fdisk
   di Windows. Non si commetta questo madornale errore, perché in
   tal caso le partizioni Linux verrebbero visualizzate in Risorse
   del computer al riavvio successivo all'installazione di Linux
   e, poiché naturalmente Windows non è in grado di leggere né
   tali unità né il file system ext2, l'utilizzo di Esplora
   Risorse e l'accesso al disco rigido da Windows diventerebbero
   un'attività dispendiosa in termini di tempo e rischiosa per la
   stabilità del sistema. Pertanto, meglio evitare.
     __________________________________________________________

7. Installazione

   Riavviare con inserito il CD di installazione di Linux; questa
   guida utilizzerà e si concentrerà su Redhat 6.2 che ha il
   pregio di non presentare grandi difficoltà. La maggior parte
   delle distribuzioni Linux ha lavorato molto sui programmi di
   installazione per cui questa fase non dovrebbe rappresentare un
   problema. Conviene, in ogni caso, essere ben informati sulle
   caratteristiche del proprio hardware, come i parametri di
   refresh orizzontale e verticale del monitor qualora il
   programma di installazione dovesse non rilevarli
   automaticamente (le cifre esatte si trovano nel manuale del
   monitor), la scheda video, il tipo (SDRAM o SGRAM) e la
   dimensione della memoria e il tipo di mouse (PS2 o seriale).
   Come accennato sopra, sarà necessario creare 3 partizioni per
   Linux, ciò non toglie che se ne possano creare di più ma 3 è il
   numero ottimale. I tipi di installazione possibili sono 3:
   Workstation, Server e Personalizzata. L'installazione Server
   cancella completamente il disco rigido, quindi attenzione! I
   tipi di installazione Workstation e Personalizzata si
   articolano in diverse sottoclassi, ma non è questa la sede
   adatta per entrare nei dettagli.

   Gli utenti di Loadlin sono obbligati a scegliere
   l'installazione Personalizzata e a saltare l'installazione di
   Lilo al momento opportuno, perché con le altre due possibilità
   Lilo verrà installato in modo predefinito senza chiedere
   conferma all'utente (e non è questo ciò che si vuole, giusto?).
   Gli utenti di Lilo non hanno vincoli di alcun genere e possono
   optare per il tipo di installazione che preferiscono.
     __________________________________________________________

8. Con Lilo

   Gli utenti di Lilo possono affidarsi a Disk Druid, l'utilità di
   partizionamento predefinita messa a disposizione da RedHat
   (ebbene sì, il partizionamento non è ancora finito). Per prima
   cosa, è necessario eliminare la seconda partizione che
   comparirà nella schermata di Disk Druid come /dev/hda2. In
   seguito, si dovrà creare una nuova partizione, impostando come
   punto di mount /boot e come dimensione 16MB. Creare una seconda
   partizione impostando come punto di mount / (la cosiddetta
   "partizione di root") selezionando per la dimensione Occupa
   fino alle dimensioni massime consentite. Quest'opzione farà sì
   che Disk Druid attribuisca alla partizione la maggiore
   dimensione consentita al termine del partizionamento. Creare
   una terza partizione impostando come punto di mount swap e
   selezionando come dimensione 127MB nel caso in cui si disponga
   di 64MB di RAM (se quest'ultima fosse inferiore, è sufficiente
   una partizione di swap di 64MB).
     __________________________________________________________

9. Con Loadlin

   Chi ha intenzione di usare Loadlin, invece, non potrà ricorrere
   a Disk Druid e si vedrà costretto a usare il programma Fdisk di
   Linux che, nonostante la famigerata reputazione, in realtà è
   molto semplice. Nella schermata relativa al tipo di
   installazione è necessario selezionare Personalizzata per avere
   la possibilità di usare fdisk (mediante l'apposito pulsante
   fdisk). Per qualche imperscrutabile motivo, Disk Druid non
   consente di continuare il processo di installazione se la
   partizione /boot si trova oltre il limite dei 1024 cilindri,
   per cui se si tenta di usarlo per la creazione delle partizioni
   il programma di installazione non permetterà di proseguire
   oltre. Fdisk è un programma molto semplice e non presenta
   grandi difficoltà. Per prima cosa, è necessario eliminare la
   partizione appena creata con Fips. Molti non capiscono perché
   ora debbano eliminare la partizione appena creata a così caro
   prezzo in termini di rischio. Quest'ultima in realtà è una
   partizione FAT32 inutilizzabile da Linux ed eliminarla non la
   farà tornare a far parte di C ma la trasformerà in
   unpartitioned free space (spazio libero non partizionato) che
   potrà essere utilizzato per la creazione di nuove partizioni.

   Per prima cosa è necessario conoscere le operazioni che è
   possibile effettuare con Fdisk: digitando m al prompt dei
   comandi si ottiene la lista delle opzioni, p permette di
   visualizzare la tabella delle partizioni, d è il comando usato
   per eliminare una partizione, n per crearne una, q provoca
   l'uscita dal programma senza salvare le modifiche (per cui se
   si dovesse commettere qualche errore, niente paura: è
   sufficiente premere q e ricominciare da capo), con w vengono
   salvate le modifiche alla tabella delle partizioni (da usare
   solo una volta certi del risultato) e, infine, digitando L
   vengono visualizzati i codici esadecimali dei diversi tipi di
   partizione. Per il momento è sufficiente saperne esclusivamente
   2: Linux, codice esadecimale 83 e Linux swap, codice
   esadecimale 82. Ma a cosa serve il codice esadecimale? Mentre
   Disk Druid permette di montare una partizione di swap senza
   specificarne il codice esadecimale, usando Fdisk l'unico modo
   di creare una partizione di swap è specificare il codice
   esadecimale corretto e cioè 82.

   Prima di tutto, digitare p al prompt di Fdisk in modo da
   visualizzare l'attuale tabella delle partizioni. Quindi
   digitare d e selezionare la partizione da eliminare, in questo
   caso /dev/hda2 (è sufficiente digitare 2) e visualizzare la
   modifica apportata alla tabella delle partizioni digitando
   nuovamente p. Quest'ultima sarà composta esclusivamente da una
   partizione FAT32 corrispondente a /dev/hda1 (vale a dire,
   l'unità C di Windows). In seguito, digitare n per creare una
   nuova partizione e alla scelta command action, fra primary
   (primaria) e extended (estesa), selezionare e. Non c'è una
   regola precisa al riguardo, ad esempio, è possibile creare una
   partizione primaria per /boot e una partizione estesa
   contenente le due partizioni logiche / e swap. Il mio consiglio
   è creare una partizione estesa con all'interno tre partizioni
   logiche. A questo punto è necessario specificare una dimensione
   adeguata per la partizione estesa, dal momento che conterrà tre
   partizioni logiche. D'ora in poi è sufficiente rispondere alle
   domande di Fdisk. Bisogna innanzitutto specificare la
   dimensione della partizione estesa che si intende creare.
   Quest'ultima inizierà dal punto in cui termina la partizione
   Windows e terminerà alla fine del disco. È possibile
   specificare la dimensione in M (megabyte), in cilindri oppure
   in K (kilobyte). È sufficiente accettare il valore proposto per
   l'inizio della partizione e selezionare come termine il numero
   del cilindro finale che sarà lo stesso Fdisk a fornire.

   Le stesse operazioni vanno ripetute per le tre partizioni
   logiche, solo che stavolta bisogna scegliere "logical" invece
   di "extended" e specificare le dimensioni corrette, che sono
   16MB per la partizione di boot, 127MB per la partizione di swap
   (la dimensione della partizione di swap varia a seconda della
   quantità di RAM a disposizione, in genere si consiglia di
   crearla di dimensioni doppie rispetto alla RAM) mentre il resto
   dello spazio disponibile sarà dedicato alla partizione di root
   (/). Fattibile, dopotutto, non sarà mica difficile! Dopo aver
   creato le tre partizioni, digitando p sarà possibile
   visualizzare le partizioni appena create. Saranno presenti
   /dev/hda2 (estesa), /dev/hda5 (logica), /dev/hda6 (logica) e
   /dev/hda7 (logica). Resta solo una cosa da fare: impostare il
   codice esadecimale per la partizione di swap. A tale scopo
   digitare t e selezionare la partizione da 127MB appena creata
   (che dovrebbe corrispondere a /dev/hda6) digitando come numero
   della partizione 6 e poi il codice esadecimale 82 su richiesta
   del programma stesso. A questo punto il partizionamento può
   dirsi concluso. Dopo aver controllato che sia tutto a posto,
   digitare w per uscire e far sì che Fdisk scriva la nuova
   tabella di partizioni. La schermata successiva è quella di Disk
   Druid che gli utenti di Lilo hanno già affrontato, dove è
   sufficiente montare le partizioni. /dev/hda5 (la partizione da
   16MB) dev'essere selezionata e montata come /boot. /dev/hda7,
   invece, va montata come / (partizione di root).
     __________________________________________________________

10. Riavvio del sistema

   Il resto dell'installazione non presenta particolari difficoltà
   e non è necessario trattarlo in maniera troppo estesa. La
   procedura prevede la selezione dei pacchetti desiderati, la
   creazione del disco di avvio (di fondamentale importanza in
   particolar modo per gli utenti di Loadlin) e, da ultimo, il
   riavvio del sistema. Gli utenti di Lilo dovranno digitare dos
   al prompt di Lilo per avviare Windows. Come promesso, da
   Windows non è visibile alcuna delle partizioni Linux e, almeno
   da questo punto di vista, si possono dormire sonni tranquilli.
   Per gli utenti di Lilo è necessario riavviare il sistema e
   avviare Linux digitando linux al prompt di Lilo per trovarsi di
   fronte a una console oppure al proprio desktop (gnome o kde).
   Un consiglio da principiante a principiante: è sempre meglio
   effettuare il login da console (e non in modalità grafica) e
   avviare X in un secondo momento perché così facendo, qualora X
   non dovesse più funzionare, sarebbe sempre possibile avere
   accesso al sistema per rimediare. Le impostazioni predefinite
   di Lilo prevedono l'avvio di Linux dopo un intervallo di tempo
   di 5 secondi ma è possibile impostare Windows come scelta
   predefinita modificando il file lilo in /etc. Basta individuare
   la riga default=linux e sostituire "linux" con dos. In
   alternativa, è possibile lanciare lilo da un xterm e spostare
   l'asterisco da linux a dos (con i tasti freccia, e come altro
   se no?). E questo è tutto quel che serve sapere agli utenti di
   Lilo.
     __________________________________________________________

11. Configurare Loadlin

   Agli utenti di Loadlin, invece, resta un po' di lavoro da fare.
   Per prima cosa, è necessario avviare Linux dal dischetto. Se si
   è effettuato il login in modalità grafica, avviare un emulatore
   di terminale come xterm o simili. Ne sono sempre disponibili
   alcuni fra gli strumenti di sistema. Digitare mkdir /mnt/dosc.
   Questo è il primo passo per rendere la partizione Windows
   accessibile da Linux ed è tanto più importante per gli utenti
   di Loadlin dato che si tratta del modo più semplice per
   trasferire il kernel Linux sulla partizione Windows. In
   seguito, avviare linuxconf dal menu di sistema o da xterm e
   cercare la sezione relativa ai filesystem. Aprire access local
   drives (accedi ai dispositivi locali) e selezionare add
   (aggiungi). Digitare /dev/hda1 nel campo relativo alla
   partizione, vfat come tipo di file system e /mnt/dosc/ come
   punto di mount, in seguito montare la partizione. In
   alternativa, è possibile modificare direttamente il file fstab
   nella directory /etc con un editor di testo (Gedit va più che
   bene) aggiungendo esattamente la seguente riga:
/dev/hda1    /mnt/dosc    vfat    defaults    0  0

   Questo renderà possibile l'accesso alla partizione Windows in
   /mnt/dosc/. Ora bisogna copiare il kernel Linux nella directory
   C e rinominarlo vmlinuz; si trova nella directory /boot
   probabilmente sotto il nome di vmlinuz seguito dal numero di
   versione del kernel (nel mio caso vmlinuz-2.2.14-5.0). Non
   dev'essere copiato il file chiamato vmlinuz contrassegnato da
   una freccetta perché si tratta di un link simbolico. Riavviare
   in Windows e prelevare il pacchetto loadlin dal cd di Linux (si
   trova nella sottodirectory /dostools/utils). È necessario
   decomprimerlo e posizionare Loadlin.exe nella directory C.
   Loadlin e il kernel, in realtà, possono trovarsi dovunque
   all'interno della partizione Windows ma per il il momento si
   consiglia di lasciarli nella directory radice del filesystem di
   Windows. A questo punto, sta all'utente decidere come avviare
   Linux. Si rimanda a una lettura della documentazione di loadlin
   per eventuali dettagli. Il modo più laborioso consiste in
   riavviare il sistema in modalità MS-DOS e digitare:
C:> loadlin vmlinuz root=/dev/hda7 ro

   Questo farà avviare Linux. Il modo più semplice prevede,
   invece, la creazione un file .bat contenente le stesse
   informazioni da posizionare sulla scrivania. A tal fine, è
   sufficiente aprire blocco note, digitare c:\loadlin c:\vmlinuz
   root=/dev/hda7 ro e salvare il file come linux.bat, cliccare
   con il pulsante destro del mouse, cliccare su Avanzate... dalla
   scheda Programma della finestra Proprietà e selezionare
   l'impostazione della modalità MS-DOS e dell'avviso. Creare un
   collegamento a questo file e posizionarlo sulla scrivania. Per
   avviare Linux è sufficiente fare doppio click su quel file e il
   gioco è fatto (quando si dice la comodità!).

   Se invece si desidera avere la possibilità di avviare Linux
   prima che sia caricato Windows, come gli utenti di Lilo, è
   necessario creare un altro file .bat e richiamarlo all'interno
   del file autoexec.bat. Non è difficile ed è possibile trovare
   tutti i dettagli nella documentazione di Loadlin. Il file
   dev'essere all'incirca così:
        @echo off
        cls
        echo.
        echo.
        echo.
        echo.
        choice /t:n,5 "Avviare Linux? (y/n)"
        if errorlevel 2 goto End
        c:\loadlin c:\vmlinuz  root=/dev/hda6  ro
        End

   (Questo piccolo script è stato preso di peso dalla
   documentazione di Loadlin, come avrà sicuramente notato il
   lettore accorto che abbia avuto il buonsenso di leggersi prima
   la documentazione.)

   Bisogna salvare il file come linux.bat oppure, se un file
   linux.bat esiste già nella directory radice del filesystem di
   Windows, è possibile salvarlo in un'altra posizione o
   assegnargli un nome diverso. Quindi basta aggiungere al file
   autoexec.bat la riga c:\linux '(o qualsiasi altro nome sia
   stato dato al file .bat). La cosa più importante se si usa un
   file .bat è specificare a Loadlin la posizione esatta
   dell'immagine del kernel (vmlinuz). Il file .bat appena creato
   renderà possibile avviare Linux prima che sia caricato Windows,
   per la precisione digitando y (per Linux) oppure n (per
   Windows) entro un intervallo di 5 secondi, dopodiché verrà
   avviato Windows. Buon divertimento!
     __________________________________________________________

12. Rimuovere Linux e riportare le partizioni Windows allo stato
originale

   I metodi sono leggermente diversi a seconda che si utilizzi
   Lilo oppure Loadlin. Gli utenti di Lilo dovranno prima di tutto
   ripristinare l'MBR originale digitando /sbin/lilo -u da Linux
   oppure fdisk /MBR da MS-DOS. La procedura che segue, invece,
   riguarda sia gli utenti di Loadlin che gli utenti di Lilo. Non
   sono tutte operazioni strettamente necessarie ma,
   personalmente, preferisco compierle tutte quante (non si è mai
   sicuri abbastanza).

   Fare il boot dal CD di installazione di Linux e digitare Linux
   expert al prompt di boot, rispondere quel che si vuole alle
   domande successive fino ad arrivare alla schermata di
   installazione. A questo punto selezionare Installa e poi
   Partizionamento manuale con fdisk per eliminare tutte le
   partizioni Linux con Fdisk. Scrivere i cambiamenti su disco e
   in seguito uscire dal programma di installazione con
   CtrlAltCanc oppure riavviare premendo il pulsante di reset. È
   importante ricordarsi di modificare le impostazioni del BIOS in
   modo da fare il boot dal disco rigido e non di nuovo dal
   CD-ROM.

   Riavviare nuovamente, questa volta dal dischetto di fips che
   contiene il backup della tabella delle partizioni e del settore
   di boot salvato in precedenza (perché è stato salvato, vero?) e
   digitare restorrb al prompt. Rispondere yes alla domanda per
   far sì che il programma ripristini la tabella delle partizioni
   e il settore di boot: ci si può ritenere soddisfatti, non è da
   tutti riuscire nell'impresa impossibile di recuperare lo spazio
   rimasto inutilizzato dopo l'eliminazione delle partizioni!
   Questa è una ragione ancor più buona per assicurarsi di avere
   il fantomatico file di backup (Rootboot.000) salvato su almeno
   5 supporti diversi. La prudenza non è mai troppa. Riavviare
   nuovamente Windows ed eseguire l'utilità scandisk sull'unità C
   appena ridimensionata. Verrà rilevato un errore nel settore
   FSinfo che consiste, semplicemente, in un calcolo errato dello
   spazio libero e dello spazio utilizzato. I dati delle
   partizioni Linux, è ovvio, sono persi per sempre. Per fortuna,
   questa procedura non sarà necessaria a meno che non si desideri
   aumentare lo spazio destinato a Linux o eliminare Windows.
     __________________________________________________________

13. XFree 4.01

   Si consiglia di aggiornare l'Xserver in uso alla versione 4.01.
   Per il momento l'unica distribuzione a fornire questa versione
   di X è RedHat 7, ma è possibile procurarsela sul sito ftp del
   Consorzio X (che fantasia): ftp.xfree86.org/. In tal modo sarà
   possibile ottenere l'accelerazione diretta e prestazioni
   elevate per moltissime schede accelerate e i possessori di una
   scheda video Nvidia potranno gioire due volte, primo perché X
   ora supporta nativamente in modo egregio la maggior parte delle
   schede e secondo perché Nvidia ha reso disponibili dei driver
   con accelerazione OpenGL ad alte prestazioni (complimenti a
   loro!). Visitare la pagina di Xfree http://www.xfree86.org/ per
   ulteriori informazioni.
     __________________________________________________________

14. Consigli e suggerimenti

     * Indipendentemente dalla scheda audio in uso, i driver Alsa
       garantiscono le migliori prestazioni. Per chi avesse, come
       il sottoscritto, una Yamaha 724, i driver Alsa sono quasi
       allo stesso livello di quelli forniti per Windows dalla
       casa produttrice. Ovviamente, sarà necessario compilarli
       per il sistema in uso, ma non è un motivo sufficiente per
       lasciarsi scoraggiare. Si tratta solo di tre comandi,
       dopotutto. I driver sono disponibili
       suhttp://www.alsa-project.org/.
     * Chi fosse abituato a usare la rotellina o le rotelline di
       scorrimento del mouse non sarà molto contento all'idea di
       non poterlo fare anche in Linux. La buona notizia è che ciò
       è possibile, ma non è impostato in maniera predefinita. È
       necessario aggiungere la seguente riga al file XF86Config
       nella directory /etc/X11/ sotto la sezione relativa al
       mouse: "ZAxisMapping 4 5" (ovviamente senza le virgolette,
       anche se in Xfree 4.01 i valori numerici devono essere
       racchiusi fra virgolette). Se questo non dovesse essere
       sufficiente, può essere utile visitare la pagina
       http://www.inria.fr/koala/colas/mouse-wheel-scroll/ a cura
       di un tale che risponde al nome curioso di Colas Nahaboo.
     * Il disco rigido non è configurato in maniera predefinita
       per sfruttare appieno le sue possibilità e nella maggior
       parte dei casi la differenza è piuttosto notevole. Il DMA,
       l'I/O a 32 bit e il trasferimento di settori multipli sono
       disabilitati in maniera predefinita pertanto si consiglia
       di abilitarli il prima possibile (ovviamente dando per
       scontato che il disco in uso sia relativamente nuovo e
       supporti pertanto queste caratteristiche). Per averne
       un'idea basta misurare le prestazioni dell'HDD prima e dopo
       aver modificato le impostazioni in modo da rendersi conto
       degli effetti positivi che possono essere ottenuti con le
       opportune modifiche al sistema. L'utilità necessaria per
       modificare le impostazioni è hdparm che può essere lanciata
       da una finestra di xterm o dalla console, anche se per
       rendere permanente la modifica è necessario aggiungere il
       comando al proprio file rc.local nella directory
       /etc/rc.d/. Prima dell'uso, si rimanda a un'attenta lettura
       della documentazione di hdparm. Si tratta di un'utilità
       molto potente e un uso scorretto potrebbe danneggiare in
       modo serio il disco rigido in uso. Per prima cosa è
       opportuno eseguire il comando hdparm con l'opzione -i per
       ottenere le informazioni relative all'hdd, in seguito
       misurare le sue prestazioni prima delle modifiche con
       hdparm -Tt /dev/hda. In seguito, si deve eseguire hdparm -c
       1 -d 1 -m16 -k 1 /dev/hda
       hdparm -d 1 (imposta dma = on) -mx(abilita i trasferimenti
       multipli, dove x corrisponde al valore massimo, nel mio
       caso 16, consentito dall'hdd – eseguendo hdparm con
       l'opzione -i si otterrà il valore massimo consentito
       dall'hdd) -c 1 (abilita l'I/O a 32 bit) -k 1 (preserva le
       impostazioni). Nel mio caso il trasferimento di dati è
       schizzato da 3.16 a 16.8MB/sec!
     * Un driver per permettere a Windows l'accesso al file system
       ext2, chiamato ext2fs, è disponibile alla pagina
       http://uranus.it.swin.edu.au/~jn/linux/. Grazie ad esso è
       possibile avere il vantaggio aggiuntivo di leggere le
       proprie partizioni Linux da Windows.
     __________________________________________________________

15. Linux oggi e le sfide di domani

   Per i programmatori e per chi è ansioso di imparare – Per i
   programmatori Linux è già una soluzione pressoché perfetta.
   Nessun altro sistema operativo permette di scegliere fra una
   gamma più ampia di strumenti e piattaforme di sviluppo. La
   flessibilità che offre è a dir poco strabiliante e per di più
   senza dover sborsare nemmeno un centesimo! Un vantaggio in più
   è il senso di appartenenza a una comunità, che non ha prezzo.

   Per chi ha voglia di imparare le cose vanno ancor meglio. C'è
   sempre qualcosa di nuovo da scoprire e, dal momento che il
   sistema è in tutto e per tutto "trasparente", le possibilità di
   avvicinarsi al mondo dell'informatica e della programmazione in
   generale (se non si è interessati lo si diventerà) sono molto
   più alte che su Windows. Smanettare non sarà più la stessa
   cosa.

   Per l'utente desktop medio – Conviene distinguere l'analisi in
   5 aree distinte: internet, giochi, elaborazione testi,
   amministrazione e audiovisivi. Non è più questione di facilità
   d'uso, perché sono ormai lontani i tempi delle interfacce
   brutte e poco funzionali: dal punto di vista dell'usabilità e
   della pura e semplice estetica Gnome è di gran lunga superiore
   a Windows, quindi non c'è niente di cui preoccuparsi al
   riguardo. La gestione dei file, l'installazione e la rimozione
   del software e le attività di amministrazione di base sono
   centralizzate e ottimizzate al massimo; usando Linux, inoltre,
   probabilmente si supereranno poco a poco tutti i pregiudizi
   sulla riga di comando che niente ha a che vedere con
   l'impotente prompt del DOS. È una shell incredibilmente potente
   in grado di svolgere ogni compito immaginabile in meno tempo di
   quello che ci vuole a cliccare su un pulsante. Anche se
   all'inizio può incutere un po' di timore, è il cuore pulsante
   di Linux, il pannello di controllo, il quartier generale, la
   linea diretta fra l'utente e il kernel. La configurazione
   dell'hardware non è semplice come in Windows, in genere perché
   il plug-and-play ha complicato le cose invece di renderle più
   semplici, ma non è nemmeno così difficile, la cosa migliore è
   configurare il BIOS come non-PnP in modo che possa configurare
   le cose (specialmente la scheda audio), ma soprattutto è
   importante leggere, leggere e ancora leggere. È disponibile
   moltissima documentazione sul proprio sistema grazie alla quale
   tutto diventa facile. Anche in Linux vale la regola "Ignorantia
   non excusat".
     __________________________________________________________

15.1. Nel dettaglio – Elaborazione testi

   Corel WordPerfect è una buona scelta, ma la soluzione più
   semplice è provare Abiword http://www.abisource.com/. È un
   ottimo programma e assomiglia in modo sorprendente a MSWord –
   cosa volere di più? Sono entrambi gratuiti e facilmente
   reperibili, non conosco Wordperfect 9 ma la versione 8 è
   gratuita, valida e a disposizione di chiunque voglia provarla.
   Altre opzioni sono Applixware e Star Office. Non ho mai usato
   Applix ma di Star Office posso dire che è lenta e non si
   presenta bene, in altre parole, uno di quei programmi che
   farebbero allontanare gli utenti da Linux (ma non che in
   Windows sia migliore). La versione 5.1 era accettabile ma da
   quando è stata acquistata dalla Sun non ha fatto che peggiorare
   e la versione 5.2 è pressoché inutilizzabile. In quanto agli
   editor di testo semplice o html le alternative aumentano di
   giorno in giorno. La maggior parte delle distribuzioni mette a
   disposizione una gran varietà di software, quindi basta
   cercare. Non sono un utente abituale dei fogli di calcolo, ma
   per questo esiste GNUmeric che non è molto diverso da Excel e
   le sue ineguatezze presenti in fase di stampa sono state ora
   risolte. Sembra essere una buona alternativa. La Corel ha reso
   disponibili i port di quasi tutte le sue applicazioni, che non
   costano quanto le loro controparti Windows e offrono le stesse
   funzionalità.
     __________________________________________________________

15.2. Audiovisivi

   È un'area in cui Linux non lascia certo a desiderare. Ci sono
   altrettanti se non addirittura più riproduttori di file mp3 di
   quanti non siano disponibili per Windows. Il più diffuso è
   XMMS, che assomiglia un po' a Winamp ed è altrettanto valido,
   inoltre ha degli ottimi plug-in di visualizzazione. Altri
   riproduttori di mp3 sono Gqmpeg, Freeamp, Alsaplayer. Più che
   sufficiente, direi. I riproduttori di Mpeg1 e vcd lasciano un
   po' a desiderare, MTV è una scelta valida e scaricabile
   (hteztp://www.mtvplayer.com/) gratuitamente per uso personale
   mentre una soluzione completamente gratuita è resa disponibile
   dalla Lokigames (http://www.lokigames.com/), ma sono solo
   alcuni fra i tanti. Ci sono diversi riproduttori di mp2 fra cui
   movie è molto valido. Non ho un lettore dvd quindi non me ne
   intendo, ma Xmovie dovrebbe essere in grado di gestire
   egregiamente i flussi mpeg2. La maggior parte dei riproduttori
   di mpeg 1 che uso permettono di sfruttare l'accelerazione GL e
   ho dei buoni motivi per credere che i CD video non vengano
   riprodotti meno bene che in Windows Media Player. Per estrarre
   le tracce audio da un CD è disponibile una varietà di opzioni,
   senza più problemi di sorta con i driver ASPI: le applicazioni
   Linux leggono i dati digitali direttamente da dischi e sono
   disponibili tutti i codec più diffusi (fra cui Xing e
   Fraunhofer, ma personalmente preferisco Blade e Lame, due
   ottimi codificatori gratuiti disponibili per tutte le
   piattaforme). Ci sono anche alcuni strumenti per scrivere CD.
   Basta dare un'occhiata negli archivi Linux.
     __________________________________________________________

15.3. Internet

   Anche in questo campo le cose vanno più che bene, tuttavia
   sarebbe auspicabile che ci fossero altri browser oltre a
   Netscape che, però, non ha niente di male. Sono inoltre
   disponibili applicazioni analoghe a quelle per Windows: client
   di chat, messaggistica istantanea e ftp, gestori degli
   scaricamenti, ecc.
     __________________________________________________________

15.4. Giochi

   L'area più carente è forse quella dei giochi, anche se è attivo
   un progetto della Lokigames per fare il port per Linux di tutti
   i giochi più famosi (http://www.lokigames.com/): titoli come
   Quake 2 e 3, System Shock e Heavygear sono già pronti e
   disponibili. È importante assicurarsi di avere installato Xfree
   4.01 o superiore e che la scheda video in uso sia supportata.
     __________________________________________________________

15.5. Desktop publishing

   Resta solo il DTP, un ambito dove Linux avrebbe potuto battere
   Windows ma è stata persa l'occasione. Linux potrebbe essere
   ottimizzato al massimo per il DTP. Ghostscript (un RIP
   PostScript), se usato a dovere, rappresenta già una soluzione
   professionale per la stampa e supporta un gran numero di
   stampanti. Se si è già in possesso di una stampante PostScript
   è possibile iniziare a usarlo senza problemi. Per
   l'elaborazione di immagini è disponibile Gimp. È valido quasi
   quanto Photoshop, il che non è poco. Pur essendo inadatto a
   lavori di stampa seri dato il mancato supporto al CMYK e alla
   gestione dei colori, resta una buona soluzione
   semi-professionale perfetta per la grafica orientata al web e
   divertente da usare. Gimp include anche alcuni ottimi driver
   per le stampanti Epson. Ghostscript presenta qualche problema
   con le immagini bitmap (non tutte, ma le foto ad esempio) ed è
   sì possibile ottenere buoni risultati ma dopo uno sforzo non
   indifferente. Per quanto riguarda la grafica testuale e
   vettoriale è valido al punto da aver sostituito il mio driver
   Epson in Windows (perché sì, ne esiste anche una versione per
   Windows). GhostScript è disponibile su
   http://www.cs.wisc.edu/~ghost/.

   L'elaborazione di testi, invece, è già stata trattata. Le aree
   problematiche restano la grafica vettoriale e la composizione
   tipografica. Due soluzioni possibili, entrambe commerciali
   purtroppo, sono Framemaker per Linux e CorelDraw. Esistono
   anche programmi di grafica vettoriale ma sono ancora allo stato
   embrionale. Si stanno facendo avanti alternative come Sketch,
   Killustrator o Impress, ma sono ancora ben lungi dalle
   soluzioni professionali quali Draw o Adobe Illustrator. Per la
   composizione tipografica c'è Tex, ma per chi fosse abituato a
   Pagemaker, Quark o InDesign non sarà una transizione felice: è
   difficile imparare a usarlo, non è di facile gestione, c'è una
   serie non indifferente di problemi con i tipi di carattere e,
   come se non bastasse, non è WYSIWYG (una cosetta da niente,
   no?).

   Per concludere, al momento l'unica disparità sostanziale in
   termini di rendimento, dal mio punto di vista, è data dalla
   grafica vettoriale, dalla composizione tipografica e dai
   giochi. Magari fra un anno Linux avrà superato Windows anche in
   questi ambiti (almeno, per quel che mi riguarda) e avrò ben
   poche ragioni per mantenere il dual boot ma forse continuerò a
   usarli entrambi: dopotutto avere Windows, strano a dirsi, è
   confortante quanto avere Linux.
