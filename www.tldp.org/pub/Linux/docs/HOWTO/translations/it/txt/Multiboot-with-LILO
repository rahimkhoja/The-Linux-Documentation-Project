  Win95 + WinNT + Linux multiboot using LILO mini-HOWTO
  Renzo Zanelli, rzanelli@southeast.net
  v1.0, 26 marzo 1998

  Questo documento descrive come utilizzare il multiboot fra Windows 95,
  Windows NT e Linux.  Traduzione di Roberto Kaitsas (RobK at flash­
  net.it) Data traduzione: 11 Maggio 1999
  ______________________________________________________________________

  Indice Generale


  1. Introduzione
  2. Installazione dei Sistemi Operativi
     2.1 Installare Windows 95
        2.1.1 Installare Windows NT 4.0
           2.1.1.1 Installare Linux

  3. La parte Linux
  4. La parte Windows NT
  5. La parte Windows 95
  6. Riferimenti


  ______________________________________________________________________

  11..  IInnttrroodduuzziioonnee

  Ci sono una quantità di documenti disponibili che descrivono in
  dettaglio come fare il multiboot di qualsiasi numero di SO usando l'OS
  loader di Windows NT. Quando ho finalmente acquistato Windows NT,
  avevo già Windows 95 e Linux installati sul mio sistema e usavo LILO
  per fare il multiboot fra di loro. Ho deciso di aggiungere Windows NT
  al LILO invece di usare l'OS loader di Windows NT.

  Originariamente avevo Windows 95 sul mio primo disco IDE e Linux sul
  secondo disco. Linux è divenuto il mio terzo disco IDE ed ho
  installato un nuovo disco IDE per Windows NT come secondo disco.
  Benché non abbia provato questo in differenti configurazioni, credo
  che l'ordine con il quale ogni SO venga installato o in quale disco
  venga installato non sia importante.

  Ricordatevi solamente di creare i dischi di avvio d'emergenza quando
  ogni SO ve lo chiede!

  Dato che ho usato l'utility di Gilles Vollant BootPart e BootPart
  supporta solo dischi fino a 4GB di dimensioni, questa potrebbe non
  funzionare se avete dischi di capacità più grande. Se avete bisogno di
  lavorare con dischi più grandi di 4GB, contattate Gilles direttamente
  (guardate la documentazione di BootPart per indirizzo e-mail di
  Gilles).



  22..  IInnssttaallllaazziioonnee ddeeii SSiisstteemmii OOppeerraattiivvii

  Quando installate i SO, siate sicuri che siano tutti installati su
  partizioni avviabili. Ho installato sia Windows 95 che Windows NT su
  partizioni Fat 16, dato che questa procedura funziona su dischi Fat
  16.  Se decidete di usare Fat32 per Windows 95 e NTFS per Windows NT,
  controllate che la vostra versione di Linux le supporti e, se è così,
  fino a che punto.



  22..11..  IInnssttaallllaarree WWiinnddoowwss 9955

  Installate Windows 95 sul vostro primo disco. Questo sarà il vostro
  disco C:. Ricordatevi di creare i dischi di partenza di Windows 95
  quando vi viene chiesto di farlo.

  Ho scoperto che sarebbe meglio se il disco Linux venisse rimosso dal
  sistema quando viene installato Windows 95, cosicché non viene mai
  scoperto e non esiste fintantoché Windows 95 è interessato.

  A questo punto, se avete fatto tutto correttamente, dovreste essere in
  grado di avviare Windows 95.



  22..11..11..  IInnssttaallllaarree WWiinnddoowwss NNTT 44..00

  Installate Windows NT 4.0 sul vostro secondo disco. Quando create la
  partizione su questo disco, rendete la partizione eseguibile. Non
  tutte le versioni di Linux supportano NTFS, così io ho creato una
  partizione FAT 16, per mantenermi cauto e perché volevo scambiare dati
  fra i dischi Windows.

  Quando Windows NT si installa, rileva la presenza di Windows 95 e crea
  una voce per questo nell'OS loader di Windows NT e si potranno vedere
  3 voci nel menù dell'OS loader di NT come segue:


       Windows NT Workstation Version 4.00
       Windows NT Workstation Version 4.00 [VGA mode]
       Microsoft Windows



  A questo punto, se avete fatto tutto correttamente, siete in grado di
  eseguire un avvio multiplo fra Windows NT e Windows 95.



  22..11..11..11..  IInnssttaallllaarree LLiinnuuxx

  Installate Linux sul vostro terzo disco. Quando ho installato Linux,
  avevo installato solo Windows 95 così ho solamente aggiunto la
  partizione di Windows 95 a Lilo. Potete andare avanti e installare
  tutti i SO installando LILO, o modificare il file di configurazione di
  Lilo più tardi. Comunque decidete di procedere, vi mostrerò come il
  file /etc/lilo.conf dovrebbe essere modificato nella prossima sezione.
  Una volta che Linux è installato, dovreste essere in grado di avviare
  Linux.



  33..  LLaa ppaarrttee LLiinnuuxx

  Questo prevede la modifica del file /etc/lilo.conf e la
  reinstallazione di LILO. Ciò che segue dovrebbe essere già presente in
  /etc/lilo.conf:


       boot=/dev/hda



  Questa parte di codice dovrebbe già essere presente:


       # Parte di codice Linux
       image=/vmlinuz
       root=/dev/hdc1
       label=Linux
       # Fine parte di codice Linux



  Ora aggiungiamo la parte di codice di Windows 95:


       # Parte di codice Windows 95
       other=/dev/hda1
       table=/dev/hda
       label=Windows95
       # Fine parte di codice Windows 95



  Ora aggiungiamo la parte di codice di Windows NT:


       # Parte di codice di Windows NT
       other=/dev/hdb1
       table=/dev/hda
       loader=/boot/any_d.b
       label=WindowsNT
       # Fine Parte di codice di Windows NT



  Ora eseguiamo LILO di nuovo. A questo punto, se tutto è andato bene,
  dovremmo avere Windows 95, Windows NT, e Linux come selezione da LILO.
  Dovreste essere in grado di avviare Linux e Windows 95 (che dovrebbe
  darvi l'OS loader di Windows NT). Per rendere operativa la voce di
  Windows NT, bisogna ancora fare qualche modifica sul lato Windows NT.



  44..  LLaa ppaarrttee WWiinnddoowwss NNTT

  Prima di poter continuare, dovete fare due cose.

  La prima è di scaricarsi e scompattare l'utility di Gilles Vollant
  BootPart che potete trovare a  <http://www.winimage.com/bootpart.htm>
  con qualche informazione sul suo uso.

  La seconda cosa da fare è copiare (non cancellateli ancora!) i
  seguenti file nella directory madre del disco di Windows NT:


       Boot.ini
       Bootsect.dos
       Ntdetect.com
       Ntldr



  Questi files sono l'OS loader di Windows NT. Questi stanno nella
  directory madre del disco di Windows 95 e sono stati messi lì da Win­
  dows NT quando lo avete installato.

  Una volta che questo è stato fatto, avviate al DOS prompt di Windows
  95 (premete Shift+F5 quando Windows 95 si carica) e digitate il
  seguente comando:


       BOOTPART WINNT BOOT:D:



  Ora dovete modificare Boot.ini nella directory madre del vostro Win­
  dows NT.  Voi dovete modificare 3 linee, 1 nella sezione [boot loader]
  e due nella sezione [operating systems].

  Questo è il Boot.ini originale:


       [boot loader]
       timeout=30
       default=multi(0)disk(0)rdisk(1)partition(1)\WINNT
       [operating systems]
       multi(0)disk(0)rdisk(1)partition(1)\WINNT="Windows NT Workstation Version 4.00"
       multi(0)disk(0)rdisk(1)partition(1)\WINNT="Windows NT Workstation Version 4.00 [VGA mode]" /basevideo /sos
       C:\ = "Microsoft Windows"



  Questo è il nuovo Boot.ini:


       [boot loader]
       timeout=30
       default=multi(0)disk(0)rdisk(0)partition(1)\WINNT
       [operating systems]
       multi(0)disk(0)rdisk(0)partition(1)\WINNT="Windows NT Workstation Version 4.00"
       multi(0)disk(0)rdisk(0)partition(1)\WINNT="Windows NT Workstation Version 4.00 [VGA mode]" /basevideo /sos



  Notate che tutte le voci di rdisk(1) sono state cambiate in rdisk(0) e
  la linea che si riferisce a Windows 95 è stata cancellata.

  Dopo aver salvato Boot.ini, se avete fatto tutto correttamente,
  dovreste essere in grado di avviare Windows NT da LILO.



  55..  LLaa ppaarrttee WWiinnddoowwss 9955

  Create un dischetto DOS avviabile dal prompt DOS di Windows 95
  (premete Shift+F5 quando Windows 95 si carica). È importante che
  questo disco sia creato dal prompt DOS, non da una finestra DOS
  all'interno di Windows 95! Non avviate Windows95 fino a che questo
  passo non è stato completato! Copiate il file
  C:\WINDOWS95\COMMAND\SYS.COM sul dischetto (sostituite il percorso del
  vostro Windows95 se è diverso).  Ora avviate dal dischetto e digitate
  il comando:


       SYS C:

  Questo dovrebbe rimuovere l'OS Loader di Windows NT e dovreste essere
  in grado di avviare direttamente in Windows 95 da LILO.

  Ora potete rimuovere i files dell'OS Loader di Windows NT:


       Boot.ini
       Bootsect.dos
       Ntdetect.com
       Ntldr



  66..  RRiiffeerriimmeennttii

  Un ringraziamento alle seguenti persone (in nessun ordine
  particolare):

  James C. Bevier & D. Michael McFarland.  In un messaggio scambiato
  sulla lista-reddhat mi hanno procurato alcune informazioni su come
  avviare NT da Linux.

  Gilles Vollant.  BootPart è una pratica utility e Gilles l'ha resa
  disponibile gratuitamente con una buona documentazione. Grazie Gilles.

  Mike Harlan.  La lettura del suo 'Linux-DOS-Win95-OS2' mini-HOWTO, mi
  ha aiutato a fare alcune considerazioni sul comportamento di LILO.



