<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.7">
 <TITLE>Linux NIS(YP)/NIS/NIS+ HOWTO : Setting server NIS</TITLE>
 <LINK HREF="ID-NIS-HOWTO-9.html" REL=next>
 <LINK HREF="ID-NIS-HOWTO-7.html" REL=previous>
 <LINK HREF="ID-NIS-HOWTO.html#toc8" REL=contents>
</HEAD>
<BODY>
<A HREF="ID-NIS-HOWTO-9.html">Next</A>
<A HREF="ID-NIS-HOWTO-7.html">Previous</A>
<A HREF="ID-NIS-HOWTO.html#toc8">Contents</A>
<HR>
<H2><A NAME="s8">8. Setting server NIS</A></H2>

<H2><A NAME="ss8.1">8.1 Program server ypserv</A>
</H2>

<P>Dokumen ini hanya berisi bagaimana cara melakukan set up "ypserv" pada 
server NIS.
<P>Perangkat lunak untuk server NIS, dapat ditemukan pada :
<P>
<BLOCKQUOTE><CODE>
<PRE>
 Tempat               Direktori                 Nama Berkas
        
ftp.kernel.org    /pub/linux/utils/net/NIS      ypserv-1.2.7.tar.gz
waaug.erols.com   /pub/net/nis                  ypserv-1.2.5.tar.gz
</PRE>
</CODE></BLOCKQUOTE>
<P>Anda dapat pula melihat pada
<A HREF="http://www-vt.uni-paderborn.de/~kukuk/linux/nis.html">http://www-vt.uni-paderborn.de/~kukuk/linux/nis.html</A>
untuk informasi source yang terbaru.
<P>Setup server ini sama baik untuk NIS yang tradisional mapun untuk NYS.
<P>Kompile program tersebut untuk menghasilkan "ypserv" dan "makedbm". 
Jika Anda menjalankan server Anda sebagai master, tentukan berkas-
berkas apa saja yang dibutuhkan dan akan tersedia lewat NIS, lalu 
tambah atau hapus beberapa isian pada berkas <CODE>/var/yp/Makefile</CODE>.
<P>Sunting berkas /var/yp/securenets dan /etc/ypserv.conf. Untuk 
informasi lebih lanjut, baca halaman manual dari ypserv(8) dan 
ypserv.conf(8).
<P>Pastikan portmapper (portmap(8)) sedang dalam keadaan aktif, lalu 
jalankan perintah "ypserv". Perintah
<P>
<BLOCKQUOTE><CODE>
<PRE>
        % rpcinfo -u localhost ypserv
</PRE>
</CODE></BLOCKQUOTE>
<P>seharusnya menampilkan hasil sebagai berikut
<P>
<BLOCKQUOTE><CODE>
<PRE>
        program 100004 version 2 ready and waiting
</PRE>
</CODE></BLOCKQUOTE>
<P>Sekarang membuat basis data untuk NIS(YP). Pada master, jalankan
<P>
<BLOCKQUOTE><CODE>
<PRE>
        % /usr/lib/yp/ypinit -m
</PRE>
</CODE></BLOCKQUOTE>
<P>pada pembantu, pastikan bahwa ypwhich -m bekerja. Lalu jalankan
<P>
<BLOCKQUOTE><CODE>
<PRE>
        % /usr/lib/yp/ypinit -s masterhost
</PRE>
</CODE></BLOCKQUOTE>
<P>Setelah selesai, maka server Anda telah berjalan.
<P>Mungkin Anda sebaiknya menyunting crontab milik root *pada 
pembantu* dan tambahkan baris-baris berikut :
<P>
<BLOCKQUOTE><CODE>
<PRE>
             20 *    * * *    /usr/lib/yp/ypxfr_1perhour
             40 6    * * *    /usr/lib/yp/ypxfr_1perday
             55 6,18 * * *    /usr/lib/yp/ypxfr_2perday
</PRE>
</CODE></BLOCKQUOTE>
<P>Ini akan memastikan bahwa pemetaan NIS tidak akan kadaluwarsa, 
meskipun perubahan pada pembantu gagal karena pembantu sedang tidak 
aktif pada saat perubahan dilakukan oleh master.
<P>Jika Anda ingin membatasi akses pada server NIS Anda, Anda harus men 
set up NIS server Anda menjadi klien dengan menjalankan ypbind dan 
menambah tanda + pada pertengahan berkas /etc/passwd. Semua fungsi-
fungsi dari library akan mengabaikan semua isian normal setelah isian 
pertama NIS, dan info sisanya akan didapatkan dari NIS. Dengan cara 
ini aturan akses NIS dilakukan. Contoh :
<P>
<BLOCKQUOTE><CODE>
<PRE>
            root:x:0:0:root:/root:/bin/bash
            daemon:*:1:1:daemon:/usr/sbin:
            bin:*:2:2:bin:/bin:
            sys:*:3:3:sys:/dev:
            sync:*:4:100:sync:/bin:/bin/sync
            games:*:5:100:games:/usr/games:
            man:*:6:100:man:/var/catman:
            lp:*:7:7:lp:/var/spool/lpd:
            mail:*:8:8:mail:/var/spool/mail:
            news:*:9:9:news:/var/spool/news:
            uucp:*:10:50:uucp:/var/spool/uucp:
            nobody:*:65534:65534:noone at all,,,,:/dev/null:
            +miquels::::::
            +:*:::::/etc/NoShell
            [ All normal users AFTER this line! ]
            tester:*:299:10:Just a test account:/tmp:
            miquels:1234567890123:101:10:Miquel van 
Smoorenburg:/home/miquels:/bin/zsh
</PRE>
</CODE></BLOCKQUOTE>
<P>User tester tetap ada, tetapi memiliki shell /etc/NoShell. miquels 
tetap memiliki akses yang normal.
<P>Ada cara lain yaitu, Anda dapat menyunting berkas /var/yp/Makefile dan 
men set up NIS agar menggunakan berkas password yang lain. Pada 
sistem yang besar, password NIS dan berkas group biasanya disimpan 
pada /var/yp/ypfiles. Jika Anda melakukan ini, perintah-perintah 
seperti "passwd","chfn","adduser", tidak akan dapat dipakai lagi dan 
Anda perlu membuat perintah yang sesuai untuk menggantikannya.
<P>Meskipun demikian yppasswd, ypchsh dan ypchfn tetap dapat bekerja 
normal.
<P>
<H2><A NAME="ss8.2">8.2 Program yps dari server</A>
</H2>

<P>Untuk melakukan set up server NIS dengan menggunakan "yps", silahkan 
melihat pada paragraph sebelumnya. Set up server dengan menggunakan 
"yps" serupa seperti di atas, tetapi tidak seluruhnya, hati-hati jika 
Anda mencoba menjalankan instruksi "ypserv" pada "yps" ! "yps" tidak 
ada dukungan dari semua pengarang, dan memiliki keamanan yang lemah. 
Anda sebaiknya tidak menggunakannya.
<P>Server NIS untuk "yps" dapat ditemukan pada :
<P>
<BLOCKQUOTE><CODE>
<PRE>
Tempat          Direktori                       Nama Berkas

ftp.kernel.org     /pub/linux/utils/net/NIS     yps-0.21.tar.gz
ftp.lysator.liu.se /pub/NYS/servers             yps-0.21.tar.gz
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H2><A NAME="ss8.3">8.3 Program rpc.yppasswdd</A>
</H2>

<P>Ketika user mengganti passwordnya, basis data NIS untuk password dan 
mungkin basis data NIS yang lain, yang tergantung pada password NIS 
akan di perbaharui. Program "rpc.yppasswdd" berada pada server dan 
menangani perubahan pada password dan semua informasi NIS yang 
berhubungan akan diperbaharui pula oleh program ini. rpc.yppasswdd 
sekarang digabungkan dengan ypserv 1.2.7. Anda tidak membutuhkan 
versi rpc.yppasswdd yang lebih lama dan terpisah seperti yppasswd-
0.9.tar.gz atau yppasswd-0.10.tar.gz, dan sebaiknya Anda tidak 
menggunakannya lagi. rpc.yppasswdd dari ypserv 1.2.7 sudah mendukung 
shadow password. yppasswd sekarang merupakan bagian dari yp-tools-
1.4.tar.gz.
<P>rpc.yppasswdd hanya perlu dijalankan dari sisi server NIS. Berdasarkan 
ketentuan, user tidak diijinkan untuk merubah nama lengkapnya atau 
shell miliknya. Anda dapat mengijinkan ini lewat perintah chfn dengan 
pilihan -e atau chsh dengan pilihan -e.
<P>
<HR>
<A HREF="ID-NIS-HOWTO-9.html">Next</A>
<A HREF="ID-NIS-HOWTO-7.html">Previous</A>
<A HREF="ID-NIS-HOWTO.html#toc8">Contents</A>
</BODY>
</HTML>
