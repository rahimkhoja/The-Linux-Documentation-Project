<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.7">
 <TITLE>The dosemu HOWTO: Multi-user dan sesi Non-interactive </TITLE>
 <LINK HREF="ID-DOSEMU-HOWTO-6.html" REL=next>
 <LINK HREF="ID-DOSEMU-HOWTO-4.html" REL=previous>
 <LINK HREF="ID-DOSEMU-HOWTO.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="ID-DOSEMU-HOWTO-6.html">Next</A>
<A HREF="ID-DOSEMU-HOWTO-4.html">Previous</A>
<A HREF="ID-DOSEMU-HOWTO.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Multi-user dan sesi Non-interactive </A></H2>

<H2><A NAME="ss5.1">5.1 Dapatkah saya gunakan dosemu pada sebuah sistem multi-user?</A>
</H2>

<P>Corey Sweeney (<B>corey@amiganet.xnet.com</B>) menyatakan(93/12/8)
<P>Jika anda menjalankan dosemu pada sistem dimana lebih dari satu orang
yang ingin menjalankan dosemu, anda perlu mengubah directory tempat
image hard drive anda.  Dalam file <B>/etc/dosemu.conf</B> terdapat
baris yang menyatakan bahwa image hard drive anda yaitu "hdimage".
Jika anda menggantinya menjadi <B>/var/lib/dosemu/hdimage</B>, maka
siapapun tidak perlu khawatir, ia sedang ada di dalam directory mana,
untuk menjalankan dosemu, dan hdimage tidak harus anda pindahkan
ketika anda akan meng-upgrade ke versi patch berikutnya.
<P>Jika anda ingin melakukan hal tersebut untuk dosemu yang multi-user,
maka anda dapat jadikan hdimage di dalam <B>/var/lib/dosemu</B>
menjadi read-only untuk everyone kecuali untuk administrator dosemu
administrator.
<P>Anda dapat menggunakan emufs.sys yang baru untuk me-mount directory
"public" dan/atau  sebuah directory "private" (sebuah  sub-directory
dalam tiap home directory seseorang). 
<P>
<P><CODE>[</CODE>Catatan: Tiap user boleh membuat configurasinya sendiri dengan
nama <B>&nbsp;/.dosrc</B> (formatnya sama dengan <B>/etc/dosemu.conf</B>)
untuk menjalankan dosnya masing-masing.]
<P>
<H2><A NAME="ss5.2">5.2 Bagaimana menjalankan perintah dos dengan non-interaktiv?</A>
</H2>

<P>Penulis bermaksud untuk menulis artikel terpisah untuk hal ini namun
belum untuk saat ini.  Berikut ini beberapa petunjuk dari beberapa
orang : 
<P>
<P>Dan Newcombe (<B>newcombe@aa.csc.peachnet.edu</B>) menyatakan
(94/1/27) 
<P>Salah satu idenya (belum dicoba) untuk menjalankan sebuah perintah DOS
dari command line (atau pilihan menu, dsb...) tanpa memodifikasi
emulatornya. <CODE>[</CODE>Asumsi : Partisi dos sudah dimount di bawah Linux.] 
<P>Misalnya anda ingin menjalankan wp60.exe dengan parameter 
"<B>wp60 d:\doc\paper.txt</B>".  Anda dapat lakukan 
"<B>dosrun wp60 d:\doc\paper.txt</B>".  
"<B>dosrun</B>" akan menjadi program shell linux yang a) meng-edit/
modifikasi/membuat kembali <B>autoexec.bat</B> dos dari partisi dos
dan b) menjalankan (yaitu, "<B>dos -C >/dev/null</B>". Langkah a)
akan tetap menjaga apapun yang anda inginkan dalam <B>autoexec.bat</B>
(misalnya mouse.com) dan baris terakhirnya akan menjadi 
"<B>wp60 d:\doc\paper.txt</B>".
<P>Dari sisi dosemu, sebelumnya anda modifikasi file <B>config.sys</B>
(yang ada dalam hdimage) jadi akan 1) menggunakan emufs untuk mengakses
partisi dos sebagai <B>D:</B>, 2) men-set "<B>COMPSEC=D:\</B>
(Saya tidak mempunyai manual DOS.), dan 3) men-set 
"<B>shell=c:\command.com /p</B>".
<P>Idenya adalah setiap kali anda me-load the DOS emulator, anda akan
membuat kembali sebuah file autoexec.bat spesifik ke sesi tersebut.
Yang menjadikannya spesifik yaitu baris paling akhir yang akan
mengeksekusi program yang anda inginkan.  Modifikasi yang dilakukan
dalam hdimage digunakan untuk membertitahu emulator/DOS bahwa anda
ingin anda menggunakan boot off D:, yang akan menjadi partisi dos
aktual. 
<P>Jika anda tidak menggunakan hdimage dan mengakses file sistem dos
secara langsung selama dosemu boot-up, maka hal di atas dapat
dilakukan dan anda tidak perlu mengubah bagian hdimage sama sekali.
<P>---------------------
<P>
<P>Daniel T. Schwager (<B>danny@dragon.s.bawue.de</B>) menyatakan
(94/7/2) 
<P>Anda dapat menggunakan file dosemu.conf yang berbeda (dan hd-boot-
images yang berbeda dengan autoexec.bat-nya masing-masing) dan
memanggil dosemu dengan 
<PRE>
$ dos -F my_quicken_q_exe_dosemu.conf
</PRE>
<P>---------------------
<P>
<P>Dietmar Braun (<B>braun@math20.mathematik.uni-bielefeld.de</B>)
menyatakan (94/7/4) 
<P>Bukan masalah jika anda menggunakan dosemu redirector.  Mungkin saja
me-redirect sebuah  drive letter ke sebuah path linux yang diberikan
oleh sebuah variabel environment.
<P>Saya mempunyai sebuah shell script bernama "<B>DOS</B>" yang
melakukan 
<PRE>
 mkdir /tmp/dos.$$
 DOSTMP=/tmp/dos.$$; export DOSTMP
</PRE>

dan sedikit trik untuk mendapat "<B>echo $* >
$DOSTMP/startup.bat</B>" dapat dilakukan (yang sebenarnya
adalah sebuah program kecil dalam C yang menggantikan '/' dalam 
'<B>\</B>' dan menutup baris dengan pasangan cr/lf dan
menambahkan <B>^Z</B> di akhir file), membuat file-file startup,
link dan sebaginya dalam directory ini, kemudian menjalankan dosemu.
"<B>Autoexec.bat</B>" drive c: di-redirect dari hdimage ke
tmp-directory tersebut, yaitu yang mempunyai links ke <B>$HOME</B>
dan <B>$PWD</B>.
<P>Jadi jika saya ingin melihat nama file dengan model 8.3 saya ketikkan
"<B>DOS dir</B>" dan mendapatkan listing directory aktif saat ini.
Jadi saya mempunyai multi user DOS (Saya tidak mempunyai satupun
partisi DOS dan me-redirect ke Linux preserves user permissions) dan
multi tasking. (sesi dosemu adalah bagian yang berdiri sendiri).  Saya
lakukan hal ini agar dapat menggunakan driver dos untuk printer saya.
Printcap df milik saya adalah sebuah program DOS. Anda bahkan dapat
membuat DOS executables berfungsi sebagai filter lpr. 
<P>
<HR>
<A HREF="ID-DOSEMU-HOWTO-6.html">Next</A>
<A HREF="ID-DOSEMU-HOWTO-4.html">Previous</A>
<A HREF="ID-DOSEMU-HOWTO.html#toc5">Contents</A>
</BODY>
</HTML>
