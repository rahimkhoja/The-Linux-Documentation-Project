<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>

    ACPI&nbsp;: interface avanc&eacute;e de configuration et de gestion de 
    l'&eacute;nergie

</title><link href="style.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.68.1" name="generator"><meta name="description" content="
Ce document montre comment modifier le noyau Linux (via un correctif) 
afin de disposer d'une gestion de l'ACPI.
"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="fr"><div class="titlepage"><div><div><h1 class="title"><a name="index"></a>

    ACPI&nbsp;: interface avanc&eacute;e de configuration et de gestion de 
    l'&eacute;nergie

</h1></div><div><h3 class="subtitle"><i>

   Adaptation fran&ccedil;aise du guide pratique <span class="foreignphrase"><em class="foreignphrase">ACPI: Advanced 
   Configuration and Power Interface</em></span>

</i></h3></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Emma Jane</span> <span class="surname">Hogbin</span></h3><div class="affiliation"><span class="orgname"><a href="http://www.xtrinsic.com" target="_top">xtrinsic</a><br></span><div class="address"><p><span style="white-space: pre;"><code class="email">&lt;<a href="mailto:emmajane CHEZ xtrinsic POINT com">emmajane CHEZ xtrinsic POINT com</a>&gt;</code></span></p></div></div></div><p class="othercredit"><span class="contrib">Auteur de la section sur DSDT</span>: <span class="firstname">Erich</span> <span class="surname">Schubert</span></p></div></div><div><p class="othercredit"><span class="contrib">Adaptation fran&ccedil;aise</span>: <span class="firstname">Guillaume</span> <span class="surname">Lelarge</span></p></div><div><p class="othercredit"><span class="contrib">Relecture de la version fran&ccedil;aise</span>: <span class="firstname">Vanessa</span> <span class="surname">Conchodon</span></p></div><div><p class="othercredit"><span class="contrib">Pr&eacute;paration de la publication de la v.f.</span>: <span class="firstname">Jean-Philippe</span> <span class="surname">Gu&eacute;rard</span></p></div><div><p class="releaseinfo">Version&nbsp;: 1.2.fr.1.2</p></div><div><p class="copyright">Copyright &copy; 2003 Emma Jane Hogbin</p></div><div><p class="copyright">Copyright &copy; 2003 Guillaume Lelarge, Vanessa Conchodon, Jean-Philippe Gu&eacute;rard</p></div><div><p class="pubdate">15 mai 2005</p></div><div><div class="revhistory"><table summary="Revision history" width="100%" border="1"><tr><th colspan="3" valign="top" align="left"><b>Historique des versions</b></th></tr><tr><td align="left">Version 1.2.fr.1.2</td><td align="left">2005-05-15</td><td align="left">JPG</td></tr><tr><td colspan="3" align="left">
        
        Correction du titre sur une judicieuse suggestion de Bertrand 
        Duret.
        
    </td></tr><tr><td align="left">Version 1.2.fr.1.1</td><td align="left">2003-09-03</td><td align="left">GL, VC, JPG</td></tr><tr><td colspan="3" align="left">Quelques corrections mineures.</td></tr><tr><td align="left">Version 1.2.fr.1.0</td><td align="left">2003-07-20</td><td align="left">GL, VC, JPG</td></tr><tr><td colspan="3" align="left">Adaptation fran&ccedil;aise.</td></tr><tr><td align="left">Version 1.2</td><td align="left">2003-07-08</td><td align="left">EJH</td></tr><tr><td colspan="3" align="left">
        Ajout du r&eacute;sum&eacute;
        <span class="emphasis"><em>(Added the abstract)</em></span>.
    </td></tr><tr><td align="left">Version 1.1</td><td align="left">2003-07-03</td><td align="left">EJH</td></tr><tr><td colspan="3" align="left">
      Mise &agrave; jour pour le noyau 2.4.21, derni&egrave;re version stable du noyau 
      &agrave; ce jour
      <span class="emphasis"><em>(Added updates for the 2.4.21 kernel, the latest 
      stable kernel at the time)</em></span>.
    </td></tr><tr><td align="left">Version 1.0</td><td align="left">2003-07-01</td><td align="left">EJH</td></tr><tr><td colspan="3" align="left">
    Version initiale, revue par le LDP
    <span class="emphasis"><em>(Initial release, reviewed by LDP)</em></span>.
    </td></tr><tr><td align="left">Version 0.2</td><td align="left">2003-06-12</td><td align="left">EJH</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>R&eacute;sum&eacute;</b></p><p>
Ce document montre comment modifier le noyau Linux (via un correctif) 
afin de disposer d'une gestion de l'ACPI.
</p></div></div></div><hr></div><div class="toc"><p><b>Table des mati&egrave;res</b></p><dl><dt><span class="sect1"><a href="#about">1. &Agrave; propos de ce document</a></span></dt><dt><span class="sect1"><a href="#N100C5">2. Droits d'utilisation et marques d&eacute;pos&eacute;es</a></span></dt><dt><span class="sect1"><a href="#copyright">3. Copyright and License</a></span></dt><dt><span class="sect1"><a href="#N10109">4. Commentaires et corrections</a></span></dt><dt><span class="sect1"><a href="#N10111">5. Nouvelles versions de ce document</a></span></dt><dt><span class="sect1"><a href="#aboutacpi">6. &Agrave; propos de l'ACPI</a></span></dt><dt><span class="sect1"><a href="#apmtoacpi">7. Pourquoi changer&nbsp;?</a></span></dt><dt><span class="sect1"><a href="#dsdt">8. La table de description diff&eacute;renci&eacute;e du syst&egrave;me (DSDT)</a></span></dt><dt><span class="sect1"><a href="#install">9. Installer &agrave; partir de rien</a></span></dt><dd><dl><dt><span class="sect2"><a href="#kernelchoice">9.1. Choisir un noyau</a></span></dt></dl></dd><dt><span class="sect1"><a href="#backups">10. Sauvegardes</a></span></dt><dt><span class="sect1"><a href="#requiredpackages">11. Paquets requis</a></span></dt><dt><span class="sect1"><a href="#patch">12. T&eacute;l&eacute;charger et appliquer le correctif</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N10255">12.1. D&eacute;baller</a></span></dt><dt><span class="sect2"><a href="#N1027A">12.2. Correctif</a></span></dt></dl></dd><dt><span class="sect1"><a href="#kernelconfig">13. Configurer le nouveau noyau</a></span></dt><dt><span class="sect1"><a href="#kernelcompile">14. Compiler le nouveau noyau</a></span></dt><dt><span class="sect1"><a href="#kernelinstall">15. Installer le nouveau noyau</a></span></dt><dt><span class="sect1"><a href="#finishinstall">16. Red&eacute;marrage et test</a></span></dt><dt><span class="sect1"><a href="#loadmodules">17. Charger les modules</a></span></dt><dt><span class="sect1"><a href="#daemons">18. Passer d'APM &agrave; l'ACPI</a></span></dt><dt><span class="sect1"><a href="#usingacpi">19. Utiliser l'ACPI</a></span></dt><dt><span class="sect1"><a href="#resources">20. R&eacute;f&eacute;rences et ressources</a></span></dt><dt><span class="sect1"><a href="#thanks">21. Remerciements</a></span></dt><dt><span class="appendix"><a href="#nodebkernel">A. L'ACPI sans utiliser Debian</a></span></dt><dd><dl><dt><span class="sect1"><a href="#nodebcompile">1. Compiler le noyau</a></span></dt><dt><span class="sect1"><a href="#nodebinstall">2. Installer le nouveau noyau</a></span></dt><dt><span class="sect1"><a href="#nodebsoftware">3. Paquets logiciels</a></span></dt></dl></dd><dt><span class="appendix"><a href="#gfdl">B. GNU Free Documentation License</a></span></dt><dd><dl><dt><span class="sect1"><a href="#gfdl-0">1. PREAMBLE</a></span></dt><dt><span class="sect1"><a href="#gfdl-1">2. APPLICABILITY AND DEFINITIONS</a></span></dt><dt><span class="sect1"><a href="#gfdl-2">3. VERBATIM COPYING</a></span></dt><dt><span class="sect1"><a href="#gfdl-3">4. COPYING IN QUANTITY</a></span></dt><dt><span class="sect1"><a href="#gfdl-4">5. MODIFICATIONS</a></span></dt><dt><span class="sect1"><a href="#gfdl-5">6. COMBINING DOCUMENTS</a></span></dt><dt><span class="sect1"><a href="#gfdl-6">7. COLLECTIONS OF DOCUMENTS</a></span></dt><dt><span class="sect1"><a href="#gfdl-7">8. AGGREGATION WITH INDEPENDENT WORKS</a></span></dt><dt><span class="sect1"><a href="#gfdl-8">9. TRANSLATION</a></span></dt><dt><span class="sect1"><a href="#gfdl-9">10. TERMINATION</a></span></dt><dt><span class="sect1"><a href="#gfdl-10">11. FUTURE REVISIONS OF THIS LICENSE</a></span></dt><dt><span class="sect1"><a href="#gfdl-11">12. How to use this License for your documents</a></span></dt></dl></dd></dl></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about"></a>1.&nbsp;&Agrave; propos de ce document</h2></div></div></div><p>Lorsque j'ai commenc&eacute; le passage de l'APM &agrave; l'ACPI, je n'ai pas r&eacute;alis&eacute;
que je devais appliquer un correctif au noyau. Mon probl&egrave;me (un ventilateur
assourdissant) a &eacute;t&eacute; corrig&eacute; simplement en mettant &agrave; jour mon noyau en version
2.4.20 (noyau pr&eacute;par&eacute; par Debian avec un correctif ant&eacute;rieur provenant de
<a href="http://acpi.sourceforge.net" target="_top">acpi.sourceforge.net</a>).
Malheureusement, apr&egrave;s la premi&egrave;re mise &agrave; jour, je n'&eacute;tais pas capable d'arr&ecirc;ter
(<span><strong class="command">halt</strong></span>) mon ordinateur sans utiliser le bouton d'arr&ecirc;t. Ce
n'est que bien apr&egrave;s que j'ai r&eacute;alis&eacute; que j'avais un vieux correctif ACPI
inefficace. Ce guide pratique a &eacute;t&eacute; &eacute;crit pour r&eacute;sumer le processus
d'installation que j'ai suivi et, je l'esp&egrave;re, aider d'autres personnes ayant
elles-aussi des difficult&eacute;s &agrave; trouver les bonnes informations sur l'ACPI.
Merci de noter que l'article se base principalement sur la fa&ccedil;on <a href="http://www.debian.org" target="_top">Debian</a> de faire les choses. Il existe aussi
une partie g&eacute;n&eacute;rique dans <a href="#nodebkernel" title="A.&nbsp;L'ACPI sans utiliser Debian">Annexe&nbsp;A, <i>L'ACPI sans utiliser Debian</i></a> pour ceux d'entre vous
pr&eacute;f&eacute;rant&hellip; un moyen g&eacute;n&eacute;rique.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N100C5"></a>2.&nbsp;Droits d'utilisation et marques d&eacute;pos&eacute;es</h2></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Important]" src="images/important.png"></td><th align="left">Important</th></tr><tr><td valign="top" align="left"><p>
Le texte ci-dessous est la version fran&ccedil;aise de la licence de ce document.
Seule la version originale de cette licence, pr&eacute;sent&eacute;e dans la section
suivante, fait foi.
</p></td></tr></table></div><div class="blockquote"><blockquote class="blockquote"><p>Copyright &copy; 2003 Emma Jane Hogbin</p><p>
Vous &ecirc;tes autoris&eacute; &agrave; copier, distribuer ou modifier la version 
originale de ce document selon les termes de la licence de documentation 
libre GNU (GFDL), version 1.1 ou ult&eacute;rieure, telle que publi&eacute;e par la 
Free Software Foundation&nbsp;; sans section inalt&eacute;rable, ni texte de 
premi&egrave;re de couverture, ni texte de quatri&egrave;me de couverture.
</p><p>
Une copie en anglais de cette licence est incluse &agrave; la fin de ce
document (cf. <a href="#gfdl" title="B.&nbsp;GNU Free Documentation License">Annexe&nbsp;B, <i>GNU Free Documentation License</i></a>). Une traduction fran&ccedil;aise
officieuse de cette licence est disponible sur <a href="http://cesarx.free.fr/gfdlf.html" target="_top">http://cesarx.free.fr/gfdlf.html</a>.
</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p>

Copyright &copy; 2003-2005 Guillaume Lelarge, Vanessa Conchodon et 
Jean-Philippe Gu&eacute;rard pour la version fran&ccedil;aise

</p><p>

La version fran&ccedil;aise de ce document a &eacute;t&eacute; r&eacute;alis&eacute;e par Guillaume 
Lelarge, Vanessa Conchodon et Jean-Philippe Gu&eacute;rard. Elle est publi&eacute;e en 
accord avec les termes de la licence de documentation libre GNU (GFDL), 
version 1.1 ou ult&eacute;rieure, telle que publi&eacute;e par la <a href="http://fsffrance.org/" target="_top">Free Software Foundation</a>&nbsp;; sans 
section invariante, sans texte de premi&egrave;re de couverture ni texte de 
quatri&egrave;me de couverture.

</p><p>

Une copie en anglais de cette licence est incluse &agrave; la fin de ce 
document (cf. <a href="#gfdl" title="B.&nbsp;GNU Free Documentation License">Annexe&nbsp;B, <i>GNU Free Documentation License</i></a>). Une traduction fran&ccedil;aise 
officieuse de cette licence est disponible sur <a href="http://cesarx.free.fr/gfdlf.html" target="_top">http://cesarx.free.fr/gfdlf.html</a>.

</p></blockquote></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="copyright"></a>3.&nbsp;Copyright and License</h2></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Important]" src="images/important.png"></td><th align="left">Important</th></tr><tr><td valign="top" align="left"><p>
Le texte ci-dessous est la licence de ce document. Ce texte fait foi. Il 
est compos&eacute; de la licence (en anglais) du document original, suivi de la 
licence (en fran&ccedil;ais) de sa traduction.
</p></td></tr></table></div><div class="blockquote"><blockquote class="blockquote"><p>
      Copyright (c) 2003 Emma Jane Hogbin.</p><p>Permission is granted to copy, distribute and/or modify this 
      document under the terms of the GNU Free Documentation License, Version 
      1.1 or any later version published by the Free Software Foundation;
      with no Invariant Sections, no Front-Cover Texts, and with no Back-Cover
      Texts. A copy of the license is included in <a href="#gfdl" title="B.&nbsp;GNU Free Documentation License">Annexe&nbsp;B, <i>GNU Free Documentation License</i></a>.
</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p>
      Copyright &copy; 2003 Guillaume Lelarge, Vanessa Conchodon et 
      Jean-Philippe Gu&eacute;rard pour la version fran&ccedil;aise
      </p><p>
      La version fran&ccedil;aise de ce document a &eacute;t&eacute; r&eacute;alis&eacute;e par Guillaume
      Lelarge, Vanessa Conchodon et Jean-Philippe Gu&eacute;rard. Elle est
      publi&eacute;e en accord avec les termes de la licence de documentation 
      libre GNU (GFDL), version 1.1 ou ult&eacute;rieure, telle que publi&eacute;e par 
      la <a href="http://fsffrance.org/" target="_top">Free Software 
      Foundation</a>&nbsp;; sans section invariante, sans texte de 
      premi&egrave;re de couverture ni texte de quatri&egrave;me de couverture.
      </p><p>
      Une copie en anglais de cette licence est incluse &agrave; la fin de ce 
      document (cf. <a href="#gfdl" title="B.&nbsp;GNU Free Documentation License">Annexe&nbsp;B, <i>GNU Free Documentation License</i></a>). Une traduction fran&ccedil;aise 
      officieuse de cette licence est disponible sur <a href="http://cesarx.free.fr/gfdlf.html" target="_top">http://cesarx.free.fr/gfdlf.html</a>.
</p></blockquote></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10109"></a>4.&nbsp;Commentaires et corrections</h2></div></div></div><p>
N'h&eacute;sitez pas &agrave; faire parvenir tous commentaires relatifs &agrave; la version 
fran&ccedil;aise de ce document &agrave; <code class="email">&lt;<a href="mailto:commentaires CHEZ traduc POINT %0Aorg">commentaires CHEZ traduc POINT 
org</a>&gt;</code>
</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10111"></a>5.&nbsp;Nouvelles versions de ce document</h2></div></div></div><p>
Les nouvelles &eacute;ditions fran&ccedil;aises de ce document sont disponibles
sur <a href="http://www.traduc.org/" target="_top">http://www.traduc.org/</a>.
</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="aboutacpi"></a>6.&nbsp;&Agrave; propos de l'ACPI</h2></div></div></div><p>
Dans le monde de la gestion d'&eacute;nergie, l'ACPI est relativement r&eacute;cent.
Sa premi&egrave;re version date de 1996 et a &eacute;t&eacute; con&ccedil;ue par Compaq &ndash;
Hewlett-Packard, Intel, Microsoft, Phoenix et Toshiba. Ses d&eacute;veloppeurs
ont souhait&eacute; remplacer le standard industriel pr&eacute;c&eacute;dent en mati&egrave;re de
gestion d'&eacute;nergie. Leur site <a href="http://www.acpi.info" target="_top">ACPI.info</a> contient les sp&eacute;cifications
officielles, une liste des soci&eacute;t&eacute;s supportant l'ACPI et un certain
nombre d'autres choses. Il n'est pas n&eacute;cessaire de le lire bien que cela
puisse avoir de l'int&eacute;r&ecirc;t pour les curieux maladifs.
</p><p>ACPI permet le contr&ocirc;le de la gestion d'&eacute;nergie par le syst&egrave;me
d'exploitation. Le standard industriel pr&eacute;c&eacute;dent, <span class="foreignphrase"><em class="foreignphrase">Advanced
Power Management (APM)</em></span>, est contr&ocirc;l&eacute; au niveau du BIOS. L'APM
est activ&eacute; lorsque le syst&egrave;me ne fait rien &mdash; plus le syst&egrave;me est en attente,
moins il utilise de puissance (c'est-&agrave;-dire qu'on commence par l'&eacute;conomiseur
d'&eacute;cran, que l'on passe en mode veille puis en mode suspendu). Avec l'APM, le
syst&egrave;me d'exploitation n'a pas connaissance du moment o&ugrave; l'ordinateur changera
d'&eacute;tat.</p><p>L'ACPI peut &ecirc;tre g&eacute;n&eacute;ralement configur&eacute; &agrave; partir du syst&egrave;me
d'exploitation. Ce n'est pas comme l'APM o&ugrave; la configuration n&eacute;cessite
souvent de red&eacute;marrer et de passer par l'interface de configuration du
BIOS pour d&eacute;finir les param&egrave;tres.</p><p>L'ACPI a diff&eacute;rents composants logiciels&nbsp;:</p><div class="itemizedlist"><ul type="disc"><li><p>Un sous-syst&egrave;me contr&ocirc;lant l'&eacute;tat et les fonctions du
    mat&eacute;riel (qui faisait partie auparavant de la configuration du BIOS).
    </p><p>Les &eacute;tats incluent&nbsp;:</p><div class="itemizedlist"><ul type="circle"><li><p>le contr&ocirc;le thermique&nbsp;;</p></li><li><p>la configuration de la carte m&egrave;re&nbsp;;</p></li><li><p>l'&eacute;tat &eacute;lectrique (en veille, suspendu).</p></li></ul></div></li><li><p>Un gestionnaire de politique, c'est-&agrave;-dire un logiciel 
    au-dessus du syst&egrave;me d'exploitation permettant &agrave; l'utilisateur de 
    d&eacute;cider des politiques suivies par le syst&egrave;me.</p></li><li><p>L'ACPI dispose aussi de pilotes de p&eacute;riph&eacute;riques 
    contr&ocirc;lant et surveillant les p&eacute;riph&eacute;riques comme la batterie du
    portable, SMBus (chemin de communication et de transmission) et EC
    (contr&ocirc;leur embarqu&eacute;).</p></li></ul></div><p>Si vous souhaitez plus d'informations sur la gestion d'&eacute;nergie sur
les portables, jetez un &#339;il aux ressources disponibles (en
anglais) sur <a href="http://www.tuxmobil.org" target="_top">tuxmobil.org</a>.
Plus sp&eacute;cifiquement&nbsp;: <a href="http://tuxmobil.org/apm_linux.html" target="_top">La gestion d'&eacute;nergie sous Linux
&mdash; APM, ACPI, PMU</a> et la section consacr&eacute;e au <a href="http://tuxmobil.org/Mobile-Guide.db/mobile-guide-p2c1-hardware-in-detail.html" target="_top">mat&eacute;riel
dans le d&eacute;tail</a> du <a href="http://tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html" target="_top">Guide du
Linux itin&eacute;rant</a>.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="apmtoacpi"></a>7.&nbsp;Pourquoi changer&nbsp;?</h2></div></div></div><p>
Tous les syst&egrave;mes ne sont pas compatibles &agrave; la fois avec APM et ACPI.
Je suis pass&eacute;e &agrave; l'ACPI, car mon syst&egrave;me n'&eacute;tait compatible qu'avec ce
mode de gestion de l'&eacute;nergie. La d&eacute;cision a du coup &eacute;t&eacute; assez facile. Si
vous pensez changer pour pouvoir utiliser le mode <a href="http://acpi.sourceforge.net/documentation/sleep.html" target="_top">S3</a>
(syst&egrave;me suspendu en RAM &mdash; <span class="foreignphrase"><em class="foreignphrase">suspend to
RAM</em></span>) et que vous utilisez un noyau 2.4.x, oubliez cette
id&eacute;e. Cela n'est <a href="http://lists.debian.org/debian-laptop/2003/debian-laptop-200304/msg00418.html" target="_top">pas
possible</a>.
</p><p>
Vous n'&ecirc;tes pas s&ucirc;r que votre syst&egrave;me est compatible&nbsp;?  ACPI4Linux
a une liste de <a href="http://acpi.sourceforge.net/wiki/index.php/InstallationReports" target="_top">machines
et BIOS compatibles</a> sur leur Wiki. Merci de contribuer &agrave; la
liste si vous avez install&eacute; l'ACPI&nbsp;! Ils ont aussi une liste des
machines qui ne sont <a href="http://acpi.sourceforge.net/documentation/blacklist.html" target="_top">pas
compatibles</a>.
</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dsdt"></a>8.&nbsp;La table de description diff&eacute;renci&eacute;e du syst&egrave;me (DSDT)</h2></div></div></div><p>Merci &agrave; <a href="http://www.vitavonni.de/" target="_top">Erich</a> pour la
r&eacute;daction de cette section.</p><p>
Vous aurez peut-&ecirc;tre besoin de passer outre la DSDT lorsque certaines
informations, comme l'&eacute;tat de la batterie, sont transmises de fa&ccedil;on
incorrecte (causant habituellement des messages d'erreur dans syslog).
Les portables DELL ont g&eacute;n&eacute;ralement besoin de ce type de palliatifs.
Les DSDT corrig&eacute;es sont disponibles pour de nombreux syst&egrave;mes sur la
<a href="http://acpi.sourceforge.net/dsdt/index.php" target="_top">page
DSDT</a> avec un correctif indiquant au noyau d'ignorer la table du
BIOS et d'utiliser la DSDT corrig&eacute;e.
</p><p>
Vous aurez simplement besoin de copier la table corrig&eacute;e dans les
sources du noyau avec un nom de fichier particulier (ou en modifiant le
nom du fichier dans le correctif donn&eacute; sur la <a href="http://acpi.sourceforge.net/dsdt/index.php" target="_top">page DSDT</a>). 
Passer outre la DSDT est donc assez facile&nbsp;: au lieu de charger la 
table DSDT du BIOS, le noyau est compil&eacute; avec et utilise sa propre table 
DSDT. C'est tout.
</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install"></a>9.&nbsp;Installer &agrave; partir de rien</h2></div></div></div><p>ACPI est constamment en r&eacute;vision. Il n'est pas encore disponible pour les
noyaux de la s&eacute;rie 2.4.x mais le sera pour la s&eacute;rie 2.5.x (ou peut-&ecirc;tre pas
avant le 2.6). Ceci signifie que tous les noyaux avant les 2.5.x doivent se
voir appliquer un correctif. Ceux-ci sont disponibles sur le site <a href="http://acpi.sourceforge.net" target="_top">acpi.sourceforge.net</a>. Vous aurez
besoin de r&eacute;cup&eacute;rer le correctif correspondant exactement au noyau que vous
utilisez. Comme il s'agit d'une section d'&laquo;&nbsp;installation &agrave; partir
de rien&nbsp;&raquo;, je supposerais que vous savez exactement quel noyau
vous allez installer.</p><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="kernelchoice"></a>9.1.&nbsp;Choisir un noyau</h3></div></div></div><p>Ce document a &eacute;t&eacute; &eacute;crit pour le noyau 2.4.20. Depuis, le noyau stable
2.4.21 est disponible. Les applications du dernier correctif ACPI sur ce noyau
ont eu des r&eacute;sultats mitig&eacute;s. Pour l'instant, je recommande de rester sur le
noyau 2.4.20 et son dernier correctif&nbsp;: 2002.12.12. D'autres recommendent
d'autres choses. Une recherche via Google sur les listes de diffusion
debian-user, debian-laptop et acpi-support vous sera utile si vous n'&ecirc;tes pas
s&ucirc;r de ce que vous devez faire pour votre syst&egrave;me sp&eacute;cifique.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td valign="top" align="left"><p>Pour &ecirc;tre s&ucirc;r du r&eacute;sultat, ce document utilisera le noyau 2.4.20
comme exemple&nbsp;; substituez la version de votre noyau de fa&ccedil;on appropri&eacute;e.
</p></td></tr></table></div><p>
Il est important d'utiliser la derni&egrave;re version du correctif ACPI.
Certaines distributions ont d&eacute;j&agrave; appliqu&eacute; des correctifs &agrave; leurs noyaux.
C'est le cas pour Debian et certainement pour d'autres. Pour plus
d'informations sur les correctifs qui ont &eacute;t&eacute; appliqu&eacute;s aux sources du
noyau telles qu'elles sont livr&eacute;es par Debian, lisez
<code class="filename">/usr/src/kernel-source-<em class="replaceable"><code>version</code></em>/README.Debian</code>.
Si vous n'utilisez pas Debian, trouvez le fichier &eacute;quivalent pour votre
distribution.
</p><p>
Un utilisateur sur acpi-support m'a confirm&eacute; que je ne devrais pas avoir
besoin des correctifs suppl&eacute;mentaires appliqu&eacute;s au noyau pour qu'il
s'ex&eacute;cute sur mon portable. Si vous utilisez un serveur en production
ou proposez des pages web sur Internet, vous devriez r&eacute;ellement
appliquer tout correctif de s&eacute;curit&eacute; suppl&eacute;mentaire.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Avertissement]" src="images/warning.png"></td><th align="left">Avertissement</th></tr><tr><td valign="top" align="left"><p>Si un noyau dispose d'autres correctifs, vous pourriez avoir
quelques soucis pour appliquer le correctif ACPI. Bien s&ucirc;r, un correctif ACPI
ne devrait pas &ecirc;tre appliqu&eacute; &agrave; un noyau disposant d&eacute;j&agrave; d'un correctif ACPI.
A priori, tant qu'aucun autre correctif ACPI n'a &eacute;t&eacute; appliqu&eacute; au noyau, il
devrait &ecirc;tre possible d'en appliquer un maintenant. Suivant les correctifs
appliqu&eacute;s, vous pourrez avoir besoin de modifier certains fichiers Makefile
pour que le correctif s'installe avec succ&egrave;s. Ceci est bien au-del&agrave; de 
mes comp&eacute;tences et n'est donc pas trait&eacute; dans ce 
document.</p></td></tr></table></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="debianizedkernel"></a>9.1.1.&nbsp;Noyau pr&eacute;par&eacute; par Debian</h4></div></div></div><p>Si vous pr&eacute;f&eacute;rez utiliser un noyau pr&eacute;par&eacute; par Debian,
<a href="http://people.debian.org/~maxx" target="_top">maxx</a> propose un paquet
des sources du noyau disposant d&eacute;j&agrave; du correctif compatible avec le noyau
2.4.20. Ceci vous &eacute;vitera de t&eacute;l&eacute;charger un noyau sans correctif sur 
<a href="http://www.kernel.org" target="_top">www.kernel.org</a>. Il m'a envoy&eacute; 
un courrier &eacute;lectronique avec les d&eacute;tails suivants&nbsp;:</p><div class="blockquote"><table summary="Block quote" class="blockquote" cellpadding="0" cellspacing="0" width="100%" border="0"><tr><td valign="top" width="10%">&nbsp;</td><td valign="top" width="80%"><p>J'ai pris les sources du noyau 2.4.20-8 &agrave; partir de unstable, supprim&eacute;
les modifications pour l'ACPI (c'est-&agrave;-dire l'ancien correctif) et appliqu&eacute;
<code class="filename">acpi-20021212-2.4.20.diff.gz</code> provenant de acpi.sf.net
car le noyau 2.4.20 de base <span class="emphasis"><em>a</em></span> plusieurs failles de s&eacute;curit&eacute;
(ptrace, tableau hash, &hellip;).</p><p>Vous pouvez trouver le paquet sur <a href="http://people.debian.org/~maxx/kernel-source-2.4.20/" target="_top">http://people.debian.org/~maxx/kernel-source-2.4.20/</a>.
(je n'ai pas charg&eacute; le .orig.tar.gz car vous pouvez l'obtenir de n'importe quel
miroir debian et que celui-ci est d&eacute;j&agrave; assez gros).</p></td><td valign="top" width="10%">&nbsp;</td></tr><tr><td valign="top" width="10%">&nbsp;</td><td valign="top" align="right" colspan="2">--<span class="attribution"><a href="http://people.debian.org/~maxx" target="_top">maxx</a></span></td></tr></table></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Avertissement]" src="images/warning.png"></td><th align="left">Avertissement</th></tr><tr><td valign="top" align="left"><p>Je n'ai pas test&eacute; ces paquets. Vous pouvez &ecirc;tre, ou non, chanceux.
Merci de ne pas me demander quoi que ce soit l&agrave;-dessus, voyez 
directement avec maxx.</p></td></tr></table></div></div></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="backups"></a>10.&nbsp;Sauvegardes</h2></div></div></div><p>Si vous avez d&eacute;j&agrave; un noyau fonctionnel de la m&ecirc;me version que celui que
vous souhaitez corriger, je vous recommande de cr&eacute;er un nouveau r&eacute;pertoire pour
le nouveau noyau corrig&eacute;. Rappelez-vous que les sauvegardes ne sont
<span class="emphasis"><em>jamais</em></span> une mauvaise chose. Voici les fichiers que je
sauvegarde&nbsp;:</p><div class="itemizedlist"><ul type="disc"><li><p><code class="filename">/etc/lilo.conf</code></p></li><li><p><code class="filename">/usr/src/*.deb</code> (sp&eacute;cifique &agrave; la
  Debian)</p></li><li><p><code class="filename">/etc/modules</code></p></li><li><p><code class="filename">/etc/modutils/aliases</code></p></li><li><p><code class="filename">/usr/src/linux/.config</code></p></li><li><p>Si vous n'agissez <span class="emphasis"><em>pas</em></span> &agrave; la fa&ccedil;on
  Debian vous devez aussi sauvegarder le r&eacute;pertoire <code class="filename">/lib/modules</code>, 
  <code class="filename">/boot/vmlinuz</code>, 
  <code class="filename">/usr/src/linux/arch/i386/boot/bzImage</code> et
  <code class="filename">/usr/src/System.map</code>. Il est possible que
  l'emplacement de ces fichiers soit diff&eacute;rent. Faites un
  <strong class="userinput"><code><span><strong class="command">locate</strong></span>
  <em class="replaceable"><code>&lt;fichier&gt;</code></em></code></strong> s'ils ne se
  trouvent pas l&agrave; o&ugrave; je l'ai dit.</p></li></ul></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="requiredpackages"></a>11.&nbsp;Paquets requis</h2></div></div></div><p>Comme j'ai commenc&eacute; sur une toute nouvelle machine, je suis pratiquement
s&ucirc;re que j'ai une liste compl&egrave;te de tous les paquets requis pour que le
correctif s'applique correctement. Voici la liste compl&egrave;te&nbsp;:</p><div class="itemizedlist"><ul type="disc"><li><p>fichiers source du noyau&nbsp;;</p></li><li><p>correctif ACPI correspondant exactement &agrave; la version de
    votre noyau&nbsp;;</p></li><li><p>paquets debian&nbsp;: make, bzip2, gcc, libc6-dev, tk8.3,
    libncurses5-dev, kernel-package</p></li><li><p>apr&egrave;s avoir appliqu&eacute; le correctif, ajoutez les paquets
    debian&nbsp;: acpid, acpi (Debian testing and unstable only)</p></li></ul></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="patch"></a>12.&nbsp;T&eacute;l&eacute;charger et appliquer le correctif</h2></div></div></div><p>T&eacute;l&eacute;chargez un noyau &agrave; partir de <a href="http://www.kernel.org" target="_top">www.kernel.org</a>. Vous devez vous assurer que
vous avez un noyau complet. Cherchez la &laquo;&nbsp;derni&egrave;re version stable du
noyau Linux&nbsp;&raquo; et cliquez sur <code class="option">F</code> pour
<span class="foreignphrase"><em class="foreignphrase">FULL</em></span> (NdT&nbsp;: COMPLET). Attendez patiemment. Un
noyau compress&eacute; avec bzip2 p&egrave;se &agrave; peu pr&egrave;s 26&nbsp;Mo. Si vous vous 
sentez particuli&egrave;rement <span class="foreignphrase"><em class="foreignphrase">geek</em></span>, vous pouvez 
aussi lancer <strong class="userinput"><code>wget 
<code class="filename">http://kernel.org/pub/linux/kernel/v2.4/linux-<em class="replaceable"><code>version</code></em>.tar.bz2</code></code></strong>.
</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Astuce]" src="images/tip.png"></td><th align="left">Astuce</th></tr><tr><td valign="top" align="left"><p>Vous pouvez, ou non, vouloir la derni&egrave;re version stable. Pour plus
d'informations, lisez la <a href="#kernelchoice" title="9.1.&nbsp;Choisir un noyau">Section&nbsp;9.1, &laquo;&nbsp;Choisir un noyau&nbsp;&raquo;</a> de ce
document. Si vous d&eacute;cidez d'utiliser une version du noyau non publi&eacute;e sur la
page principale, utilisez le r&eacute;pertoire <a href="http://www.kernel.org/pub/linux/kernel/" target="_top">/pub/linux/kernel</a>
sur le site <a href="http://www.kernel.org" target="_top">kernel.org</a> pour trouver
le noyau que vous souhaitez.</p></td></tr></table></div><p>
Pendant que vous attendez, r&eacute;cup&eacute;rez aussi une copie du correctif. Pour
le noyau 2.4.20, utilisez le <a href="http://prdownloads.sourceforge.net/acpi/acpi-20021212-2.4.20.diff.gz?download" target="_top">correctif
2.4.20</a>. Il est dat&eacute; du 12.12.2002. Vous aurez besoin de
conna&icirc;tre ce nombre plus tard lorsque nous v&eacute;rifierons que le correctif
s'est bien appliqu&eacute;. Si vous utilisez une version diff&eacute;rente du noyau,
assurez-vous d'avoir bien not&eacute; la date du correctif. Vos nombres vont
diff&eacute;rer l&eacute;g&egrave;rement de celui que j'utiliserai plus tard.
</p><p>Une fois que vous avez ces deux fichiers (le noyau et le correctif),
d&eacute;ballez-les et appliquez le correctif au noyau.</p><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="N10255"></a>12.1.&nbsp;D&eacute;baller</h3></div></div></div><p>Maintenant, nous allons pr&eacute;parer le terrain pour l'application du 
correctif au noyau. Nous avons besoin de d&eacute;baller le fichier bz2 (bzip2) 
et de d&eacute;placer quelques r&eacute;pertoires. <code class="filename">/usr/src/linux</code> pointe probablement vers
votre noyau actuel. Nous avons besoin qu'il pointe vers le nouveau noyau,
donc nous allons faire en sorte qu'il le fasse.</p><pre class="programlisting">
cd /usr/src
mkdir kernel-source-<em class="replaceable"><code>version</code></em>          # Utilisez un autre nom si vous 
                                     # avez d&eacute;j&agrave; une version de ce noyau
                                     # install&eacute;e
cp linux.<em class="replaceable"><code>version</code></em>.tar.bz2 /usr/src/kernel-source-<em class="replaceable"><code>version</code></em>
cd /usr/src/kernel-source-<em class="replaceable"><code>version</code></em>
tar xjfv linux.<em class="replaceable"><code>version</code></em>.tar.bz2
mv linux.<em class="replaceable"><code>version</code></em> /usr/src/linux-<em class="replaceable"><code>version</code></em>
rm linux                             # En supposant qu'il s'agit d'un
                                     # lien vers votre ancien noyau
ln -s /usr/src/linux-<em class="replaceable"><code>version</code></em> linux
</pre></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="N1027A"></a>12.2.&nbsp;Correctif</h3></div></div></div><p>Maintenant, nous allons appliquer le correctif au noyau. Je r&eacute;alise une
&eacute;tape suppl&eacute;mentaire aux
<a href="http://acpi.sourceforge.net/download.html" target="_top">instructions</a> sur
ACPI4Linux. Au lieu de d&eacute;compresser et d'appliquer le correctif sur la m&ecirc;me
ligne, j'utilise deux lignes. C'est juste par pr&eacute;f&eacute;rence personnelle. Lorsque
vous appliquez le correctif au noyau, vous voulez vous assurer qu'il n'y a eu
aucun message d'erreur (il n'y a pas de ligne annon&ccedil;ant le succ&egrave;s, donc 
v&eacute;rifiez plut&ocirc;t l'absence d'erreurs).</p><pre class="programlisting">
cd /usr/src/linux

# Le nom de fichier du correctif sera diff&eacute;rent si vous n'utilisez pas le
# noyau 2.4.20&nbsp;:

cp acpi-20021212-2.4.20.diff.gz /usr/src/linux/
	
gunzip acpi-20021212-2.4.20.diff.gz

# Enfin la partie de l'application du correctif&nbsp;:

patch -p1 &lt; acpi-20021212-2.4.20.diff
</pre></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="kernelconfig"></a>13.&nbsp;Configurer le nouveau noyau</h2></div></div></div><p>

Maintenant, au lieu d'utiliser <strong class="userinput"><code>make&nbsp;menuconfig</code></strong>,
j'ai une option g&eacute;niale. Faites ceci&nbsp;: copiez votre fichier
<code class="filename">.config</code> actuel dans <code class="filename">/usr/src/linux</code>. Ensuite, utilisez
<strong class="userinput"><code>make oldconfig</code></strong>. Il va lire
l'int&eacute;gralit&eacute; de votre ancien fichier de configuration et voir ce qui a
&eacute;t&eacute; mis &agrave; jour de fa&ccedil;on &agrave; ce que vous n'ayez pas &agrave; chercher toutes les
nouvelles options. <span class="emphasis"><em>Tout</em></span> ce qui concerne l'ACPI (les
cinq premi&egrave;res questions pour moi, mais peut-&ecirc;tre plus pour vous si vous
n'avez jamais configur&eacute; un noyau ayant d&eacute;j&agrave; des correctifs) doit &ecirc;tre &agrave;
<code class="literal">M</code> (pour module). Il existe trois autres questions
auxquelles je r&eacute;ponds <span class="emphasis"><em>non</em></span>.

</p><p>Voici comment configurer le noyau point par point&nbsp;:</p><pre class="programlisting">
cd /usr/src/linux
cp /usr/src/<em class="replaceable"><code>anciennes-sources-du-noyau</code></em>/.config .config
make oldconfig      # Dites &laquo; M &raquo; pour toutes les nouvelles options
                    # de l'ACPI - vous pouvez aussi dire oui (&laquo; Y &raquo;)
                    # si vous pr&eacute;f&eacute;rez les compiler directement dans le 
                    # noyau
</pre><p>Maintenant, allez dans le fichier de configuration avec
<strong class="userinput"><code>make menuconfig</code></strong>. Assurez-vous que l'APM est
d&eacute;sactiv&eacute;. Sous &laquo;&nbsp;<span class="guimenu">General
Setup</span>&nbsp;&raquo;, assurez-vous
que&nbsp;:</p><div class="itemizedlist"><ul type="disc"><li><p>
    <span class="guimenuitem">Power Management Support</span>
    est activ&eacute;</p></li><li><p>
    <span class="guimenuitem">APM (Advanced Power
    Management)</span> est d&eacute;sactiv&eacute; (c'est l'ancien
    syst&egrave;me &mdash; vous ne devriez m&ecirc;me pas en vouloir comme module &agrave; 
    moins de savoir ce que vous faites. Et si vous le saviez, vous ne 
    seriez probablement pas en train de lire ceci :))</p></li><li><p>tout ce qui a trait &agrave; l'ACPI devrait avoir un
    <code class="literal">M</code> (module) ou une &eacute;toile (<code class="literal">*</code>) 
    (compil&eacute; directement dans le noyau)</p></li></ul></div><p>Sortez et sauvegardez la nouvelle configuration</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="kernelcompile"></a>14.&nbsp;Compiler le nouveau noyau</h2></div></div></div><p>Si vous avez des modules suppl&eacute;mentaires ne faisant pas partie du
r&eacute;pertoire principal des sources, vous aurez besoin d'ajouter modules_image
lors de la construction des paquets Debian. Ceci est pratiquement in&eacute;vitable
si vous utilisez un portable. Il y a trois correctifs ne faisant pas partie
du noyau de base et que je dois installer s&eacute;par&eacute;ment&nbsp;: ma carte graphique
(nvidia)&nbsp;; ma carte son (ALSA)&nbsp;; et ma carte wifi (PCMCIA).</p><pre class="programlisting">
cd /usr/src/linux
make-kpkg clean
make-kpkg --append-to-version=<em class="replaceable"><code>date</code></em> kernel_image modules_image
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Nommer le noyau construit"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Nommer le noyau construit</th></tr><tr><td valign="top" align="left"><p>Je n'utilise plus .<em class="replaceable"><code>date</code></em> pour distinguer
les diff&eacute;rents noyaux que j'ai construit. Il &eacute;tait trop
frustrant d'avoir des <code class="literal">030627a</code>,
<code class="literal">032627b</code> (et c&aelig;tera) alors que j'essayais de
comprendre comment cela marchait.</p><p>J'utilise maintenant des noms, en ordre alphab&eacute;tique, en
commen&ccedil;ant avec le noyau que j'ai nomm&eacute;
&laquo;&nbsp;alien&nbsp;&raquo;. Je conserve malgr&eacute; tout ici l'option
de la date car je pense qu'il s'agit d'une bonne fa&ccedil;on de faire les
choses.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Aide pour la compilation du noyau"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Aide pour la compilation du noyau</th></tr><tr><td valign="top" align="left"><p>Pour les instructions pour une distribution non Debian, voir l'annexe
      <a href="#nodebkernel" title="A.&nbsp;L'ACPI sans utiliser Debian">Annexe&nbsp;A, <i>L'ACPI sans utiliser Debian</i></a>.</p><p>Pour plus d'informations sur la compilation du noyau sur une Debian,
      lisez <a href="http://newbiedoc.sourceforge.net/system/kernel-pkg.html" target="_top">Cr&eacute;er des
      noyaux personnalis&eacute;s avec le syst&egrave;me de paquets du noyau de
      Debian</a> (document en anglais).</p></td></tr></table></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="kernelinstall"></a>15.&nbsp;Installer le nouveau noyau</h2></div></div></div><p>J'aime configurer <span><strong class="command">lilo</strong></span> moi-m&ecirc;me, mais faites 
comme vous l'entendez.</p><pre class="programlisting">
cd /usr/src
dpkg -i kernel-image-<em class="replaceable"><code>version</code></em>.<em class="replaceable"><code>date</code></em>_10.00.Custom_i386.deb

# &Agrave; ce moment, je refuse <span class="emphasis"><em>toutes</em></span> les mises &agrave; jour 
# lilo et le configure moi-m&ecirc;me manuellement.

# Configurez lilo manuellement

vi /etc/lilo.conf

# Chargez le nouveau noyau dans lilo

lilo

# Si vous avez d'autres fichiers deb pour vos modules, vous devriez les 
# installer maintenant. Si vous n'&ecirc;tes pas s&ucirc;r, v&eacute;rifiez /usr/src pour 
# des fichiers .deb suppl&eacute;mentaires.
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Aide pour la compilation du noyau"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Aide pour la compilation du noyau</th></tr><tr><td valign="top" align="left"><p>Pour les instructions pour une distribution non Debian, voir l'annexe
      <a href="#nodebkernel" title="A.&nbsp;L'ACPI sans utiliser Debian">Annexe&nbsp;A, <i>L'ACPI sans utiliser Debian</i></a>.</p><p>Pour plus d'informations sur la compilation du noyau sur une Debian,
      lisez <a href="http://newbiedoc.sourceforge.net/system/kernel-pkg.html" target="_top">Cr&eacute;er des
      noyaux personnalis&eacute;s avec le syst&egrave;me de paquets du noyau de
      Debian</a> (document en anglais).</p></td></tr></table></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="finishinstall"></a>16.&nbsp;Red&eacute;marrage et test</h2></div></div></div><p>&Agrave; ce moment, vous devez red&eacute;marrer votre machine. Lorsque le syst&egrave;me est
relanc&eacute; (en supposant que tout s'est pass&eacute; correctement et que vous avez
toujours un syst&egrave;me), v&eacute;rifiez quel noyau est en cours d'ex&eacute;cution avec
<strong class="userinput"><code>uname -a</code></strong>. Cela devrait vous montrer celui
que vous venez de construire. Vous aurez aussi besoin de vous assurer que le
bon correctif a &eacute;t&eacute; install&eacute;. Vous pouvez faire ceci avec&nbsp;:
</p><pre class="programlisting">
dmesg | grep ACPI.*Subsystem\ revision
</pre><p>
Il devrait afficher&nbsp;:
</p><pre class="screen">
ACPI&nbsp;: Subsystem revision 20021212
</pre><p>
Le num&eacute;ro de r&eacute;vision est la date du correctif. Ce num&eacute;ro sera diff&eacute;rent 
du mien si vous n'utilisez pas un noyau 2.4.20. Pour rechercher tout ce 
qui concerne l'ACPI et qui a &eacute;t&eacute; charg&eacute; ou lanc&eacute; lors du red&eacute;marrage 
du syst&egrave;me, faites ceci&nbsp;:
</p><pre class="programlisting">
dmesg | grep ACPI
</pre><p> 
<span><strong class="command">dmesg</strong></span> affiche les messages du d&eacute;marrage et 
<strong class="userinput"><code>grep&nbsp;ACPI</code></strong> s'assure que seuls les messages 
relatifs &agrave; l'ACPI sont affich&eacute;s.</p><p>Vous pouvez aussi v&eacute;rifier la version que vous utilisez avec 
<strong class="userinput"><code>cat&nbsp;/proc/acpi/info</code></strong>. Ne croyez pas tout ce 
qui vous est indiqu&eacute;. Ma sortie indique que S3 est un &eacute;tat utilisable, 
mais nous savons d&eacute;j&agrave; que ce n'est pas le cas. Par contre, le num&eacute;ro de 
version est correct, ce qui est bien utile.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="loadmodules"></a>17.&nbsp;Charger les modules</h2></div></div></div><p>Si vous avez compil&eacute; la gestion de l'ACPI en tant que module 
(&laquo;&nbsp;M&nbsp;&raquo;), vous aurez probablement besoin de charger les modules 
&agrave; la main. Vous devrez chercher un peu pour trouver les modules. Les 
miens sont dans <code class="filename">/lib/modules/<em class="replaceable"><code>version</code></em>.<em class="replaceable"><code>date</code></em>/kernel/drivers/acpi/</code> 
et s'appellent&nbsp;:</p><pre class="screen">
-rw-r--r--    1 root     root         4.1k Jun  3 23:57 ac.o
-rw-r--r--    1 root     root         9.5k Jun  3 23:57 battery.o
-rw-r--r--    1 root     root         5.2k Jun  3 23:57 button.o
-rw-r--r--    1 root     root         3.7k Jun  3 23:57 fan.o
-rw-r--r--    1 root     root          14k Jun  3 23:57 processor.o
-rw-r--r--    1 root     root          11k Jun  3 23:57 thermal.o
-rw-r--r--    1 root     root         6.2k Jun  3 23:57 toshiba_acpi.o
</pre><p>La premi&egrave;re fois que j'ai red&eacute;marr&eacute;, je les ai charg&eacute;s manuellement en
tapant&nbsp;</p><pre class="programlisting">
insmod <em class="replaceable"><code>nom_du_module</code></em>
</pre><p>Je commence par <code class="literal">processor</code>, bien que les avis
soient partag&eacute;s sur le fait que l'ordre ait une importance.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Modules du noyau"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Modules du noyau</th></tr><tr><td valign="top" align="left"><p>Le nom du module est la partie du nom du fichier, pr&eacute;c&eacute;dant l'extension
<code class="filename">.o</code>.</p><p><code class="filename">processor.o</code> est le fichier, 
<code class="literal">processor</code> est le nom du module. Pour installer un 
module du noyau, utilisez 
<strong class="userinput"><code>insmod&nbsp;<em class="replaceable"><code>processor</code></em></code></strong>. 
</p></td></tr></table></div><p>Vous pouvez v&eacute;rifier les modules charg&eacute;s avec <span><strong class="command">lsmod</strong></span>.
Ma sortie de <span><strong class="command">lsmod</strong></span> (avec la plupart des extras supprim&eacute;s)
ressemble &agrave; ceci&nbsp;:</p><pre class="screen">
Module                  Size  Used by    Tainted: P  
button                  2420   0 (unused)
battery                 5960   0 (unused)
ac                      1832   0 (unused)
fan                     1608   0 (unused)
thermal                 6664   0 (unused)
processor               8664   0 [thermal]
NVdriver              945408  11 
</pre><p>Le dernier est ma carte graphique utilisant des pilotes propri&eacute;taires.
C'est pourquoi un &laquo;&nbsp;P&nbsp;&raquo; se trouve &agrave; c&ocirc;t&eacute; de Tainted sur
la premi&egrave;re ligne.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Gestion d'&eacute;nergie du syst&egrave;me d'exploitation (OSPM ou Operating System Power Management"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Gestion d'&eacute;nergie du syst&egrave;me d'exploitation (OSPM ou <span class="foreignphrase"><em class="foreignphrase">Operating System Power Management</em></span></th></tr><tr><td valign="top" align="left"><p>La premi&egrave;re fois o&ugrave; j'ai essay&eacute; ceci, les modules &eacute;taient tous dans des
r&eacute;pertoires s&eacute;par&eacute;s et se nommaient ospm_&lt;nom&gt;. C'est probablement d&ucirc; au
fait que j'utilisais un ancien correctif, mais c'est important de le savoir. Les
modules OSPM sont maintenant abandonn&eacute;s, donc vous ne devriez plus les voir.
</p></td></tr></table></div><p>Pour ne pas avoir &agrave; charger les modules dans le noyau &agrave; chaque fois que
vous d&eacute;marrez, vous devez soit les compiler directement dans le noyau (un peu
tard, n'est-ce-pas&nbsp;?) soit les ajouter dans votre fichier
<code class="filename">/etc/modules</code>. Si vous n'avez pas d&eacute;j&agrave; une copie de ce
fichier, cr&eacute;ez-le et ajoutez un nom de module (rappelez-vous, pas de .o) 
par ligne.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="daemons"></a>18.&nbsp;Passer d'APM &agrave; l'ACPI</h2></div></div></div><p>Ne laissez pas apmd et acpid s'ex&eacute;cuter en m&ecirc;me temps &agrave; moins que vous ne
sachiez r&eacute;ellement ce que vous faites. Debian ne v&eacute;rifiera
<span class="emphasis"><em>pas</em></span> si l'un d'entre eux est d&eacute;j&agrave; lanc&eacute;. Vous devez le
v&eacute;rifier. APM essaiera de passer votre syst&egrave;me en S3. Sur les noyaux de
s&eacute;rie 2.4.x (et pr&eacute;c&eacute;dents), ceci a de fortes chances de bloquer votre machine.
S3 n'est pas support&eacute; jusqu'au 2.5.x. M&ecirc;me le correctif n'apporte pas le support
de S3. J'ai pr&eacute;f&eacute;r&eacute; faire un 
<strong class="userinput"><code>apt-get&nbsp;remove&nbsp;apmd</code></strong> pour r&eacute;soudre ce 
probl&egrave;me.</p><p>Vous devez aussi conna&icirc;tre un autre petit probl&egrave;me que j'ai d&eacute;couvert.
Le serveur XFree86 a une option pour les fonctionnalit&eacute;s DPMS (Energy Star). Le
DPMS peut passer par diff&eacute;rents &eacute;tats&nbsp;: en attente, suspendu, arr&ecirc;t&eacute;, en cours.
Comme les noyaux 2.4.x ne peuvent &ecirc;tre suspendus vers le disque, ceci peut
poser probl&egrave;me. J'ai corrig&eacute; mon syst&egrave;me en faisant deux choses&nbsp;:</p><div class="itemizedlist"><ul type="disc"><li><p>
    <strong class="userinput"><code>xset -dpms</code></strong> (d&eacute;sactive les fonctionnalit&eacute;s 
    DPMS)</p></li><li><p>
    Dans <code class="filename">/etc/X11/XF86Config-4</code>, j'ai mis en commentaire la
    ligne <code class="literal">Option "DPMS"</code> de la section 
    <code class="literal">"Monitor"</code>.
</p></li></ul></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usingacpi"></a>19.&nbsp;Utiliser l'ACPI</h2></div></div></div><p>Il existe plusieurs applications/d&eacute;mons diff&eacute;rents que vous voudrez
installer sur votre syst&egrave;me&nbsp;: <span class="application">acpid</span> (le d&eacute;mon
qui contr&ocirc;le les &eacute;tats du mat&eacute;riel) et <span class="application">acpi</span>
(l'interface surveillant les &eacute;v&eacute;nements et les &eacute;tats) font partie de
l'installation de base. Le paquet Debian <em class="medialabel">acpi</em> 
est seulement disponible dans testing et est instable. Si vous utilisez 
la distribution Debian stable, vous ne serez pas capable de l'installer 
sans bidouiller avec <span><strong class="command">apt</strong></span> et votre fichier 
<code class="filename">sources.list</code>. Vous pouvez 
probablement les compiler &agrave; partir des sources. Si vous avez 
<span class="application">acpi</span> install&eacute;, vous pouvez l'utiliser pour 
surveiller votre syst&egrave;me en utilisant cette commande&nbsp;: <span><strong class="command">acpi 
<code class="option">-V</code></strong></span>. Sa sortie vous donnera des informations 
sur votre syst&egrave;me. La mienne ressemble &agrave; ceci&nbsp;:</p><pre class="screen">
     Thermal 1: ok, 47.1 degrees C
     Thermal 2: ok, 45.1 degrees C
  AC Adapter 1: off-line &lt;-- fonctionne sur batteries
  AC Adapter 1: on-line &lt;-- fonctionne sur secteur
</pre><p>Malheureusement, la &laquo;&nbsp;version compl&egrave;te&nbsp;&raquo; de
<code class="option">-V</code> ne fonctionne pas pour moi. Heureusement, je peux toujours
regarder dans chacun des fichiers acpi individuellement pour obtenir des
informations sur mon syst&egrave;me. Regardez dans le 
r&eacute;pertoire <code class="filename">/proc/acpi</code> afin de v&eacute;rifier diff&eacute;rents 
points importants. Si je veux v&eacute;rifier ma batterie, je lis le fichier 
suivant comme ceci&nbsp;:</p><pre class="programlisting">
cat /proc/acpi/battery/BAT0/state
</pre><p>La sortie ressemble &agrave; ceci&nbsp;:</p><pre class="screen">
present:                 yes
capacity state:          ok
charging state:          discharging &lt;-- fonctionne sur batteries
present rate:            unknown
remaining capacity:      3920 mAh &lt;-- surveillez ce nombre
present voltage:         14800 mV
</pre><pre class="screen">
present:                 yes
capacity state:          ok
charging state:          discharging
present rate:            unknown
remaining capacity:      3840 mAh &lt;-- la charge batterie diminue
present voltage:         14800 mV
</pre><pre class="screen">
present:                 yes
capacity state:          ok
charging state:          charging &lt;-- adaptateur secteur branch&eacute;
present rate:            unknown
remaining capacity:      3840 mAh
present voltage:         14800 mV
</pre><p>Si je veux de l'information sur ma batterie en g&eacute;n&eacute;ral, je testerais
ceci&nbsp;:</p><pre class="programlisting">
cat /proc/acpi/battery/BAT0/info
</pre><pre class="screen">
present:                 yes
design capacity:         3920 mAh
last full capacity:      3920 mAh
battery technology:      rechargeable
design voltage:          14800 mV
design capacity warning: 30 mAh
design capacity low:     20 mAh
capacity granularity 1:  10 mAh
capacity granularity 2:  3470 mAh
model number:            Bat0
serial number:              
battery type:            Lion
OEM info:                Acer
</pre><p>Vous &ecirc;tes des personnes intelligentes. Vous pouvez probablement vous
d&eacute;brouiller &agrave; partir de maintenant&nbsp;:)</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="resources"></a>20.&nbsp;R&eacute;f&eacute;rences et ressources</h2></div></div></div><p>Les liens suivants ont &eacute;t&eacute; incroyablement utiles pour l'&eacute;criture de ce
guide pratique et en r&egrave;gle g&eacute;n&eacute;ral pour faire fonctionner l'ACPI.</p><div class="variablelist"><p class="title"><b>Guides pratiques</b></p><dl><dt><span class="term">Guide pratique de l'installation de l'ACPI sous Linux</span></dt><dd><p>
	<a href="http://sylvestre.ledru.info/howto/howto_acpi.php" target="_top">
		http://sylvestre.ledru.info/howto/howto_acpi.php
	</a>
	</p></dd><dt><span class="term">Guide pratique de l'ACPI sous Linux</span></dt><dd><p>
	<a href="http://www.columbia.edu/~ariel/acpi/acpi_howto.txt" target="_top">http://www.columbia.edu/~ariel/acpi/acpi_howto.txt</a>
	</p></dd><dt><span class="term">Linux en voyage, </span><span class="term">auparavant&nbsp;: 
		<a href="http://www.traduc.org/docs/howto/lecture/Laptop-HOWTO.html" target="_top">
		Guide pratique du portable sous Linux
		</a>
	</span></dt><dd><p>
	<a href="http://tuxmobil.org/howtos.html" target="_top">
		http://tuxmobil.org/howtos.html
	</a>
	Vous aurez besoin de descendre un peu ou d'utiliser la version
	HTML&nbsp;:
	<a href="http://tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html" target="_top">
		http://tuxmobil.org/Mobile-Guide.db/Mobile-Guide.html
	</a>
	</p></dd><dt><span class="term">Mat&eacute;riel en d&eacute;tail (partie du Linux en voyage)</span></dt><dd><p>
	<a href="http://tuxmobil.org/Mobile-Guide.db/mobile-guide-p2c1-hardware-in-detail.html" target="_top">
		http://tuxmobil.org/Mobile-Guide.db/mobile-guide-p2c1-hardware-in-detail.html
	</a>
	</p></dd><dt><span class="term">Gestion de l'&eacute;nergie avec Linux - APM, ACPI, PMU</span></dt><dd><p>
	<a href="http://tuxmobil.org/apm_linux.html" target="_top">
		http://tuxmobil.org/apm_linux.html
	</a>
	</p></dd><dt><span class="term">Cr&eacute;er des noyaux personnalis&eacute;s avec le syst&egrave;me de paquets de noyaux de Debian</span></dt><dd><p>
	<a href="http://newbiedoc.sourceforge.net/system/kernel-pkg.html" target="_top">
		http://newbiedoc.sourceforge.net/system/kernel-pkg.html
	</a>
	</p></dd></dl></div><div class="variablelist"><p class="title"><b>Rapports d'installation et informations sp&eacute;cifiques &agrave; un mat&eacute;riel</b></p><dl><dt><span class="term">Rapports d'installation</span></dt><dd><p>
	<a href="http://acpi.sourceforge.net/wiki/index.php/InstallationReports" target="_top">
		http://acpi.sourceforge.net/wiki/index.php/InstallationReports
	</a>
	</p></dd><dt><span class="term">Liste noire</span></dt><dd><p>
	<a href="http://acpi.sourceforge.net/documentation/blacklist.html" target="_top">
		http://acpi.sourceforge.net/documentation/blacklist.html
	</a>
	</p></dd><dt><span class="term">DSDT&nbsp;: Survol</span></dt><dd><p>
	<a href="http://acpi.sourceforge.net/dsdt/index.php" target="_top">
		http://acpi.sourceforge.net/dsdt/index.php
	</a>
	Inclut des liens vers des DSDT corrig&eacute;s et vers des guides pratiques sur
        l'application d'un correctif disposant de votre propre DSDT.
	</p></dd><dt><span class="term">Param&eacute;trages du BIOS pour l'Acer (Phoenix BIOS)</span></dt><dd><p>
	<a href="http://help.nec-computers.com/au/pri/item_instr_bios_7521N.asp" target="_top">
		http://help.nec-computers.com/au/pri/item_instr_bios_7521N.asp
	</a>
	</p></dd></dl></div><div class="variablelist"><p class="title"><b>Groupes de d&eacute;veloppement de logiciels</b></p><dl><dt><span class="term">ACPI4Linux</span></dt><dd><p>
	<a href="http://acpi.sf.net" target="_top">
		http://acpi.sf.net
	</a>
	</p></dd><dt><span class="term">Groupe d'int&eacute;r&ecirc;t ACPI</span></dt><dd><p>
	<a href="http://www.acpi.info/" target="_top">
		http://www.acpi.info/
	</a>
	</p></dd><dt><span class="term">Intel</span></dt><dd><p>
	<a href="http://developer.intel.com/technology/iapc/acpi/" target="_top">
		http://developer.intel.com/technology/iapc/acpi/
	</a>
	</p></dd></dl></div><div class="variablelist"><p class="title"><b>Listes de diffusion</b></p><dl><dt><span class="term">Discussion sur debian-laptop&nbsp;: <span class="foreignphrase"><em class="foreignphrase">can't restore from
	suspend</em></span> (NdT&nbsp;: Impossible de restaurer &agrave; partir du
	mode suspendu)
	</span></dt><dd><p>
	<a href="http://lists.debian.org/debian-laptop/2003/debian-laptop-200304/msg00367.html" target="_top">
		http://lists.debian.org/debian-laptop/2003/debian-laptop-200304/msg00367.html
	</a>
	</p></dd><dt><span class="term">Discussion sur acpi-support&nbsp;: <span class="foreignphrase"><em class="foreignphrase">newbie HOWTO and debian
	patching</em></span> (NdT&nbsp;: guide pratique pour les nouveaux
	et pour amender la debian)</span></dt><dd><p>
	<a href="http://sourceforge.net/mailarchive/forum.php?forum_id=7803&max_rows=25&style=flat&viewmonth=200304&viewday=17" target="_top">
	http://sourceforge.net/mailarchive/forum.php?forum_id=7803&amp;max_rows=25&amp;style=flat&amp;viewmonth=200304&amp;viewday=17
	</a>
	</p></dd><dt><span class="term">Discussion sur debian-laptop&nbsp;: <span class="foreignphrase"><em class="foreignphrase">acer 634
	ACPI</em></span> (NdT&nbsp;: ACPI sur l'acer 634</span></dt><dd><p>
	<a href="http://lists.debian.org/debian-laptop/2002/debian-laptop-200212/msg00242.html" target="_top">
		http://lists.debian.org/debian-laptop/2002/debian-laptop-200212/msg00242.html
	</a>
	</p></dd></dl></div><div class="variablelist"><a name="software"></a><p class="title"><b>Paquets ACPI et logiciels en relation</b></p><dl><dt><span class="term">Noyau</span></dt><dd><p>Rappelez-vous de choisir "F" pour full (NdT&nbsp;: pour
	complet) lorsque vous t&eacute;l&eacute;chargez les sources du noyau.
	<a href="http://www.kernel.org" target="_top">
		http://www.kernel.org
	</a>
	</p></dd><dt><span class="term">Noyau pr&eacute;par&eacute; par Debian</span></dt><dd><p>Paquet des sources du noyau 2.4.20-8 pr&eacute;par&eacute; par maxx.
	Pour plus d'informations, voir les <a href="#debianizedkernel" title="9.1.1.&nbsp;Noyau pr&eacute;par&eacute; par Debian">Section&nbsp;9.1.1, &laquo;&nbsp;Noyau pr&eacute;par&eacute; par Debian&nbsp;&raquo;</a>.
	<a href="http://people.debian.org/~maxx/kernel-source-2.4.20/" target="_top">
		http://people.debian.org/~maxx/kernel-source-2.4.20/
	</a>
	</p></dd><dt><span class="term">Correctif du noyau pour l'ACPI</span></dt><dd><p>Vous devrez prendre la version correspondant exactement
	au noyau que vous utilisez.
	<a href="http://sourceforge.net/project/showfiles.php?group_id=36832" target="_top">
		http://sourceforge.net/project/showfiles.php?group_id=36832
	</a>
	</p></dd><dt><span class="term"><span class="application">acpid</span></span></dt><dd><p>le d&eacute;mon
	<a href="http://sourceforge.net/projects/acpid" target="_top">
		http://sourceforge.net/projects/acpid
	</a>
	</p></dd><dt><span class="term"><span class="application">acpi</span></span></dt><dd><p>l'interface texte
	<a href="http://grahame.angrygoats.net/acpi.shtml" target="_top">
		http://grahame.angrygoats.net/acpi.shtml
	</a>
	</p></dd><dt><span class="term"><span class="application">Kacpi</span></span></dt><dd><p>l'interface graphique de KDE
	<a href="http://www.elektronikschule.de/~genannt/kacpi/download.html" target="_top">
		http://www.elektronikschule.de/~genannt/kacpi/download.html
	</a>
	</p></dd><dt><span class="term"><span class="application">aKpi</span></span></dt><dd><p>une autre interface de KDE
	<a href="http://akpi.scmd.at/" target="_top">
		http://akpi.scmd.at/
	</a>
	</p></dd><dt><span class="term"><span class="application">wmacpi</span></span></dt><dd><p>un DockApp WindowMaker (un autre GUI)
	<a href="http://www.ne.jp/asahi/linux/timecop/" target="_top">
		http://www.ne.jp/asahi/linux/timecop/
	</a>
	</p></dd><dt><span class="term"><span class="application">wmacpi+clecourt</span></span></dt><dd><p>un DockApp WindowMaker (une autre interface graphique).
	G&egrave;re deux batteries.
	<a href="http://open.iliad.fr/~clecourt/wmacpi/index.html" target="_top">
		http://open.iliad.fr/~clecourt/wmacpi/index.html
	</a>
	</p></dd></dl></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="thanks"></a>21.&nbsp;Remerciements</h2></div></div></div><p>Mes remerciements vont aux personnes suivantes&nbsp;:</p><div class="itemizedlist"><ul type="disc"><li><p>
<a href="http://acpi.sourceforge.net/mailinglists.html" target="_top">acpi-support</a>
</p></li><li><p>
	<a href="http://lists.debian.org/debian-laptop/" target="_top">debian-laptop</a>
</p></li><li><p>
<a href="http://lists.debian.org/debian-user/" target="_top">debian-user</a>
</p></li><li><p>
<a href="http://linuxchix.org/" target="_top">techtalk</a> 
</p></li><li><p>
<a href="http://www.tldp.org/mailinfo.html#maillists" target="_top">listes de diffusions de
TLDP</a> (discuss et docbook)
</p></li><li><p>Sebastian Henschel pour m'avoir rappel&eacute; que j'avais promis de
l'&eacute;crire</p></li><li><p>Erich Schubert pour la r&eacute;daction de la section sur DSDT
</p></li><li><p>Werner Heuser pour m'avoir sugg&eacute;r&eacute; de soumettre le document au
LDP</p></li><li><p>Tabatha Marshall pour l'&eacute;dition et d'avoir &eacute;t&eacute; en r&egrave;gle g&eacute;n&eacute;rale
tr&egrave;s enthousiaste pour apprendre DocBook</p></li></ul></div></div><div class="appendix" lang="fr"><h2 class="title" style="clear: both"><a name="nodebkernel"></a>A.&nbsp;L'ACPI sans utiliser Debian</h2><p>Il n'existe que peu de diff&eacute;rence entre la mani&egrave;re Debian et la mani&egrave;re
g&eacute;n&eacute;rique. En fait, il doit y avoir seulement dix lignes de diff&eacute;rences.</p><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nodebcompile"></a>1.&nbsp;Compiler le noyau</h2></div></div></div><p>La fa&ccedil;on &laquo;&nbsp;habituelle&nbsp;&raquo; de compiler un noyau ne
fait pas usage de <span><strong class="command">make-kpkg</strong></span>. &Agrave; la place, elle utilise 
les &eacute;tapes suivantes&nbsp;:</p><pre class="programlisting">
cd /usr/src/linux # qui devrait pointer vers les fichiers (d&eacute;compress&eacute;s) 
                  # du noyau 2.4.20
make dep
make clean
make bzImage
make modules      # (rappelez-vous de d&eacute;baller vos modules en premier 
                  # lieu)
</pre></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nodebinstall"></a>2.&nbsp;Installer le nouveau noyau</h2></div></div></div><p>&Agrave; la <em class="citetitle">mani&egrave;re Debian</em>, vous cr&eacute;ez un fichier deb
contenant l'information sur l'emplacement du noyau (et cr&eacute;ez le noyau et ainsi
de suite). D'une fa&ccedil;on plus g&eacute;n&eacute;rique, vous placez les choses l&agrave; o&ugrave; elles
doivent &ecirc;tre. Vous avez besoin d'installer vos modules, puis de configurer
<span><strong class="command">lilo</strong></span> pour pointer vers le nouveau noyau et d'ex&eacute;cuter 
<span><strong class="command">lilo</strong></span>. Si vous ne faites pas de la <em class="citetitle">fa&ccedil;on 
Debian</em>, votre &laquo;&nbsp;installation&nbsp;&raquo; ressemblera &agrave; 
ceci&nbsp;:</p><pre class="programlisting">
cd /usr/src/linux
make modules_install
cp arch/i386/boot/bzImage /boot/vmlinuz.<em class="replaceable"><code>date</code></em>
vi /etc/lilo.conf # et copiez la structure votre noyau actuel. Ne 
                  # supprimez PAS la r&eacute;f&eacute;rence &agrave; votre noyau 
                  # actuel&nbsp;! Vous avez besoin de faire pointer lilo
                  # vers le fichier &laquo;&nbsp;vmlinuz&nbsp;&raquo; qui a &eacute;t&eacute; cr&eacute;&eacute; 
                  # lors de votre compilation du noyau ci-dessus.
	
lilo              # (oui, exactement comme &ccedil;a.) 
                  # Lilo vous indiquera si des probl&egrave;mes importants 
                  # sont survenus lors du chargement du nouveau noyau.
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Avertissement]" src="images/warning.png"></td><th align="left">Avertissement</th></tr><tr><td valign="top" align="left"><p>N'oubliez PAS de lancer lilo avant de red&eacute;marrer. Tapez
<span><strong class="command">lilo</strong></span>. C'est aussi simple (et c'est aussi simple de
l'oublier).</p></td></tr></table></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="nodebsoftware"></a>3.&nbsp;Paquets logiciels</h2></div></div></div><p>Vous pouvez toujours utiliser tous les logiciels mentionn&eacute;s dans ce guide
pratique m&ecirc;me si vous n'utilisez pas Debian. Malheureusement, cela demandera un
peu plus d'efforts de votre part pour t&eacute;l&eacute;charger et installer tout.
Heureusement, ce n'est pas si difficile. Lorsque vous les
d&eacute;compressez, la plupart des paquets comprennent un fichier 
<code class="filename">README</code> qui vous explique ce dont vous avez besoin 
pour les faire fonctionner sur votre syst&egrave;me.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: T&eacute;l&eacute;chargement des logiciels"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Astuce]" src="images/tip.png"></td><th align="left">T&eacute;l&eacute;chargement des logiciels</th></tr><tr><td valign="top" align="left"><p>Pour plus d'informations sur les logiciels prenant en compte l'ACPI,
    merci d'utiliser le <a href="#software" title="Paquets ACPI et logiciels en relation">Paquets ACPI et logiciels en relation</a>.</p></td></tr></table></div></div></div><div class="appendix" lang="fr"><h2 class="title" style="clear: both"><a name="gfdl"></a>B.&nbsp;GNU Free Documentation License</h2><p>Version 1.1, March 2000</p><div class="blockquote"><blockquote class="blockquote"><p>Copyright (C) 2000  Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.</p></blockquote></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-0"></a>1.&nbsp;PREAMBLE</h2></div></div></div><p>The purpose of this License is to make a manual, textbook,
    or other written document "free" in the sense of freedom: to
    assure everyone the effective freedom to copy and redistribute it,
    with or without modifying it, either commercially or
    noncommercially.  Secondarily, this License preserves for the
    author and publisher a way to get credit for their work, while not
    being considered responsible for modifications made by
    others.</p><p>This License is a kind of "copyleft", which means that
    derivative works of the document must themselves be free in the
    same sense.  It complements the GNU General Public License, which
    is a copyleft license designed for free software.</p><p>We have designed this License in order to use it for manuals
    for free software, because free software needs free documentation:
    a free program should come with manuals providing the same
    freedoms that the software does.  But this License is not limited
    to software manuals; it can be used for any textual work,
    regardless of subject matter or whether it is published as a
    printed book.  We recommend this License principally for works
    whose purpose is instruction or reference.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-1"></a>2.&nbsp;APPLICABILITY AND DEFINITIONS</h2></div></div></div><p>This License applies to any manual or other work that
    contains a notice placed by the copyright holder saying it can be
    distributed under the terms of this License.  The "Document",
    below, refers to any such manual or work.  Any member of the
    public is a licensee, and is addressed as "you".</p><p>A "Modified Version" of the Document means any work
    containing the Document or a portion of it, either copied
    verbatim, or with modifications and/or translated into another
    language.</p><p>A "Secondary Section" is a named appendix or a front-matter
    section of the Document that deals exclusively with the
    relationship of the publishers or authors of the Document to the
    Document's overall subject (or to related matters) and contains
    nothing that could fall directly within that overall subject.
    (For example, if the Document is in part a textbook of
    mathematics, a Secondary Section may not explain any mathematics.)
    The relationship could be a matter of historical connection with
    the subject or with related matters, or of legal, commercial,
    philosophical, ethical or political position regarding
    them.</p><p>The "Invariant Sections" are certain Secondary Sections
    whose titles are designated, as being those of Invariant Sections,
    in the notice that says that the Document is released under this
    License.</p><p>The "Cover Texts" are certain short passages of text that
    are listed, as Front-Cover Texts or Back-Cover Texts, in the
    notice that says that the Document is released under this
    License.</p><p>A "Transparent" copy of the Document means a
    machine-readable copy, represented in a format whose specification
    is available to the general public, whose contents can be viewed
    and edited directly and straightforwardly with generic text
    editors or (for images composed of pixels) generic paint programs
    or (for drawings) some widely available drawing editor, and that
    is suitable for input to text formatters or for automatic
    translation to a variety of formats suitable for input to text
    formatters.  A copy made in an otherwise Transparent file format
    whose markup has been designed to thwart or discourage subsequent
    modification by readers is not Transparent.  A copy that is not
    "Transparent" is called "Opaque".</p><p>Examples of suitable formats for Transparent copies include
    plain ASCII without markup, Texinfo input format, LaTeX input
    format, SGML or XML using a publicly available DTD, and
    standard-conforming simple HTML designed for human modification.
    Opaque formats include PostScript, PDF, proprietary formats that
    can be read and edited only by proprietary word processors, SGML
    or XML for which the DTD and/or processing tools are not generally
    available, and the machine-generated HTML produced by some word
    processors for output purposes only.</p><p>The "Title Page" means, for a printed book, the title page
    itself, plus such following pages as are needed to hold, legibly,
    the material this License requires to appear in the title page.
    For works in formats which do not have any title page as such,
    "Title Page" means the text near the most prominent appearance of
    the work's title, preceding the beginning of the body of the
    text.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-2"></a>3.&nbsp;VERBATIM COPYING</h2></div></div></div><p>You may copy and distribute the Document in any medium,
    either commercially or noncommercially, provided that this
    License, the copyright notices, and the license notice saying this
    License applies to the Document are reproduced in all copies, and
    that you add no other conditions whatsoever to those of this
    License.  You may not use technical measures to obstruct or
    control the reading or further copying of the copies you make or
    distribute.  However, you may accept compensation in exchange for
    copies.  If you distribute a large enough number of copies you
    must also follow the conditions in section 3.</p><p>You may also lend copies, under the same conditions stated
    above, and you may publicly display copies.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-3"></a>4.&nbsp;COPYING IN QUANTITY</h2></div></div></div><p>If you publish printed copies of the Document numbering more
    than 100, and the Document's license notice requires Cover Texts,
    you must enclose the copies in covers that carry, clearly and
    legibly, all these Cover Texts: Front-Cover Texts on the front
    cover, and Back-Cover Texts on the back cover.  Both covers must
    also clearly and legibly identify you as the publisher of these
    copies.  The front cover must present the full title with all
    words of the title equally prominent and visible.  You may add
    other material on the covers in addition.  Copying with changes
    limited to the covers, as long as they preserve the title of the
    Document and satisfy these conditions, can be treated as verbatim
    copying in other respects.</p><p>If the required texts for either cover are too voluminous to
    fit legibly, you should put the first ones listed (as many as fit
    reasonably) on the actual cover, and continue the rest onto
    adjacent pages.</p><p>If you publish or distribute Opaque copies of the Document
    numbering more than 100, you must either include a
    machine-readable Transparent copy along with each Opaque copy, or
    state in or with each Opaque copy a publicly-accessible
    computer-network location containing a complete Transparent copy
    of the Document, free of added material, which the general
    network-using public has access to download anonymously at no
    charge using public-standard network protocols.  If you use the
    latter option, you must take reasonably prudent steps, when you
    begin distribution of Opaque copies in quantity, to ensure that
    this Transparent copy will remain thus accessible at the stated
    location until at least one year after the last time you
    distribute an Opaque copy (directly or through your agents or
    retailers) of that edition to the public.</p><p>It is requested, but not required, that you contact the
    authors of the Document well before redistributing any large
    number of copies, to give them a chance to provide you with an
    updated version of the Document.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-4"></a>5.&nbsp;MODIFICATIONS</h2></div></div></div><p>You may copy and distribute a Modified Version of the
    Document under the conditions of sections 2 and 3 above, provided
    that you release the Modified Version under precisely this
    License, with the Modified Version filling the role of the
    Document, thus licensing distribution and modification of the
    Modified Version to whoever possesses a copy of it.  In addition,
    you must do these things in the Modified Version:</p><div class="orderedlist"><ol type="A"><li><p>Use in the Title Page
      (and on the covers, if any) a title distinct from that of the
      Document, and from those of previous versions (which should, if
      there were any, be listed in the History section of the
      Document).  You may use the same title as a previous version if
      the original publisher of that version gives permission.</p></li><li><p>List on the Title Page,
      as authors, one or more persons or entities responsible for
      authorship of the modifications in the Modified Version,
      together with at least five of the principal authors of the
      Document (all of its principal authors, if it has less than
      five).</p></li><li><p>State on the Title page
      the name of the publisher of the Modified Version, as the
      publisher.</p></li><li><p>Preserve all the
      copyright notices of the Document.</p></li><li><p>Add an appropriate
      copyright notice for your modifications adjacent to the other
      copyright notices.</p></li><li><p>Include, immediately
      after the copyright notices, a license notice giving the public
      permission to use the Modified Version under the terms of this
      License, in the form shown in the Addendum below.</p></li><li><p>Preserve in that license
      notice the full lists of Invariant Sections and required Cover
      Texts given in the Document's license notice.</p></li><li><p>Include an unaltered
      copy of this License.</p></li><li><p>Preserve the section
      entitled "History", and its title, and add to it an item stating
      at least the title, year, new authors, and publisher of the
      Modified Version as given on the Title Page.  If there is no
      section entitled "History" in the Document, create one stating
      the title, year, authors, and publisher of the Document as given
      on its Title Page, then add an item describing the Modified
      Version as stated in the previous sentence.</p></li><li><p>Preserve the network
      location, if any, given in the Document for public access to a
      Transparent copy of the Document, and likewise the network
      locations given in the Document for previous versions it was
      based on.  These may be placed in the "History" section.  You
      may omit a network location for a work that was published at
      least four years before the Document itself, or if the original
      publisher of the version it refers to gives permission.</p></li><li><p>In any section entitled
      "Acknowledgements" or "Dedications", preserve the section's
      title, and preserve in the section all the substance and tone of
      each of the contributor acknowledgements and/or dedications
      given therein.</p></li><li><p>Preserve all the
      Invariant Sections of the Document, unaltered in their text and
      in their titles.  Section numbers or the equivalent are not
      considered part of the section titles.</p></li><li><p>Delete any section
      entitled "Endorsements".  Such a section may not be included in
      the Modified Version.</p></li><li><p>Do not retitle any
      existing section as "Endorsements" or to conflict in title with
      any Invariant Section.</p></li></ol></div><p>If the Modified Version includes new front-matter sections
    or appendices that qualify as Secondary Sections and contain no
    material copied from the Document, you may at your option
    designate some or all of these sections as invariant.  To do this,
    add their titles to the list of Invariant Sections in the Modified
    Version's license notice.  These titles must be distinct from any
    other section titles.</p><p>You may add a section entitled "Endorsements", provided it
    contains nothing but endorsements of your Modified Version by
    various parties&mdash;for example, statements of peer review or that
    the text has been approved by an organization as the authoritative
    definition of a standard.</p><p>You may add a passage of up to five words as a Front-Cover
    Text, and a passage of up to 25 words as a Back-Cover Text, to the
    end of the list of Cover Texts in the Modified Version.  Only one
    passage of Front-Cover Text and one of Back-Cover Text may be
    added by (or through arrangements made by) any one entity.  If the
    Document already includes a cover text for the same cover,
    previously added by you or by arrangement made by the same entity
    you are acting on behalf of, you may not add another; but you may
    replace the old one, on explicit permission from the previous
    publisher that added the old one.</p><p>The author(s) and publisher(s) of the Document do not by
    this License give permission to use their names for publicity for
    or to assert or imply endorsement of any Modified Version.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-5"></a>6.&nbsp;COMBINING DOCUMENTS</h2></div></div></div><p>You may combine the Document with other documents released
    under this License, under the terms defined in section 4 above for
    modified versions, provided that you include in the combination
    all of the Invariant Sections of all of the original documents,
    unmodified, and list them all as Invariant Sections of your
    combined work in its license notice.</p><p>The combined work need only contain one copy of this
    License, and multiple identical Invariant Sections may be replaced
    with a single copy.  If there are multiple Invariant Sections with
    the same name but different contents, make the title of each such
    section unique by adding at the end of it, in parentheses, the
    name of the original author or publisher of that section if known,
    or else a unique number.  Make the same adjustment to the section
    titles in the list of Invariant Sections in the license notice of
    the combined work.</p><p>In the combination, you must combine any sections entitled
    "History" in the various original documents, forming one section
    entitled "History"; likewise combine any sections entitled
    "Acknowledgements", and any sections entitled "Dedications".  You
    must delete all sections entitled "Endorsements."</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-6"></a>7.&nbsp;COLLECTIONS OF DOCUMENTS</h2></div></div></div><p>You may make a collection consisting of the Document and
    other documents released under this License, and replace the
    individual copies of this License in the various documents with a
    single copy that is included in the collection, provided that you
    follow the rules of this License for verbatim copying of each of
    the documents in all other respects.</p><p>You may extract a single document from such a collection,
    and distribute it individually under this License, provided you
    insert a copy of this License into the extracted document, and
    follow this License in all other respects regarding verbatim
    copying of that document.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-7"></a>8.&nbsp;AGGREGATION WITH INDEPENDENT WORKS</h2></div></div></div><p>A compilation of the Document or its derivatives with other
    separate and independent documents or works, in or on a volume of
    a storage or distribution medium, does not as a whole count as a
    Modified Version of the Document, provided no compilation
    copyright is claimed for the compilation.  Such a compilation is
    called an "aggregate", and this License does not apply to the
    other self-contained works thus compiled with the Document, on
    account of their being thus compiled, if they are not themselves
    derivative works of the Document.</p><p>If the Cover Text requirement of section 3 is applicable to
    these copies of the Document, then if the Document is less than
    one quarter of the entire aggregate, the Document's Cover Texts
    may be placed on covers that surround only the Document within the
    aggregate.  Otherwise they must appear on covers around the whole
    aggregate.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-8"></a>9.&nbsp;TRANSLATION</h2></div></div></div><p>Translation is considered a kind of modification, so you may
    distribute translations of the Document under the terms of section
    4.  Replacing Invariant Sections with translations requires
    special permission from their copyright holders, but you may
    include translations of some or all Invariant Sections in addition
    to the original versions of these Invariant Sections.  You may
    include a translation of this License provided that you also
    include the original English version of this License.  In case of
    a disagreement between the translation and the original English
    version of this License, the original English version will
    prevail.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-9"></a>10.&nbsp;TERMINATION</h2></div></div></div><p>You may not copy, modify, sublicense, or distribute the
    Document except as expressly provided for under this License.  Any
    other attempt to copy, modify, sublicense or distribute the
    Document is void, and will automatically terminate your rights
    under this License.  However, parties who have received copies, or
    rights, from you under this License will not have their licenses
    terminated so long as such parties remain in full
    compliance.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-10"></a>11.&nbsp;FUTURE REVISIONS OF THIS LICENSE</h2></div></div></div><p>The Free Software Foundation may publish new, revised
    versions of the GNU Free Documentation License from time to time.
    Such new versions will be similar in spirit to the present
    version, but may differ in detail to address new problems or
    concerns.  See <a href="http://www.gnu.org/copyleft/" target="_top">http://www.gnu.org/copyleft/</a>.</p><p>Each version of the License is given a distinguishing
    version number.  If the Document specifies that a particular
    numbered version of this License "or any later version" applies to
    it, you have the option of following the terms and conditions
    either of that specified version or of any later version that has
    been published (not as a draft) by the Free Software Foundation.
    If the Document does not specify a version number of this License,
    you may choose any version ever published (not as a draft) by the
    Free Software Foundation.</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gfdl-11"></a>12.&nbsp;How to use this License for your documents</h2></div></div></div><p>To use this License in a document you have written, include
    a copy of the License in the document and put the following
    copyright and license notices just after the title page:</p><div class="blockquote"><blockquote class="blockquote"><p>
      Copyright (c)  YEAR  YOUR NAME.
      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.1
      or any later version published by the Free Software Foundation;
      with the Invariant Sections being LIST THEIR TITLES, with the
      Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.
      A copy of the license is included in the section entitled "GNU
      Free Documentation License".
</p></blockquote></div><p>If you have no Invariant Sections, write "with no Invariant
    Sections" instead of saying which ones are invariant.  If you have
    no Front-Cover Texts, write "no Front-Cover Texts" instead of
    "Front-Cover Texts being LIST"; likewise for Back-Cover
    Texts.</p><p>If your document contains nontrivial examples of program
    code, we recommend releasing these examples in parallel under your
    choice of free software license, such as the GNU General Public
    License, to permit their use in free software.</p></div></div></div></body></html>