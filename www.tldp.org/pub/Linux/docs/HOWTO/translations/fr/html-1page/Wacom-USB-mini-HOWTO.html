<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Guide pratique des tablettes USB Graphire de Wacom</title><link href="style.css" rel="stylesheet" type="text/css" /><meta content="DocBook XSL Stylesheets V1.71.0" name="generator" /><meta name="description" content="Ce document explique comment installer une tablette USB Graphire de Wacom afin de l'utiliser sous Linux (console et X). Il va de la configuration du noyau à celle de l'application. Ces informations devraient être également utilisables pour une tablette USB Intuos." /></head><body><div class="article" lang="fr"><div class="titlepage"><div><div><h1 class="title"><a id="N10001" />

     Guide pratique des tablettes USB Graphire de Wacom

  </h1></div><div><h3 class="subtitle"><i>
  
     Version française du guide pratique <span class="foreignphrase" lang="en"><em class="foreignphrase">Wacom 
     Graphire USB Mini-HOWTO</em></span>
  
  </i></h3></div><div><div class="author"><h3 class="author"><span class="firstname">Arnaud</span> <span class="surname">Claden</span></h3><code class="email">&lt;<a href="mailto:tiamat CHEZ club TIRET internet POINT fr">tiamat CHEZ club TIRET internet POINT fr</a>&gt;</code></div></div><div><div class="othercredit"><h3 class="othercredit"><span class="firstname">Joseph</span> <span class="surname">Mokadim</span></h3><code class="email">&lt;<a href="mailto:dagdadiamaith CHEZ free POINT fr">dagdadiamaith CHEZ free POINT fr</a>&gt;</code><div class="contrib"><p>Adaptation française</p></div></div></div><div><div class="othercredit"><h3 class="othercredit"><span class="firstname">Jean-Philippe</span> <span class="surname">Guérard</span></h3><code class="email">&lt;<a href="mailto:fevrier CHEZ tigreraye POINT org">fevrier CHEZ tigreraye POINT org</a>&gt;</code><div class="contrib"><p>Relecture de la version française</p></div></div></div><div><div class="othercredit"><h3 class="othercredit"><span class="firstname">Jean-Philippe</span> <span class="surname">Guérard</span></h3><code class="email">&lt;<a href="mailto:fevrier CHEZ tigreraye POINT org">fevrier CHEZ tigreraye POINT org</a>&gt;</code><div class="contrib"><p>Préparation de la publication de la v.f.</p></div></div></div><div><p class="releaseinfo">Version : 2000-06-01.fr.1.1</p></div><div><p class="pubdate">26 janvier 2007</p></div><div><div class="revhistory"><table summary="Revision history" width="100%" border="1"><tr><th colspan="3" valign="top" align="left"><b>Historique des versions</b></th></tr><tr><td align="left">Version 2000-06-01.fr.1.1</td><td align="left">2007-01-26</td><td align="left">JM, JPG</td></tr><tr><td colspan="3" align="left">
      
          Inclusion de quelques corrections du traducteur.
      
      </td></tr><tr><td align="left">Version 2000-06-01.fr.1.0</td><td align="left">2006-03-20</td><td align="left">JM, JPG</td></tr><tr><td colspan="3" align="left">
      
          Première traduction française. Mise à jour des liens de la 
          version originale. Suppression du lien vers xink qui semble ne 
          plus exister.
      
      </td></tr><tr><td align="left">Version 2000-06-01</td><td align="left">2000-06-01</td><td align="left">AC</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Résumé</b></p><p>
    
      Ce document explique comment installer une tablette USB Graphire 
      de Wacom afin de l'utiliser sous Linux (console et X). Il va de la 
      configuration du noyau à celle de l'application. Ces informations 
      devraient être également utilisables pour une tablette USB Intuos.

  </p></div></div></div><hr /></div><div class="toc"><p><b>Table des matières</b></p><dl><dt><span class="section"><a href="#N1006B">Droits d'utilisation (copyright)</a></span></dt><dt><span class="section"><a href="#N10086">Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#N1008F">
      Nouvelles versions de ce document
  </a></span></dt><dt><span class="section"><a href="#N1009C">Commentaires et corrections</a></span></dt><dt><span class="section"><a href="#N100AD">Remerciements</a></span></dt><dt><span class="section"><a href="#N100B6">Limitation de responsabilité</a></span></dt></dl></dd><dt><span class="section"><a href="#N100BB">Matériel et logiciels nécessaires</a></span></dt><dd><dl><dt><span class="section"><a href="#N100BE">Matériel</a></span></dt><dt><span class="section"><a href="#N100C3">Noyau</a></span></dt><dt><span class="section"><a href="#N100CF">Programmes en mode console</a></span></dt><dt><span class="section"><a href="#N100D7">XWindow</a></span></dt><dt><span class="section"><a href="#N100DC">Autres</a></span></dt><dt><span class="section"><a href="#N100FD">Noyau et matériel</a></span></dt><dt><span class="section"><a href="#N101C8">La console Linux</a></span></dt><dt><span class="section"><a href="#N101D9">XWindow</a></span></dt><dt><span class="section"><a href="#N1025A">Pour aller plus loin</a></span></dt></dl></dd></dl></div><div class="section" lang="fr"><div class="titlepage"><div><div><h2 class="title"><a id="N1006B" />Droits d'utilisation (copyright)</h2></div></div></div><p>

Version originale copyright © 2000 par Arnaud Claden 
<code class="email">&lt;<a href="mailto:tiamat CHEZ club TIRET internet POINT fr">tiamat CHEZ club TIRET internet POINT fr</a>&gt;</code>.

</p><p>

Version française copyright © 2000 par Joseph Mokadim et 
Jean-Philippe Guérard.

</p><p>

Ce document décrit l'installation des tablettes Wacom sous Linux. Vous
pouvez utiliser, distribuer et reproduire ce document librement à condition
que :

</p><div class="orderedlist"><ol type="1"><li><p>
  
      vous n'omettiez pas ou ne modifiiez pas l'avis de copyright.
  
  </p></li><li><p>
  
      vous n'omettiez pas ou ne modifiiez pas le numéro de version et la 
      date.
      
  </p></li><li><p>
  
      vous n'omettiez pas ou ne modifiiez pas le lien vers la plus 
      récente version accessible en ligne.
  
  </p></li><li><p>
  
      vous indiquiez clairement en tant que telle toute version 
      condensée, modifiée ou altérée.
    
    </p></li></ol></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h2 class="title"><a id="N10086" />Introduction</h2></div></div></div><p>

Ce document est un guide d'installation d'une tablette Wacom Graphire 
USB sous Linux. C'est une installation assez complexe, mais ce guide 
vous guidera pas à pas tout au long du processus.

</p><p>

Cet ouvrage a été principalement réalisé à partir du guide pratique des 
tablettes Wacom de Stephan Runkel, mais il apporte des éléments relatifs 
au paramétrage USB absents du document original. Pour plus 
d'informations sur les tablettes Wacom en général, reportez-vous au 
guide pratique de Stephan Runkel.

</p><p>

J'ai écrit ce document car j'ai eu beaucoup de mal à installer ma 
tablette Graphire flambant neuve sous Linux. Elle fonctionne à présent 
parfaitement bien avec mon portable Toshiba 4030CDT.

</p><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N1008F" />
      Nouvelles versions de ce document
  </h3></div></div></div><p>

      Vous trouverez la plus récente version française de ce document à
      l'adresse : <a href="http://www.traduc.org/docs/howto/lecture/Wacom-USB-mini-HOWTO.html">http://www.traduc.org/docs/howto/lecture/Wacom-USB-mini-HOWTO.html</a>.

  </p><p>
      
      La plus récente version originale de ce document est disponible à
      l'adresse : <a href="http://tiamat.club.fr/computer/howto/Wacom_USB-Mini_HOWTO.html">http://tiamat.club.fr/computer/howto/Wacom_USB-Mini_HOWTO.html</a>.
  
  </p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N1009C" />Commentaires et corrections</h3></div></div></div><p>

N'hésitez pas à faire parvenir vos commentaires, corrections et 
ajouts à l'adresse :

<code class="email">&lt;<a href="mailto:tiamat CHEZ club TIRET internet POINT fr">tiamat CHEZ club TIRET internet POINT fr</a>&gt;</code>

</p><p>

N'hésitez pas à faire parvenir vos commentaires et suggestions 
concernant l'adaptation française de ce document au projet <a href="http://www.traduc.org">Traduc.org</a> à l'adresse :

<code class="email">&lt;<a href="mailto:commentaires CHEZ traduc POINT org">commentaires CHEZ traduc POINT org</a>&gt;</code>.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100AD" />Remerciements</h3></div></div></div><p>

Je souhaite remercier toutes les personnes qui travaillent sur la partie 
USB du noyau et spécialement Vojtech Pavlik pour son travail sur le 
module wacom.

</p><p>

Bien sûr, je remercie Stephan Runkel pour son formidable guide pratique 
sur les tablettes Wacom, qui m'a beaucoup aidé dans le processus de 
paramétrage.

</p><p>

Des remerciements spéciaux vont aussi à Frédéric Lepied pour son travail 
sur le module xf86Wacom.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100B6" />Limitation de responsabilité</h3></div></div></div><p>

À ma connaissance, les informations de ce document sont correctes. Mais 
rien ne garantit que je n'aie pas fait d'erreur. Je vous invite donc à 
être prudent lorsque vous suivez les indications de ce guide pratique, 
et ceci plus spécialement si elles ne vous semblent pas logiques. Rien 
de ce que j'indique ne devrait avoir d'effet préjudiciable à votre 
ordinateur mais, juste au cas où, je décline toute responsabilité quant 
aux dommages causés par l'utilisation des informations contenues dans ce 
guide. Ce document n'est pas un guide pratique du noyau, je supposerai 
donc connue la façon de télécharger, d'installer, de paramétrer et de 
compiler un nouveau noyau.

</p></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h2 class="title"><a id="N100BB" />Matériel et logiciels nécessaires</h2></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100BE" />Matériel</h3></div></div></div><p>

Le plus important bien sûr, est de posséder un ordinateur avec un port 
USB et une tablette USB Graphire de Wacom.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100C3" />Noyau</h3></div></div></div><p>

Lors de cette installation, j'ai utilisé le plus récent noyau en 
développement : linux-2.3.99-pre6. Il est assez stable et possède 
toutes les capacités nécessaires. Vous pouvez également utiliser un 
noyau 2.2 en utilisant les correctifs appropriés<sup>[<a href="#ftn.N100C8" id="N100C8">1</a>]</sup> : <a href="http://web.archive.org/web/20010124002200/www.suse.cz/development/usb-backport/">http://web.archive.org/web/20010124002200/www.suse.cz/development/usb-backport/</a>.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100CF" />Programmes en mode console</h3></div></div></div><p>

Pour la console Linux, le seul programme dont vous ayez besoin est gpm, 
disponible sur <a href="http://linux.schottelius.org/gpm/">http://linux.schottelius.org/gpm/</a>.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100D7" />XWindow</h3></div></div></div><p>

Pour utiliser toutes les capacités de votre tablette, il vous faudra 
utiliser XInput. Plus spécifiquement vous aurez besoin du module 
xf86Wacom.so (qui est fourni avec les versions les plus récentes de 
XFree86, et ceci depuis la version 3.3.5). Une autre solution (que 
vous devrez peut-être utiliser) est d'utiliser le module 
xf86WacomUSB.so, qui est une adaptation au port USB, en cours de 
développement, du xf86Wacom.so original. J'en parlerai plus tard dans ce 
document.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100DC" />Autres</h3></div></div></div><p>Les applications compatibles XInput sont :</p><div class="orderedlist"><ol type="1"><li><p>

        The Gimp — un puissant programme de manipulation d'images 
        dans le style de Photoshop. La version instable 1.1.x en cours 
        de développement inclut en standard la compatibilité XInput. 
        Vous pouvez obtenir Gimp sur <a href="http://www.gimp.org">http://www.gimp.org</a>.
   
  </p></li><li><p>
  
        gsumi — un programme simple de dessin en noir et blanc qui 
        permet de dessiner et d'effacer en fonction de la pression et de 
        l'inclinaison. Vous pouvez l'obtenir via sa page web : 
        <a href="http://www.gtk.org/~otaylor/gsumi/">http://www.gtk.org/~otaylor/gsumi/</a>.
  
  </p></li><li><p>
  
      RasMol — un programme de visualisation moléculaire qui 
      permet d'utiliser des cadrans via XInput. Reportez-vous à <a href="http://www.umass.edu/microbio/rasmol/distrib/rasman.htm">http://www.umass.edu/microbio/rasmol/distrib/rasman.htm</a>.
      
  </p></li><li><p>
  
      xinput (de Frédéric Lepied) — un utilitaire très utile pour 
      configurer et tester les périphériques XInput. xinput est 
      disponible sur : <a href="ftp://ftp.x.org/contrib/utilities/xinput-1.2.tar.gz">ftp://ftp.x.org/contrib/utilities/xinput-1.2.tar.gz</a>.
    
  </p></li></ol></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N100FD" />Noyau et matériel</h3></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a id="N10100" />Paramétrage du noyau</h4></div></div></div><p>

Comme je l'ai dit précédemment, les options que je vais donner viennent 
du noyau 2.3.99pre6. Si tout n'est pas exactement identique, je pense 
que vous arriverez bien à deviner quoi choisir ;)

</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Rappel"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png" /></td><th align="left">Rappel</th></tr><tr><td valign="top" align="left"><p>

<code class="literal">[]</code> représente un choix entre « <span class="quote">oui</span> » et 
« <span class="quote">non</span> » (y/n), et <code class="literal">&lt;&gt;</code> représente les 
options « <span class="quote">oui</span> », « <span class="quote">non</span> » et « <span class="quote">module</span> » 
(y/n/m) du noyau.

</p></td></tr></table></div><p>

En premier lieu, vous devez autoriser le code expérimental :

</p><pre class="screen">
Code Maturity level options ---&gt;
[*] Prompt for development and/or incomplete code/drivers
</pre><p>

Si vous ne le faites pas, vous n'aurez pas accès à certains pilotes.

</p><p>

Ensuite, allez à la section USB.

</p><pre class="screen">
USB support ---&gt;
&lt;*&gt; Support for USB
[*] USB verbose debug messages
--- Miscellaneous USB options
[*] Preliminary USB device filesystem
</pre><p>

Avec cette option, vous activerez les nouvelles fonctionnalités de
/dev/usb/* (que, bien sûr, vous devrez créer : à voir plus loin).

</p><pre class="screen">
--- USB controllers
&lt;*&gt; UHCI (Intel PIIX4, VIA, ...) support
&lt; &gt; OHCI (Compaq, iMacs, OPTi, SiS, ALi, ...) support
</pre><p>

Vous devez choisir un et un seul d'entre eux. Donc, si l'un ne 
fonctionne pas, choisissez l'autre. Si vous utilisez un système x86, il 
est probable que vous preniez le pilote UHCI.

</p><pre class="screen">
--- USB Devices
&lt; &gt; USB Printer support
&lt; &gt; USB Scanner support
&lt; &gt; USB Audio support
&lt; &gt; USB Modem (CDC ACM) support
</pre><p>

Si vous possédez un de ces matériels, activez ces options à votre guise.

</p><pre class="screen">
&lt;M&gt; USB Serial Converter support
</pre><p>

Ces options doivent être activées pour que la tablette Wacom fonctionne.

</p><pre class="screen">
[*] USB Generic Serial Driver
[ ] USB Handspring Visor Driver
[ ] USB ConnectTech WhiteHEAT Serial Driver (EXPERIMENTAL)
[ ] USB FTDI Single Port Serial Driver (EXPERIMENTAL)
[ ] USB Keyspan PDA Single Port Serial Driver (EXPERIMENTAL)
[ ] USB ZyXEL omni.net LCD Plus Driver (EXPERIMENTAL)
[*] USB Serial Converter verbose debug
</pre><p>

Cette dernière option permet d'avoir tous les messages (ce qui peut être 
très utile au début). Vous pourrez la désactiver lorsque tout 
fonctionnera correctement.

</p><pre class="screen">
&lt; &gt; USB Kodak DC-2xx Camera support
&lt; &gt; USB Mustek MDC800 Digital Camera support (EXPERIMENTAL)
&lt; &gt; USB Mass Storage support (EXPERIMENTAL)
&lt; &gt; USS720 parport driver
&lt; &gt; DABUSB driver
&lt; &gt; PLUSB Prolific USB-Network driver (EXPERIMENTAL)
&lt; &gt; USB ADMtek Pegasus-based device support (EXPERIMENTAL)
&lt; &gt; USB Diamond Rio500 support (EXPERIMENTAL)
--- USB HID
</pre><p>

Le HID est l'interface entre vous et vos périphériques. Vous DEVEZ
l'activer.

</p><pre class="screen">
&lt;M&gt; USB Human Interface Device (HID) support
&lt; &gt; USB HIDBP Keyboard support
&lt; &gt; USB HIDBP Mouse support
&lt;M&gt; Wacom Intuos/Graphire tablet support
</pre><p>

Nous y sommes, le support Wacom devrait être activé (à moins que vous ne
lisiez ceci que pour le plaisir ;) )

</p><pre class="screen">
&lt; &gt; Logitech WingMan Force joystick support
&lt; &gt; Keyboard support
&lt;M&gt; Mouse support
</pre><p>

À activer pour utiliser la souris Wacom Intuos/Graphire.

</p><pre class="screen">
(1024) Horizontal screen resolution
(768) Vertical screen resolution
&lt;M &gt; Joystick support
&lt;M&gt; Event interface support
</pre></div><div class="section" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a id="N10155" />Compilation du noyau</h4></div></div></div><p>

Maintenant, le plus facile :

</p><p>

Lorsque vous sortez du paramétrage, suivez la procédure classique :

</p><pre class="programlisting">
make dep bzImage modules modules_install
</pre><p>

Tapez ceci tel quel et l'ordinateur effectuera toutes les étapes les 
unes après les autres.

</p><p>

Ensuite, copiez le fichier bzImage dans /boot, copiez System.map dans
/boot, modifiez votre lilo.conf pour pointer vers votre nouveau noyau et
tapez <code class="filename">/sbin/lilo</code> à l'invite.

</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png" /></td><th align="left">Note</th></tr><tr><td valign="top" align="left"><p>

Bien sûr, tout ceci (configuration et compilation du noyau,
ajustement de lilo, doit être fait sous le compte root).

</p></td></tr></table></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a id="N1016A" />Avant de redémarrer</h4></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h5 class="title"><a id="N1016D" />FStab</h5></div></div></div><p>

Si vous voulez éviter d'avoir un message d'erreur au prochain redémarrage,
vous devrez faire ce qui suit :

</p><p>

Modifiez le fichier /etc/fstab et ajoutez les lignes suivantes :

</p><pre class="programlisting">
none    /proc/bus/usb    usbdevfs    defaults    0    0
</pre><p>

La ligne ci-dessus pour activer le système de fichier usb.

</p><pre class="programlisting">
none    /var/shm         shm         defaults    0    0
</pre><p>

La ligne ci-dessus à cause d'un changement dans le noyau de la gestion 
de la mémoire partagée.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h5 class="title"><a id="N1017E" />Périphériques USB </h5></div></div></div><p>

Ensuite, si vous voulez utiliser l'USB :

</p><pre class="programlisting">
mkdir /dev/input
mknod /dev/input/mouse0 c 13 32
</pre><p>

Les commandes ci-dessus permettent d'activer l'utilisation de la souris.

</p><pre class="programlisting">
mknod /dev/input/event0 c 13 64
mknod /dev/input/event1 c 13 65
mknod /dev/input/event2 c 13 66
mknod /dev/input/event3 c 13 67
</pre><p>

Et ces commandes pour prendre en compte le stylet : déplacement, 
pression, boutons et gomme.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h5 class="title"><a id="N1018D" />Paramétrage des modules</h5></div></div></div><p>

Éditez le fichier /etc/modules.conf et ajoutez la ligne suivante :

</p><pre class="programlisting">
alias char-major-13 usbcore
</pre></div><div class="section" lang="fr"><div class="titlepage"><div><div><h5 class="title"><a id="N10195" />Ce que j'ai fait ensuite</h5></div></div></div><p>

Ensuite j'ai ajouté les commandes suivantes dans le fichier 
/etc/rc.d/boot.local (rappelez-vous, j'utilise une distribution SuSE, 
mais vous devriez trouver l'équivalent pour RedHat dans 
/etc/rc.d/init.d/boot.local ou /etc/rc.d/init.d/rc.local).

</p><pre class="programlisting">
/sbin/modprobe wacom
/sbin/modprobe mousedev
/sbin/modprobe evdev
</pre><p>

Ceci, afin d'être sûr que les modules se chargeront au moment du 
démarrage.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h5 class="title"><a id="N1019F" />Et enfin</h5></div></div></div><p>Redémarrage ;)</p><p>Regardez les messages de démarrage :</p><pre class="programlisting">
dmesg | less
</pre><p>

et vérifiez qu'il n'y ait aucune erreur relative à l'USB. Cela se 
pourrait si vous avez choisi UHCI et que votre système est utilise 
l'OHCI.

</p><p>

Voici les messages qui apparaissent sur mon système :

</p><pre class="screen">
.....
.....
usb.c: registered new driver usbdevfs
usb.c: registered new driver hub
usb-uhci.c: $Revision: 1.9 $ time 17:54:28 May 8 2000
usb-uhci.c: High bandwidth mode enabled
usb-uhci.c: Intel USB controller: setting latency timer to 0
usb-uhci.c: USB UHCI at I/O 0xffe0, IRQ 11
usb-uhci.c: Detected 2 ports
usb.c: new USB bus registered, assigned bus number 1
usb.c: USB new device connect, assigned device number 1
usb.c: kmalloc IF c3fcd2e0, numif 1
usb.c: new device strings: Mfr=0, Product=2, SerialNumber=1
usb.c: USB device number 1 default language ID 0x0
Product: USB UHCI Root Hub
SerialNumber: ffe0
hub.c: USB hub found
hub.c: 2 ports detected
hub.c: ganged power switching
hub.c: standalone hub
hub.c: global over-current protection
hub.c: power on to power good time: 2ms
hub.c: hub controller current requirement: 0mA
hub.c: port 1 is removable
hub.c: port 2 is removable
hub.c: local power source is good
hub.c: no over-current condition exists
hub.c: enabling power on all ports
usb.c: hub driver claimed interface c3fcd2e0
.....
.....
hub.c: port 1 connection change
usb.c: USB new device connect, assigned device number 2
usb.c: kmalloc IF c3fcd620, numif 1
usb.c: skipped 1 class/vendor specific interface descriptors
usb.c: new device strings: Mfr=1, Product=2, SerialNumber=0
usb.c: USB device number 2 default language ID 0x409
Manufacturer: WACOM
Product: ET-0405-UV1.1-1
usb.c: unhandled interfaces on device
usb.c: This device is not recognized by any installed USB driver.
Length                          = 18
DescriptorType                  = 01
USB version                     = 1.00
Vendor:Product                  = 056a:0010
MaxPacketSize0                  = 0
NumConfigurations               = 1
Device Version                  = 1.11
Device Class:SubClass:Protocol  = 00:00:00
Per-interface classes
Configuration:
.....
.....
</pre><p>

Lorsque le noyau dit « <span class="quote"><span class="foreignphrase" lang="en"><em class="foreignphrase">This device is not 
recognized by any installed USB driver (ce périphérique n'est reconnu 
par aucun pilote USB installé)</em></span></span> », c'est parce que, 
au moment du démarrage, le module wacom n'est pas encore chargé. Mais 
comme vous pouvez le voir, toutes les interfaces et bus USB sont 
reconnus. Aussi, si votre système ne fonctionne pas et n'affiche aucun 
message de ce genre, vérifiez si vous n'avez pas oublié une option USB 
(l'un des éléments que j'ai indiqué comme devant figurer dans le noyau 
et que vous avez choisi comme module : si c'est le cas, dans le 
fichier <code class="filename">/etc/rc.d/init.d/boot.local</code>, ajoutez une 
commande modprobe <span class="emphasis"><em>avant</em></span> les 3 lignes que j'ai 
indiquées, par exemple :

</p><pre class="programlisting">
/sbin/modprobe usb-uhci
</pre><p>

Voici les messages correspondant au chargement du module wacom :

</p><pre class="screen">
.....
.....
usb.c: registered new driver wacom
input0: Wacom Graphire on usb2
usb.c: wacom driver claimed interface c3fcd620
mouse0: PS/2 mouse device for input0
mice: PS/2 mouse device common for all mice
event0: Event device for input0
.....
.....
</pre><p>

Vérifiez tout et réessayez jusqu'à ce que vous obteniez tous ces messages
(ou quelque chose qui corresponde).

</p></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N101C8" />La console Linux</h3></div></div></div><p>

Maintenant que votre USB est activé, il est temps de tester tout cela 
avec gpm :

</p><p>

Si gpm était activé au moment du démarrage, vous allez devoir le 
tuer :

</p><pre class="programlisting">
gpm -k
</pre><p>

Ensuite, essayez votre tablette Wacom :

</p><pre class="programlisting">
gpm -tIMPS/2 -m /dev/input/mouse0
</pre><p>

Déplacez le stylet, ou votre souris et TADA ... le curseur se déplace 
sur l'écran.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N101D9" />XWindow</h3></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a id="N101DC" />Avoir 2 souris sur le même système</h4></div></div></div><p>

Avez-vous jamais rêvé d'avoir 2 souris sur votre système ? Si la 
réponse est oui, faites ce qui suit.

</p><p>

Éditez le fichier <code class="filename">/etc/XF86Config</code>.

</p><p>

La section modules doit ressembler à ceci :

</p><pre class="programlisting">
Section "Module"
Load "xf86Wacom.so"
EndSection
</pre><p>

Vérifiez la section XInput :

</p><div class="programlistingco"><pre class="programlisting">
Section "XInput"
 SubSection "Mouse"

  DeviceName "TabletteWacom" <span class="co"><img alt="" src="images/callouts/1.png" /></span>
  Protocol "IMPS/2" <span class="co"><img alt="" src="images/callouts/2.png" /></span>
  Port "/dev/input/mouse0"
  Buttons 5
  ZAxisMapping 4 5
  AlwaysCore  <span class="co"><img alt="" src="images/callouts/3.png" /></span>

 EndSubSection
EndSection
</pre><div class="calloutlist"><table summary="Callout list" border="0"><tr><td align="left" valign="top" width="5%"><img border="0" alt="1" src="images/callouts/1.png" /></td><td align="left" valign="top"><p>

        Ou le nom de votre choix.

    </p></td></tr><tr><td align="left" valign="top" width="5%"><img border="0" alt="2" src="images/callouts/2.png" /></td><td align="left" valign="top"><p>

        Je ne suis pas arrivé à faire reconnaître la molette par le 
        protocole imwheel, si vous y arrivez, envoyez-moi un courrier 
        électronique.

    </p></td></tr><tr><td align="left" valign="top" width="5%"><img border="0" alt="3" src="images/callouts/3.png" /></td><td align="left" valign="top"><p>

        <code class="literal">AlwaysCore</code> veut dire que la souris Wacom est 
        toujours considérée comme pointeur principal. Autrement dit, que 
        déplacer la souris Wacom ou la souris normale revient au même.

    </p></td></tr></table></div></div><p>

Et voilà, la souris Wacom (ou le stylet) est maintenant considérée comme
un second pointeur, mais le premier fonctionne toujours.

</p></div><div class="section" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a id="N10212" />La réalité</h4></div></div></div><p>

De retour à la section XInput, après les paramètres pour la souris, nous 
trouvons les réglages intimes de la tablette Wacom :

</p><div class="programlistingco"><pre class="programlisting">
SubSection "WacomStylus"

  Port "/dev/input/event0" <span class="co"><img alt="" src="images/callouts/1.png" /></span>
  DeviceName "WacomStylus" <span class="co"><img alt="" src="images/callouts/2.png" /></span>
  Mode Absolute <span class="co"><img alt="" src="images/callouts/3.png" /></span>
  #Suppress 6
  DebugLevel 10 <span class="co"><img alt="" src="images/callouts/4.png" /></span>
  #TiltMode
  #HistorySize 200
  #AlwaysCore
  #KeepShape

  #TopX 20412                                              <span class="co"><img alt="" src="images/callouts/5.png" /></span>
  #TopY 14730                                              <span class="co"><img alt="" src="images/callouts/5.png" /></span>
  #BottomX 0                                               <span class="co"><img alt="" src="images/callouts/5.png" /></span>
  #BottomY 0                                               <span class="co"><img alt="" src="images/callouts/5.png" /></span>

EndSubSection

SubSection "WacomEraser"

  DeviceName "/dev/input/event0"
  DeviceName "WacomEraser"
  Mode Absolute

EndSubSection

SubSection "WacomCursor"
  
  Port "/dev/input/event0"
  DeviceName "GraphireMouse"
  Mode Absolute

EndSubSection
</pre><div class="calloutlist"><table summary="Callout list" border="0"><tr><td align="left" valign="top" width="5%"><img border="0" alt="1" src="images/callouts/1.png" /></td><td align="left" valign="top"><p>

        Le périphérique d'événements USB.

    </p></td></tr><tr><td align="left" valign="top" width="5%"><img border="0" alt="2" src="images/callouts/2.png" /></td><td align="left" valign="top"><p>

        Ou le nom de votre choix.

    </p></td></tr><tr><td align="left" valign="top" width="5%"><img border="0" alt="3" src="images/callouts/3.png" /></td><td align="left" valign="top"><p>

        C'est-à-dire que la surface de la tablette est équivalente à 
        celle de l'écran.

    </p></td></tr><tr><td align="left" valign="top" width="5%"><img border="0" alt="4" src="images/callouts/4.png" /></td><td align="left" valign="top"><p>

        Une fois que tout fonctionne, mettre cette variable à zéro.

    </p></td></tr><tr><td align="left" valign="top" width="5%"><img border="0" alt="5" src="images/callouts/5.png" /></td><td align="left" valign="top"><p>

        Ces 4 lignes permettent un ajustement fin des coordonnées pour 
        correspondre à l'écran.

    </p></td></tr></table></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a id="N10245" />Le nouveau module</h4></div></div></div><p>

Le module xf86Wacom.so n'est pas spécifiquement écrit pour les tablettes 
USB Wacom et il arrive qu'il ne fonctionne pas correctement avec ces 
tablettes. Un nouveau pilote a été écrit par Matsumura Namihiko

<code class="email">&lt;<a href="mailto:po TIRET jp CHEZ geocities POINT co POINT jp">po TIRET jp CHEZ geocities POINT co POINT jp</a>&gt;</code>

et nommé xf86WacomUSB (son code source est disponible à la même adresse 
que ce petit guide). Cependant, afin de pouvoir le compiler, vous aurez 
besoin du code source du noyau et du code source complet de XFree86 
(j'ai réussi à le compiler avec XFree86 version 3.3.5, mais cela devrait 
marcher avec la version 3.3.6).

</p><p>

Ce pilote ne prend pas en charge toutes les possibilités de la tablette 
et se plante si vous lui passez le paramètre 
<code class="literal">AlwaysCore</code>.

</p><p>

Pour corriger cela, je reste en contact avec Frédéric Lepied afin qu'il 
modifie le module original afin qu'il prenne en compte toutes les 
possibilités de la tablette.

</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: Nouveau"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png" /></td><th align="left">Nouveau</th></tr><tr><td valign="top" align="left"><p>

Sur le site de Frédéric Lepied vous trouverez un lien vers le nouveau 
pilote USB qui fonctionne parfaitement bien, mais exclusivement avec la 
possibilité de faire fonctionner votre tablette en souris : 
c'est-à-dire soit vous utilisez votre tablette avec Le Gimp pour 
dessiner, soit vous l'utilisez comme une souris XFree, mais pas les deux 
en même temps. Je vais me renseigner plus avant et mettre ce document à 
jour en conséquence.

</p></td></tr></table></div></div></div><div class="section" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a id="N1025A" />Pour aller plus loin</h3></div></div></div><p>

Pour plus d'information sur les tablettes Wacom en général, essayez le 
formidable guide pratique de Stephan Runkel 

<code class="email">&lt;<a href="mailto:runkel CHEZ runkeledv POINT de">runkel CHEZ runkeledv POINT de</a>&gt;</code> :

<a href="http://www.traduc.org/docs/howto/lecture/Wacom-Tablet-HOWTO.html">http://www.traduc.org/docs/howto/lecture/Wacom-Tablet-HOWTO.html</a>

</p><p>

En ce qui concerne le module xf86Wacom.so, vérifiez chez Frédéric Lepied

<code class="email">&lt;<a href="mailto:lepied CHEZ xfree86 POINT org">lepied CHEZ xfree86 POINT org</a>&gt;</code> :

<a href="http://www.teaser.fr/~flepied/">http://www.teaser.fr/~flepied/</a>.

</p><p>

xf86WacomUSB.so, disponible sur ftp.aros.org/pub (lien mort) .

</p></div></div><div class="footnotes"><br /><hr align="left" width="100" /><div class="footnote"><p><sup>[<a href="#N100C8" id="ftn.N100C8">1</a>] </sup>Il 
s'agit d'adaptations au noyau 2.2 des pilotes USB destinés au noyau 2.4. 
</p></div></div></div></body></html>