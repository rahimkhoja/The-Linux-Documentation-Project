<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
 <TITLE>Le mini-HOWTO Linux+FreeBSD</TITLE>
</HEAD>
<BODY>
<H1>Le mini-HOWTO Linux+FreeBSD</H1>

<H2>Niels Kristian Bech Jensen, <CODE>nkbj@image.dk</CODE></H2>v1.11, 30 mars 2000
<HR>
<EM><EM>Traduction réalisée par Christophe Deleuze (Christophe.Deleuze@lip6.fr)
1er août 2001</EM>.  Ce document décrit comment utiliser Linux et FreeBSD
sur la même machine. Il présente FreeBSD et décrit comment les deux systèmes
d'exploitation peuvent inter-agir, par exemple en partageant la zone de
swap. Il faut probablement avoir une certaine expérience de Linux et du
partitionnement de disque dur (<CODE>fdisk</CODE>) avant de lire ce document. Les
trucs ont été testés avec FreeBSD 2.2.2 mais devraient être valables pour
les versions plus récentes. N'hésitez pas à me méler si vous avez des
commentaires, questions ou suggestions concernant ce document. J'aimerais
aussi avoir des infos des gens ayant utilisé Linux avec NetBSD ou OpenBSD.</EM>
<HR>
<H2><A NAME="s1">1. Qu'est-ce que FreeBSD ?</A></H2>

<P>
<A HREF="http://www.freebsd.org/">FreeBSD</A> est un système
d'exploitation libre de la famille Unix, tout comme Linux. La principale
différence réside dans le fait que, au contraire de Linux qui a été écrit à
partir de rien, FreeBSD est basé sur 4.4BSD-lite, les parties librement
distribuables de 4.4BSD (Berkeley Software Distribution). Ce fait amène
certaines personnes à suggérer que FreeBSD est plus proche du ``vrai''
UNIX&reg; que Linux. FreeBSD tourne uniquement sur les plateformes PC Intel
(i386 et suivants), des ports sur les plateformes DEC Alpha et Sun Sparc
sont en cours. 
<A HREF="http://www.netbsd.org/">NetBSD</A> et 
<A HREF="http://www.openbsd.org/">OpenBSD</A> sont similaires à FreeBSD, et
tournent tous deux sur plusieurs plateformes. Les exigences matérielles de
tous ces systèmes *BSD sont à peu près les mêmes que celles de Linux.</P>

<P>Le développement de FreeBSD est géré différement de celui de Linux. Une
équipe (le noyau) de développeurs sert d'arbitre et dirige le projet. Les
gros changements sont d'abord discutés sur les listes de discussion
(<EM>mailing lists</EM>). Le projet FreeBSD comprend deux arbres de
développement (comme Linux) : <EM>``-current''</EM> (courant) et
<EM>``-stable''</EM>. Le développement des nouvelles fonctionnalités est fait
dans ``-current'', alors que les évolutions des versions ``-stable'' sont
limitées à des corrections de bogues ou à de nouvelles fonctionnalités
minitieusement testées.</P>
<P>FreeBSD peut être utilisé et (re-)distribué librement comme Linux. La
majorité du système est placée sous le copyright BSD, le reste est sous la
licence GNU GPL ou d'autres licences 
<A HREF="http://www.opensource.org/">open-source</A>.</P>


<H2><A NAME="s2">2. Nommage des disques durs sous FreeBSD</A></H2>

<P>Linux et FreeBSD nomment les disques durs et les partitions selon deux
principes différents. Cette section décrit les principales différences entre
les deux systèmes. En fait le principe de nommage de FreeBSD est une
variation du style de nommage BSD traditionnel adapté aux partitions de
PC. Il est donc très proche sur ce point des autres systèmes Unix basés sur
BSD tels que NetBSD, OpenBSD, Ultrix, Digital Unix, SunOS et Solaris.</P>

<H2><A NAME="ss2.1">2.1 ``Partitions'' et ``tranches'' (slices) sous FreeBSD</A>
</H2>

<P>FreeBSD a besoin d'une entrée dans la table de partition primaire de votre
disque dur. Cette partition primaire est appelée ``tranche'' (<EM>slice</EM> en
anglais) dans la terminologie FreeBSD. Il utilise ensuite le programme
<CODE>disklabel</CODE> pour créer plusieurs partitions logiques dans cette partition
primaire. Ces partitions logiques sont appelées <EM>``partitions''</EM> dans la
terminologie FreeBSD. Ce concept est similaire à la façon dont Linux (et
DOS) manipule les partitions logiques dans une partition étendue. Vous ne
pouvez pas installer FreeBSD dans une partition étendue créée par Linux (ou
DOS). Notez que le programme <CODE>fdisk</CODE> de Linux n'affiche pas les
partitions d'une tranche FreeBSD depuis le menu principal, mais il peut
afficher l'information de nommage de disque (<EM>disklabel</EM>) BSD si on
utilise la commande 'b'. Le résultat sera quelque chose comme ceci
(<CODE>/dev/hda4</CODE> est la tranche FreeBSD) :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
# fdisk /dev/hda

Command (m for help): p

Disk /dev/hda: 64 heads, 63 sectors, 621 cylinders
Units = cylinders of 4032 * 512 bytes

    Device Boot   Begin    Start      End   Blocks   Id  System
 /dev/hda1   *        1        1       27    54400+  83  Linux native
 /dev/hda2           28       28       55    56448   83  Linux native
 /dev/hda3           56       56      403   701568   83  Linux native
 /dev/hda4          404      404      621   439488   a5  BSD/386
 
 Command (m for help): b
 Reading disklabel of /dev/hda4 at sector 1624897.
 
 BSD disklabel command (m for help): p
 
 8 partitions:
 #        size   offset    fstype   [fsize bsize   cpg]
   a:    64512  1624896    4.2BSD        0     0     0   # (Cyl.  404 - 419)
   b:   104832  1689408      swap                        # (Cyl.  420 - 445)
   c:   878976  1624896    unused        0     0         # (Cyl.  404 - 621)
   e:    64512  1794240    4.2BSD        0     0     0   # (Cyl.  446 - 461)
   f:   645120  1858752    4.2BSD        0     0     0   # (Cyl.  462 - 621)
 
 BSD disklabel command (m for help): q
 #
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Les lettres `a'...`f' dans la première colonne sont les mêmes étiquettes
(<EM>labels</EM>) que celles utilisées plus bas dans l'exemple d'une tranche
FreeBSD. Il y a trois partitions spéciales dans le jargon FreeBSD. La
lettre `a' désigne la partition racine, `b' la partition de swap tandis que
`c' désigne la tranche en entier. Voyez la documentation pour plus
d'information sur la façon ``standard'' d'affecter ces lettres aux
différents types de partitions.</P>

<H2><A NAME="ss2.2">2.2 Nommage des disques et des partitions sous Linux et FreeBSD</A>
</H2>

<P>Les disques durs sont nommés des façons suivantes sous Linux et FreeBSD :
<BLOCKQUOTE><CODE>
<PRE>
                        Linux           FreeBSD
Premier disque  IDE     /dev/hda        /dev/wd0
Second disque   IDE     /dev/hdb        /dev/wd1
Premier disque SCSI     /dev/sda        /dev/sd0
Second disque  SCSI     /dev/sdb        /dev/sd1
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Les partitions (tranches FreeBSD) d'un disque IDE sont nommées de la façon
suivante (<CODE>/dev/hda</CODE> est utilisé comme exemple) :
<BLOCKQUOTE><CODE>
<PRE>
                                Linux           FreeBSD
Première partition primaire     /dev/hda1       /dev/wd0s1
Deuxième partition primaire     /dev/hda2       /dev/wd0s2
Troisième partition primaire    /dev/hda3       /dev/wd0s3
Quatrième partition primaire    /dev/hda4       /dev/wd0s4
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Les partitions de ma tranche FreeBSD sont nommées de la façon suivante. Ceci
est le nommage par défaut, qu'il est possible de changer en faisant une
installation personnalisée de FreeBSD (<CODE>/dev/hda4</CODE> est la tranche
FreeBSD) :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
Nom Linux       Nom FreeBSD     Point de montage FreeBSD 
/dev/hda5       /dev/wd0s4a     /
/dev/hda6       /dev/wd0s4b     swap
/dev/hda7       /dev/wd0s4e     /var
/dev/hda8       /dev/wd0s4f     /usr
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Si vous lancez <CODE>dmesg</CODE> sous Linux vous verrez (le noyau linux doit avoir
été compilé avec le support <B>UFS</B>. Voyez la section 
<A HREF="#installlinux">Installer et préparer Linux</A>):</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
Partition check:
 hda: hda1 hda2 hda3 hda4 &lt; hda5 hda6 hda7 hda8 >
</PRE>
</CODE></BLOCKQUOTE>
 </P>
<P>Si vous avez installé FreeBSD dans la tranche <CODE>/dev/sd1s3</CODE>
(<CODE>/dev/sdb3</CODE> dans le jargon Linux), et que <CODE>/dev/sdb2</CODE> est
une partition Linux étendue contenant deux partitions logiques
(<CODE>/dev/sdb5</CODE> et <CODE>/dev/sdb6</CODE>), l'exemple précédent ressemblera
plutôt à ceci :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
Nom Linux       Nom FreeBSD     Point de montage FreeBSD 
/dev/sdb7       /dev/sd1s3a     /
/dev/sdb8       /dev/sd1s3b     swap
/dev/sdb9       /dev/sd1s3e     /var
/dev/sdb10      /dev/sd1s3f     /usr
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>La commande <CODE>dmesg</CODE> montrera ceci sous la forme 
<BLOCKQUOTE><CODE>
<PRE>
Partition check:
 sdb: sdb1 sdb2 &lt; sdb5 sdb6 > sdb3 &lt; sdb7 sdb8 sdb9 sdb10 >
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Si vous avez une partition étendue Linux <EM>après</EM> votre tranche FreeBSD,
vous allez avoir des problèmes. La plupart des noyaux des disquettes
d'installation Linux ne contiennent pas le support <B>UFS</B>, ils ne
reconnaîtront donc pas les partitions FreeBSD à l'intérieur de la tranche. Ce
qui qui aurait dû être vu comme (<CODE>/dev/hda3</CODE> est la tranche FreeBSD et
<CODE>/dev/hda4</CODE> est la partition étendue Linux)</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
Partition check:
 hda: hda1 hda2 hda3 &lt; hda5 hda6 hda7 hda8 > hda4 &lt; hda9 hda10 >
</PRE>
</CODE></BLOCKQUOTE>

est vu comme:
<BLOCKQUOTE><CODE>
<PRE>
Partition check:
 hda: hda1 hda2 hda3 hda4 &lt; hda5 hda6 >
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Cela peut résulter en un mauvais assignement de périphérique et provoquer
des pertes de données. Je conseille de <EM>toujours</EM> mettre votre tranche
FreeBSD après toutes les partitions étendues Linux, et de ne changer aucune
partition logique dans vos partitions étendues Linux une fois que FreeBSD
est installé !</P>

<H2><A NAME="s3">3. Partage de l'espace de swap entre Linux et FreeBSD</A></H2>

<P>Cette section décrit comment j'ai pu utiliser la même partition de swap
pour Linux et FreeBSD. Il peut y avoir d'autres façons d'obtenir le même
résultat. Vous pouvez, si vous voulez, installer FreeBSD avant Linux mais
faites attention à l'ordre des partitions dans la tranche FreeBSD.</P>

<H2><A NAME="installlinux"></A> <A NAME="ss3.1">3.1 Installer et préparer Linux</A>
</H2>

<P>La première étape est d'installer Linux normalement. Il faut laisser de la
place pour la tranche FreeBSD sur le disque dur. Il n'est pas nécessaire de
créer une partition de swap Linux, mais si vous en voulez une, placez-la
dans l'espace que vous voulez allouer à FreeBSD. De cette façon, vous
pourrez plus tard effacer la partition de swap de Linux et récupérer
l'espace pour FreeBSD.</P>
<P>Quand Linux est installé, il faut compiler un nouveau noyau. Lisez le
<B>HOWTO du noyau Linux</B> si vous ne savez pas faire. Il <EM>faut</EM> inclure
<B>UFS filesystem support (read only)</B> et <B>BSD disklabel (FreeBSD
partition tables) support</B>:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
UFS filesystem support (read only) (CONFIG_UFS_FS) [N/y/m/?] y
BSD disklabel (FreeBSD partition tables) support (CONFIG_BSD_DISKLABEL) [N/y/?]
(NEW) y
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Installez le nouveau noyau et redémarrez. Enlevez toutes les lignes
contenant le mot <EM>swap</EM> dans votre fichier <CODE>/etc/fstab</CODE> si vous
avez créé une partition de swap pour Linux. <EM>Soyez bien sûr d'avoir une
disquette de démarrage Linux en état de marche avec le nouveau noyau.</EM> Vous
voilà prêts à installer FreeBSD.</P>


<H2><A NAME="ss3.2">3.2 Installer FreeBSD</A>
</H2>

<P>Installez FreeBSD comme cela est décrit dans sa documentation. Supprimez la
partition de swap Linux si vous en avez fait une (vous pouvez utiliser le
programme <CODE>fdisk</CODE> de FreeBSD). Faites attention à l'ordre des partitions
dans la tranche FreeBSD. Si vous utilisez le nommage par défaut la seconde
partition sera le swap. Terminez l'installation de FreeBSD et redémarrez
sous Linux <EM>en utilisant la disquette de démarrage</EM>.</P>

<H2><A NAME="ss3.3">3.3 Utiliser la partition de swap FreeBSD sous Linux</A>
</H2>

<P>Après avoir redémarré Linux, lancez <CODE>dmesg</CODE>, ce qui devrait donner
quelque chose comme ça :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
Partition check:
 hda: hda1 hda2 hda3 hda4 &lt; hda5 hda6 hda7 hda8 >
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Cela signifie que <CODE>/dev/hda4</CODE> est votre tranche FreeBSD, alors que
<CODE>/dev/hda5</CODE>, <CODE>/dev/hda6</CODE>, <CODE>/dev/hda7</CODE> et
<CODE>/dev/hda8</CODE> sont les partitions FreeBSD. Si votre partition de swap
est la seconde partition de la tranche, c'est <CODE>/dev/hda6</CODE>.</P>
<P>Il faut placer la ligne suivante dans votre fichier <CODE>/etc/fstab</CODE> pour
valider la partition de swap :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
/dev/hda6       none            swap            sw              0       0
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Alors que FreeBSD peut utiliser n'importe quelle partition comme espace de
swap, Linux a besoin d'une signature spéciale dans cette partition. Cette
signature est créée par <CODE>mkswap</CODE>. FreeBSD la détruit quand il utilise la
partition de swap partagée, il faudra donc lancer <CODE>mkswap</CODE> à chaque fois
que vous démarrez sous Linux. Pour faire ceci automagiquement, il faut
trouver le script qui lance <CODE>swapon</CODE> au démarrage. Dans Red Hat Linux
c'est <CODE>/etc/rc.d/rc.sysinit</CODE>. Dans Debian GNU/Linux, c'est
<CODE>/etc/init.d/boot</CODE>. Placez la ligne suivante dans ce fichier juste
<EM>avant</EM> <CODE>swapon -a</CODE> :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
awk -- '/swap/ &amp;&amp; ($1 !~ /#/) { system("mkswap "$1"") }' /etc/fstab
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Ceci lancera <CODE>mkswap</CODE> sur toutes les partitions de swap définies dans
<CODE>/etc/fstab</CODE> à chaque démarrage sauf si elles sont commentées (ont
``#'' comme premier caractère de la ligne).</P>
<P>Sous Linux, lancez <CODE>free</CODE> pour vérifier la taille de l'espace de
swap. Vous devriez aussi redémarrer sous FreeBSD et vous assurer que tout
marche comme prévu. Si ce n'est pas le cas, vous avez probablement utilisé
la mauvaise partition pour le swap (depuis Linux). La seule solution est de
réinstaller FreeBSD et réessayer. On apprend beaucoup par l'expérience. :-)</P>


<H2><A NAME="s4">4. Démarrer FreeBSD avec LILO</A></H2>

<P>Vous pouvez facilement démarrer FreeBSD avec LILO. N'installez pas le
chargeur de FreeBSD (<CODE>Booteasy</CODE>) si vous voulez utiliser LILO. Ajoutez
les lignes suivantes à votre fichier <CODE>/etc/lilo.conf</CODE> et relancez
<CODE>lilo</CODE> (la tranche FreeBSD étant <CODE>/dev/hda4</CODE>) :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
other=/dev/hda4
        table=/dev/hda
        label=FreeBSD
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Si vous avez installé FreeBSD sur le second disque SCSI, utilisez quelque
chose du type (la tranche FreeBSD étant <CODE>/dev/sdb2</CODE>):</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
other=/dev/sdb2
        table=/dev/sdb
        loader=/boot/chain.b
        label=FreeBSD
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H2><A NAME="s5">5. Monter les systèmes de fichiers</A></H2>

<H2><A NAME="ss5.1">5.1 Monter des systèmes de fichiers UFS sous Linux</A>
</H2>

<P>Malheureusement le support pour UFS dans les noyaux Linux 2.0.xx est
bogué. Quand on essaye de monter un système de fichiers UFS, on obtient
juste des messages d'erreur (le système de fichiers est monté, mais on ne
peut rien y lire ou écrire). Ce problème a été résolu dans les versions
récentes du noyau (depuis 2.1.87).</P>
<P>Il y a une autre version du support du système de fichiers UFS pour les
noyaux Linux 2.0.xx (xx &lt;= 30) à 
<A HREF="ftp://sunsite.unc.edu/pub/Linux/ALPHA/ufs/">SunSite</A>. Son nom
est <B>U2FS</B> et la version actuelle est <CODE>u2fs-0.4.3.tar.gz</CODE>. Une
version d'U2FS (<CODE>ufs-0.4.4.tar.gz</CODE>) pour Linux 2.0.31 et suivants
(2.0.xx, pas 2.1.xx) se trouve sur 
<A HREF="http://www.mathi.uni-heidelberg.de/~flight/projects/u2fs/">ce site</A> avec d'autres informations sur U2FS (et UFS.)</P>
<P>Maintenant il faut construire un nouveau noyau avec le support pour
<B>U2FS file system</B> et <B>BSD disklabel</B>. Voyez la section 
<A HREF="#installlinux">Installer et préparer Linux</A> pour plus
d'informations. Vous pouvez laissez tomber le support pour <B>UFS file
system</B> quand vous utilisez <B>U2FS file system</B>.</P>
<P>Quand vous avez installé le nouveau noyau, vous pouvez monter les systèmes
de fichiers UFS (toutes les partitions dans la tranche FreeBSD sauf la
partition de swap) avec une commande du type :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
mount -t u2fs /dev/hda8 /mnt
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Il faudra utiliser une commande du type :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
mount -t ufs /dev/hda8 /mnt
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>si vous utilisez un noyau 2.1.87 ou supérieur. À partir de la version 2.1.112 il faut ajouter à la commande l'option  <CODE>-o ufstype=44bsd</CODE> :
<PRE>
mount -t ufs -o ufstype=44bsd /dev/hda8 /mnt
</PRE>
</P>
<P>Le support UFS (et U2FS) est en lecture seule. Donc, vous pouvez lire
depuis les systèmes de fichiers UFS mais pas y écrire. Un pilote UFS
expérimental en lecture/écriture a remplacé le pilote en lecture seule à partir du noyau 2.1.112. L'écriture dans des partitions FreeBSD est supportée depuis la version 2.1.127.</P>


<H2><A NAME="ext2fs"></A> <A NAME="ss5.2">5.2 Monter des systèmes de fichiers ext2fs sous FreeBSD</A>
</H2>

<P>Pour monter des systèmes de fichiers ext2fs sous FreeBSD, il faut construire
un nouveau noyau avec le support pour ext2fs. Lisez le manuel FreeBSD 
<A HREF="http://www.freebsd.org/handbook/">en anglais</A> ou 
<A HREF="http://www.freebsd-fr.org/handbook/">en français</A> si vous ne
savez pas faire. Placez la ligne</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
options         "EXT2FS"
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>dans votre fichier de configuration du noyau pour le nouveau noyau.</P>
<P>Quand vous avez démarré avec le nouveau noyau, vous pouvez monter un
système de fichiers ext2fs avec une commande comme :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
mount -t ext2fs /dev/wd0s3 /mnt
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>À cause d'une bogue dans FreeBSD 2.2.8 et précédents vous devrez démonter
tous les systèmes de fichiers ext2fs <EM>avant</EM> d'arrêter (shutdown)
FreeBSD. Si vous arrêtez FreeBSD avec un système de fichiers ext2fs monté,
FreeBSD ne peut pas faire le <CODE>sync</CODE> sur les systèmes de fichiers
UFS. Cela résultera en un <CODE>fsck</CODE> au prochain démarrage de FreeBSD. Vous pouvez arranger ça en plaçant la ligne:
<PRE>
umount -a -t ext2fs
</PRE>

dans le fichier <CODE>/etc/rc.shutdown</CODE>. Cette bogue a été corrigée dans
FreeBSD-3.x.</P>


<H2><A NAME="s6">6. Exécuter des binaires ``étrangers''</A></H2>

<H2><A NAME="ss6.1">6.1 Exécuter des binaires FreeBSD sous Linux</A>
</H2>

<P>Le paquetage <CODE>iBCS</CODE> permet d'exécuter des binaires FreeBSD sous Linux,
mais il est vieux et non maintenu. Je n'arrive pas à le faire marcher. Si
vous avez eu plus de réussite que moi, merci de m'en informer.</P>


<H2><A NAME="ss6.2">6.2 Exécuter des binaires Linux sous FreeBSD</A>
</H2>

<P>FreeBSD a la capacité d'exécuter des binaires Linux, dans les deux formats
a.out et ELF. Il faut procéder en trois étapes :</P>
<P>
<OL>
<LI>Il faut valider la compatibilité Linux. Pour ce faire, (pour FreeBSD
2.2.2 --- les détails peuvent changer avec d'autres versions) il faut éditer
votre fichier <CODE>/etc/rc.conf</CODE> et changer

<BLOCKQUOTE><CODE>
<PRE>
 linux_enable="NO" 
</PRE>
</CODE></BLOCKQUOTE>
 en 
<BLOCKQUOTE><CODE>
<PRE>
linux_enable="YES" 
</PRE>
</CODE></BLOCKQUOTE>


et redémarrer. Une autre façon de charger le support des binaires Linux est
d'exécuter la commande <CODE>/usr/bin/linux</CODE>. Vous n'aurez pas à
redémarrer, et le support ne sera pas systématiquement chargé (gain de
mémoire). N'oubliez pas d'ajouter la ligne
<PRE>
options         COMPAT_LINUX
</PRE>

au fichier de configuration du noyau FreeBSD si vous compilez un nouveau noyau.
</LI>
<LI>Il faut installer les bibliothèques partagées de Linux si vos
binaires Linux utilisent l'édition de lien dynamique. Ces bibliothèques sont
incluses pour FreeBSD 2.2.{2,5,6} dans le paquetage
<CODE>linux_lib-2.4.tgz</CODE> (il y a peut être des versions plus
récentes). Lancez la commande 
<BLOCKQUOTE><CODE>
<PRE>
 pkg_add &lt;rep_paquetage>/linux_lib-2.4.tgz 
</PRE>
</CODE></BLOCKQUOTE>

pour installer le paquetage. &lt;rep_paquetage&gt; est le
répertoire où se trouve le paquetage.

Vous pouvez aussi le charger depuis le réseau par :
<PRE>
pkg_add ftp://ftp.freebsd.org/pub/FreeBSD/packages-stable/All/linux_lib-2.4.tgz
</PRE>

ou en relançant <CODE>/stand/sysinstall</CODE>. Entrez ``Configure'', ``Packages'' et utilisez les menus. Si vous exécutez des binaires Linux statiquement liés, exécutez la commande suivante :
<PRE>
brandelf -t Linux &lt;nom_du_binaire_linux_statiquement_lié>
</PRE>


</LI>
<LI>Installez les programmes Linux que vous voulez exécuter. Les programmes
peuvent être installés aussi bien sur un système de fichiers UFS que
ext2fs. Voir la section 
<A HREF="#ext2fs">Monter des systèmes de fichiers ext2fs sous FreeBSD</A> pour plus d'informations sur la façon
d'utiliser des systèmes de fichiers ext2fs sous FreeBSD.</LI>
</OL>
</P>
<P>J'ai exécuté avec succès les versions Linux d'Applixware 4.3 et de Netscape
3.01 (toutes deux en format ELF) sous FreeBSD 2.2.2 en utilisant cette
méthode (oui, je sais qu'il existe une version FreeBSD de Netscape 4). Les
versions Linux d'acroread et StarOffice 3 et 4 marchent bien sous
FreeBSD. StarOffice 5 dépend des <EM>threads</EM> natives Linux et ne marche
pas sous FreeBSD. Lisez la documentation de FreeBSD pour plus
d'informations à ce sujet.</P>

<H2><A NAME="s7">7. Sources d'informations</A></H2>

<P>La dernière version de ce mini-HOWTO peut être trouvée sur 
<A HREF="http://www.image.dk/~nkbj/">ma page web</A> en plusieurs
formats (y compris SGML et PostScript). La version française peut être
trouvée sur 
<A HREF="http://www-rp.lip6.fr/~deleuze/HOWTOS/lfbsd.html">celle du traducteur</A>. Ce document a été traduit en Japonais par
M. Teruyoshi Fujiwara comme partie du 
<A HREF="ftp://jf.linux.or.jp/pub/JF/other-formats/">projet JF</A>.</P>
<P>Quelques articles sur la différence entre Linux et FreeBSD se trouvent 
<A HREF="http://www.futuresouth.com/~fullermd/freebsd/bsdvlin.html">ici</A>.</P>
<P>Vous pouvez trouver plus d'informations sur FreeBSD (et rapatrier tout le
système) à l'url 
<A HREF="http://www.freebsd.org/">FreeBSD Inc.</A>. Vous pouvez aussi acheter le système sur CDROM chez 
<A HREF="http://www.cdrom.com/">Walnut Creek CDROM</A> (leurs serveurs sont
sous FreeBSD).</P>
<P>Le HOWTO du noyau Linux fait partie du 
<A HREF="http://www.linuxdoc.org/">Projet de Documentation Linux</A>.</P>

<H2><A NAME="s8">8. Remerciements et aspects légaux</A></H2>

<P>Merci aux membres du 
<A HREF="http://www.bsd-dk.dk/">groupe d'utilisateurs *BSD du Danemark</A> pour avoir répondu aux questions d'un nul
en FreeBSD, à M. Takeshi Okazaki pour avoir porté à ma connaissance
l'existence de <B>U2FS</B> et à M. David O'Brien pour ses précieuses
suggestions.</P>

<H2><A NAME="ss8.1">8.1 Aspects légaux</A>
</H2>

<P>Les marques appartiennent à leurs propriétaires.</P>
<P>Bien qu'ils pensent que les informations données dans ce document sont
correctes, les auteurs n'accepteront aucune responsabilité quant au contenu
de ce document. Utilisez les trucs et exemples à vos risques et péril.</P>
<P>Copyright &copy; 1997-2000 par Niels Kristian Bech Jensen. Ce document
peut être distribué uniquement sous les termes et conditions de la licence
LDP tels que donnés à 
<A HREF="http://www.linuxdoc.org/COPYRIGHT.html">http://www.linuxdoc.org/COPYRIGHT.html</A>.</P>
<P>La version française est &copy;opyright Christophe Deleuze et peut être
distribuée selon les mêmes termes.</P>

</BODY>
</HTML>
