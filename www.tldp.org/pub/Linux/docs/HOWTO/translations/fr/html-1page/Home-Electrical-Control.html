<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>
    
        Contrôler les appareils électriques de votre domicile 
        (Guide pratique)
    
    </title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><meta name="description" content="
    
        Ce guide va vous expliquer comment utiliser Linux pour contrôler
        vos appareils électriques domestiques. Grâce à un montage très
        simple, vous pourrez contrôler presque n'importe quel appareil
        électrique via un ordinateur sous Linux.

    "></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="fr"><div class="titlepage"><div><div><h1 class="title"><a name="id2394070"></a>
    
        Contrôler les appareils électriques de votre domicile 
        (Guide pratique)
    
    </h1></div><div><h3 class="subtitle"><i>
    
        Traduction française du <span class="foreignphrase"><i class="foreignphrase">Home Electrical Device 
        Control HOWTO</i></span>
    
    </i></h3></div><div><div class="author"><h3 class="author"><span class="firstname">Rui</span> <span class="surname">Li</span></h3><tt class="email">&lt;<a href="mailto:ruili%20CHEZ%20worldnet%20POINT%20att%20POINT%20net">ruili CHEZ worldnet POINT att POINT net</a>&gt;</tt></div></div><div><p class="othercredit"><span class="contrib">
          Conversion au format SGML DocBook v4.1
      </span>: <span class="firstname">Joy</span> <span class="surname">Yokley</span></p></div><div><p class="othercredit"><span class="contrib">Adaptation française</span>: <span class="firstname">Joan</span> <span class="surname">Goutte</span></p></div><div><p class="othercredit"><span class="contrib">Relecture de la version française</span>: <span class="firstname">Claude</span> <span class="surname">Thomassin</span></p></div><div><p class="othercredit"><span class="contrib">Préparation de la publication de la v.f.</span>: <span class="firstname">Jean-Philippe</span> <span class="surname">Guérard</span></p></div><div><p class="releaseinfo">Version : 0.008.fr.1.0</p></div><div><p class="pubdate">2004-05-16</p></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Historique des versions</b></th></tr><tr><td align="left">Version 0.008.fr.1.0</td><td align="left">2004-05-16</td><td align="left">JG, CT, JPG</td></tr><tr><td align="left" colspan="3">Première adaptation française.</td></tr><tr><td align="left">Version 0.008</td><td align="left">2003-02-08</td><td align="left">Goldencat</td></tr><tr><td align="left" colspan="3">
            
            Conversion de la version originale du format LinuxDoc au 
            format SGML DocBook 4.1.

        </td></tr><tr><td align="left">Version 0.007</td><td align="left">2002-02-12</td><td align="left">RL</td></tr><tr><td align="left">Version 0.006</td><td align="left">2001-06-27</td><td align="left">JEY</td></tr><tr><td align="left">Version 0.005</td><td align="left">2001-06-13</td><td align="left">RL</td></tr><tr><td align="left">Version 0.004</td><td align="left">2001-06-12</td><td align="left">JEY</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Résumé</b></p><p>
    
        Ce guide va vous expliquer comment utiliser Linux pour contrôler
        vos appareils électriques domestiques. Grâce à un montage très
        simple, vous pourrez contrôler presque n'importe quel appareil
        électrique via un ordinateur sous Linux.

    </p></div></div></div><div></div><hr></div><div class="toc"><p><b>Table des matières</b></p><dl><dt><span class="sect1"><a href="#Introduction">1. Introduction</a></span></dt><dt><span class="sect1"><a href="#configuration-recommandee">2. Configuration recommandée</a></span></dt><dt><span class="sect1"><a href="#circuit">3. Le montage électronique</a></span></dt><dt><span class="sect1"><a href="#relay">4. Exemples de relais</a></span></dt><dt><span class="sect1"><a href="#remerciements">5. Remerciements particuliers</a></span></dt><dt><span class="sect1"><a href="#copyright">6. Droits d'utilisation</a></span></dt></dl></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Introduction"></a>1. Introduction</h2></div></div><div></div></div><p>

       On m'a souvent demandé : « <span class="quote">Est-il possible de contrôler
       du matériel électrique (comme les lumières, la radio, la
       télévision…) en utilisant un ordinateur
       personnel ?</span> » La réponse est <span class="emphasis"><em>oui</em></span>.
       Le procédé permettant de le faire est très simple et tout le
       monde peut le faire.
    
    </p><p>
    
      Après avoir lu le « <span class="quote">Petit guide de la machine à café</span> »
      (<span class="foreignphrase"><i class="foreignphrase">Coffee Machine Mini-HOWTO</i></span>), j'ai
      eu l'idée d'une façon de contrôler les appareils électriques de
      mon domicile. J'ai fait quelques modifications sur le montage
      présenté dans ce petit guide et écrit un petit programme. Le
      montage peut commander de nombreux petits dispositifs électriques.
      Vous pouvez utiliser <span><b class="command">crontab</b></span> pour allumer vos
      lumières automatiquement ou pour mettre en marche votre
      climatiseur. Je l'utilise pour contrôler mon magnétoscope et mon
      lecteur de disques vidéo (ces deux derniers nécessiteront encore
      quelques modifications). En écrivant un petit programme, vous
      pourrez tout contrôler via internet. Vous pourrez aussi vous
      connecter via telnet ou SSH et votre ligne téléphonique pour
      contrôler tous les appareils que vous avez connecté au système.
    
    </p><p>
    
        Le montage est <span class="emphasis"><em>très simple</em></span>. Même si vous
        n'y connaissez rien en électronique, vous pourrez réaliser ce
        montage.
    
    </p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configuration-recommandee"></a>2. Configuration recommandée</h2></div></div><div></div></div><p>
    
        Prenez n'importe quel ordinateur sous Linux et un port parallèle
        qui marche ;) J'utilise un 386DX avec 4 Mo de RAM et
        40 Mo de disque dur. Vous devrez récupérez gcc pour
        compiler le programme. Si vous voulez utiliser telnet ou SSH,
        vous aurez aussi besoin de <span class="application">telnetd</span> ou
        <span class="application">sshd</span>. Vous pouvez écrire votre propre
        programme en utilisant <span class="application">ioperm</span> et
        <span class="application">outb</span>. Si vous comptez utiliser mon
        programme, vous aurez besoin de g++.

    </p><p>
    
        Cliquez le lien suivant pour télécharger mon programme. Vous
        aurez besoin de g++ pour le compiler : <a href="http://edc.sourceforge.net/paralle.tar.gz" target="_top">http://edc.sourceforge.net/paralle.tar.gz</a>.
    
    </p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="circuit"></a>3. Le montage électronique</h2></div></div><div></div></div><p>
        
        La ligne de données du port parallèle peut fournir entre 0 et
        5 Volts, nous pouvons l'utiliser pour commander un relais
        et faire contrôler un appareil électrique par ce relais.
    
    </p><p>
    
        Utilisez les broches 2 à 9 pour avoir le +5 V
    
    </p><p>
    
        Utilisez les broches 18 à 25 comme terre (la masse)
    
    </p><pre class="literallayout">
           ____________________________________________________________
          /                                                            \
          \     13  12  11  10   9   8   7   6   5   4   3   2   1     /
           \                                                          /
            \     25  24  23  22  21  20  19  18  17  16  15  14     /
             \______________________________________________________/


                                          | Vcc du relais
                                          |
                                          |
                                  / ------+--------| |--------|
P données           4.7K       B /  c     | 1N4002 |_|        |-------
-----------/\/\/\/\--------+----| NPN   _____        | relais |Appareils
                           |    \   e    /_\       |-|        |électriques
                 LED       X     \        +--------| |        |-------
P Masse                    |      |       |          |--------|
---------------------------+------+-------+
Masse du relais                           |
------------------------------------------+
</pre><p>Voici la légende du schéma ci-dessus :</p><pre class="literallayout">
P données        ligne de données du port parallèle (broches 2 à 9, 
                 utilisez n'importe laquelle)
P Masse          Masse du port parallèle (broches 18 à 25, utilisez 
                 n'importe laquelle)
Vcc              Dépend du type de votre relais. J'utilise du 12 VDC
Masse du relais  La masse pour du 12VDC
4.7k             Résistance de 4.7Ke
NPN              Transistor NPN C2235
1N4002           Diode 1N4002
LED              LED ;)
relais           Relais a bobine (<span class="foreignphrase"><i class="foreignphrase">coil relay</i></span>)
</pre><p>
        
        Le +5 Volts du port parallèle allume le relais. Une fois le
        relais allumé, l'appareil branché sur ce relais sera en marche.
        Quand les données du port parallèle repassent à 0, le relais
        s'éteindra et l'appareil s'arrêtera.
    
    </p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="relay"></a>4. Exemples de relais</h2></div></div><div></div></div><p>
    
        Les schémas ci-dessous sont là pour expliquer comment les relais
        fonctionnent.
    
    </p><p>
       
       Le relais lui-même est juste un interrupteur comme nous le voyons
       dans le schéma suivant :
   
   </p><pre class="literallayout">
  Relais éteint                       Relais allumé

       |3                                    |3
       |                                     |
       |                                     |
       o                                     o
        \                                    |
       o \                                   o
       |                                     |
       |                                     |
       |                                     |
       |4                                    |4

</pre><p>
    
      Le schéma suivant montre le fonctionnement d'un relais à 4 bornes.
    
    </p><pre class="literallayout">
      _____________________________
      |                           |
  1   |                           |  3
 -----|---------s     o-----------|-------
      |  Bobine s      \  inter-  |
  2   |         s       \ rupteur |  4
 -----|---------s     o- \--------|-------
      |                           |
      |                           |
      |                           |
      |___________________________|
</pre><p>

        Dans le schéma ci-dessus, les bornes 3 et 4 ne sont pas reliées
        par défaut. Quand vous envoyez du +12 V entre les bornes 1
        et 2, ça déclenchera l'interrupteur, et les broches 3 et 4
        seront reliées.
        
    </p><p>

        Le suivant est un relais à 5 broches :
    
    </p><pre class="literallayout">
           _______________________________
           |                             |
     1     |                             |       5
  ---------|---+            o------------|----------------
           |   |-----------/---- s       |
           |              /      s       |
     3     |             /       s       |
  ---------|-----------o/ Bobine s       |       4
           |                 o---s-------|----------------
           |                     |       |
           |                     |       |
     2     |                     |       |
 ----------|---------------------+       |
           |_____________________________|
</pre><p>
    
        Dans le schéma ci-dessus la broche 3 est connectée a la broche
        5, par défaut. En envoyant +12V entre les broches 1 et 2, vous
        allumerez le commutateur. Les broches 3 et 5 seront déconnectées
        et les broches 5 et 4 seront reliées.
    
    </p><pre class="literallayout">
  Relais éteint                       Relais allumé

     |5                                  |5
     |                                   |
     |                                   |
     o                                   o
      \                                  |
     o \                                 o  o
     |  o                                |  |
     |  |                                |  |
     |  |                                |  |
    4|  |3                              4|  |3
</pre><p>
      
          Certains relais ont plus de 5 broches. Un plus grand nombre de
          broches correspond simplement à un plus grand nombre de
          commutateurs.
      
      </p><p>
        
            J'ai écris un petit programme qui peut commander 8 relais.
            Le programme est disponible a l'adresse suivante et
            nécessite g++ pour fonctionner : <a href="http://edc.sourceforge.net/paralle.tar.gz" target="_top">http://edc.sourceforge.net/paralle.tar.gz</a>
            
        </p><p>
        
            Un montage complet peut commander jusqu'à 8 relais.
            Autrement dit, 8 appareils électriques différents. Vous
            aurez besoin d'un connecteur DB25. Pour relier cette carte
            relais à votre ordinateur, utilisez un câble parallèle pour
            commutateur. J'ai mis la carte relais dans une boite et je la
            relie à ma machine Linux avec un câble parallèle de
            commutateur (i.e. câble parallèle DB25-DB25).
        
        </p><pre class="literallayout">
Façade: LED, Interrupteur   Dos: connecteur DB25
</pre><p>
          
          Ci-dessous un exemple de la façon de relier une carte relais a
          vos appareils électriques :
      
      </p><pre class="literallayout">
CARTE RELAIS CONNECTÉE

                   +-----+ Prise de courant
1 ________3        |   __|________             ||   ||
--|      |---------+  |  |       |             ||   ||
2 |relais|4           | (o) (o)  |            _||___||__
--|______|----+       |------|---|            |        |
              |              |                |        | 
              | +------------+                |        | Prise
        terre | | courant                     |        |
              | |                             |        |
            __|_|__                           |        |
            | | | |                           |________|
            | | | | Prise 
            | | | |
            |_|_|_| (Je sais que ça ne ressemble pas à une prise,
             || ||   mais c'est une prise :-) )
             || ||
</pre><p>

          Pour brancher le système, branchez juste votre appareil
          électrique à la prise de courant. C'est tout ! Vous
          n'avez pas besoin de bricoler votre appareil électrique. Et
          vous pouvez relier n'importe quel genre d'appareils à cette
          prise de courant. Branchez cette prise de courant sur une
          prise murale.
          
      </p><p>

        Pour voir les photos du produit fini, allez sur les sites
        suivants :
        
    </p><div class="itemizedlist"><ul type="disc"><li><p>
    
        <a href="http://edc.sourceforge.net/p1.jpg" target="_top">http://edc.sourceforge.net/p1.jpg</a>
    
    </p></li><li><p>
    
        <a href="http://edc.sourceforge.net/p2.jpg" target="_top">http://edc.sourceforge.net/p2.jpg</a>
        
    </p></li><li><p>
    
        <a href="http://edc.sourceforge.net/p3.jpg" target="_top">http://edc.sourceforge.net/p3.jpg</a>
    
    </p></li></ul></div><p>
    
        L'URL suivante montre un circuit électronique complet (qui
        commande 8 appareils) : <a href="http://edc.sourceforge.net/01.png" target="_top">http://edc.sourceforge.net/01.png</a>

    </p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remerciements"></a>5. Remerciements particuliers</h2></div></div><div></div></div><p>
    
        Un grand MERCI à Rufus Chang
        
        <tt class="email">&lt;<a href="mailto:rufus%20CHEZ%20chu%20POINT%20url%20POINT%20com%20POINT%20tw">rufus CHEZ chu POINT url POINT com POINT tw</a>&gt;</tt>

    </p><p>
    
        Un grand MERCI à Chih-Wei Huang
        
        <tt class="email">&lt;<a href="mailto:cwhuang%20CHEZ%20linux%20POINT%20org%20POINT%20tw">cwhuang CHEZ linux POINT org POINT tw</a>&gt;</tt>
    
    </p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="copyright"></a>6. Droits d'utilisation</h2></div></div><div></div></div><p>
        
        Copyright © Rui Li 2000-2001.
    
    </p><p>
        
        Copyright © 2003-2004 Joan Goutte, Claude Thomassin et
        Jean-Philippe Guérard pour la version française.
    
    </p><p>
    
        Ce document est distribué selon les termes de la Licence
        publique générale GNU (GPL), avec la condition supplémentaire
        que le nom et l'adresse électronique de l'auteur soient
        conservée sur toutes les copies. S'il vous plaît, conservez mon
        nom et mon adresse électronique lorsque vous copiez ce guide.
        
    </p></div></div></body></html>
