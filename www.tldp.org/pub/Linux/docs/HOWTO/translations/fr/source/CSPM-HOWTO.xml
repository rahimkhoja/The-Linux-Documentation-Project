<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
  "http://www.docbook.org/xml/4.3/docbookx.dtd" [
<!ENTITY howto      "http://www.traduc.org/docs/howto/lecture/">
<!ENTITY guide      "http://www.traduc.org/docs/guides/lecture/">
<!ENTITY cspm       "http://sourceforge.net/projects/cspm/">
<!ENTITY images     "images/CSPM-HOWTO/">
]>

<article id="spm" lang="fr">

  <articleinfo>
  
  <title>
    Guide pratique de CSPM, l'outil de suivi des performances du système
  </title>
  
  <subtitle>
  
    Version française du <foreignphrase>Complete System Performance
    Monitor HOWTO</foreignphrase>
  
  </subtitle>
  
    <abstract><para>
    
      L'outil de suivi des performances du système
      (<acronym>CSPM</acronym>, acronyme de <foreignphrase>Complete
      System Performance Monitor</foreignphrase>) est un outil graphique
      qui surveille l'utilisation du processeur, de la mémoire, du
      stockage, du réseau et des <acronym>IRQ</acronym> d'un système
      Linux. <acronym>CSPM</acronym> recueille ces données
      automatiquement et génère des histogrammes de l'utilisation du
      système.
      
      </para>
      
      <para>
      
      Ce guide pratique fournit un aperçu de CSPM, une description du
      produit et des informations sur la façon de le configurer.
    
    </para></abstract>
    
    <releaseinfo>Version&nbsp;: 2.0.fr.1.0</releaseinfo>  
    <pubdate>3 décembre 2004</pubdate>

    <author>
      <firstname>Chris</firstname>
      <surname>Lorenz</surname>
      <email>lorenzc CHEZ us POINT ibm POINT com</email>
    </author>
    <othercredit role="traduction" class="translator">
      <firstname>Simon</firstname>
      <surname>Depiets</surname>
      <contrib>Adaptation française</contrib>
      <email>2df CHEZ tuxfamily POINT org</email>
    </othercredit>

    <othercredit role="relecture" class="translator">
      <firstname>Guillaume</firstname>
      <surname>Lelarge</surname>
      <contrib>Relecture de la version française</contrib>
      <email>gleu CHEZ wanadoo POINT fr</email>
    </othercredit>

    <othercredit role="relecture" class="translator">
      <firstname>Jean-Philippe</firstname>
      <surname>Guérard</surname>
      <contrib>Relecture de la version française</contrib>
      <email>fevrier CHEZ tigreraye POINT org</email>
    </othercredit>

    <othercredit role="publication" class="copyeditor">
      <firstname>Jean-Philippe</firstname>
      <surname>Guérard</surname>
      <contrib>Préparation de la publication de la v.f.</contrib>
      <email>fevrier CHEZ tigreraye POINT org</email>
    </othercredit>

    <revhistory>
      <revision>
        <revnumber>2.0.fr.1.0</revnumber>
        <date>2004-12-03</date>
        <authorinitials>SD, GL, JPG</authorinitials>
        <revremark>
            
          Première adaptation française.
            
        </revremark>
      </revision>
      <revision>
        <revnumber>2.0</revnumber>
        <date>2003-06-10</date>
        <authorinitials>CL</authorinitials>
      </revision>
    </revhistory>
  </articleinfo>

<sect1 id="copyfr"><title>Droits d'utilisations et informations légales</title>

<important><para>

Le texte ci-dessous est la version française de la licence de ce 
document. Seule la version originale de cette licence, présentée dans la 
section suivante, fait foi.

</para></important>

<para>Copyright &copy; 2003 IBM Corporation. Tous droits réservés.</para>

<para>

Ce document vous est fourni tel quel, sans garantie explicite ou
implicite. L'utilisation des informations contenues dans ce document est
à vos risques et périls.

</para>

<para>

Linux est une marque déposée par Linus Torvalds. Les autres noms
d'entreprises, de produits et de services peuvent avoir été déposés.

</para>

<para>

Vous est autorisé à copier, distribuer et modifier la version originale
de ce document selon les termes de la Licence de documentation libre GNU
(GFDL), version 1.1 ou ultérieure, telle que publiée par la Free
Software Foundation&nbsp;; sans section inaltérable, ni texte de
première de couverture, ni texte de quatrième de couverture. Une copie
de cette licence est disponible sur&nbsp;: <ulink
url="http://www.gnu.org/licenses/fdl.txt"/>.

</para>

<para>

Copyright &copy; 2004 Simon Depiets, Guillaume Lelarge et Jean-Philippe
Guérard pour la version française

</para>

<para>

La version française de ce guide pratique est publiée en accord avec les
termes de la licence de documentation libre GNU (GFDL) sans section
invariante, sans texte de première de couverture ni texte de quatrième
de couverture. Une copie (en anglais) de la licence est disponible sur
<ulink url="http://www.gnu.org/copyleft/fdl.html"/>.

</para>

</sect1>

<sect1 id="copy"><title>Copyright and legal notice</title>

<important><para>
Le texte ci-dessous est la licence de ce document. Ce texte fait foi. Il 
est composé de la licence en anglais du document orignal, suivi de la 
licence en français de sa traduction.
</para></important>

<para>Copyright © 2003 IBM Corporation. All rights reserved.</para>

<para>

This document is provided "AS IS," with no express or implied
warranties. Use the information in this document at your own risk.

</para>

<para>

Linux is a registered trademark of Linus Torvalds. Other company,
product, and service names may be trademarks or service marks of others.

</para>

<para>

Permission is granted to copy, distribute, and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation with no
Invariant Sections, no Front-Cover text, and no Back-Cover text. A copy
of the license can be found at <ulink
url="http://www.gnu.org/licenses/fdl.txt"/>.

</para>

<para>

Copyright &copy; 2004 Simon Depiets, Guillaume Lelarge et Jean-Philippe
Guérard pour la version française

</para>

<para>

La version française de ce guide pratique est publiée en accord avec les
termes de la licence de documentation libre GNU (GFDL) sans section
invariante, sans texte de première de couverture ni texte de quatrième
de couverture. Une copie (en anglais) de la licence est disponible sur
<ulink url="http://www.gnu.org/copyleft/fdl.html"/>.

</para>

</sect1>

<sect1>

<title>Qu'est-ce que CSPM&nbsp;?</title>

<para>

      L'outil de suivi des performances du système
      (<acronym>CSPM</acronym>, acronyme de <foreignphrase>Complete
      System Performance Monitor</foreignphrase>), écrit par Don Dupuis
      de la société Compaq, est un outil graphique qui surveille
      l'utilisation du processeur, de la mémoire, du stockage, du réseau
      et des <acronym>IRQ</acronym> d'un système Linux.
      <acronym>CSPM</acronym> recueille ces données automatiquement et
      génère des histogrammes de l'utilisation du système.

</para>

</sect1>

<sect1><title>Configuration minimale</title>

<para>

<acronym>CSPM</acronym>, version 1.0 ou ultérieure, nécessite&nbsp;:

</para>

<itemizedlist>

<listitem><para>

Une distribution Linux Red Hat&nbsp;7.2 ou ultérieure, Mandrake&nbsp;8.2
ou ultérieure, ou toute distribution utilisant un noyau Linux dans
lequel la modification de Stephen Tweedie pour <command>sar</command> ou
<command>sysstat</command> a été appliqué (c'est le cas des noyaux Linux
2.4.20 et ultérieurs).

</para></listitem>

<listitem><para>

L'environnement de développement C++ Trolltech Qt3.0 ou ultérieure, qui
est disponible gratuitement sur le site de Trolltech.

</para></listitem>

</itemizedlist>

</sect1>

<sect1>

<title>Installer <acronym>CSPM</acronym> et ses dépendances</title>

<para>

Cette section explique comment récupérer l'environnement de
développement Qt et l'installer.

</para>

<sect2>

<title>Installer Qt, version 3.0 ou ultérieure</title>

<para>

Qt, version 3.0 ou ultérieure, doit être installé sur le système avant
d'installer <foreignphrase>CSPM</foreignphrase>. Suivez ces étapes 
pour récupérer et installer Qt&nbsp;:

</para>

<orderedlist>

<listitem><para>

téléchargez la dernière version de la version libre de Qt pour X11
(<quote>Qt/X11 Open Source Edition</quote>) sur <ulink
url="http://www.trolltech.com">www.trolltech.com</ulink>
(Attention&nbsp;! Ce site est en anglais uniquement)&nbsp;;

</para></listitem>

<listitem><para>

suivez les instructions (en anglais) de Trolltech pour installer
Qt&nbsp;;

</para></listitem>

<listitem><para>

lancez <command>./configure</command> avec l'option
<constant>-thread</constant> pour que Qt fonctionne en mode
multifils&nbsp;:

</para>

<programlisting>
# ./configure -thread
</programlisting>

</listitem>

<listitem><para>

assurez-vous que vous exportez les variables d'environnement
<envar>QTDIR</envar> et <envar>LD_LIBRARY_PATH</envar>, ainsi que le
décrivent les instructions d'installation de Qt distribuées avec le
logiciel.

</para></listitem>

</orderedlist>

</sect2>

<sect2>

<title>Installer <acronym>CSPM</acronym></title>

<para>

Les sections suivantes expliquent comment télécharger et installer
<acronym>CSPM</acronym>. Ces étapes doivent être effectuées sous le
compte utilisateur <literal>root</literal>. Le processus d'installation
crée un répertoire appelé <filename>spm</filename> et place tous les
fichiers dans ce répertoire.

</para>

<sect3><title>Installer depuis le rpm</title>

<para>

Suivez ces étapes pour installer <acronym>CSPM</acronym> depuis le
paquet <acronym>RPM</acronym>&nbsp;:

</para>

<orderedlist>

<listitem><para>

Téléchargez le paquet <acronym>RPM</acronym> de <acronym>CSPM</acronym>
depuis le site de SourceForge sur <ulink url="&cspm;"/>. Le nom du
programme pour <acronym>CSPM</acronym> est <filename>spm2</filename>.

</para></listitem>

<listitem><para>Installez le logiciel avec la commande</para>
<programlisting># rpm -ihv --nodeps spm2-1.0-1.586.rpm</programlisting>
<para>Le <acronym>RPM</acronym> crée le binaire appelé <command>spm2</command>
dans le répertoire courant.</para>
</listitem>

</orderedlist>

</sect3>

<sect3><title>Installer depuis l'archive tar</title>

<para>

Suivez ces étapes pour installer <acronym>CSPM</acronym> depuis
l'archive tar&nbsp;:

</para>

<orderedlist>

<listitem><para>

Téléchargez l'archive tar de <acronym>CSPM</acronym> depuis le site de
SourceForge sur <ulink url="&cspm;"/>. Le nom du programme pour
<acronym>CSPM</acronym> est <filename>spm2</filename>.

</para></listitem>

<listitem><para>

Décompressez le fichier <filename>spm2.tar.gz</filename> avec la
commande&nbsp;:

</para>

<programlisting>
# tar xvzf spm2.tar.gz
</programlisting>

</listitem>

<listitem><para>

Compilez <acronym>CSPM</acronym>&nbsp;:

</para>

<programlisting>
# make all
</programlisting>

<para>

La commande <command>make</command> crée le fichier binaire appelé
<command>spm2</command> dans le répertoire courant.

</para></listitem>
</orderedlist>

</sect3>

</sect2>

<sect2>

<title>Lancer <acronym>CSPM</acronym></title>

<para>

Le programme <command>spm2</command> devrait être lancé sous un compte
utilisateur non privilégié, car autement les préférences utilisateurs ne
sont pas enregistrées.

</para>

<para>

Saisissez la commande suivante dans le répertoire où
<acronym>CSPM</acronym> est installé&nbsp;:

</para>

<programlisting># ./spm2</programlisting>

<para>

Si une erreur de segmentation intervient durant le démarrage de
<command>spm2</command>, assurez-vous d'avoir défini les variables
<envar>QTDIR</envar> et <envar>LD_LIBRARY_PATH</envar>, comme décrit
dans les instructions d'installation livrées avec Qt.

</para>
</sect2>
</sect1>

<sect1>

<title>Modifier les options de <acronym>CSPM</acronym></title>

<para>

Par défaut, il y a 5 lignes de quadrillage le long de l'axe des y de
chaque histogramme. Quand il n'y a pas d'activité pour un périphérique
particulier, <acronym>CSPM</acronym> utilise les graduations par défaut
0&nbsp; 0,2&nbsp;; 0,4&nbsp;; 0,6 et 0,8. Lorsque l'activité commence,
<acronym>CSPM</acronym> défini les cinq graduations à intervalle
régulier de 0 à la plus haute valeur collectée. Parfois, le quadrillage
tombera pile sur les nombres de la barre, rendant ces nombres difficiles
à lire. Vous pourrez soit ajuster la couleur du quadrillage, soit
ajuster l'intervalle, soit essayer d'ignorer le quadrillage.

</para>

<para>

Vous pouvez modifier le quadrillage, la taille et les options du
contrôleur pour chaque vue depuis le menu <menuchoice><guimenu
lang="en">Preferences</guimenu></menuchoice> (préférences). Depuis ce
menu, vous pourrez sélectionner les entrées <guilabel
lang="en">System</guilabel> (système), <guilabel
lang="en">Tests</guilabel>, <guilabel lang="en">CPU</guilabel>
(processeur), <guilabel lang="en">Memory</guilabel> (mémoire), <guilabel
lang="en">Network</guilabel> (réseau), <guilabel
lang="en">Storage</guilabel> (stockage) et <guilabel
lang="en">IRQ</guilabel> (interruptions). Une fois que vous aurez
sélectionné une de ces entrées, vous pourrez voir <guilabel
lang="en">Grid</guilabel> (quadrillage) et <guilabel
lang="en">Monitor</guilabel> (contrôleurs) ou <guilabel
lang="en">Sizing</guilabel> (taille) pour chaque élément.

</para>

<para>

Depuis l'onglet <guilabel lang="en">Grid</guilabel> (quadrillage), vous
pourrez modifier des éléments comme&nbsp;:

</para>

<itemizedlist>

<listitem><para>

la couleur des lignes du quadrillage&nbsp;;

</para></listitem>

<listitem><para>

la distance (ou le temps) en secondes séparant les collectes de données
(des barres apparaissent à chaque collecte)&nbsp;;

</para></listitem>

<listitem><para>

la couleur des différentes barres, comme <guilabel
lang="en">read</guilabel> (lectures), <guilabel
lang="en">write</guilabel> (écritures), <guilabel
lang="en">user</guilabel> (utilisateur), <guilabel
lang="en">nice</guilabel> (priorité modifiée) et <guilabel
lang="en">sys</guilabel> (système)&nbsp;;

</para></listitem>

<listitem><para>

le nombre de barres horizontales (cinq par défaut)&nbsp;;

</para></listitem>

<listitem><para>

la taille des titres d'histogrammes.

</para></listitem>

</itemizedlist>

<para>

Depuis l'onglet <guilabel lang="en">Monitor</guilabel> (contrôleur),
vous pourrez par exemple modifier&nbsp;:

</para>

<itemizedlist>

<listitem><para>

la largeur et la hauteur des boîtes d'affichage (en points)&nbsp;;

</para></listitem>

<listitem><para>

la couleur de ces boîtes&nbsp;;

</para></listitem>

<listitem><para>

le type de données devant être contrôlé (entrée/sortie, données, lectures
et écritures, secteurs et blocs).

</para></listitem>

</itemizedlist>

<para>

Depuis l'onglet <guilabel lang="en">Taille</guilabel>, vous pourrez changer la
largeur et la hauteur minimale des boîtes d'affichage (en points).

</para>

</sect1>

<sect1>

<title>Affichage des données</title>

<para>

CSPM affiche des histogrammes fournissant des informations sur l'utilisation
du système. Le programme a huit onglets d'affichage pour les différents
types d'informations système que <acronym>CSPM</acronym> collecte. Ces
onglets sont&nbsp;:

</para>

<itemizedlist>

<listitem><para>

<guilabel lang="en">System Overview</guilabel> (aperçu du 
système)&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">IRQ</guilabel> (interruptions)&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">CPU Utilization</guilabel> (utilisation du 
processeur)&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">Memory</guilabel> (mémoire)&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">Network</guilabel> (réseau)&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">Storage</guilabel> (stockage)&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">Tests</guilabel>&nbsp;;

</para></listitem>

<listitem><para>

<guilabel lang="en">Tests summary</guilabel> (synthèse des tests).

</para></listitem>

</itemizedlist>

<para>

Les légendes en bas de chaque table d'histogrammes vous expliquent comment
interpréter les différentes couleurs représentant les données.

</para>

<para>

Utilisez les barres de défilement verticales et horizontales pour voir
les histogrammes qui ne tiennent pas sur l'écran initial.

</para>

<sect2>

<title>Onglet <guilabel lang="en">System Overview</guilabel> (aperçu 
du système)</title>

<para>

Quand <acronym>CSPM</acronym> démarre, l'onglet <guilabel
lang="en">System Overview</guilabel> est affiché. Les histogrammes de
cet l'onglet montrent les informations relatives au système entier,
notamment l'utilisation du processeur, de la mémoire, du réseau et du
stockage. La capture d'écran suivante montre un exemple de ce qu'affiche
cet onglet.

</para>

<para>
<graphic fileref="&images;sysover.png"/>
</para>

<para>

Sous chaque histogramme se trouve une légende décrivant les données
représentées. Par exemple dans l'histogramme <guilabel lang="en">Cpu
Total</guilabel> (utilisation globale du processeur), les barres rouges
représentent l'utilisation du processeur par l'utilisateur, les barres
vertes représentent les commandes ayant une priorité modifiée et les
barres bleues représentent l'utilisation du processeur par le système.

</para>

</sect2>

<sect2>

<title>Onglet <guilabel lang="en">IRQ</guilabel> (interruptions)</title>

<para>

Quand vous cliquez sur l'onglet <guilabel lang="en">IRQ</guilabel>, un
histogramme s'ouvre pour chaque ligne d'interruption (IRQ) reliée à un
connecteur ISA du système. La capture d'écran suivante montre un exemple
de cet onglet.

</para>

<note><para>

Avec Qt&nbsp;3.0, les barres de défilement horizontales de l'onglet IRQ
ne fonctionnent pas. Ce problème disparaît avec Qt&nbsp;3.1.

</para></note>

<para>
<graphic fileref="&images;irqs.png"/>
</para>
<para>

Le nombre de grande taille en bleu à gauche de l'histogramme est le
numéro de l'interruption. Les barres rouges représentent le nombre
d'interruptions utilisées par secondes par le périphérique connecté au 
connecteur ISA de cette ligne d'interruption.

</para>
</sect2>

<sect2>

<title>Onglet <guilabel lang="en">CPU Utilization</guilabel>
(utilisation du processeur)</title>

<para>

Quand vous cliquez sur l'onglet <guilabel lang="en">CPU
Utilization</guilabel> (utilisation du processeur), un histogramme
s'ouvre pour chaque processeur du système, comme dans la capture d'écran
suivante&nbsp;:

</para>

<para><graphic fileref="&images;cpu.png"/></para>

<para>

L'histogramme montre des informations sur les processus utilisateur
(rouge), les processus système (bleu) et ceux dont la priorité a été
modifiée (vert).

</para>
</sect2>

<sect2>

<title>Onglet <guilabel lang="en">Memory</guilabel> (mémoire)</title>

<para>

Cet onglet est encore en développement. Dans une version future de
<acronym>CSPM</acronym>, il montrera graphiquement la quantité de
mémoire utilisée par les processus.

</para>

</sect2>

<sect2>

<title>Onglet <guilabel lang="en">Network</guilabel> (réseau)</title>

<para>

Quand vous cliquez sur cet onglet, des histogrammes montrant la quantité
de données transitant sur la carte réseau virtuelle
<literal>loopback</literal> (en boucle) du système et sur chaque
périphérique réseau sont affichés, comme on peut le voir dans la capture
d'écran qui suit.

</para>

<para>
<graphic fileref="&images;network.png"/>
</para>

<para>

Les envois sont en rouge et les réceptions en bleu.

</para>

</sect2>

<sect2>

<title>Onglet <guilabel lang="en">Storage</guilabel> (stockage)</title>

<para>

Quand vous cliquez sur cet onglet, un groupe d'histogrammes s'ouvre,
montrant des données sur les contrôleurs, les disques et les partitions.
La légende en bas de l'histogramme indique quelle couleur d'histogramme
correspond à quel type de périphérique.

</para>

<para>
<graphic fileref="&images;storage.png"/>
</para>

<para>

Sur la capture d'écran, les couleurs sont le mauve pour les contrôleurs,
le vert pour les disques et l'orange pour les partitions. Les barres
rouges représentent les lectures depuis le périphérique et les barres
bleues les écritures vers le périphérique.

</para>

<para>

Pour avoir des informations sur une partition (comme son nom dans le
système de fichier, l'espace utilisé et l'espace disponible), faites un
clic droit sur le histogramme de la partition puis un clic gauche sur
<guimenuitem lang="en">Properties</guimenuitem> (propriétés). Une
fenêtre d'état de la partition apparaîtra montrant les informations
relatives à la partition sélectionnée.

</para>

<para>
<graphic fileref="&images;snapshot9.png"/>
</para>

</sect2>

<sect2>

<title>Onglet <guilabel lang="en">Tests</guilabel></title>

<para>

Cet onglet ouvre une liste de tests qui peuvent être lancés sur le
système, ce qui est pratique, par exemple, pour les techniciens
réalisant des contrôles d'assurance qualité et qui ont besoin de charger
des systèmes de test pour des essais matériels et logiciels.

</para>

</sect2>

<sect2>

<title>Onglet <guilabel lang="en">Tests summary</guilabel> 
(synthèse des tests)</title>

<para>

Cet onglet contient les sorties des tests et le nombre de fois où ils
ont été lancés. Vous pouvez imprimer ces résultats et les garder.

</para>

</sect2>

</sect1>

</article>
