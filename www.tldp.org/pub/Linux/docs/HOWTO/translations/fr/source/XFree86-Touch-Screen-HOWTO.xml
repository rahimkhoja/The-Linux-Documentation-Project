<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
  "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY howto      "http://www.traduc.org/docs/howto/lecture/">
  <!ENTITY guide      "http://www.traduc.org/docs/guides/lecture/">
]>

<article lang="fr">

<articleinfo>

<title>Guide pratique des écrans tactiles sous Linux</title>

<subtitle>
    
    Version française du guide pratique <foreignphrase lang="en">Linux
    Touch Screen HOWTO</foreignphrase>

</subtitle>

<legalnotice><para>

  &copy; 2002 Christoph Baumann,

  <email>cgb CHEZ debian POINT org</email>

</para>

<para>

  &copy; 2005 Éric Madesclair et Jean-Philippe Guérard pour la version
  française

</para>

<para>

    <foreignphrase lang="en">The GNU Free Documentation License applies
    to this document.</foreignphrase> Ce document est distribué selon 
    les termes de la Licence de documentation Libre GNU (GFDL).

</para></legalnotice>

<author>
      <firstname>Christoph</firstname>
      <surname>Baumann</surname> 
      <email>cgb CHEZ debian POINT org</email>
</author>

   <othercredit role="traduction" class="translator">
     <firstname>Éric</firstname>
     <surname>Madesclair</surname>
     <contrib>Adaptation française</contrib>
     <email>eric-m CHEZ wanadoo POINT fr</email>
  </othercredit>

  <othercredit role="relecture" class="translator">
    <firstname>Jean-Philippe</firstname>
    <surname>Guérard</surname>
    <contrib>Relecture de la version française</contrib>
    <email>fevrier CHEZ tigreraye POINT org</email>
  </othercredit>

  <othercredit role="publication" class="copyeditor">
    <firstname>Jean-Philippe</firstname>
    <surname>Guérard</surname>
    <contrib>Préparation de la publication de la v.f.</contrib>
    <email>fevrier CHEZ tigreraye POINT org</email>
  </othercredit>


  <releaseinfo>Version&nbsp;: 3.3.fr.1.0</releaseinfo>
  <pubdate>28 février 2005</pubdate> 
  
  <revhistory>
    <revision>
      <revnumber>3.3.fr.1.0</revnumber>
      <date>2005-02-28</date>
      <authorinitials>EM,JPG</authorinitials>
      <revremark>Première traduction française</revremark>
    </revision>
    <revision>
      <revnumber>3.3</revnumber>
      <date>2004-10-07</date>
      <authorinitials>CB</authorinitials>
    </revision>
   </revhistory>

<pubdate>
</pubdate>

<abstract><para>

  Ce guide pratique explique comment utiliser un écran tactile comme
  périphérique d'entrée sous XFree86. Il se concentre sur les écrans
  tactiles EloTouch et MicroTouch, que l'auteur a eu l'occasion
  d'utiliser. Les exemples sont basés sur des périphériques connectés
  via le port série (/dev/ttyS0, et cætera).
          

</para></abstract>

</articleinfo>

<sect1>
<title>Introduction</title>

<para>

Ce guide pratique explique comment utiliser un écran tactile comme
périphérique d'entrée sous XFree86. Il se concentre sur les écrans
tactiles EloTouch et MicroTouch, que l'auteur a eu l'occasion
d'utiliser.

</para>

<para>

Les exemples sont basés sur des périphériques connectés via le port
série (/dev/ttyS0, et cætera). &mdash; N'hésitez pas à faire parvenir en
anglais des informations relatives aux périphériques USB à l'auteur de
ce document&nbsp;!

</para>

<sect2>
  <title>
      Commentaires et corrections
  </title>

  <para>

      N'hésitez pas à faire parvenir tout commentaire relatif à
      la version française de ce document à

      <email>commentaires CHEZ traduc POINT org</email>

      en précisant son titre, sa date et sa version.

  </para>
</sect2>

<sect2>

  <title>
      Nouvelles versions de ce document
  </title>

  <para>

      Vous trouverez la plus récente version française de ce document à
      l'adresse&nbsp;: <ulink url="&howto;XFree86-Touch-Screen-HOWTO.html"/>.

  </para>

  <para>
      
      La plus récente version originale de ce document est disponible à
      l'adresse&nbsp;: <ulink
      url="http://www.tldp.org/HOWTO/XFree86-Touch-Screen-HOWTO.html"/>.
  
  </para>
</sect2>

</sect1>

<sect1>

<title>Comment configurer le périphérique</title>

<para>

Les écrans tactiles sont paramétrés dans l'une des sections
<quote>Xinput</quote> du fichier de configuration de XFree86 (ce fichier
se nomme en général <filename>/etc/X11/XF86Config</filename> ou
<filename>/etc/XF86Config</filename>). Vérifiez pour commencer que le
module correspondant au périphérique est bien présent. Les modules se
trouvent dans le répertoire <filename
class="directory">/usr/X11R6/lib/modules</filename> (les écrans EloTouch
et MicroTouch correspondent respectivement aux modules
<filename>xf86Elo.so</filename> et <filename>xf86MuTouch.so</filename>).
Regardez ensuite dans le fichier <filename>XF86Config</filename>, vous
devriez trouver une section ressemblant à ceci&nbsp;:

</para>

<screen>
Section "Files"
...
ModulePath "/usr/X11R6/lib/modules"
...
EndSection
</screen>

<para>

Pour que le module soit chargé par le serveur X, vous devrez avoir une
section ressemblant à ceci&nbsp;:

</para>

<screen>
Section "Module"
Load "xf86Elo.so"
EndSection
</screen>

<para>

Maintenant, la partie la plus délicate. Le serveur X a besoin de
connaître certains paramètres du périphérique. La section correspondante
doit ressembler à la section ci-dessous &mdash; reportez-vous à la page
de manuel de

<citerefentry>
  <refentrytitle>XF86Config</refentrytitle>
  <manvolnum>7</manvolnum>
</citerefentry>

pour plus d'informations&nbsp;:

</para>

<screen>
Section "Xinput"

 # Utilisez « SubSection "MicrotouchFinger" » pour un écran MicroTouch

 SubSection "Elographics"  

  Port "/dev/ttyS1"         # Pour un périphérique branché sur le 
                            # deuxième port série
                           
  DeviceName "EcranTactile" # N'importe quel nom non ambigu convient

  MinimumXPosition  300
  MaximumXPosition 3700
  MinimumYPosition  300
  MaximumYPosition 3700
  UntouchDelay       10     # non reconnu par le pilote MuTouch
  ReportDelay        10     # non reconnu par le pilote MuTouch
  AlwaysCore                # active le périphérique au démarrage
  
 EndSubSection
 
EndSection
</screen>

<para>

Les valeurs des entrées <literal>MinimumXPosition</literal>, et cætera
sont bien entendu spécifique à la configuration de votre matériel (ils
dépendent de la position de l'écran tactile par rapport au moniteur).
Ces valeurs définissent à quels points de l'écran tactile correspondent
les points (0,0) et (x<subscript>max</subscript>,
y<subscript>max</subscript>) de votre moniteur
(x<subscript>max</subscript> et y<subscript>max</subscript> dépendent de
la résolution choisie pour votre serveur X, par exemple 1024x768). Le
pilote lit ces valeurs et en déduit les autres coordonnées par
interpolation. Le schéma suivant illustre cette mise en
correspondance&nbsp;:

</para>

<screen>
 --------- surface de l'écran tactile -----------
 I                                              I
 I  ####### surface visible du moniteur ######  I
 I  #x                                       #  I
 I  # (0,0)                                  #  I
 I  # (MinimumXPosition,MinimumYPosition)    #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #    (MaximumXPosition,MaximumYPosition) #  I
 I  #                            (xmax,ymax) #  I
 I  #                                       x#  I
 I  ##########################################  I
 I                                              I
 ------------------------------------------------
</screen>

<para>

Trouver la bonne correspondance demandera soit un certain nombre
d'essais, soit de lire la sortie brute de ce périphérique (ce qui
demande une certaine connaissance de la programmation des ports
série&nbsp;: consultez le guide pratique de <ulink
url="&howto;Serial-Programming-HOWTO.html">Programmation des
entrées-sorties série</ulink> pour en savoir plus). Pour les écrans
tactiles EloTouch et MicroTouch, il existe un outil rudimentaire de
calibration (écrit par l'auteur de ce guide pratique), disponible à
l'adresse suivante&nbsp;: <ulink
url="http://www.sgoc.de/touchcal.html"/>.

</para>

</sect1>

<sect1>

<title>
Activer le périphérique
</title>

<para>

Après le démarrage du serveur X, lancez la commande suivante dans un 
terminal&nbsp;:

</para>

<screen>
xsetpointer <replaceable>nom_du_périphérique</replaceable>
</screen>

<para>

Où <replaceable>nom_du_périphérique</replaceable> est le nom défini dans
le fichier <filename>XF86Config</filename> à la ligne&nbsp;:

</para>

<screen>
...
DeviceName "<replaceable>...</replaceable>"
...
</screen>

<para>

Dans l'exemple présenté plus haut, il s'agissait
d'<literal>EcranTactile</literal>.

</para>

<para>

Pour que le périphérique soit géré au démarrage, ajoutez l'option
<literal>AlwaysCore</literal> dans la section de paramétrage de l'écran
tactile du fichier <filename>XF86Config</filename> (voir ci-dessus).

</para>
</sect1>

<sect1>

<title>
Utiliser en parallèle un écran tactile et une souris
</title>

<para>

Pour utiliser en parallèle un écran tactile et une souris, vous devrez
définir la souris dans la section <literal>Xinput</literal>. Cette
définition devrait être la même que la définition de la section
<literal>Pointer</literal>. Par exemple, pour une souris utilisant le
protocole PS/2&nbsp;:

</para>

<screen>
Section "Xinput" 
...
   SubSection "Mouse" 
      Protocol "PS/2" 
      Port "/dev/mouse"   # Ou /dev/psaux 
      DeviceName "Mouse" 
      AlwaysCore 
   EndSubSection
...
EndSection 
</screen>

<para>

Plusieurs personnes m'ont signalé ceci et notamment l'utilisation de
l'option <literal>AlwaysCore</literal>. Merci à eux.

</para>

</sect1>

<sect1>

<title>
Configuration sous XFree86 version 4
</title>

<subtitle>

suggérée par Lee Monamy

</subtitle>

<para>

Voici un exemple de paramétrage du fichier
<filename>XF86Config-4</filename> pour un écran tactile ELO&nbsp;:

</para>

<screen>
Section "InputDevice"
        Identifier "Ecran tactile ELO"
        Driver     "elographics"
        Option     "Device"            "/dev/ttyS0"
        Option     "MinimumXPosition"         "300"
        Option     "MaximumXPosition"        "3700"
        Option     "MinimumYPosition"         "300"
        Option     "MaximumYPosition"        "3700"
        Option     "UntouchDelay"              "10"
        Option     "ReportDelay"               "10"
        Option     "SendCoreEvents"           "yes"
EndSection
</screen>

<para>

Différence notable entre le paramétrage de cette version et celui de la
version&nbsp;3, vous devez indiquer <literal>Device</literal> à la
place de <literal>Port</literal>, sinon vous obtiendrez une erreur. De
plus, le paramètre <literal>AlwaysCore</literal> de la version&nbsp;3 a été
remplacé par <literal>SendCoreEvents</literal>.

</para>

<para>

Vous devez aussi ajouter une entrée correspondant à l'écran tactile dans
la section <literal>ServerLayout</literal>. Ceci, même si le serveur X
vous indique qu'il a bien ajouté votre écran tactile&nbsp;:
<quote><literal>(II) XINPUT: Adding extended input device "ECRANTACTILE"
(type: Elographics Touch Screen)</literal></quote>.

</para>

<screen>
Section "ServerLayout"
        Identifier      "Default Layout"
        Screen          "Default Screen"
        InputDevice     "Generic Keyboard"
...
        InputDevice     "Ecran tactile ELO"
EndSection
</screen>

<sect2>
<title>Un autre exemple de paramétrage (pour la gamme SMT3 de 
Microtouch)</title>

<subtitle>
par Dirk Mueller
</subtitle>

<screen>
Section "InputDevice"
        Identifier  "MicroTouchFinger"
        Driver      "mutouch"
        Option      "Type"             "finger"
        Option      "Device"           "/dev/ttyS0"
        Option      "ScreenNo"         "0"
        Option      "MinimumXPosition" "0"
        Option      "MaximumXPosition" "16383"
        Option      "MinimumYPosition" "0"
        Option      "MaximumYPosition" "16383"
EndSection
</screen>

<para>

L'option <literal>Type</literal> peut avoir pour valeur
<literal>finger</literal> ou <literal>stylus</literal>. Depuis que
Microtouch a été racheté par 3M-Touch, vous trouverez les ressources
relatives à ces produits à l'adresse suivante&nbsp;: <ulink
url="http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux"/>

</para>

</sect2>

<sect2>
<title>Complément</title>
<para>

D'après Wong Yeow Sen, les noms des options de configuration ont été
modifiés dans XFree86 version&nbsp;4.2 (au moins pour la distribution
Red Hat&nbsp;7.3). Si vous constatez que les valeurs de calibration que
vous avez défini ne sont pas utilisées, essayez d'utiliser les options
suivantes&nbsp;:

</para>
<screen>
...
        Option  "MinX"    "100"
        Option  "MaxX"   "4000"
        Option  "MinY"    "100"
        Option  "MaxY"   "4000"
...
</screen>

</sect2>
</sect1>

<sect1>

<title>

Écrans tactiles des portables LifeBook de Fujitsu

</title>

<subtitle>
par Joerg Hau
</subtitle>

<para>

Les adresses qui suivent contiennent des informations sur ces
périphériques&nbsp;:

</para>

<blockquote>

<para>

Le pilote Linux de Harald Hoyer pour les écrans tactiles des portables
LifeBook B112, B142 et B2130&nbsp;: <ulink
url="http://parzelle.de/Linux/Lifebook/"/>. Malheureusement, ce pilote
n'est utilisable qu'avec la version 3 de XFree et apparemment, la page
n'est plus mise à jour.

</para>

<para>

Le pilote de Kenan Esau pour les écrans tactiles des portables Lifebook
de la gamme <quote>B</quote>&nbsp;: <ulink
url="http://www.conan.de/lifebook/lifebook.html"/>. Il s'agit d'une
adaptation à XFree version&nbsp;4 du pilote de Harald Hoyer.

</para>

<para>

J'ai utilisé avec mon Fujitsu LifeBook B142 le pilote de Kenan Esau (décrit
à l'adresse&nbsp;: <ulink
url="http://www.mysunrise.ch/users/joerg.hau/linux/b142.htm"/>). Il
fonctionne correctement.

</para>

</blockquote>

</sect1>

<sect1>

<title>Lectures conseillées</title>

<itemizedlist>

<listitem><para>
    La page de manuel de
    <citerefentry>
      <refentrytitle>XF86Config</refentrytitle>
      <manvolnum>7</manvolnum>
    </citerefentry>
</para></listitem>

<listitem><para>
    <ulink url="http://www.elotouch.com/support/linux.asp"/>
</para></listitem>

<listitem><para>
    <ulink url="http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux"/>
</para></listitem>

<!-- Page disparue sans laisser d'adresse - JPG
<listitem><para>
    <ulink url="http://www.hof-berlin.de/tablet/tablet.html"/> 
    (Merci à Christer Olofsson de l'envoi de cette adresse)
</para></listitem>
-->

<listitem><para>
    <ulink url="http://freshmeat.net/projects/xf86elousb"/> (Pilote
    iTouch USB)
</para></listitem>
<listitem><para>
    Le manuel de votre écran tactile :-)
</para></listitem>

</itemizedlist>

</sect1>
</article>
