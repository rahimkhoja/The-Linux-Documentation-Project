<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
  "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd" [
<!ENTITY howto         "http://www.traduc.org/docs/howto/lecture/">
<!ENTITY mini-howto    "http://www.traduc.org/docs/mini-howto/lecture/">
<!ENTITY guides        "http://www.traduc.org/docs/guides/lecture/">
<!ENTITY tldp          "http://www.tldp.org">
<!ENTITY tldp-fr       "http://fr.tldp.org">
<!ENTITY traduc        "http://www.traduc.org">
<!ENTITY tourrilhes    "http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux">
]>

<article lang="fr">

<articleinfo>
  <title>Guide pratique du réseau sans-fil</title>

  <subtitle>
    Version française du <foreignphrase>Wireless 
    Howto</foreignphrase>
  </subtitle>

  <pubdate>23 juillet 2003</pubdate>
  <releaseinfo>Version&nbsp;: 1.7.fr.1.0</releaseinfo>

  <author>
    <firstname>Roberto</firstname>
    <surname>Arcomano</surname>
      <affiliation>
        <address><email>berto CHEZ bertolinux POINT com</email></address>
      </affiliation>
  </author> 

  <othercredit role="traduction">
    <firstname>Clément</firstname>
    <surname>Chaine</surname>
    <affiliation>
      <address><email>cchaine CHEZ dipsoft POINT com</email></address>
    </affiliation>
    <contrib>Adaptation française</contrib>
  </othercredit>

  <othercredit role="relecture">
    <firstname>Vanessa</firstname>
    <surname>Conchodon</surname>
    <affiliation>
      <address><email>nessie CHEZ little TIRET monster POINT org</email></address>
    </affiliation>
    <contrib>Relecture de la version française</contrib>
  </othercredit>

  <othercredit role="publication">
    <firstname>Jean-Philippe</firstname>
    <surname>Guérard</surname>
    <affiliation>
      <address><email>jean TIRET philippe POINT guerard CHEZ laposte POINT net</email></address>
    </affiliation>
    <contrib>Préparation de la publication de la v.f.</contrib>
  </othercredit>

  <revhistory>
    <revision>
    <revnumber>v1.7.fr.1.0</revnumber>
      <date>2003-07-23</date>
      <authorinitials>CC,VC,JPG</authorinitials>
    </revision>
    <revision>
      <revnumber>v1.7</revnumber>
      <date>2002-08-23</date>
      <authorinitials>RA</authorinitials>
    </revision>
  </revhistory>

  <abstract><para>
      Le sans-fil est une nouvelle technologie de cartes réseau
      permettant des débits élevés (jusqu'à 11&nbsp;Mbps) (NdT&nbsp;:
      aujourd'hui 22&nbsp;Mbps, 54 &nbsp;Mbps et bientôt 100&nbsp;Mbps).
      Ce document explique comment configurer un réseau sans-fil sous
      Linux, parle des problèmes de compatibilité, évoque les nécessités
      géographiques, et cætera.
  </para></abstract>

  <copyright>
    <year>2000-2002</year>
    <holder>Roberto Arcomano</holder>
  </copyright>

  <copyright>
    <year>2003</year>
    <holder>Clément Chaine</holder>
    <holder>Vanessa Conchodon</holder>
    <holder>Jean-Philippe Guérard</holder>
  </copyright>

</articleinfo> 

  <sect1>
    <title>Introduction</title>

    <sect2>
      <title>Introduction</title>

      <para>
      Ce document donne quelques éléments sur les réseaux sans-fil, leur
      configuration, et leurs difficultés. Différent du réseau filaire,
      le sans-fil demande la connaissance de quelques astuces si l'on
      veut qu'il fonctionne bien. Vous devrez avoir quelques
      connaissances en matière d'antennes, savoir les positionner, avoir
      quelques connaissances en matière de configurations itinérantes,
      et cætera. Vous pourrez trouver une aide encore plus intéressante
      dans le <ulink url="&tourrilhes;"><foreignphrase>Wireless 
      Howto</foreignphrase> de Jean Tourrilhes</ulink> (ce document est
      en langue anglaise).
      </para>

    </sect2>

    <sect2>
      <title>Commentaires et corrections</title>

    <para>
    Merci de faire parvenir en anglais tous commentaires, suggestions, 
    questions relatifs à ce document à l'adresse
    <email>berto CHEZ bertolinux POINT com</email>
    </para>

    <para>
    N'hésitez pas à faire parvenir tous commentaires relatifs à la
    version française de ce document à
    <email>commentaires CHEZ traduc POINT org</email>
    </para>

    </sect2>

    <sect2>
      <title>Nouvelles versions de ce document</title>
    
    <para>
    Les nouvelles éditions de ce document sont disponibles sur <ulink 
    url="http://www.bertolinux.com/"/> (en anglais).
    </para>

    <para>
    Les nouvelles éditions françaises de ce document sont disponibles 
    sur <ulink url="http://www.traduc.org/"/>.
    </para>
    
    </sect2>

    <sect2>
      <title>Copyright</title>

      <para>
          Copyright &copy; 2000,2001,2002 Roberto Arcomano.
      </para>

      <para>
          Copyright &copy; 2003 Clément Chaine, Vanessa Conchodon 
          et Jean-Philippe Guérard pour la version française.
      </para>

      <para>
      Ce document est libre, vous pouvez le redistribuer et le modifier
      selon les termes de la Licence Publique Générale GNU publiée par
      la <foreignphrase>Free Software Foundation</foreignphrase>
      (version 2 ou bien toute autre version ultérieure choisie par
      vous).
      </para>

      <para>
      Ce document est distribué dans l'espoir qu'il se révélera utile,
      mais <emphasis>sans aucune garantie</emphasis>, ni explicite, ni
      implicite, y compris les garanties de
      <emphasis>commercialisation</emphasis> ou <emphasis>d'adaptation à
      un but spécifique</emphasis>. Référez-vous à la licence GPL GNU
      pour plus de détails. Vous pouvez en obtenir une copie sur <ulink
      url="http://www.gnu.org/copyleft/gpl.html"/>.
      </para>

    </sect2>

    <sect2>
      <title>Traductions</title>

      <para>
      Vous êtes libre de traduire ce document, vous devez seulement&nbsp;:
      </para>

      <orderedlist>

      <listitem><para>
      Vérifier qu'aucune version de ce document n'existe déjà dans votre
      projet de documentation Linux (LDP) local.
      </para></listitem>

      <listitem><para>
      Conserver la section <quote>&nbsp;Introduction&nbsp;</quote> dans
      son intégralité (y compris
      <quote>&nbsp;Introduction&nbsp;</quote>,
      <quote>&nbsp;Copyright&nbsp;</quote>,
      <quote>&nbsp;Traductions&nbsp;</quote>,
      <quote>&nbsp;Remerciements&nbsp;</quote>)
      </para></listitem>

      </orderedlist>

      <warning><para>
      Vous ne devez pas traduire la version texte ou la version HTML de
      ce fichier. Au contraire, votre traduction devrait partir de la
      version source au format Lyx, afin qu'il soit possible de la
      convertir dans tous les autres formats (texte, HTML, RIFF, et
      cætera)&nbsp;: pour ce faire, vous pouvez utiliser le logiciel
      <quote>&nbsp;LyX&nbsp;</quote>, qu'il est possible de télécharger
      sur <ulink url="http://www.lyx.org"/>.
      </para></warning>

      <para>
      Pour réaliser une traduction, nul besoin de demander mon
      autorisation&nbsp;! Informez-moi simplement (si vous le souhaitez)
      de votre traduction.
      </para>

      <para>Merci pour votre traduction&nbsp;!</para>
    </sect2>

    <sect2>
      <title>Remerciements</title>

      <para>
      Merci à <ulink url="http://www.fatamorgana.com/">Fatamorgana
      Computers</ulink> pour l'équipement matériel et l'expérience
      apportée.
      </para>

      <para>
      Merci au <ulink url="http://www.tldp.org/">Projet de documentation
      Linux</ulink> pour la publication et la mise en ligne rapide de
      mon document.
      </para>
    </sect2>
  </sect1>

  <sect1>
    <title>Pré-requis</title>

    <sect2>
      <title>Qu'est ce que le sans-fil&nbsp;?</title>

      <para>
      Le sans-fil est une nouvelle technologie qui permet de connecter
      des ordinateurs à distance. Il fonctionne grâce à des cartes sans
      fil incluant un émetteur-récepteur à 2.4 GHz et présentant une
      interface logicielle semblable à Ethernet, avec une adresse
      matérielle unique pour chaque carte au monde. La puissance de
      transmission classique se situe entre 10-20&nbsp;mW et 100&nbsp;mW
      (voir les standards IEEE 802.11 et les autorisations de la
      FCC<footnote id="fcc"><para><foreignphrase>Federal Communications
      Commissions</foreignphrase>, l'autorité réglementaire des télécoms
      aux États-Unis</para></footnote>, de la CEPT<footnote
      id="cept"><para>Conférence Européenne des Administrations des
      Postes et Télécommunications</para></footnote> et de
      l'ART<footnote id="art"><para>Autorité de régulation des
      télécoms</para></footnote> pour la France).
      </para>
    </sect2>

    <sect2 id="distance-mini">
      <title>Quelle est la distance maximum entre deux cartes 
             radio&nbsp;?</title>

      <para>
      Le plus important dans les communications sans-fil est d'avoir une
      ligne à vue dégagée&nbsp;: vous <emphasis>devez voir</emphasis> (à
      l'&oelig;il nu ou avec des jumelles) la seconde antenne depuis la
      première, vous pouvez accepter (au pire) un petit arbre entre
      elles.
      </para>

      <para>
      La distance dépend de l'antenne (éventuellement de
      l'amplificateur) utilisée&nbsp;: 200 à 300 mètres avec une antenne
      omnidirectionnelle; 1&nbsp;km avec une antenne directionnelle; 2 à
      3&nbsp;km avec une antenne omnidirectionnelle amplifiée
      (200&nbsp;mW); plusieurs kilomètres avec une antenne parabolique;
      50 à 60&nbsp;km avec une antenne parabolique ou directionnelle
      amplifiée (plusieurs Watts).
      </para>

      <para>
      Soyez averti qu'il n'est pas toujours légal d'amplifier les cartes
      sans-fil (NdT&nbsp;: 100&nbsp;mW maximum en France), car vous
      pourriez violer les règles de l'ART (en France &mdash; ou de votre
      autorité de régulation nationale, de la CEPT ou de la FCC).
      </para>
      
    </sect2>

    <sect2>
      <title>
      Quelle est la différence entre un réseau filaire et un réseau sans
      fil&nbsp;?
      </title>

      <para>
      Les réseaux filaires sont simples à configurer (au moins à bas
      niveau). Les réseau sans-fil sont très difficiles à configurer, à
      gérer, à déboguer&hellip; Les problèmes classiques des réseaux
      filaires comme l'installation matérielle, l'installation
      logicielle, la mise au point, et cætera, deviennent vraiment
      cruciaux avec le sans-fil&nbsp;:
      </para>
      
      <orderedlist>

      <listitem><para>
      Vous devez choisir la bonne carte sans-fil&nbsp;: il existe de
      nombreuses cartes de différents fabricants, avec des
      spécifications et des conditions d'installation très diverses. Si
      vous voulez créer un petit réseau local, vous devrez acheter des
      cartes sans-fil et un point d'accès conformes à la norme IEEE
      802.11.
      </para></listitem>

      <listitem><para>
      Beaucoup de cartes sont <acronym>PCMCIA</acronym>, vous devez donc d'abord installer
      la gestion des ports <acronym>PCMCIA</acronym> sous Linux.
      </para></listitem>

      <listitem><para>
      Vous devez effectuer des tests avec deux systèmes simultanément,
      d'abord à courte distance, puis vous pourrez aller plus
      loin.
      </para></listitem>

      <listitem><para>
      Vous devrez effectuer vos tests par tous les temps (en général 
      avec de la pluie).
      </para></listitem>

      <listitem><para>
      Finalement, vous vous réjouirez d'avoir réussi la configuration.
      </para></listitem>

      </orderedlist>

      <para>
      Si vous avez installé un répéteur (une machine sous Linux qui
      contient plusieurs cartes filaires et sans-fil) vous risquez
      d'avoir des difficultés à modifier sa configuration à
      distance&nbsp;!
      </para>
      
    </sect2>

    <sect2>
      <title>
      Qu'ai-je besoin de savoir pour configurer un réseau 
      sans-fil&nbsp;?
      </title>

      <para>
      Des connaissances diverses sont nécessaire à la configuration d'un
      réseau sans-fil&nbsp;:
      </para>

      <orderedlist>

      <title>Connaissances logicielles</title>

      <listitem><para>
      Notions de base de réseau&nbsp;: adresses IP, masque de sous-réseau,
      passerelle&hellip; Ces notions sont abordées dans le
      <quote>&nbsp;Guide pratique de mise en réseau sous
      Linux&nbsp;</quote> (<foreignphrase>Linux Networking
      HOWTO</foreignphrase>)<footnote id="tldp"><para>Tous les guides
      pratiques cités dans ce document peuvent être récupérés en version
      française sur <ulink url="&tldp-fr;"/> ou sur <ulink
      url="&traduc;"/> et en version originale sur <ulink
      url="&tldp;"/>.</para></footnote>.
      </para></listitem>

      <listitem><para>
      
      Connaissances réseau spécifiques<footnoteref
      linkend="tldp"/>&nbsp;: mandataire ARP (<foreignphrase>proxy
      arp</foreignphrase>, ponts, système de fichier <filename
      class="directory">/proc</filename> abordés dans les petits guides
      <foreignphrase>Proxy-ARP-Subnet Mini-Howto</foreignphrase> et
      <foreignphrase>Bridge Mini-Howto</foreignphrase> ainsi que dans le
      fichier
      <filename>Documentation/Networking/ip-sysctl.txt</filename> livré
      avec les sources du noyau Linux (2.2.x ou 2.4.x).      
      </para></listitem>

      <listitem><para>
      Connaissances des réseaux sans-fil&nbsp;: de leurs modes d'accès
      (Ad-hoc, Infrastructure, et points d'accès), du concept de canaux,
      de la définition d'extérieur et d'intérieur, et ainsi de suite,
      renseignements que vous pourrez trouver dans n'importe quel
      document à propos du sans-fil&nbsp;: standards IEEE 802.11, CEPT,
      et cætera.
      </para></listitem>

      </orderedlist>

      <orderedlist>

      <title>Connaissances non-logicielles</title>

      <listitem><para>
      Une expérience minimum des antennes, de leur installation physique
      et de la façon de les pointer.
      </para></listitem>

      <listitem><para>
      L'installation matérielle d'un PC en prenant un soin particulier
      de ne pas produire d'interférences entre les différentes cartes
      sans-fil (si nécessaire).
      </para></listitem>

      </orderedlist>

      <para>Et surtout, pas mal de chance&nbsp;!</para>

    </sect2>

    <sect2>
      <title>Pourquoi devrais-je installer un réseau sans-fil, et qu'en
      attendre&nbsp;?</title>

      <para>Pourquoi&nbsp;? Par ce que vous n'êtes pas satisfait par les
      réseaux filaires.</para>

      <para>
      Les cartes sans-fil permettent de passer par-delà les jardins, les
      parcs, les maisons (mais vous <emphasis>devez voir</emphasis>
      l'autre côté)&hellip;
      </para>

      <para>
      Les protocoles haut niveau utilisés par les cartes sans-fil sont
      les mêmes que ceux utilisés par les cartes Ethernet&nbsp;:
      <acronym>TCP/IP</acronym> sur du sans-fil est en gros semblable à
      <acronym>TCP/IP</acronym> sur de l'Ethernet.  Cependant, faites
      attention aux partages réseau de Windows si vous utilisez Linux
      pour leur routage&nbsp;: en effet, vous devez savoir qu'un routeur
      IP ne laissera pas passer les messages de diffusion (voir le
      protocole NetBIOS)&nbsp;: dans ce cas, vous devrez utiliser un
      serveur <acronym>WINS</acronym> pour permettre l'exploration du
      réseau (voir la documentation de Samba).
      </para>

      <para>
      Le sans-fil vous permet de créer un petit réseau local avec un
      point d'accès central (et peut-être un partage de connexion
      Internet) et d'en ouvrir l'accès à tout le monde par les
      ondes&nbsp;!
      </para>

      <para>
      Imaginez un pays entièrement connecté par un réseau radio.
      </para>

      <para>
      Imaginez un réseau qui permettrait de connecter tous les habitants
      d'un pays ensembles, de partager des fichiers, des applications
      audio, des applications vidéo nécessitant une large bande passante
      (comme le réseau câblé)&hellip;
      </para>

      <para>
      Tout cela peut être réalisé (et ça l'est déjà dans certains pays)
      en utilisant des cartes sans-fil, des point d'accès sans-fil et
      des machines Linux sans-fil qui peuvent agir en tant que répéteur (à un
      niveau IP comme un routeur, ou si vous voulez, à un niveau liaison
      de données, avec un pilote pour pont.
      <!-- Plus d'informations sur
      <ulink url="http://openrock.net/bridge">ce lien http</ulink> ou
      <ulink url="ftp://openrock.net/bridge">ce lien ftp</ulink>)     
      -->
      </para>
    </sect2>

    <sect2>
      <title>
      Quelles sont les cartes sans-fil couvertes par ce guide pratique&nbsp;?
      </title>

      <para>
      Dans ce guide pratique, je commence avec une configuration
      générique &mdash; comme introduction au réseau sans-fil &mdash;
      puis je décris un exemple pour chacune des cartes que je connais
      directement, avec quelques astuces que vous pourrez utilisez pour
      améliorer leurs performances.
      </para>

      <orderedlist>
      <title>Liste des cartes sans-fil</title>

      <listitem><para>
      Proxim Symphony &mdash; <ulink url="http://www.proxim.com"/>
      </para></listitem>

      <listitem><para>
      Webgear AviatorPRO 2.4 (nécessite un support <acronym>PCMCIA</acronym>) &mdash;
      http://www.webgear.com (NdT&nbsp;: n'existe plus)
      </para></listitem>

      <listitem><para>
      Lucent Wavelan I, II, Orinoco &mdash; <ulink 
      url="http://www.lucent.com"/> et <ulink
      url="http://www.orinocowireless.com"/> (activitée rachetée par
      Proxim)
      </para></listitem>

      <!-- Cabletron se transforme en Enterasys Network
           et se recentre sur les entreprises
           http://www.lightreading.com/document.asp?doc_id=7275 -->

      <listitem><para>
      Cabletron &mdash; <ulink url="http://www.enterasys.com/fr/"/> 
      (NdT&nbsp;: Cabletron s'est recentré sur le marché des 
      entreprises, et se nomme désormais Enterasys Networks)
      </para></listitem>

      <listitem><para>
      YDI am930_isa &mdash; <ulink url="http://www.ydi.com"/>
      </para></listitem>

      <listitem><para>
      Modem Radio Siemens (Dect) &mdash; <ulink 
      url="http://www.siemens.com"/>
      </para></listitem>

      <listitem><para>
      RadioLan (5&nbsp;GHZ) &mdash; <ulink 
      url="http://www.radiolan.com"/>
      </para></listitem>

      </orderedlist>

      <para>
      Pour une liste plus exhaustive, voir le <ulink 
      url="&tourrilhes;"><foreignphrase>Wireless Howto</foreignphrase> 
      de Jean Tourrilhes</ulink>
      </para>

      <para>
      Le modem radio Siemens n'est pas vraiment une carte sans-fil
      802.11, il s'agit en fait d'un modem que vous pouvez brancher
      sur le port série et qui fonctionne comme un modem (à 1800 MHz,
      technologie DECT). Son utilisation est décrite plus loin (cf. 
      <xref linkend="modem-siemens"/>).
      </para>

      <para>
      Les cartes RadioLan fonctionnent à 5.4 GHz dans un environnement
      Windows 9x. Elle utilisent un point d'accès RadioLan qui sert de 
      pont entre un réseau filaire et un réseau sans-fil. Il n'existe 
      pas de pilotes Linux à ma connaissance.
      </para>
    </sect2>

    <sect2>
      <title>Combien ça coûte&nbsp;?</title>

      <para>
      Les cartes sans-fil de la liste ci-dessus sont très chères&nbsp;:
      elles commencent à plusieurs centaines de dollars et dépassent le
      millier de dollars pour les points d'accès qui possèdent 2 cartes
      sans-fil (Lucent par exemple) et qui peuvent être utilisées comme 
      pont (NdT&nbsp;: les prix ont beaucoup baissé depuis).
      </para>
    </sect2>
  </sect1>

  <sect1>
    <title>Informations techniques sur le sans-fil</title>

    <para>Ici, je présentes quelques informations techniques pour mieux
    comprendre l'environnement sans-fil de base.</para>

    <sect2>
      <title>Couche physique</title>

      <!-- cf. http://fr.wikipedia.org/wiki/Mod%E8le_OSI -->

      <para>Au premier niveau du modèle OSI, nous pouvons avoir 3 types 
      de spécifications&nbsp;:</para>
      
      <orderedlist>

      <!-- cf. http://rubb.free.fr/802-11/physique.php -->

      <listitem><para>
      <acronym>FHSS</acronym>&nbsp;: Étalement de spectre avec sauts de
      fréquence (<foreignphrase>Frenquency Hopping Spread
      Spectrum</foreignphrase>)
      </para></listitem>

      <listitem><para>
      <acronym>DSSS</acronym>&nbsp;: Étalement de spectre en séquence
      directe (<foreignphrase>Direct Sequence Spread
      Spectrum</foreignphrase>)
      </para></listitem>

      <listitem><para>
      Les connexions infrarouges, qui ne sont pas traitées dans ce
      guide.
      </para></listitem>

      </orderedlist>

    </sect2>

    <sect2>
      <title>Configurations</title>

      <orderedlist>

      <title>Les 2 types de configuration&nbsp;:</title>

      <listitem><para>
      Le mode <firstterm>Ad-hoc</firstterm> (aussi appelé mode
      indépendant), où l'on a deux réseaux indépendants avec chacun son
      propre Ensemble de services de base (<acronym>BSS</acronym>
      &mdash; <foreignphrase>Basic Service Set</foreignphrase>). Chaque
      poste de travail a le même <acronym>BSS</acronym>.
      </para></listitem>

      <listitem><para>
      Le mode <firstterm>Infrastructure</firstterm>, où plusieurs
      réseaux (avec chacun un <acronym>BSS</acronym>) peuvent
      communiquer entre eux par le biais d'un point d'accès (un pour
      chaque <acronym>BSS</acronym>) pour former un Ensemble de services
      étendus (<acronym>ESS</acronym> &mdash; <foreignphrase>Extended
      Service Set</foreignphrase>). Il y a aussi une fonction
      d'itinérance (<foreignphrase>roaming</foreignphrase>) qui permet à
      chaque station de se connecter au point d'accès le plus proche.
      </para></listitem>

      </orderedlist>

      <para>
      Ad-hoc est la méthode la plus simple (mais qui peut difficilement
      être utilisée à grande échelle) et permet à de nombreux hôtes de
      communiquer directement ensemble. La principale restriction de ce
      mode est que, pour pouvoir atteindre la totalité du réseau, il est
      nécessaire que chacun soit visible de tous les autres (au moins
      idéalement, car ce problème pourrait être résolu au niveau
      IP&nbsp;! Pour en savoir plus, voir la <xref
      linkend="config-ip"/>).
      </para>

<programlisting>
Mode Ad-hoc 

                               A - - - - - C
                                 \       /
                               |   \   /   |
                                     /\
                               |   /    \  |
                                 /       \
                               B - - - - - D
</programlisting>

      <para>
      Dans un environnement en mode Infrastructure, on utilise un point
      d'accès auquel <emphasis>tous</emphasis> les autres hôtes doivent
      se connecter pour partager le réseau.
      </para>

<programlisting>
Mode Infrastructure 
                                     ESS
 
          A - - - | - Point d'accès - - Point d'accès - | - - - D
 
          B - - - |   BSS1                    BSS2      | - - - E
 
          C - - - |                                     | - - - F
</programlisting>

      <para>
      B et C ne peuvent pas voir D, E et F, mais ils peuvent communiquer
      car ils utilisent tous le même <acronym>ESS</acronym>.
      Important&nbsp;: A, B et C pourraient aussi ne pas se voir.
      </para>

      <para>
      De plus, on utilise les termes de intérieur
      (<foreignphrase>indoor</foreignphrase>) et extérieur
      (<foreignphrase>outdoor</foreignphrase>) pour distinguer une
      couverture de petite taille d'une grande couverture.
      </para>
    </sect2>

    <sect2>
      <title>Compatibilité</title>

      <para>Gardez bien en tête le fait qu'il existe beaucoup de cartes
      sans-fil dans le monde, mais que toutes ces cartes ne sont pas 
      forcément capables de communiquer entre elles. Pour être capable 
      de se parler, deux cartes doivent utiliser&nbsp;:</para>

      <orderedlist>
     
      <listitem><para>
      le même mode de configuration&nbsp;: tout en Ad-hoc ou tout en
      Infrastructure&nbsp;;
      </para></listitem>

      <listitem><para>
      la même couche physique&nbsp;: tout en <acronym>DSSS</acronym> ou
      tout en <acronym>FHSS</acronym>&nbsp;;
      </para></listitem>

      <listitem><para>
      le même protocole (par exemple, Proxim possède son propre
      protocole propriétaire, OpenAir, qui ne peut pas communiquer avec
      les autres cartes <acronym>FHSS</acronym>).
      </para></listitem>

      </orderedlist>

    </sect2>

    <sect2>
      <title>Dois-je utiliser Ad-hoc ou Infrastructure&nbsp;?</title>

      <para>Les points d'accès sont très pratiques et réduisent les
      problèmes, mais sont chers. Idéalement, pour un gros réseau, vous
      fonctionnerez en mode Infrastructure, alors qu'avec un petit nombre
      d'hôtes, vous choisirez plutôt le mode Ad-hoc&nbsp;: pourquoi dépenser
      beaucoup d'argent pour quelques hôtes&nbsp;?</para>

      <para>De toutes façons, sachez que si vous dépensez plus d'argent,
      tout fonctionnera probablement bien, alors qu'en dépensant moins,
      vous ferez probablement face à plus de problèmes.</para>
    </sect2>

    <sect2>
      <title>
      Une machine Linux ne peut pas fonctionner comme point d'accès&nbsp;?
      </title>

      <para>Bonne question&nbsp;!</para>

      <para>Depuis peu, il existe une solution matérielle à ce problème&nbsp;:
      Prism2</para>

      <para>Vous pourrez en apprendre plus sur <ulink
      url="http://hostap.epitest.fi/"/></para>
    </sect2>
  </sect1>

  <sect1>
    <title>La <quote>&nbsp;caisse à outils&nbsp;</quote></title>

    <sect2>
      <title>Matériel nécessaire</title>

      <para>
      Vous aurez besoin d'une machine Linux (un 486 ou mieux, au moins un
      Pentium 100, avec un minimum de 16&nbsp;Mo de RAM), une cartes
      réseau sans-fil, une antenne (voir la <xref
      linkend="distance-mini"/>). Vous devrez avoir la même chose de
      l'autre côté (avec Windows 9x ou Windows NT si vous préférez) car
      vous devrez simuler une communication&nbsp;!
      </para>
    </sect2>

    <sect2>
      <title>Logiciels nécessaires</title>

      <para>Vous aurez besoin&nbsp;:</para>

      <orderedlist>

      <listitem><para>
      des sources d'un noyau récent et stable (2.2.x au moins)&nbsp;;
      </para></listitem>

      <listitem><para>
      de sources stables du pilote pcmcia (pcmcia-cs) si vous avez 
      acheté une carte <acronym>PCMCIA</acronym>&nbsp;;
      </para></listitem>

      <listitem><para>
      de pilotes réseau sans-fil&nbsp;: si vous n'en avez pas vous,
      pourrez les télécharger depuis le site web du revendeur ou du
      constructeur de la carte. Si vous ne trouvez pas, vous pourrez
      consulter le <ulink url="&tourrilhes;"><foreignphrase>Wireless
      Howto</foreignphrase> de Jean Tourrilhes</ulink>.
      </para></listitem>

      </orderedlist>

      <para>
      Si vous ne les trouvez pas, même là, vous n'aurez plus qu'à
      attendre ou à convertir un pilote pour Windows en pilote pour
      Linux&nbsp;!! (Bonne chance&nbsp;!).
      </para>

      <para>
      Après cela, vous devrez recompiler votre noyau, recompiler vos
      sources pcmcia (si vous en avez besoin pour votre carte sans-fil),
      et enfin recompiler votre pilote sans-fil. Ceci est la situation
      classique, mais pour certaines cartes, vous n'aurez peut-être a
      effectuer que l'étape 3 ou seulement les étapes 1 et 3, cela
      dépend des pilotes.
      </para>
    </sect2>
  </sect1>

  <sect1>
    <title>Vue d'ensemble de la configuration d'un réseau sans-fil</title>

    <sect2>
      <title>Étapes fondamentales</title>

      <para>
      Une fois que vous avez le matériel nécessaire et que vous aurez
      compilé tout ce dont vous avez besoin, vous devrez effectuer les 
      étapes fondamentales de configuration d'un réseau sans-fil&nbsp;:
      </para>

      <orderedlist>

      <listitem><para>
      Configuration bas-niveau du noyau de Linux. Cela lui permettra de
      voir votre carte sans-fil (à un bas-niveau, soit par
      exemple&nbsp;: ports E/S, interruptions, dma&hellip;)&nbsp;: vous
      devrez voir apparaître un message quelconque qui vous prévienne
      que la carte sans-fil a bien été trouvée et configurée.
      </para></listitem>

      <listitem><para>
      Configuration au niveau liaison de données. Pour chaque carte sans
      fil, il existe un utilitaire qui permet de paramétrer les valeurs
      classiques du niveau liaison de données pour le sans-fil. Par
      exemple, pour la Proxim Symphony, l'utilitaire s'appelle
      <command>proxcfg</command> alors que les paramètres des
      cartes <acronym>PCMCIA</acronym> se trouve dans les fichiers de configuration <acronym>PCMCIA</acronym>.
      Vous devrez configurer toutes vos cartes sans-fil de manière
      cohérente si vous voulez qu'elle puissent fonctionner ensemble.
      </para></listitem>

      <listitem><para>
      Configuration IP. Arrivé à cette étape, vous devriez pouvoir
      utiliser les commandes <command>ifconfig</command> et 
      <command>route</command> pour modifier les paramètres IP.
      </para></listitem>

      <listitem><para>
      Utiliser quelques astuces améliorer les performances et éviter les
      conflits. Les éléments de base de votre réseau fonctionnent
      désormais correctement&nbsp;: en complément, vous devrez ajuster
      quelques paramètres spécifiques, tels que le mandataire ARM
      (<foreignphrase>proxy arp</foreignphrase>, la redirection de
      l'écho <acronym>ICMP</acronym>, le pontage, le changement de
      canal, et cætera, pour optimiser votre réseau et éviter des
      conflits bizarres et mangeurs de bande passante.
      </para></listitem>

      </orderedlist>

      <para>
      N.B.&nbsp;: les étapes 1, 2 et 3 correspondent au niveaux
      correspondant du modèle OSI, alors que l'étape 4 est un complément
      destiné à résoudre les situations générées par les masques de
      réseau 255.255.255.255. En fait un masque de sous-réseau dont les 32
      bits sont à 1 viole le standard OSI car cela force le réseau à
      utiliser la même adresse pour les messages de diffusion et les
      messages destinés à l'IP de la machine. De plus, l'adresse du
      réseau n'existe pas.
      </para>

      <para>
      On pourrait critiquer ce point de vue, mais l'utilisation du
      modèle OSI pour configurer un réseau sans-fil entraînerait une
      perte importante lors de la configuration des sous-réseaux&nbsp;;
      en effet, chaque sous-réseau gaspille 2 adresses IP (adresse
      réseau et adresse de diffusion) et cette structure fait perdre en 
      souplesse pour l'affectation des adresses IP (de manière 
      géographique). Vous en trouverez plus à ce sujet en annexe (cf. 
      <xref linkend="masque-tout-a-un"/>).
      </para>

      <para>Vous noterez que l'étape 2 n'est pas nécessaire dans un
      réseau filaire, car il n'y a pas de paramètres particuliers à
      configurer à ce niveau.</para>
    </sect2>

    <sect2 id="config-noyau">
      <title>Configuration bas-niveau du noyau</title>

      <para>
      Il s'agit d'un problème récurrent dans l'administration d'un
      PC&nbsp;: faire que votre noyau (ou vos logiciels d'une manière 
      générale) reconnaisse votre matériel.
      </para>

      <para>
      Les cartes sans-fil sont encore plus complexes car beaucoup
      d'entre-elles se branchent sur un port <acronym>PCMCIA</acronym>. Donc, vous devrez
      d'abord permettre à votre noyau de voir l'adaptateur <acronym>PCMCIA</acronym>,
      ensuite vous pourrez essayer d'installer le pilote matériel
      spécifique à votre carte sans-fil.
      </para>

      <para>Dans les configurations <acronym>PCMCIA</acronym>, vous devrez&nbsp;:</para>

      <orderedlist>

      <listitem><para>
      Installer les sources du noyau Linux, de <ulink
      url="http://www.kernel.org"/> dans <filename
      class="directory">/usr/src/linux</filename> (cf. les utilitaires
      <command>tar</command> et <command>gzip</command>)
      </para></listitem>

      <listitem><para>
      Installer les sources des pilotes pcmcia, se trouvant sur <ulink
      url="http://pcmcia-cs.sourceforge.net/"/> dans <filename
      class="directory">/usr/src/pcmcia</filename> (voir les utilitaires
      tar et gzip)
      </para></listitem>

      <listitem><para>
      Configurer et recompiler votre noyau&nbsp;: lisez le fichier
      <filename>README</filename> inclus dans <filename 
      class="directory">/usr/src/linux</filename>
      </para></listitem>

      <listitem><para>
      Configurez et recompilez les sources du pilote pcmcia&nbsp;: dans
      <filename class="directory">/usr/src/pcmcia</filename> utilisez
      <command>configure</command> et <command>make</command>. Assurez
      vous que votre pilote est présent, sinon vous devrez l'installer
      en suivant les instruction du pilote (normalement, un
      <userinput>tar&nbsp;xvzf&nbsp;<replaceable>driver.tgz</replaceable>
      </userinput> dans le répertoire <filename
      class="directory">pcmcia</filename> devrait suffire). Ensuite,
      entrez <userinput>make all</userinput> pour compiler. 
      Enfin, entrez <userinput>make install</userinput>.
      </para></listitem>

      <listitem><para>
      Après l'installation, vous trouverez des fichiers de configuration
      utiles dans <filename class="directory">/etc/pcmcia</filename>.
      </para></listitem>

      </orderedlist>

      <para>Dans les autres cas&nbsp;:</para>

      <orderedlist>
      
      <listitem><para>
      Si votre pilote est présent dans les sources du noyau Linux (ce
      qui est souvent le cas des cartes récentes), vous devrez
      l'installer dans un répertoire puis le compiler.
      </para></listitem>
      
      </orderedlist>

      <para>
      Une fois que vous connaîtrez le nom du module, vous devrez le
      charger&nbsp;: dans une configuration <acronym>PCMCIA</acronym>
      vous aurez seulement besoin de lancer le démon pcmcia
      (<userinput>/etc/rc.d/init.d/pcmcia&nbsp;start</userinput> sous
      RedHat). Pour les autres configurations, il suffira d'utiliser
      <userinput>modprobe <replaceable>nom_du_module</replaceable>
      <replaceable>options</replaceable> </userinput>. Dans les
      <replaceable>options</replaceable>, vous donnerez les ports d'E/S,
      ainsi que les paramètres d'IRQ et de la liaison données (voir la
      <xref linkend="liaison-donnees"/>) au pilote sans-fil.
      </para>

      <para>
      Dans tous les cas, voici les outils pouvant être utilisés pour
      vérifier si votre matériel est correctement reconnu par le
      pilote&nbsp;:
      </para>

      <orderedlist>
      
      <listitem><para>
      <userinput>tail /var/log/messages</userinput> qui affiche 
      les dernières entrées du journal système 
      (<filename>syslog</filename>)&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>dmesg</userinput> qui affiche les messages du 
      noyau&nbsp;;
      </para></listitem>

      <listitem><para>

      le répertoire <filename class="directory">/proc</filename>&nbsp;:
      les fichiers <filename>ioports</filename> (informations sur les
      ports d'E/S), <filename>devices</filename> (périphériques
      reconnus), <filename>interrupts</filename> (IRQ) et les
      sous-répertoires de <filename class="directory">driver</filename>,
      contenant des informations spécifiques à certains pilotes.
      
      </para></listitem>

      </orderedlist>

    </sect2>

    <sect2 id="liaison-donnees">
      <title>Configuration de la liaison données</title>

      <para>Qu'est-ce que c'est&nbsp;?</para>

      <para>
      Les réseaux filaires ont seulement besoin d'être connectés et l'on
      peut immédiatement définir les paramètres <acronym>TCP/IP</acronym>.
      </para>

      <para>
      En revanche, pour les réseaux sans-fil il est nécessaire de
      paramétrer la liaison données, afin de définir par exemple&nbsp;:
      </para>

      <orderedlist>

      <listitem><para>
      De quelle type de réseau sans-fil est-ce que je dépends (Ad-hoc ou
      Infrastructure)&nbsp;?
      </para></listitem>

      <listitem><para>
      Quel canal dois-je utiliser&nbsp;?
      </para></listitem>

      <listitem><para>
      À quel sous-réseau (<acronym>BSSID</acronym>) est-ce que
      j'appartiens, quel est mon identifiant
      (<acronym>ESSID</acronym>)&nbsp;?
      </para></listitem>

      <listitem><para>
      Ma communication est-elle protégée par un algorithme de
      chiffrement&nbsp;? Quelle est la longueur de la clé&nbsp;?
      </para></listitem>

      </orderedlist>

      <para>
      Comme vous le voyez, il y a beaucoup de paramètres à définir. 
      Ceci tient à l'architecture des réseaux sans-fil&nbsp;: une
      personne se trouvant dans un périmètre proche n'aurait qu'à
      diriger une antenne dans la bonne direction et à entrer les bons
      paramètres <acronym>TCP/IP</acronym> pour intercepter vos paquets
      et utiliser vos services.
      </para>

      <para>
      De plus, la présence d'un grand nombre de sous-réseaux sans-fil 
      pourrait générer des interférences entre ceux-ci.
      </para>

      <para>Il existe donc&nbsp;:</para>

      <orderedlist>

      <listitem><para>
      des options à définir lors du chargement du module&nbsp;:
      <userinput>modprobe ray_cs
      essid='<replaceable>LINUX</replaceable>'</userinput> par exemple,
      ou
      </para></listitem>

      <listitem><para>
      des utilitaires permettant de paramétrer le pilote en cours 
      de fonctionnement&nbsp;: <userinput>proxcfg eth1 
      master</userinput> par exemple.
      </para></listitem>

      </orderedlist>

    </sect2>

    <sect2 id="config-ip">
      <title>Configuration IP</title>

      <para>Il s'agit du troisième problème auquel vous allez faire face.
      À cette étape, la situation ne devient problématique que lorsque votre
      réseau évolue pour devenir plus grand.</para>

      <para>Souvenez-vous&nbsp;: le réseau IP sans-fil ne vous stressera pas si
      vous ne le stressez pas&nbsp;!</para>

      <bridgehead>Une configuration simple</bridgehead>

<programlisting>
                      Chaque hôte voit tous les autres
 
                               A - - - - - C
                                 \       /
                               |   \   /   |
                                     /\
                               |   /    \  |
                                 /       \
                               B - - - - - D
</programlisting>

      <para>Une configuration comme celle-ci ne requiert rien de particulier
      (à un niveau IP)&nbsp;: vous devez seulement attribuer une adresse IP à
      chaque hôte et un masque de sous-réseau global cohérent.</para>

      <bridgehead>Une configuration plus complexe</bridgehead>

<programlisting>
                       A ne voit pas B directement
 
                                A &lt;- - - -
                            Pas \        |
                             de \        C
                  communication \        |
                                B &lt;- - - -
</programlisting>

      <para>Dans ce cas, A et B ne peuvent communiquer qu'en passant par C</para>

      <para>
      Si le réseau est en mode Infrastructure et que C est le point
      d'accès, il n'y a pas de problème. En mode Ad-hoc, vous pouvez
      aussi donner à un hôte le rôle de <emphasis>maître</emphasis> (Je
      sais que ce terme n'est pas si cérémonieux&nbsp;!). Celui-ci
      pourra créer un <acronym>BSS</acronym> auquel n'importe quel autre
      hôte pourra se joindre.
      </para>

      <para>
      Au niveau IP, nous sommes ici totalement connectés&nbsp;: A et B
      communiquent avec C en utilisant la même interface de C. En
      conséquence, si vous essayez de faire un <command>ping</command>
      de A vers B, vous recevrez de nombreux paquets <literal>ICMP
      REDIRECT</literal> (redirection ICMP) envoyés par C, celui-ci
      informant A que sa destination se trouve déjà dans le réseau d'où
      provient sa requête.
      </para>

      <para>
      Solution&nbsp;: sur la machine C, entrez
      <userinput>echo&nbsp;0&nbsp;&gt;&nbsp;/proc/sys/net/ipv4/conf/<replaceable>ethx</replaceable>/send_redirects</userinput>
      (où <replaceable>ethx</replaceable> est l'interface de C vers A et
      B) pour annuler l'envoi de ces messages.
      </para>

      <para>
      Un autre problème&nbsp;: quel masque de sous-réseau attribuer à A et
      B&nbsp;? Si vous attribuez à A un masque qui inclut A et B, rien
      ne fonctionnera, car A n'utilisera pas la passerelle (C) mais fera
      directement des requêtes ARP afin d'obtenir l'adresse MAC de sa 
      destination, qui hélas est injoignable directement.
      </para>

      <para>
      Vous pourriez envisager d'utiliser un mandataire ARP
      (<foreignphrase>proxy arp</foreignphrase>), mais cela ne marchera
      pas non plus. En effet, un mandataire ARP ne répondra à la source
      que si la destination et la source se trouvent sur deux interfaces
      différentes, ce qui n'est pas le cas&nbsp;!
      </para>

      <para>
      Vous devrez donc attribuer un masque de sous-réseau très petit
      (Win9x autorise <literal>255.255.255.254</literal>, alors que sous
      WinNT il faudra au moins <literal>255.255.255.248</literal>), et
      vous devez vous assurer que les hôtes A et B n'ont pas une adresse 
      réseau identique. 
      </para>

      <para>Exemples&nbsp;:</para>

      <orderedlist>

      <listitem><para>
      <literal>IP(A) = x.y.z.2/31</literal> et <literal>IP(B) =
      x.y.z.3/31</literal>. Cela ne fonctionnera pas car A pensera que B
      est dans son sous-réseau, et cherchera à réaliser une requête ARP
      pour le joindre. B ne recevra pas la requête (il n'est pas
      joignable par A). C ne répondra pas, même s'il dispose d'un
      mandataire ARP car, pour lui, A et B se trouvent sur la même
      interface.
      </para></listitem>

      <listitem><para>
      <literal>IP(A) = x.y.z.1/31</literal> et <literal>IP(B) =
      x.y.z.2/31</literal>. Cela fonctionnera, car A contactera C pour
      entrer en relation avec B (envoi des paquets destinés à B vers
      l'adresse MAC de C).
      </para></listitem>

      </orderedlist>

      <para>
      En général, avec un masque de sous-réseau de
      <literal>255.255.255.254</literal>, le système fonctionne avec 2
      adresses IP en changeant simplement le dernier chiffre, et en
      s'assurant que si le dernier chiffre de l'un des adresses est
      paire, le dernier chiffre de l'autre adresse n'est pas le chiffre
      impair immédiatement supérieur.
      </para>

      <para>
      Ce sont des contraintes de <acronym>TCP/IP</acronym>, mais c'est 
      la seule méthode permettant d'obtenir un haut niveau de 
      flexibilité.
      </para>

      <note><para>
      Si vous utilisez un point d'accès, c'est-à-dire un réseau en mode
      Infrastructure, vous n'aurez pas le problème de redirection, car
      tout sera résolu au niveau liaison de données (presque tous les
      points d'accès se comportent comme des ponts). Mais les points
      d'accès sont chers (un millier de dollars, voire
      plus)<footnote><para>NdT&nbsp;: les prix ont maintenant beaucoup
      baissé en ce qui concerne le 802.11b. L'achat d'un point d'accès
      peut donc se révéler une solution plus économique que
      l'utilisation d'une machine Linux.</para></footnote> et il est
      plus économique d'utiliser un Pentium 133 avec 32&nbsp;Mo de 
      mémoire vive comme routeur, même avec 2 cartes ou plus.
      </para></note>

      <bridgehead>Accès à Internet</bridgehead>

<programlisting>
                               A - - - - - C - - Internet
                                 \       /
                               |   \   /   |
                                     /\
                               |   /    \  |
                                 /       \
                               B - - - - - D
</programlisting>

      <para>Il existe plusieurs situations&nbsp;:</para>

      <orderedlist>

      <listitem><para>
      Seule la machine C dispose d'une adresse IP publique (sur son
      interface côté Internet). Vous devrez simplement lui attribuer une
      adresse IP privée (<literal>192.168.x.y</literal> par exemple) 
      pour le réseau sans-fil, ce qui permettra l'utilisation du routage 
      et du masquage. C sera la passerelle par défaut de A, B et D.
      </para></listitem>

      <listitem><para>
      Vous disposez d'un sous-réseau public visible depuis Internet et C
      est votre passerelle par défaut (entre votre réseau et Internet).
      Vous devrez seulement activer le routage sur C, et paramétrer 
      définir C comme passerelle par défaut sur A, B et D.
      </para></listitem>

      <listitem><para>
      Vous disposez d'un sous-réseau public visible depuis Internet et C
      n'est pas votre passerelle par défaut vers Internet. Deux
      solutions s'offrent à vous&nbsp;: modifier votre passerelle par
      défaut pour qu'elle pointe sur C pour les adresses appartenant à
      votre réseau. Par symétrie, C doit pointer sur votre passerelle
      par défaut pour aller vers Internet. L'autre solution serait
      d'activer un mandataire ARP (<foreignphrase>proxy
      arp</foreignphrase>) sur C
      (<userinput>echo&nbsp;1&nbsp;&gt;&nbsp;/proc/sys/net/ipv4/conf/<replaceable>ethx</replaceable>/proxy_arp</userinput>
      où <replaceable>ethx</replaceable> est l'interface vers la
      passerelle par défaut), puis paramétrer C pour que sa passerelle par
      défaut pointe vers la passerelle par défaut. Utiliser un
      mandataire ARP est un détournement de <acronym>TCP/IP</acronym>
      mais fonctionne bien.
      </para></listitem>

      </orderedlist>

      <bridgehead>Réseaux mixtes&nbsp;: filaires et sans-fil</bridgehead>

<programlisting>
                                Internet         
                                       \      
                                        \        E
                                         \     /
                                          \  /       sans-fil
                               A - - - - - C - - F
                                 \       /   \
                               |   \   /   |   \
                      filaire        /\          G                             
                               |   /    \  |
                                 /       \
                               B - - - - - D
</programlisting>

      <para>
      Maintenant, C relie deux réseaux&nbsp;: sans-fil à droite et
      filaire à gauche.
      </para>

      <para>
      De plus, il y a un accès à Internet, vous avez donc au total 3
      cartes réseau dans C.
      </para>

      <para>
      Quels adresses IP attribuer aux hôtes&nbsp;? Vous avez deux
      solutions&nbsp;:
      </para>

      <orderedlist>

      <listitem><para>
      Séparer le réseau en deux sous-réseaux&nbsp;: par exemple
      <literal>192.168.1.0/24</literal> et
      <literal>192.168.2.0/24</literal>. Cette solution est rapide mais 
      ne sera pas extensible si vous utilisez des adresses Internet 
      publiques, car cela obligerait à gaspiller trop d'adresses IP.
      </para></listitem>

      <listitem><para>
      Activer un mandataire ARP (<foreignphrase>proxy
      arp</foreignphrase>) sur C pour les 2 interfaces. Les paramètres
      réseau (adresse réseau et masque) sont les mêmes pour le sans-fil
      et le filaire, mais grâce au mandataire ARP, on peut choisir 
      quelles adresses IP sont sur le réseau filaire et quelles 
      adresses sont sur le réseau sans-fil.
      </para></listitem>

      </orderedlist>

      <bridgehead>
      Examinons cette deuxième solution plus en détails
      </bridgehead>

      <para>
      Par exemple, considérez que vous avez un sous-réseau public en
      <literal>x.y.z.0/24</literal>      
      </para>

      <para>Les interfaces sont&nbsp;:</para>

<programlisting>
ifconfig eth0 x.y.z.<replaceable>C</replaceable> netmask 255.255.255.255 # filaire
ifconfig eth1 x.y.z.<replaceable>C</replaceable> netmask 255.255.255.255 # sans-fil
ifconfig eth2 x.y.z.<replaceable>C</replaceable> netmask 255.255.255.255 # vers Internet
</programlisting>

      <para>Les routes statiques pour <literal>eth2</literal> 
      sont&nbsp;:</para>

<programlisting>
route add <replaceable>adresse_passerelle</replaceable> dev eth2
route add default gw <replaceable>adresse_passerelle</replaceable>
</programlisting>

      <para>
      Ces routes servent à diriger vers votre passerelle par défaut
      toutes les requêtes vers Internet&nbsp;: comme vous pouvez le
      remarquer, vous devez d'abord indiquer à Linux où se trouve le
      routeur, puis de diriger par défaut les requêtes vers celui-ci.
      </para>

      <para>
      Routes statiques sur <literal>eth0</literal>&nbsp;:
      </para>

<programlisting>
route add x.y.z.<replaceable>A</replaceable> dev eth0
route add x.y.z.<replaceable>B</replaceable> dev eth0
route add x.y.z.<replaceable>D</replaceable> dev eth0
</programlisting>

      <para>
      (Les hôtes A, B et D se trouvent sur le réseau filaire.)
      </para>

      <para>
      Routes statiques sur <literal>eth1</literal>&nbsp;:
      </para>

<programlisting>
route add x.y.z.<replaceable>E</replaceable> dev eth1
route add x.y.z.<replaceable>F</replaceable> dev eth1
route add x.y.z.<replaceable>G</replaceable> dev eth1
</programlisting>

      <para>
      (Les hôtes E, F et G se trouvent sur le réseau sans-fil.)
      </para>

      <para>
      Cela vous donnera une très grande souplesse, mais vous devrez 
      définir à la main la configuration relative à chaque hôte.
      </para>
    </sect2>
  </sect1>

  <sect1>
    <title>Configuration</title>

    <warning><para>
    Cette partie du texte original a été partiellement réécrite pour la
    version française. En effet, une grande partie des informations
    fournies par la version originale étaient trop obsolètes pour être
    utiles. Ces modifications ont été transmises à l'auteur pour
    inclusion dans les prochaines versions.
    </para></warning>


    <para>
    Je présente ici quelques exemples (que j'espère utiles) de la façon
    de configurer certaines cartes sans-fil économiques courantes.
    </para>

    <sect2 id="info-generales">
      <title>
      Informations générales sur la configuration
      </title>

      <para>
      Les cartes sans-fil ont une interface similaire à n'importe
      quelle autre carte Ethernet, vous devrez donc ajouter dans
      <filename>/etc/conf.modules</filename>&nbsp;:
      </para>

<programlisting>
alias <replaceable>ethx</replaceable> <replaceable>module</replaceable>
</programlisting>

      <itemizedlist>

      <listitem><para>
      <replaceable>ethx</replaceable> est l'interface que vous voulez
      attribuer à votre carte sans-fil&nbsp;;
      </para></listitem>
      
      <listitem><para>
      <replaceable>module</replaceable> est le nom du module du noyau.
      </para></listitem>

      </itemizedlist>

<programlisting>
options <replaceable>module</replaceable> io=<replaceable>0xAAA</replaceable> irq=<replaceable>I</replaceable> &hellip;
</programlisting>

      <itemizedlist>

      <listitem><para>
      <replaceable>0xAAA</replaceable> est l'adresse de base d'E/S 
      correspondant à la carte&nbsp;;
      </para></listitem>
      
      <listitem><para>
      <replaceable>I</replaceable> est l'IRQ utilisée par votre 
      carte&nbsp;;
      </para></listitem>

      <listitem><para>
      et ainsi de suite s'il y a d'autre paramètres.
      </para></listitem>

      </itemizedlist>
      
      <para>
      Après cela, vous pourrez utiliser les commandes
      <command>ifconfig</command> et <command>route</command> pour
      configurer votre cartes au niveau IP.
      </para>
      
    </sect2>

    <!-- Il ne semble pas possible de compiler ce pilote sous une 
         distribution Debian instable. Est-il encore utilisable avec les 
         noyaux actuels ? JPG
      -->

    <sect2>
      <title>Symphony (Proxim)</title>

      <para>
      Type de réseau&nbsp;: <acronym>FHSS</acronym>, Ad-hoc seulement,
      et avec le protocole propriétaire OpenAir.
      </para>

      <para>
      Site web&nbsp;: <ulink
      url="http://www.komacke.com/distribution.html"/> où vous devrez
      télécharger la documentation et les pilotes Linux. Les pilotes
      pour les systèmes Windows sont disponibles sur <ulink
      url="http://www.proxim.com"/>.
      </para>

      <para>
      Les pilotes sont fournis avec un code source à compiler.
      </para>

      <orderedlist>

      <title>Configuration</title>

      <listitem><para>
      Décompressez le fichier tar dans un répertoire vide.
      </para></listitem>

      <listitem><para>
      Tapez <command>make</command> pour obtenir de l'aide.
      </para></listitem>

      <listitem id="symphony-make"><para>
      <userinput>make&nbsp;modules; make&nbsp;module_install</userinput> 
      pour installer le pilote <filename>rlmod.o</filename>
      et l'utilitaire <command>proxcfg</command>.
      </para></listitem>

      <listitem><para>
      Pour lancer le pilote (après avoir modifié
      <filename>/etc/conf.modules</filename>&nbsp;: voir la <xref
      linkend="info-generales"/>), vous devrez simplement relancer
      l'interface avec la commande <command>ifconfig</command>.
      </para></listitem>

      </orderedlist>

      <para>
      L'utilitaire <ulink url="http://www.komacke.com/proxcfg.html">
      <command>proxcfg</command></ulink> vous permet de modifier les
      paramètres de la liaison données&nbsp;:
      </para>

      <orderedlist>

      <listitem><para>
      <userinput>proxcfg <replaceable>ethx</replaceable> sta</userinput> 
      pour la configurer en station (esclave)
      </para></listitem>

      <listitem><para>
      <userinput>proxcfg <replaceable>ethx</replaceable> 
      msta</userinput> pour la configurer en station maître (maître)
      </para></listitem>

      <listitem><para>
      <userinput>proxcfg <replaceable>ethx</replaceable> alt</userinput> 
      pour la configurer en mode automatique
      </para></listitem>

      </orderedlist>

      <para>C'est tout ce que vous devez savoir pour la faire fonctionner
      correctement.</para>

      <para>
      Pour plus d'information, consultez <ulink
      url="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Linux.Wireless.drivers.html#RangeLan2"/>.
      </para>

    </sect2>

<!-- Le site webgear n'existe plus, et les pilotes ray_cs font 
     désormais partie des sources pcmcia officielles.
     cf. ttp://pcmcia-cs.sourceforge.net/ftp/SUPPORTED.CARDS
     JPG
  -->

    <sect2>
      <title>Aviator 2.4 et AviatorPro (Webgear)</title>

      <para>
      Type de réseau&nbsp;: <acronym>FHSS</acronym>, Ad-hoc seulement
      pour la Aviator 2.4 et Infrastructure pour la AviatorPro.
      </para>
      
      <para>
      Ce sont des cartes <acronym>PCMCIA</acronym>, donc vous devrez 
      compiler les sources pcmcia pour pouvoir les utiliser. Le pilote 
      permettant d'utiliser ces cartes est livré avec les sources PCMCIA 
      (version 3.1.33 minimum) et est inclus dans les noyaux Linux à 
      partir de la version 2.4.19.
      </para>

      <orderedlist>

      <title>Configuration</title>

      <listitem><para>
      Vous devez télécharger les sources pcmcia, les décompresser dans
      <filename class="directory">/usr/src/pcmcia</filename>, les
      compiler et les installer (voir la <xref
      linkend="config-noyau"/>)&nbsp;;
      </para></listitem>

      <listitem><para>
      Le fichier de configuration
      <filename>/etc/pcmcia/config.opts</filename>
      devrait<footnote><para>Si ce n'est pas le cas, le fichier
      original, nommé <filename>etc/config.opts</filename> se trouve
      dans les sources pcmcia.</para></footnote> contenir une ligne
      comme celle-ci&nbsp;:
      </para>

<programlisting>
module "ray_cs" opts &hellip;
</programlisting>

      <para>
      À cet endroit, vous devez modifier certains paramètres de la
      liaison données. Vous devez indiquer ces paramètres sur la même
      ligne, juste après <literal>opts</literal>. Les valeurs possibles
      de ces paramètres sont&nbsp;:
      </para>
      
      <itemizedlist>

      <listitem><para>
      <userinput>pc_debug=<replaceable>x</replaceable></userinput>, où 
      <replaceable>x</replaceable> est le niveau de 
      journalisation&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>net_type=<replaceable>x</replaceable></userinput>, avec
      <replaceable>x</replaceable>=0 pour le mode Ad-hoc et
      <replaceable>x</replaceable>=1 pour le mode Infrastructure&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>essid=<replaceable>x</replaceable></userinput>,
      <replaceable>x</replaceable> est le <acronym>ESSID</acronym>.
      </para></listitem>

      </itemizedlist></listitem>

      </orderedlist>

      <para>
      Finalement, pour vérifier votre configuration avec , donnez à
      <literal>pc_debug</literal> une valeur supérieure à zéro. Vous
      verrez dans votre console des messages relatifs à la liaison
      données (comme <computeroutput>network started</computeroutput>
      lors de la création d'un nouveau réseau sans-fil et
      <computeroutput>network joined</computeroutput> lors de la
      jonction avec un réseau sans-fil existant).
      </para>

      <para>
      Le fichier <filename>/proc/ray_cs</filename> peut également vous 
      aider&nbsp;: si le <acronym>BSSID</acronym> qu'il indique 
      est nul, vous ne pourrez recevoir de données d'aucune carte. En 
      effet, le <acronym>BSSID</acronym> indique à quel réseau vous 
      appartenez.
      </para>

      <para>
      Pour plus d'informations, consultez <ulink
      url="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Linux.Wireless.drivers.html#Raylink"/>
      </para>

    </sect2>

    <sect2>
      <title>
      Produits Cabletron et Wavelan I, II, Orinoco de Lucent
      </title> 
      
      <para>
      Type de réseau&nbsp;: <acronym>DSSS</acronym>, Ad-hoc et
      Infrastructure.
      </para>

      <para>
      Les produits Lucent sont très professionnels. NdT&nbsp;: La gamme
      des produits sans-fil de Lucent a été revendue à <ulink
      url="http://www.proxim.com">Proxim</ulink>
      </para>

      <para>
      Site web&nbsp;: <ulink url="http://www.lucent.com"/> et <ulink
      url="http://www.orinoco.net"/>.
      </para>

      <para>
      Le pilote (<filename>orinoco_cs</filename>) permettant d'utiliser 
      ces cartes est livré avec les sources PCMCIA (version 3.1.34 
      minimum) et est inclus dans le noyaux Linux à partir de la version 
      2.4.21.
      </para>

      <para>
      Alors que les pilotes précédents étaient configurés via des
      paramètres indiqués au module lors de son chargement, la
      configuration de ce pilote sera réalisée via les
      <firstterm>extensions sans-fil</firstterm> du noyau
      (<foreignphrase>wireless extensions</foreignphrase>). Les
      extensions sans-fil sont un jeu d'appels systèmes permettant de
      communiquer avec les pilotes des cartes réseaux sans-fil. Les
      utilitaires permettant d'exploiter ces extensions sont regroupés
      dans le paquet <medialabel>wireless-tools</medialabel>. Parmi
      ceux-ci se trouve la commande <command>iwconfig</command> qui sera
      spécifiquement utilisée pour la configuration d'une carte (voir
      <ulink
      url="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html"/>).
      </para>

      <orderedlist>

      <title>Configuration</title>

      <listitem><para>
      Vous devez télécharger les sources pcmcia, les décompresser dans
      <filename class="directory">/usr/src/pcmcia</filename>, les
      compiler et les installer (voir la <xref
      linkend="config-noyau"/>)&nbsp;;
      </para></listitem>

      <listitem><para>
      Placez dans le fichier de configuration 
      <filename>/etc/pcmcia/wireless.opts</filename> une 
      configuration vierge comme celle-ci&nbsp;:
      </para>

<programlisting>
*,*,*,*) # &lt;- Motif de sélection
         # Définit à quelles cartes cette configuration s'applique
         # (Le 4e composant de ce motif correspond à l'adresse MAC)

    INFO="Carte WaveLan ou Orinoco"
    # ESSID (nom de réseau étendu) : "Mon reseau", "any"
    ESSID=""
    # Mode de fonctionnement :
    # ------------------------
    # Ad-Hoc, Managed, Master, Repeater, Secondary, auto
    MODE=""
    # Canal : 1, 2, 3
    # ---------------
    # Cette option n' est applicable qu'au mode Ad-hoc
    CHANNEL=""
    # Débit en bits : auto, 1M, 11M
    # -----------------------------
    # Ce paramètre sert a définir la vitesse de transmission.
    # attention à ce paramètre pour la compatibilité avec les cartes
    # Cabletron.
    RATE=""
    ;;
</programlisting>

      <para>
      Il ne vous reste plus qu'à remplir ce fichier pour configurer la 
      liaison données.
      </para></listitem>

      </orderedlist>

      <note><para>
      Pour utiliser 2 cartes Wavelan avec des configurations différentes
      sur la même machine (par exemple, l'une en mode Ad-hoc et l'autre
      en mode infrastructure), il suffit d'indiquer dans le fichier de
      configuration <filename>/etc/pcmcia/wireless.opts</filename> une
      configuration pour chaque carte. En effet, la quatrième partie du
      motif de sélection de chaque bloc
      <literal>*,*,*,<replaceable>XX:XX:XX:XX:XX</replaceable>)</literal>
      sert à spécifier à quelle carte (i.e. à quelle adresse MAC) cette
      configuration s'applique.  Il suffit donc de remplacer dans chaque
      cas cette quatrième composante
      (<replaceable>XX:XX:XX:XX:XX</replaceable>) par l'adresse MAC de
      la carte à laquelle cette configuration s'applique.
      </para></note>

      <para>Les pilotes pour Lucent peuvent aussi être utilisés pour les
      cartes Cabletron <ulink url="http://www.cabletron.com"/></para>

      <para>
      Pour plus d'information, consultez <ulink
      url="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Linux.Wireless.drivers.html#WavelanIEEE"/>.
      </para>

    </sect2>

    <sect2>
      <title>YDI</title>

      <para>
      Type de réseau&nbsp;: <acronym>DSSS</acronym>, Ad-hoc ou
      Infrastructure.
      </para>

      <para>
      YDI vend des cartes très professionnelles avec des antennes, des
      amplis, et cætera.
      </para>

      <para>
      Site web&nbsp;: <ulink url="http://www.ydi.com"/>.  Les pilotes
      Linux sont disponibles sur&nbsp;: <ulink
      url="ftp://ftp.linux-wlan.org/pub/linux-wlan/"/>.
      </para>

      <para>Pour installer&nbsp;:</para>

      <orderedlist>

      <listitem><para>
      Décompressez le fichier tar dans un répertoire vide&nbsp;;
      </para></listitem>

      <listitem><para>
      Tapez <command>make</command> pour compiler&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>make install</userinput> pour installer le pilote 
      <filename>am930_isa</filename> et l'utilitaire 
      <command>wlanctl</command>.
      </para></listitem>

      </orderedlist>

      <para>
      Une fois ceci fait, vous pourrez choisir de réaliser une
      configuration manuelle de la liaison données en utilisant
      <command>wlanctl</command> ou une configuration automatique en 
      utilisant les scripts <filename>scripts/wlan</filename> ou
      <filename>scripts/rc.wlan</filename>.
      </para>

      <para>
      Les paramètres principaux pour un réglage manuel&nbsp;:
      </para>

      <orderedlist>

      <listitem><para>
      <userinput>wlanctl scan &hellip;</userinput> pour rechercher 
      des <acronym>BSS</acronym> déjà présents&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>wlanctl netlist</userinput> vous montrera ce qu'a 
      trouvé la commande <userinput>wlanctl scan 
      &hellip;</userinput>&nbsp;; </para></listitem>

      <listitem><para>
      <userinput>wlanctl bsscreate &hellip; 
      <replaceable>ssid</replaceable> </userinput> pour créer un nouveau 
      réseau identifié par le <replaceable>SSID</replaceable> 
      indiqué&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>wlanctl bssjoin <replaceable>bssid</replaceable> 
      </userinput> pour rejoindre le réseau identifié par le 
      <replaceable>BSSID</replaceable> indiqué&nbsp;;
      </para></listitem>

      <listitem><para>
      <userinput>wlanctl authen</userinput> et <userinput>wlanctl
      assoc</userinput> pour les services d'authentification
      </para></listitem>

      </orderedlist>
      
      <para>
      Pour plus d'information, consultez <ulink
      url="http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Linux.Wireless.drivers.html#Prism"/>.
      </para>

    </sect2>
  </sect1>

<!--  Apparemment, cette distribution n'existe plus ! JPG

  <sect1>
    <title>Pour aller plus loin</title>

      <sect2>
      <title>Une distribution Linux sans-fil</title>

      <para>La distribution sans-fil FlyingLinux a commencée en octobre 1999
      dans les laboratoires de systèmes de télécommunication de
      Teleinformatics KTH avec pour objectif d'étudier la possibilité
      d'utiliser IPv4 mobile et un accès sans-fil standard basé sur DHCP
      pour les laboratoires d'étudiants.</para>

      <para>Le résultat de ce travail est que l'environnement FlyingLinux
      fut disponible pour une centaine d'étudiants et d'enseignants
      sur le projet étudiant 2G1303 qui eu lieu de mars à mai 2000.</para>

      <para>FlyingLinux est la première distribution de Linux orientée vers
      les services mobiles. Nous avons fait attention aux problèmes de
      sécurité, dont le support de Kerberos et OpenSSH.</para>

      <para>Flying Linux fait partie du mouvement Open Source. Nous avons
      inclus des logiciels développé au KTH sous licence GPL.</para>

      <para>Pour pourrez trouver la distribution Linux sans-fil sur ce <ulink
      url="http://www.flyinglinux.net/">site web</ulink></para>

      <para>Maintenu par Alberto Escudero
      <email>aep CHEZ it POINT kth POINT se</email> <ulink
      url="http://www.it.kth.se/~aep">page d'accueil</ulink></para>
    </sect2>
  </sect1> 
  
-->

  <sect1>
    <title>Liens utiles</title>

    <sect2>
      <title>Liens sur des logiciels libres</title>

      <para>
      <ulink url="http://www.linux-wlan.org">Le projet 
      Linux-wlan</ulink>&nbsp;;
      </para>

      <para>
      <ulink url="&tourrilhes;">Le <foreignphrase>Wireless 
      Howto</foreignphrase> de Jean Tourrilhes</ulink>.
      </para>
    </sect2>

    <sect2>
      <title>Liens commerciaux</title>

      <para>
      <ulink url="http://www.fatamorgana.com/">Fatamorgana 
      Computers</ulink>&nbsp;;
      </para>

      <para>
      <ulink url="http://www.lucent.com/">Site web de 
      Lucent</ulink>&nbsp;;
      </para>

      <para>
      <ulink url="http://www.ydi.com/">Site web de YDI</ulink>&nbsp;;
      </para>

      <para>
      <ulink url="http://www.siemens.com/">Site web de Siemens</ulink>.
      </para>
    </sect2>

    <sect2>
      <title>Liens généraux</title>

      <para>
      Le site consacré au <ulink 
      url="http://rubb.free.fr/802-11/index.php">WiFi</ulink> de 
      l'université de Corse&nbsp;;
      </para>

      <para>
      Les articles consacrés aux <ulink
      url="http://www.commentcamarche.net/wireless/wlintro.php3">réseaux
      sans fil</ulink> du site de vulgarisation informatique <ulink
      url="http://www.commentcamarche.net">Comment ça
      marche&nbsp;?</ulink>.
      </para>

    </sect2>
  </sect1>

  <sect1>
    <title>FAQ &mdash; Foire aux questions</title>

    <qandaset defaultlabel="qanda">

    <qandaentry>
    
    <question><para>
    Quelle est la différence entre un <acronym>BSSID</acronym> et un
    <acronym>ESSID</acronym>, et quand aurais-je besoin d'un
    <acronym>ESSID</acronym>&nbsp;?
    </para></question>

    <answer><para>
    Un <acronym>BSSID</acronym> est un nombre de 48&nbsp;bits utilisé
    pour identifier une petite zone <acronym>BSS</acronym>, où chaque 
    hôte est capable de communiquer avec tous les autres (éventuellement 
    avec un point d'accès).
    </para>
    <para>
    Un <acronym>ESSID</acronym> est une chaîne de longueur variable qui
    permet de faire communiquer plusieurs <acronym>BSS</acronym> afin de
    les étendre pour former un Ensemble de services étendus
    (<acronym>ESS</acronym> &mdash; <foreignphrase>Extended Service
    Set</foreignphrase>). Il faudra un point d'accès pour chaque
    <acronym>BSS</acronym> et ceux-ci ne communiqueront tous ensemble 
    que s'ils ont le même <acronym>ESSID</acronym>. Un
    <acronym>ESSID</acronym> ne sera nécessaire que si vous avez un
    grand réseau ayant au moins deux points d'accès.
    </para></answer>

    </qandaentry>

    <qandaentry>
    
    <question><para>
    Quel point d'accès dois-je acheter&nbsp;?
    </para></question>

    <answer><para>
    Le moins cher que vous trouverez&nbsp;: l'important, c'est que le 
    point d'accès et les cartes sans-fil utilisés aient les mêmes 
    spécifications au niveau matériel&nbsp;: tous compatibles
    <acronym>FHSS</acronym> ou tous compatibles <acronym>DSSS</acronym>.
    Attention aux cartes RangeLan2 de Proxim, car elles utilisent le 
    protocole propriétaire OpenAir, et ne peuvent donc pas communiquer 
    avec des cartes <acronym>FHSS</acronym> aux normes.
    </para></answer>

    </qandaentry>

    <qandaentry>
    
    <question><para>
    Dans quels cas utiliser le paramètre canal&nbsp;?
    </para></question>

    <answer><para>
    Quand vous aurez plusieurs réseaux avec des <acronym>BSS</acronym>
    différents (et des fabricants différents), vous risquez d'avoir des
    problèmes d'interférences&nbsp;: changer le canal utilisé par les
    points d'accès (en mode infrastructure) ou changer le canal des
    hôtes (en mode Ad-hoc) pourra vous éviter ce genre de problèmes.
    </para></answer>

    </qandaentry>

    <qandaentry>
    
    <question><para>
    Pourquoi n'est-il pas possible de changer le canal sur un hôte en 
    mode Infrastructure&nbsp;?
    </para></question>

    <answer><para>
    Car le canal est choisi par le point d'accès.
    </para></answer>

    </qandaentry>

    </qandaset>

  </sect1>

  <appendix id="masque-tout-a-un">
    <title>
    Le masque 255.255.255.255, le mandataire ARP et la fonction de pont
    </title>

    <para>
    Ici sont traités certains avantages de Linux dans l'interconnexion
    de réseaux sans-fil.
    </para>

    <para>
    Linux vous permet de choisir un masque de sous-réseau ayant la
    valeur <literal>255.255.255.255</literal>, ce qui pourra vous aider
    à attribuer les adresses IP aux interfaces de votre choix, par
    exemple une pour <literal>eth0</literal>, une autre pour
    <literal>eth1</literal>, et ainsi de suite&hellip;
    </para>

    <para>
    Ceci n'a pas d'effet secondaire particulier.
    </para>

    <para>
    Vous pouvez de plus utiliser le paramètre
    <literal>proxy_arp</literal> sous <filename>
    /proc/sys/net/ipv4/conf/<replaceable>ethx</replaceable>/proxy_arp
    </filename> où <replaceable>ethx</replaceable> est votre interface.
    </para>

    <para>
    Si vous faites <userinput>echo 1 &gt; proxy_arp</userinput>, vous
    activerez le mandataire ARP (<foreignphrase>proxy
    arp</foreignphrase>) pour cette interface. Vous le désactiverez avec
    <userinput>echo&nbsp;1&nbsp;&gt;&nbsp;proxy_arp</userinput>.
    </para>

    <para>
    Qu'est-ce qu'un mandataire ARP&nbsp;? En résumé, un mandataire ARP
    vous sera utile lorsque vous voudrez qu'un routeur Linux réponde à
    une requête ARP alors que l'adresse de destination se trouve sur une
    autre de ses interfaces.
    </para>

    <para>Exemple&nbsp;:</para>

<programlisting>
192.168.1.1 ---- 192.168.1.2 routeur Linux 192.168.2.2 ----192.168.2.1
</programlisting>

    <para>Pour faire fonctionner cet exemple, vous devez&nbsp;:</para>

    <orderedlist>

    <title>Sans mandataire ARP</title>

    <listitem><para>
    Sur l'hôte <literal>192.168.1.1</literal>&nbsp;: choisir 
    <literal>192.168.1.2</literal> comme passerelle
    </para></listitem>

    <listitem><para>
    Sur l'hôte <literal>192.168.2.1</literal>&nbsp;: choisir 
    <literal>192.168.2.2</literal> comme passerelle
    </para></listitem>

    <listitem><para>
    Effectuer une commande <command>ping</command> avec succès d'un côté 
    vers l'autre.
    </para></listitem>

    </orderedlist>

    <orderedlist>

    <title>Avec un mandataire ARP</title>

    <listitem><para>
    Sur l'hôte <literal>192.168.1.1</literal>&nbsp;: choisir 
    <literal>192.168.1.2</literal> comme passerelle
    </para></listitem>

    <listitem><para>
    Ne pas choisir de passerelle sur l'hôte
    <literal>192.168.2.1</literal>, mais activer le mandataire ARP sur
    la bonne interface du routeur
    </para></listitem>

    <listitem><para>
    Effectuer une commande <command>ping</command> avec succès d'un côté 
    vers l'autre.
    </para></listitem>

    </orderedlist>

    <para>
    Dans le second cas, le mandataire ARP permet au routeur Linux de
    répondre lorsque vous effectuez une commande <command>ping</command>
    depuis l'hôte <literal>192.168.2.1</literal>, en disant qu'il
    connaît l'hôte <literal>192.168.1.1</literal> et qu'il peut donc
    répondre à sa place. Ensuite, quand la source commence à envoyer des
    paquets ICMP, le routeur Linux sait qu'il doit les rediriger vers le
    véritable hôte <literal>192.168.1.1</literal>.
    </para>

    <para>
    Dans un réseau sans-fil, un mandataire ARP peut vous aider si vous
    avez beaucoup de machines Linux utilisées comme routeurs IP et que
    vous ne voulez pas avoir à paramétrer un grand nombre de routes 
    statiques sur chaque hôte.
    </para>

    <para>
    Vous pouvez aussi essayer d'utiliser une machine Linux comme pont 
    sur un réseau sans-fil&nbsp;:
    </para>

    <orderedlist>

    <listitem><para>
    Installez un noyau stable et récent
    </para></listitem>

    <listitem><para>
    Téléchargez de bons utilitaires de pontage sur <ulink
    url="http://bridge.sourceforge.net/"/>.
    </para></listitem>

    </orderedlist>

    <para>Un pont devrait être plus simple à gérer.</para>
  </appendix>

  <appendix id="modem-siemens">
    <title>Le Modem Radio Siemens DECT</title>

    <para>Site web&nbsp;: <ulink url="http://www.siemens.com/"/></para>

    <para>Qu'est-ce&nbsp;? Ces deux composants ne sont pas réellement des
    cartes PC mais plutôt des modems que vous utilisez comme des périphériques
    externes.</para>

<programlisting>
Hôte1-PortSérie - ModemRadio1 - - - - - ModemRadio2 - PortSérie-Hôte2
</programlisting>

    <para>Comment les connecter&nbsp;?</para>

    <para>Si vous vouliez les imaginer d'une manière abstraite, vous
    pourriez les modéliser comme ceci&nbsp;:</para>

<programlisting>
Hôte1-PortSérie - - CÂBLE NULL MODEM - - PortSérie-Hôte2
</programlisting>

    <para>
    Vous aurez donc une connexion entre deux ports série distant avec
    deux configurations possibles&nbsp;:
    </para>

    <orderedlist>

    <listitem><para>
    Linux avec Windows, Linux utilise un démon qui répond aux appels
    ppp, alors que Windows utilise un connexion d'accès au réseau à distance.
    </para></listitem>

    <listitem><para>
    Linux avec Linux, vous pouvez lancer sur les 2 hôtes une connexion 
    ppp avec des adresses IP inversées.
    </para></listitem>

    </orderedlist>

    <para>
    Pour le cas n°1, vous pouvez utilisez ce scripts Linux
    simple&nbsp;:
    </para>

<programlisting>
/usr/sbin/pppd -detach lock idle 300 crtscts \
               connect "/usr/sbin/chat -v TIMEOUT 5 AT OK AT OK AT OK AT OK" \
               <replaceable>IPLINUX</replaceable>:<replaceable>IPWINDOWS</replaceable> /dev/<replaceable>ttySx</replaceable> 115200 \
               disconnect "/usr/sbin/chat -v AT OK" \
               ms-dns <replaceable>IPDNS</replaceable>
</programlisting>

    <para>Où&nbsp;:</para>

    <itemizedlist>

    <listitem><para>
    <filename
    class="devicefile">/dev/<replaceable>ttySx</replaceable></filename> 
    est votre port série&nbsp;;
    </para></listitem>

    <listitem><para>
    <replaceable>IPDNS</replaceable> est l'adresse IP de votre serveur 
    DNS&nbsp;;
    </para></listitem>

    <listitem><para>
    <replaceable>IPLINUX</replaceable> est l'adresse IP de l'hôte Linux 
    et <replaceable>IPWINDOWS</replaceable> est l'adresse 
    IP de l'hôte Windows.
    </para></listitem>

    </itemizedlist>

    <para>
    Ce script est nécessaire pour faire croire à Windows qu'il y a un 
    modem sur le port série&nbsp;!
    </para>

    <!-- cf. http://www.cri.u-psud.fr/PPP/windows95/windows95-24.html
         pour le vocabulaire Windows
      -->

    <para>
    Dans Windows, vous devrez créer une connexion réseau à distance avec
    contrôle de flux matériel (RTS/CTS) activé, une vitesse de
    <literal>115&nbsp;200</literal> et un numéro d'appel bidon (demandé
    par l'accès à distance, mais effectivement non utilisé).
    </para>

    <para>Avec deux machines Linux, vous devrez simplement lancer ce script très
    simple sur chaque hôte Linux&nbsp;:</para>

<programlisting>
/usr/sbin/pppd passive local crtscts <replaceable>IPLINUX1</replaceable>:<replaceable>IPLINUX2</replaceable> /dev/ttyS<replaceable>x</replaceable> 115200 noauth persist
</programlisting>

    <para>
    Où vous inverserez <replaceable>IPLINUX1</replaceable> et
    <replaceable>IPLINUX2</replaceable> sur la seconde machine.
    </para>

    <para>
    Notez que vous pourrez mettre en place une authentification si vous
    le souhaitez, autant en Linux-Windows qu'en Linux-Linux.
    </para>
  </appendix>

</article>

