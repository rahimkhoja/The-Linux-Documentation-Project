<HTML
><HEAD
><TITLE
>   Seri&euml;le Laplink HOWTO
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>Seri&euml;le Laplink HOWTO</H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Willem J. Atsma</A
></H3
><H3
CLASS="AUTHOR"
><A
NAME="AEN8"
>Vertaald door: Ellen Bokhorst</A
></H3
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision v2.1</TD
><TD
ALIGN="LEFT"
>2001-07-20</TD
><TD
ALIGN="LEFT"
>Revised by: wja</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN16"
></A
><P
></P
><P
>   Hoe je tussen twee computers een seri&euml;le verbinding tot stand kan
   brengen. In dit document wordt uitgelegd hoe je een <SPAN
CLASS="QUOTE"
>"laplink"</SPAN
>
   verbinding tussen twee computers legt. Zelf ondervond ik wat problemen bij
   het verkrijgen van de informatie om dit werkend te krijgen, dus dit document
   is bedoeld het je wat makkelijker te maken.
  </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="#AEN19"
>Introductie</A
></DT
><DT
><A
HREF="#AEN27"
>Op de server</A
></DT
><DT
><A
HREF="#AEN119"
>Op de client</A
></DT
><DT
><A
HREF="#AEN160"
>Verbinding maken...</A
></DT
><DT
><A
HREF="#AEN172"
>Internet via de seri&euml;le poort</A
></DT
><DT
><A
HREF="#AEN176"
>Andere nuttige documenten</A
></DT
><DT
><A
HREF="#AEN191"
>License</A
></DT
><DT
><A
HREF="#AEN203"
>Krediet</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="AEN19"
></A
>Introductie</H2
><P
>   In dit zeer beknopte document wordt uitgelegd hoe een seri&euml;le 
   <SPAN
CLASS="QUOTE"
>"laplink"</SPAN
> verbinding tussen twee Linux machines of een Linux
   en een Windows machine tot stand te brengen. De seri&euml;le verbinding
   bestaat uit een <SPAN
CLASS="QUOTE"
>"null-modem"</SPAN
> kabel en een communicatieprotocol:
   PPP. Ik gebruik een dergelijke setup om bestanden van en naar mijn laptop
   te versturen; het kan ook prima worden gebruikt om nieuwe software vanaf
   een cdrom te installeren wanneer de laptop er geen heeft. Ik ondervond
   meer problemen dan nodig was toen ik mijn seri&euml;le laplink instelde.
   Hopelijk zal dit document er toe bijdragen dat je problemen in een keer
   zullen worden opgelost.
   (datgene wat te maken heeft met de seri&euml;le kabel).
  </P
><P
>   De setup van de server en client die ik zal beschrijven kan zowel bestemd
   zijn voor een Linux machine als een ander besturingssysteem, zolang als
   het 't PPP-protocol met een null-modem ondersteunt. Waar 't op uitdraait
   is dat de MS Windows implementatie speciale aandacht vereist aangezien het
   iets anders is dan de standaard. Dit document bestaat uit twee hoofddelen.
   In de eerste wordt de serversetup beschreven. Dit is het hoofdstation
   met een seri&euml;le poort bestemd voor een PPP-verbinding. Als alternatief
   kan de verbinding wanneer nodig worden gestart vanaf de opdrachtregel.
   In het tweede deel wordt de configuratie van de client beschreven die
   een verbinding maakt met de server om bestanden op te halen of naar over
   te brengen.
  </P
><P
>   Deze documentatie werd geprepareerd met gebruik van pppd versie 2.4.0 
   met kernelversie 2.4.2.
  </P
><P
>   Laat het me alsjeblieft weten als je specifieke problemen ondervindt en
   suggesties voor verbeteringen voor dit document hebt; mijn emailadres
   is aan het einde van dit document te vinden.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN27"
></A
>Op de server</H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN29"
></A
>Configureer pppd</H3
><P
>    De communicatie zal via de seri&euml;le poort verlopen. Op de server 
    zullen we een verbinding maken via het <SPAN
CLASS="QUOTE"
>"/dev/ttyS1"</SPAN
> 
    (COM2 onder DOS/Windows) device. Dit kan op jouw computer anders zijn en
    je zult de onderstaande voorbeelden overeenkomstig moeten aanpassen.
    Ik verplicht tot authenticatie omdat ik de configuratie gebruik om in een
    manier te voorzien bestanden op een fileserver te benaderen voor een
    groep mensen. Na het inloggen kunnen zij de gedeelde Samba bestanden 
    gebruiken om bestanden van en naar een laptop te versturen. Als je je
    geen zorgen maakt om beveiliging dan kun je commentaartekens plaatsen
    voor de relevante opties.
   </P
><P
>    PPP (Point-to-Point Protocol) communicatie voorziet in TCP/IP over een
    seri&euml;le link. Met andere woorden: wanneer je via een modem op
    internet gebaseerde browsing wilt, dan zul je dit zeer waarschijnlijk
    gebruiken. Onder Linux wordt PPP ge&iuml;mplementeerd door de PPP daemon
    <SPAN
CLASS="QUOTE"
>"pppd"</SPAN
>. De configuratie ervan vindt plaats via bestanden
    in de directory <SPAN
CLASS="QUOTE"
>"/etc/ppp/"</SPAN
>. We zullen de volgende bestanden
    in gebruik gaan nemen:
   </P
><P
>    /etc/ppp/options bevat alle algemene opties voor PPP verbindingen
   </P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>/etc/ppp/options.ttyS1</DT
><DD
><P
>bevat PPP opties voor specifieke verbindingen via
<SPAN
CLASS="QUOTE"
>"/dev/ttyS1"</SPAN
>
    </P
></DD
><DT
>/etc/ppp/pap-secrets</DT
><DD
><P
>bevat authenticatie informatie
    </P
></DD
><DT
>/etc/inittab</DT
><DD
><P
>start initi&euml;le systeemservices
    </P
></DD
></DL
></DIV
><P
>    Het bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/options"</SPAN
> moet er ongeveer zo uit
    komen te zien:

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#/etc/ppp/options
lock
#auth  dwingt de peer tot authorisatie
#login gebruik voor authenticatie het systeemwachtwoordbestand
#NOTE: mijn pap-secrets staat iedereen toegang toe, dus als 
#      dit niet is opgegeven, dan kan iedereen een verbinding!
#      Als dit een machine is waarmee je ook uit kunt bellen, 
#      plaats dan commentaartekens voor auth en login en 
#      verplaats ze naar /etc/options.ttySn
#      
#  
auth
login
   </PRE
></TD
></TR
></TABLE
><P
>    De regels beginnend met een <SPAN
CLASS="QUOTE"
>"&num;"</SPAN
> worden aangemerkt als
    commentaar. De <SPAN
CLASS="QUOTE"
>"lock"</SPAN
> parameter geeft aan dat een lock
    bestand zal worden aangemaakt om exclusief toegang tot het seri&euml;le
    device te garanderen, de <SPAN
CLASS="QUOTE"
>"auth"</SPAN
> parameter geeft aan dat
    de client zichzelf bekend zal moeten maken en <SPAN
CLASS="QUOTE"
>"login"</SPAN
> vertelt
    pppd voor de authenticatie gebruik te maken van de systeemgebruikersnamen
    en wachtwoorden.
   </P
><P
>    Het bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/pap-secrets"</SPAN
> wordt nog steeds 
    gecontroleerd op de gebruikersnaam en wachtwoordinformatie. Een speciale 
    op zichzelf staande regel zorgt dat pppd alleen de systeeminformatie van 
    de gebruiker gebruikt. Het bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/pap-secrets"</SPAN
> 
    ziet er ongeveer zo uit:

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#/etc/ppp/pap-secrets
# Sleutels voor authenticatie met PAP
# client                 server                  secret         IP addresses
*                        *                       ""             ppp_laplink_client
   </PRE
></TD
></TR
></TABLE
><P
>    Elke machine met het IP-adres <SPAN
CLASS="QUOTE"
>"ppp_laplink_client"</SPAN
> 
    kan nu een verbinding maken met de server, zonder gebruik te maken
    van een wachtwoord 
    (je kunt zien waarom het handig is de ppp_laplink entries in 
    het bestand /etc/hosts te hebben). 
    De <SPAN
CLASS="QUOTE"
>"login"</SPAN
> parameter in het bestand 
    <SPAN
CLASS="QUOTE"
>"/etc/ppp/options"</SPAN
> echter, maakt dat de gebruikersnaam
    en het wachtwoord geleverd door de client voor authorisatie overeen moeten
    komen met het bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/pap-secrets"</SPAN
> 
    <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>als ook </I
></SPAN
> met de systeemgebruikersnaam en het 
    wachtwoord, dus de verbinding zal alleen succesvol zijn nadat in een 
    geldige gebruikersnaam en wachtwoord is voorzien.
   </P
><P
>    Opties die specifiek zijn voor de seri&euml;le lijn via welke je een
    verbinding maakt worden geplaatst in <SPAN
CLASS="QUOTE"
>"/etc/ppp/options.ttySn"</SPAN
>,
    waar n het nummer is van het seri&euml;le device.
    device. Mijn server gebruikt <SPAN
CLASS="QUOTE"
>"/dev/ttyS1"</SPAN
>, dus de opties
    gaan in... <SPAN
CLASS="QUOTE"
>"/etc/ppp/options.ttyS1"</SPAN
>.

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#/etc/ppp/options.ttyS1
asyncmap 0
crtscts
#local geeft aan dat modemlijnen niet worden gebruikt
local
#silent zorgt dat pppd totdat een verbinding is gemaakt vanaf
#de andere kant
silent
#dit zijn regels die voorkomen in het /etc/hosts bestand
#de link werkt niet als dit aan het einde vh bestand staat
#de volgorde doet er dus toe!
ppp_laplink_server:ppp_laplink_client
#auth forceert authorisatie van peer
#login maakt dat voor authenticatie gebruik wordt gemaakt van
# het systeemwachtwoordenbestand
#NOTE: mijn pap-secrets staat iedereen toegang toe, dus als dit
#niet is opgegeven, dan kan iedereen een verbinding maken!
#Als dit een server is die ppp nooit zal gebruiken om uit te 
#bellen, dan verplaats je auth en login naar /etc/ppp/options
#auth
#login
#gebruik PAP, geen CHAP voor authenticatie
require-pap
115200
   </PRE
></TD
></TR
></TABLE
><P
>    Deze opties staan allemaal goed beschreven in de manpage van pppd; een
    paar van de belangrijkste worden als commentaar in het bestand uitgelegd.
    De <SPAN
CLASS="QUOTE"
>"crtscts"</SPAN
> parameter vertelt pppd gebruik te maken van
    hardware flow control. Dit is aan te bevelen omdat het 't snelst is.
    Als alternatief kun je <SPAN
CLASS="QUOTE"
>"xonxoff"</SPAN
> opgeven om gebruik te maken
    van op software gebaseerde flow control - je geeft dit op als je nullmodem
    kabel geen verbinding maakt met de
    RTS/CTS lijnen (onwaarschijnlijk als je je kabel in de winkel hebt gekocht).
    <SPAN
CLASS="QUOTE"
>"115200"</SPAN
> duidt op de snelheid van de gegevenstransmissie -
    als je problemen ondervindt bij het tot stand brengen van de verbinding,
    zou je een lagere snelheid kunnen proberen. Geldige snelheidsinstellingen
    zijn te vinden in de manpage van termios, alhoewel je hardware een
    beperking zal opleggen voor de baud rate. Het instellen van een ongeldige
    snelheidsinstelling zal een foutmelding teweeg brengen van de pppd daemon
    en blijkbaar valt het dan terug op een standaardwaarde.
   </P
><P
>    Voor de opties <SPAN
CLASS="QUOTE"
>"auth"</SPAN
> en <SPAN
CLASS="QUOTE"
>"login"</SPAN
> zijn hier
    commentaartekens geplaatst, omdat ze in het algemene options bestand
    werden opgegeven. Als je je computer ook gebruikt om bij een ISP in
    te bellen, dan geef je ze hier op in plaats van in 
    <SPAN
CLASS="QUOTE"
>"/etc/ppp/options"</SPAN
>, anders vraag je je ISP namelijk om
    zichzelf te authoriseren wanneer je inbelt wat waarschijnlijk geen
    succes zal hebben. De reden waarom ze niet in dit bestand worden
    gespecificeerd is dat wanneer je nu of in de toekomst andere 
    inkomende PPP-verbindingen hebt, je er zeker van wilt zijn dat ze
    altijd zijn geautoriseerd. Denk eraan dat de hier gepresenteerde
    <SPAN
CLASS="QUOTE"
>"pap-secrets"</SPAN
> geen enkele bescherming geeft.
   </P
><P
>    Ten slotte specificeert de 
    <SPAN
CLASS="QUOTE"
>"ppp_laplink_server:ppp_laplink_client"</SPAN
> regel de lokale
    en het remote IP-adres nadat de link in de lucht is. Je kunt hier echte
    IP nummers gebruiken (b.v. 192.168.0.1:192.168.1.1), of regels uit
    het bestand <SPAN
CLASS="QUOTE"
>"/etc/hosts"</SPAN
>, zoals ik deed. Het mooie van dat
    laatste is dat je de namen kunt gebruiken om later naar deze links
    te refereren. Ik raad je ook aan IP-nummers te gebruiken zoals ik dat
    deed (192.168.0.1:192.168.1.1). Deze adressen zijn gereserveerd voor
    lokale netwerken en ze bestaan niet op het internet, dus je voorkomt
    mogelijke conflicten. Als de link eenmaal is geactiveerd, kan de client
    verwijzen naar de server met het IP-adres van
    ppp_laplink_server (192.168.0.1) en de server verwijst naar de client
    met ppp_laplink_client (192.168.1.1).
   </P
><P
>    Je kan verschillende regels gebruiken in 
    <SPAN
CLASS="QUOTE"
>"/etc/ppp/pap-secrets"</SPAN
> om alleen gebruikerstoegang
    te selecteren. Ik gebruik het PAP protocol voor authenticatie;
    als je dat wilt, kun je CHAP gebruiken - de setup is vrijwel gelijk,
    waarbij je gebruik maakt van het bestand <SPAN
CLASS="QUOTE"
>"chap-secrets"</SPAN
>. 
    Voor deze en andere opties kun je de manpages en de documentie 
    die onderaan het document wordt vermeld raadplegen.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN89"
></A
>Een op getty lijkende installatie van pppd</H3
><P
>    Je kunt de PPP-daemon (pppd) starten wanneer je het systeem boot en
    het de de seri&euml;le lijn van je keuze laten monitoren. Een elegante
    manier om dit te bereiken is het wijzigen van het bestand
    <SPAN
CLASS="QUOTE"
>"/etc/inittab"</SPAN
>. Dit bestand bevat informatie voor
    initialisatie van het systeem.
    Voeg het volgende toe aan dit bestand:

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
># Start pppd voor de seri&#38;euml;le laplink.
pd:2345:respawn:/usr/sbin/pppd /dev/ttyS1 nodetach
   </PRE
></TD
></TR
></TABLE
><P
>    Dit betekent het volgende: voor runlevels 2, 3, 4 en 5  
    <SPAN
CLASS="QUOTE"
>"/usr/sbin/pppd /dev/ttyS1 nodetach"</SPAN
> starten en als
    het wordt be&euml;indigd (einde van de verbinding) start dan een
    nieuwe op.
    De <SPAN
CLASS="QUOTE"
>"nodetach"</SPAN
> option maakt dat pppd verbonden blijft
    met de terminal welke het startte, in plaats van dat het forkt en
    stopt. Deze optie is nodig omdat het <SPAN
CLASS="QUOTE"
>"init"</SPAN
> 
    proces anders onmiddellijk een nieuwe verbinding op zou starten. Andere
    regels in het inittab bestand specificeren getty processen die op
    seri&euml;le terminals (tty's) draaien;
    die initialisatie lijkt veel op deze.
   </P
><P
>    Typ voor het activeren van deze nieuwe configuratie:
   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>[root@griis /root]# /sbin/init q
   </PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN100"
></A
>Start de server wanneer dit nodig is</H3
><P
>    Als je slechts zo nu en dan een verbinding met de server wilt maken,
    geef je er waarschijnlijk de voorkeur aan de verbinding handmatig op
    te starten. Alle instellingen blijven hetzelfde; je kunt de server 
    eenvoudigweg starten door achter de prompt in te tikken:
   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>/usr/sbin/pppd /dev/ttyS1 nodetach
   </PRE
></TD
></TR
></TABLE
><P
>    De optie <SPAN
CLASS="QUOTE"
>"nodetach"</SPAN
> is niet echt nodig, maar zorgt dat de
    verbinding makkelijk kan worden afgebroken door <SPAN
CLASS="QUOTE"
>"ctrl-c"</SPAN
>
    in te drukken.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN107"
></A
>Diensten aanbieden aan MS Windows clients</H3
><P
>    Helaas is de MS Windows implementatie niet geheel standaard.
    Voor het initi&euml;ren van de PPP-verbinding vereist het de uitwisseling
    van de tekststrings <SPAN
CLASS="QUOTE"
>"CLIENT"</SPAN
> (van de client) en
    <SPAN
CLASS="QUOTE"
>"CLIENTSERVER"</SPAN
> (van de server). 
    Voor aanpassing aan een Windows client moet de volgende regel worden
    toegevoegd aan het bestand
    <SPAN
CLASS="QUOTE"
>"/etc/ppp/options.ttyS1"</SPAN
>:
   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>connect 'chat -v -f /etc/ppp/scripts/winclient.chat'
   </PRE
></TD
></TR
></TABLE
><P
>    Maak dan de scripts directory en het chat bestand 
    <SPAN
CLASS="QUOTE"
>"/etc/ppp/scripts/winclient.chat"</SPAN
> aan:

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>TIMEOUT 3600
CLIENT CLIENTSERVER\c
   </PRE
></TD
></TR
></TABLE
><P
>    De connect optie maakt het je mogelijk dat je een programma opgeeft
    die de string uitwisseling verzorgt voor de connectie. Gewoonlijk
    wordt het programma <SPAN
CLASS="QUOTE"
>"chat"</SPAN
> hiervoor gebruikt; kijk in
    de manpage voor details. Het gegeven script zorgt voor wat nodig
    is voor de Windows connectie. Je hebt het niet nodig om een verbinding
    te maken met een Linux box.
   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN119"
></A
>Op de client</H2
><P
>   Na de server te hebben geconfigureerd, is de client een makkie. In het
   bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/options"</SPAN
> komt een enkele regel voor:

  </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#/etc/ppp/options
lock
  </PRE
></TD
></TR
></TABLE
><P
>   De seri&euml;le poort op mijn client is <SPAN
CLASS="QUOTE"
>"/dev/ttyS0"</SPAN
> (COM1), 
   dus moet ik ook een bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/options.ttyS0"</SPAN
> 
   aanmaken:

  </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#/etc/ppp/options.ttyS0
115200
crtscts
local
user zaphod
noauth
  </PRE
></TD
></TR
></TABLE
><P
>   Slechts een paar nieuwe opties in dit bestand. Merk op dat de snelheid op
   de server en client hetzelfde moet zijn (hier is dat 115200). Met
   <SPAN
CLASS="QUOTE"
>"user zaphod"</SPAN
> is de gebruikersnaam op de client gespecificeerd.
   Deze gebruikersnaam moet corresponderen met een regel in het bestand
   <SPAN
CLASS="QUOTE"
>"/etc/ppp/pap-secrets"</SPAN
> van de client en het moet een geldige
   gebruikersnaam op de server zijn. De optie
   <SPAN
CLASS="QUOTE"
>"noauth"</SPAN
> geeft aan dat de peer (server) zichzelf niet bekend
   hoeft te maken aan de client.
  </P
><P
>   Als laatste: het instellen van de clientnaam (gebruikersnaam) en de
   sleutel (het wachtwoord) in het bestand <SPAN
CLASS="QUOTE"
>"/etc/ppp/pap-secrets"</SPAN
>:

  </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#/etc/ppp/pap-secrets
# Secrets for authentication using PAP
# client                 server                  secret                IP addresses
zaphod                   *                       gargleBlaster
  </PRE
></TD
></TR
></TABLE
><P
>   Dus de gebruiker <SPAN
CLASS="QUOTE"
>"zaphod"</SPAN
> gebruikt het wachtwoord 
   <SPAN
CLASS="QUOTE"
>"gargleBlaster"</SPAN
>, wat hem toegang zou moeten geven tot het
   systeem. Deze bestanden bevatten gevoelige informatie, dus zorg dat je
   de permissies correct instelt.
  </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN138"
></A
>Start de client</H3
><P
>    Typ op de opdrachtregel:
   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>/usr/sbin/pppd /dev/ttyS0 nodetach
   </PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN142"
></A
>Verbinding maken met een MS Windows server</H3
><P
>    Wat als je een verbinding wilt maken met een Windows server? Ook hier
    hebben we de optie <SPAN
CLASS="QUOTE"
>"connect"</SPAN
> nodig en een chatscript.
    Voeg de volgende regel toe aan het bestand 
    <SPAN
CLASS="QUOTE"
>"/etc/ppp/options.ttyS0"</SPAN
>:

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>connect chat -v -f /etc/ppp/scripts/winserver.chat
   </PRE
></TD
></TR
></TABLE
><P
>    Maak ook het chatscript <SPAN
CLASS="QUOTE"
>"/etc/ppp/script/winserver.chat"</SPAN
> aan:

   </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>TIMEOUT 10
'' CLIENT\c
   </PRE
></TD
></TR
></TABLE
><P
>    Dit zorgt ervoor dat de client de <SPAN
CLASS="QUOTE"
>"CLIENT"</SPAN
> string 
    stuurt voordat geprobeerd wordt de PPP-verbinding te starten.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN153"
></A
>Instellen van een MS Windows (95) client</H3
><P
>    Om met windows een verbinding te maken met de server, gebruik je het
    programma Directe kabelverbinding, en stel je het in als
    <SPAN
CLASS="QUOTE"
>"guest"</SPAN
>. Om met de windows client op volledige snelheid
    een verbinding te maken, zul je de communicatiesnelheid van de directe
    kabelverbinding moeten wijzigen. Hiervoor ga je naar
    Control Panel-&gt;Systeem-&gt;Device Manager-&gt;Modems en selecteert
    de seri&euml;le kabel. Ga verder met de 'modem' optie en selecteer een
    maximumsnelheid van 115200 of waarop je linux computer dan ook is 
    ingesteld.
    Nu is het van belang dat je in dit stadium je computer opnieuw opstart,
    anders zal het niet werken (tenminste niet met Microsoft Windows 95, versie
    A), wat betreft andere versies ben ik daar niet zeker van.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN157"
></A
>Vreemd genoeg...</H3
><P
>Vreemd genoeg cre&euml;rde ik een Linux server die een verbinding met zowel
Linux als Windows computers tot stand moest brengen, dus bevond ik mezelf in
de vreemde situatie beide Linux systemen zodanig te moeten instellen dat
ze zowel een verbinding maakten met Windows servers als clients!
   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN160"
></A
>Verbinding maken...</H2
><P
>   Het moment van de waarheid: verbind de computer met de nullmodem kabel,
   start als eerste de server (als je de de <SPAN
CLASS="QUOTE"
>"/etc/inittab"</SPAN
>
   benadering gebruikt, moet het reeds zijn geactiveerd),
   en start dan de client. 
   Op de server krijg je iets dergelijks te zien als het volgende:

  </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>[root@griis /root]# pppd /dev/ttyS1 nodetach
Using interface ppp0
Connect: ppp0 &#60;--&#62; /dev/ttyS1
user zaphod logged in
Deflate (15) compression enabled
local  IP address 192.168.0.1
remote IP address 192.168.1.1
  </PRE
></TD
></TR
></TABLE
><P
>Als je pppd opstartte vanuit het bestand <SPAN
CLASS="QUOTE"
>"/etc/inittab"</SPAN
> dan zullen
deze meldingen verschijnen in <SPAN
CLASS="QUOTE"
>"/var/log/messages"</SPAN
>. 
Op de client zie je dan iets als:

  </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>[root@wylg /root]# pppd /dev/ttyS0 nodetach
Using interface ppp0
Connect: ppp0 &#60;--&#62; /dev/ttyS0
Remote message: Success
Deflate (15) compression enabled
local  IP address 192.168.1.1
remote IP address 192.168.0.1	
  </PRE
></TD
></TR
></TABLE
><P
>Op beide computers kun je de andere computer pingen om erachter te komen
of de verbinding actief is:

  </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>[zaphod@wylg zaphod]$ ping 192.168.0.1
PING 192.168.0.1 (192.168.0.1) from 192.168.1.1 : 56(84) bytes of data.
64 bytes from 192.168.0.1: icmp_seq=0 ttl=255 time=31.7 ms
64 bytes from 192.168.0.1: icmp_seq=1 ttl=255 time=20.3 ms
64 bytes from 192.168.0.1: icmp_seq=2 ttl=255 time=19.2 ms
64 bytes from 192.168.0.1: icmp_seq=3 ttl=255 time=20.3 ms
 
--- 192.168.0.1 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max = 19.2/22.8/31.7 ms	
  </PRE
></TD
></TR
></TABLE
><P
>Je kunt nu de server via alle TCP/IP services benaderen die het beschikbaar
heeft, zoals FTP, HTTP, TELNET en SAMBA.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN172"
></A
>Internet via de seri&euml;le poort</H2
><P
>   Veronderstel dat je een laptop hebt en zo nu en dan een verbinding wilt
   maken met Internet. Stel ook dat je een machine hebt met een ethernet
   verbinding en een seri&euml;le poort. Je kunt de laptop als
   een client instellen, de andere machine als een server en
   <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>IP masquerading</I
></SPAN
> gebruiken om via de null-modem kabel
   een verbinding te maken met Internet. Kijk de IP-Masquerading-Howto er op
   na voor hoe je dit kunt doen.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN176"
></A
>Andere nuttige documenten</H2
><P
></P
><UL
><LI
><P
>   De pppd en chat manual pages
   </P
></LI
><LI
><P
>   PPP-HOWTO
   </P
></LI
><LI
><P
>   How to hook up PPP (http://axion.physics.ubc.ca/ppp-linux.html)
   </P
></LI
><LI
><P
>   Modem-HOWTO
   </P
></LI
><LI
><P
>   Serial-HOWTO
   </P
></LI
><LI
><P
>   IP-Masquerade-HOWTO
   </P
></LI
></UL
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN191"
></A
>License</H2
><P
>   Copyright (c) 2000, 2001 door Willem J. Atsma
  </P
><P
>   Dit document valt onder de Gnu Free Documentation License 
   (http://www.gnu.org/copyleft/fdl.html). 
   Kopieer en distribueer (verkoop het of geef het weg) alsjeblieft dit document
   in elk formaat. Je wordt verzocht correcties en/of opmerkingen door
   te sturen naar de beheerder van het document.
   Je mag een afgeleide werk cre&euml;ren en distribueren op voorwaarde dat je:
  </P
><P
></P
><UL
><LI
><P
>   Het afgeleide werk opstuurt (in het meest geschikte formaat, zoals sgml) naar
   de LDP (Linux Documentation Project) of iets dergelijks voor posting op
   het Internet.
   </P
></LI
><LI
><P
>   Licentieer het afgeleide werk met dezelfde licentie of gebruik GPL.
   Voeg een copyrightmelding in en op z'n minst een verwijzing naar de
   gebruikte licentie.
   </P
></LI
><LI
><P
>   Geef krediet aan de vorige auteurs en mensen die een belangrijke bijdrage
   leverden.
   </P
></LI
></UL
><P
>   Als je overweegt een afgeleide werk te cre&euml;ren anders dan een vertaling,
   dan word je verzocht je plannen met de huidige beheerder te bespreken.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN203"
></A
>Krediet</H2
><P
>   Ik heb een aardige hoeveelheid behulpzame feedback ontvangen, in het
   bijzonder van J.M. en B.S., en een deel daarvan is opgenomen in deze nieuwe
   versie, bedankt!

author: W.J. Atsma
email: watsma@mech.ubc.ca
revision: 29jul2001
  </P
></DIV
></DIV
></BODY
></HTML
>