<HTML
><HEAD
><TITLE
>Linux MP3 Branden van een CD mini-HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><META
NAME="KEYWORD"
CONTENT="  MP3
 "><META
NAME="KEYWORD"
CONTENT="  CD
 "><META
NAME="KEYWORD"
CONTENT="  audio
 "><META
NAME="KEYWORD"
CONTENT="  opnemen
 "><META
NAME="KEYWORD"
CONTENT="  branden
 "><META
NAME="KEYWORD"
CONTENT="  WAV
 "><META
NAME="KEYWORD"
CONTENT="  muziek
 "></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>Linux MP3 Branden van een CD mini-HOWTO</H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Greg Wierzchowski</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:greg.wierzchowski@usa.net"
>greg.wierzchowski@usa.net</A
>&#62;</TT
></P
></DIV
></DIV
><H3
CLASS="AUTHOR"
><A
NAME="AEN10"
>Vertaald door: Bokhorst</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:bokkie@nl.linux.org"
>bokkie@nl.linux.org</A
>&#62;</TT
></P
></DIV
></DIV
><P
CLASS="PUBDATE"
>2001-05-29<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Wijzigingen</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.5</TD
><TD
ALIGN="LEFT"
>19-11-2001</TD
><TD
ALIGN="LEFT"
>Herzien door: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Corrigeerde iets dat ontbrak in de Disc-At-Once 
         branden sectie.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.4</TD
><TD
ALIGN="LEFT"
>17-11-2001</TD
><TD
ALIGN="LEFT"
>Herzien door: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Toegevoegd de sectie Disc-At-Once branden.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.3</TD
><TD
ALIGN="LEFT"
>02-09-2001</TD
><TD
ALIGN="LEFT"
>Herzien door: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Nog een voorbeeld toegevoegd over het decoderen van MP3 
         bestanden met lame.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.2</TD
><TD
ALIGN="LEFT"
>12-07-2001</TD
><TD
ALIGN="LEFT"
>Herzien door: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Kleine opmaakwijzigingen; De subsectie Vertalingen
        toegevoegd aan Krediet.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.1</TD
><TD
ALIGN="LEFT"
>12-6-2001</TD
><TD
ALIGN="LEFT"
>Herzien door: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Kleine opschoning; Regexp fix voor MP3 naar WAV 
        naamconversie voorbeeld.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.0</TD
><TD
ALIGN="LEFT"
>29-05-2001</TD
><TD
ALIGN="LEFT"
>Herzien door: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Initi&euml;le release.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN17"
></A
><P
></P
><P
>Een compleet recept voor het aanmaken van CD's met MP3 bestanden.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Inhoudsopgave</B
></DT
><DT
><A
HREF="#INTRO"
>Introductie</A
></DT
><DT
><A
HREF="#PREPARE"
>Voorbereiden van de tracks</A
></DT
><DT
><A
HREF="#BURNING"
>Branden van je CD</A
></DT
><DT
><A
HREF="#DAO-BURNING"
>Branden van een DAO CD</A
></DT
><DT
><A
HREF="#CREDITS"
>Krediet</A
></DT
></DL
></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="INTRO"
></A
>Introductie</H1
><P
>Deze mini-HOWTO werd gecre&euml;erd vanwege mijn ervaring met het
branden van muziek-CD's en het gebrek aan wat specifieke informatie over
geluidsnormalisatie op het Internet. Ik brand gewoonlijk muziek-CD's als
een mix - verschillende liedjes vanaf verschillende bronnen. Erg vaak
zit er tussen liedjes een enorm verschil in het volumeniveau. Dit is het
eerste obstakel. Ten tweede zijn veel van de bestanden op het Internet niet
CD-compatibel (16 bit, stereo, 44.1 kHz) en moeten ze worden geconverteerd.
Er zijn heel wat programma's om muziek-CD's van MP3 bestanden te branden,
en veel daarvan voeren de conversie transparant uit. Maar ik heb nog geen
enkel hulpmiddel gezien dat ook het volume normaliseert, dus daarom werkte
ik mijn eigen recept over CD-branden uit.</P
><P
>Ik veronderstel dat je een CD wilt branden met de verzameling liedjes
die je van verschillende bronnen hebt verkregen, allen vari&euml;rend in
kwaliteit, maar je wilt een CD met de best mogelijke geluidskwaliteit.
In deze mini-HOWTO worden de stappen uiteengezet die je daarbij wellicht
kunnen helpen.</P
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="COPYRIGHT"
></A
>Copyright en Licentie</H2
><P
>Dit document is auteursrechtelijk beschermd 2001 door Greg Wierzchowski 
en het is uitgegeven onder de voorwaarden van de GNU Free Documentation License,
welke hierbij als referentie is opgenomen. Stuur feedback naar
<A
HREF="mailto:greg.wierzchowski@usa.net"
TARGET="_top"
><I
CLASS="CITETITLE"
>greg.wierzchowski@usa.net</I
></A
>.
      </P
></DIV
></DIV
><DIV
CLASS="SECTION"
><HR><H1
CLASS="SECTION"
><A
NAME="PREPARE"
></A
>Voorbereiden van de tracks</H1
><P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="/IMAGES//note.gif"
HSPACE="5"
ALT="Opmerking"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Noot</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Alle opdrachten veronderstellen de bashshell</P
></TD
></TR
></TABLE
></DIV
></P
><P
></P
><OL
TYPE="1"
><LI
><P
>Verzamel alle MP3 bestanden in &eacute;&eacute;n
directory.</P
></LI
><LI
><P
>Als zich daaronder bestandsnamen met spaties bevinden,
zet je deze eerst om in onderstrepingstekens: </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>for i in *.mp3; do mv "$i" `echo $i | tr ' ' '_'`; done </PRE
></TD
></TR
></TABLE
></LI
><LI
><P
>Converteer ze naar WAV met de opdracht: </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>for i in *.mp3; do mpg123 -w `basename $i .mp3`.wav $i; done </PRE
></TD
></TR
></TABLE
><P
>Als het goed is, bevindt <I
CLASS="CITETITLE"
>Mpg123</I
> zich in elke
Linux distributie, maar mocht je het niet hebben, dan kun je het ophalen van
<A
HREF="http://www.mpg123.de/"
TARGET="_top"
>http://www.mpg123.de/</A
>.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>NOOT</I
></SPAN
> 
Ik bemerkte bij een aantal MP3 bestanden dat de uitvoer van mpg123 werd
vervormd. Eerst dacht ik dat de MP3's slecht waren, maar toen ik dit
controleerde met een andere speler, klonken ze goed. Dus zocht ik naar een
andere MP3 speler welke WAV bestanden naar disk kon schrijven, en vond:
<I
CLASS="CITETITLE"
>MAD mp3 decoder</I
> op
<A
HREF="http://www.mars.org/home/rob/proj/mpeg/"
TARGET="_top"
>http://www.mars.org/home/rob/proj/mpeg/</A
>.
Met <I
CLASS="CITETITLE"
>madplayer</I
>, luidt de opdrachtregel: </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>for i in *.mp3; do madplay -o `basename $i .mp3`.wav $i; done </PRE
></TD
></TR
></TABLE
><P
>Er is nog een andere manier om de conversie uit te voeren. Een aantal MP3
bestanden zorgen zowel met <B
CLASS="COMMAND"
>mpg123</B
> als met
<B
CLASS="COMMAND"
>madplay</B
> voor problemen bij het decoderen. De 
<B
CLASS="COMMAND"
>lame</B
> encoder, die een decodeer modus heeft, schijnt
moeilijke gevallen zeer goed af te handelen
(<B
CLASS="COMMAND"
>lame</B
> is te vinden op <A
HREF="http://www.mp3dev.org/mp3/"
TARGET="_top"
>http://www.mp3dev.org/mp3/</A
>) :
     </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>     for i in *.mp3; do lame --decode $i `basename $i .mp3`.wav; done
     </PRE
></TD
></TR
></TABLE
><P
>     <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>NOOT:</I
></SPAN
> 
De opdracht <B
CLASS="COMMAND"
>`basename $i .mp3`.wav</B
> vervangt MP3 extensies
door WAV. Er zijn 101 manieren om dat te doen, hier is een alternatief: 
     <B
CLASS="COMMAND"
>`echo "$1" | sed 's/\.mp3$/.wav/'`</B
>
     </P
></LI
><LI
><P
>Voer de opdracht &quot;<B
CLASS="COMMAND"
>file *.wav</B
>&quot; uit
en controleer de uitvoer op bestanden anders dan
16 bit, stereo 44100 Hz.</P
></LI
><LI
><P
>Mochten er bestanden met verschillende karakteristieken zij, converteer ze
dan naar bovenstaande specs. Om bijvoorbeeld een bestand track01.wav
te converteren om een sample rate van 44.1 kHz te verkrijgen, zou je
kunnen gebruiken:</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>sox track01.wav -r 44100 track01-new.wav resample</PRE
></TD
></TR
></TABLE
><P
><I
CLASS="CITETITLE"
>Sox</I
> is zo populair, dat het waarschijnlijk
al standaard is ge&iuml;nstalleerd bij elke distributie. Het kan worden
verkregen vanaf
<A
HREF="http://www.spies.com/Sox/"
TARGET="_top"
>http://www.spies.com/Sox/</A
>.
De opdrachtregelopties zijn echter wat cryptisch voor de alledaagse
gebruiker (ikzelf). Kijk op
<A
HREF="http://www.spies.com/Sox/sox.tips.html"
TARGET="_top"
>http://www.spies.com/Sox/sox.tips.html</A
>
voor wat tips over het gebruik.</P
></LI
><LI
><P
>Normaliseer je WAV bestanden, om drastische verschillen in 
volumeniveaus te voorkomen. Ik gebruik een programma van
Chris Vaill (<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:cvaill@cs.columbia.edu"
>cvaill@cs.columbia.edu</A
>&#62;</TT
>), genaamd
<B
CLASS="COMMAND"
>normalize</B
> - het is te verkrijgen vanaf
<A
HREF="http://www.cs.columbia.edu/~cvaill/normalize/"
TARGET="_top"
>http://www.cs.columbia.edu/~cvaill/normalize/</A
>
     </P
><P
>Ik gebruik de volgende syntax
(-m is voor mix modus, waarbij alle bestanden zo luid mogelijk zouden moeten
zijn):
     </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>     normalize -m *.wav</PRE
></TD
></TR
></TABLE
></LI
></OL
></DIV
><DIV
CLASS="SECTION"
><HR><H1
CLASS="SECTION"
><A
NAME="BURNING"
></A
>Branden van je CD</H1
><P
>Er zijn heel wat programma's voor het maken van CD's met WAV bestanden. Ik
gebruik <B
CLASS="COMMAND"
>cdrecord</B
> voor het branden via de opdrachtregel en
<B
CLASS="COMMAND"
>XCDROAST</B
> tijdens het werken met een gui. 
Om <B
CLASS="COMMAND"
>cdrecord</B
> te kunnen gebruiken, moet je weten welk
SCSI-device je CD-writer is. Als je een ATAPI writer gebruikt, gebruik je
SCSI-emulatie (kernel module ide-scsi). Laten we ervan uitgaan dat je
ATAPI cdwriter is aangesloten op de tweede IDE-bus als master.
Dus dan heeft het de <TT
CLASS="FILENAME"
>/dev/hdc</TT
> device
file. Om de kernel te instrueren dat je het als een SCSI-device wilt
behandelen, voeg je de volgende regel toe aan
<TT
CLASS="FILENAME"
>/etc/lilo.conf</TT
>: </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>     append=" hdc=ide-scsi"</PRE
></TD
></TR
></TABLE
><P
>Als de kernel de ide-scsi module niet automatisch laadt, dan moet je bovendien
<B
CLASS="COMMAND"
>insmod ide-scsi</B
> in het bestand <TT
CLASS="FILENAME"
>rc.local</TT
>
(of equivalente bestand) plaatsen. Zodra je CD-writer wordt herkend als een
SCSI-device, start je <B
CLASS="COMMAND"
>cdrecord --scanbus</B
> om erachter te
komen wat de "dev" parameter voor cdrecord is. Op mijn systeem, ziet de
uitvoer er ongeveer zo uit:</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>     scsibus1:
     1,0,0 100) 'IOMEGA ' 'ZIP 250 ' '51.G' Removable Disk
     1,1,0 101) 'HP ' 'CD-Writer+ 7100 ' '3.01' Removable CD-ROM</PRE
></TD
></TR
></TABLE
><P
>Dus de opdracht <B
CLASS="COMMAND"
>cdrecord</B
> bevat
<B
CLASS="COMMAND"
>dev=1,1,0</B
> om het device aan te geven.
Dit is de volledige opdracht voor mijn systeem: </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>     cdrecord dev=1,1,0 -eject speed=2 -pad -audio *.wav</PRE
></TD
></TR
></TABLE
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="/IMAGES//note.gif"
HSPACE="5"
ALT="Opmerking"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>NOOT</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> Het -pad argument is noodzakelijk, omdat
alle audio tracks op de CD moeten worden aangepast op de juiste 
gegevenslengte, wat niet altijd het geval is met mp3 bestanden.</P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECTION"
><HR><H1
CLASS="SECTION"
><A
NAME="DAO-BURNING"
></A
>Branden van een DAO CD</H1
><P
>DAO, Disc-At-Once, is op het moment de enige methode om een CD te branden
zonder een 2 seconden durende pauze tussen de tracks. Het is handig voor
het branden van party mixen. Het programma voor het branden van CD's in
DAO modus is <B
CLASS="COMMAND"
>cdrdao</B
>, beschikbaar vanaf SourceForge, 
<A
HREF="http://sourceforge.net/projects/cdrdao/"
TARGET="_top"
>http://sourceforge.net/projects/cdrdao/</A
>.</P
><P
>Het programma <B
CLASS="COMMAND"
>cdrdao</B
> maakt gebruik van beschrijvende
bestanden genaamd <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>TOC</I
></SPAN
> (Table Of Contents=inhoudsopgave, 
natuurlijk).  Er zijn twee manieren om een dergelijk bestand te schrijven. 
Ten eerste met behulp van een shellscript, welke wordt gedistribueerd met
de <B
CLASS="COMMAND"
>cdrdao</B
> broncode (in de directory 
<TT
CLASS="FILENAME"
>contrib</TT
>, genaamd <B
CLASS="COMMAND"
>generate_toc.sh</B
>. 
Het accepteert als argument een lijst met <TT
CLASS="FILENAME"
>.wav</TT
> 
bestanden en produceert een <TT
CLASS="FILENAME"
>cd.toc</TT
> bestand. 
De tweede manier is eenvoudigweg zelf een dergelijk bestand te schrijven
in een teksteditor naar keuze. Hier is een voor zichzelf sprekend voorbeeld:</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>CD_DA

TRACK AUDIO
AUDIOFILE "mix-01.wav" 0

TRACK AUDIO
AUDIOFILE "mix-02.wav" 0

TRACK AUDIO
AUDIOFILE "mix-03.wav" 0

TRACK AUDIO
AUDIOFILE "mix-04.wav" 0

TRACK AUDIO
AUDIOFILE "mix-05.wav" 0</PRE
></TD
></TR
></TABLE
><P
>De <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>0</I
></SPAN
> (nul) achter de wave bestandsnaam betekent: start
vanaf het begin van het bestand. Er kan nog een tweede nummer worden opgegeven
dat de lengte (in tijd) van het bestand naar het record aangeeft. De 
<B
CLASS="COMMAND"
>xcdroast</B
> maakt vergelijkbare <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>TOC</I
></SPAN
> 
bestanden aan. Er bevinden zich ook voorbeelden in de directory
<TT
CLASS="FILENAME"
>testtocs</TT
> van de broncode van <B
CLASS="COMMAND"
>cdrdao</B
>.</P
><P
>De <B
CLASS="COMMAND"
>cdrdao</B
> gebruikt standaard het device
<TT
CLASS="FILENAME"
>/dev/cdrecorder</TT
>, wat een link moet zijn naar het
cdwriter device. Maak als volgt (als root) de link aan, ervan uitgaande dat 
je cd recorder device het bestand <TT
CLASS="FILENAME"
>/dev/scd0</TT
> is: </P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>ln -s /dev/scd0 /dev/cdrecorder</PRE
></TD
></TR
></TABLE
><P
>Dan in de veronderstelling dat het <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>TOC</I
></SPAN
> bestand de naam
<TT
CLASS="FILENAME"
>cd.toc</TT
> heeft, is de opdracht om de cd te branden
eenvoudigweg:</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>cdrdao write cd.toc</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECTION"
><HR><H1
CLASS="SECTION"
><A
NAME="CREDITS"
></A
>Krediet</H1
><P
>Speciale dank gaat uit naar al die mensen die een bijdrage aan de Linux
gemeenschap leverden en die deze HOWTO mogelijk maakten.</P
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="TRANSLATIONS"
></A
>Vertalingen</H2
><P
></P
><UL
><LI
><P
>  Im Eunjea - Vertaalde dit document naar Koreaans, URL is <A
HREF="http://kltp.kldp.org/eunjea/mp3_burning/"
TARGET="_top"
>http://kltp.kldp.org/eunjea/mp3_burning/</A
>.</P
></LI
><LI
><P
>  Mendel L Chan - Vertaalde dit document naar de Chinese taal, URL is <A
HREF="http://www.linux.org.tw/CLDP/mini/MP3-CD-Burning/"
TARGET="_top"
>http://www.linux.org.tw/CLDP/mini/MP3-CD-Burning/</A
>.</P
></LI
></UL
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="OTHERCREDITS"
></A
>Overige krediet</H2
><P
></P
><UL
><LI
><P
>  Greg Ferguson - Converteerde dit document in eerste instantie van
HTML naar SGML.</P
></LI
><LI
><P
>  Rob Russell - Corrigeerde mijn naamconversievoorbeeld.</P
></LI
><LI
><P
>  Terry Davis - Deed de suggestie mijn HOWTO aan te leveren bij linuxdoc.</P
></LI
><LI
><P
>Chris Vaill - Maakte het <B
CLASS="COMMAND"
>normalize</B
> programma.</P
></LI
><LI
><P
>Jamie Kellogg - Kwam als oplossing met 
<B
CLASS="COMMAND"
>lame</B
> om probleembestanden te decoderen.</P
></LI
></UL
></DIV
></DIV
></DIV
></BODY
></HTML
>