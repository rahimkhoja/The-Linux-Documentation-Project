<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> PLIP Installatie HOWTO</TITLE>


</HEAD>
<BODY>
<H1> PLIP Installatie HOWTO</H1>

<H2>Gilles Lamiral, <CODE>lamiral@linux-france.org</CODE>,<BR>
   Vertaald door: Ellen Bokhorst, <CODE>bokkie@nl.linux.org</CODE></H2>v1.36, 03-12-2001
<P><HR>
<EM>     Hierin wordt beschreven hoe een <B>Gnu|Linux</B> distributie
        op een computer zonder Ethernetkaart of CD-ROM,         maar wel met een  <B>lokaal diskettestation</B> en een  <B>remote nfs server</B> gekoppeld via een parallelle   <B>Null-modem</B> kabel te installeren. Op de nfs server
        is een <B>cdrom station</B> gemount en ge&euml;xporteerd.</EM>
<HR>
<H2><A NAME="s1">1. Laatste versie</A></H2>

<P>De laatste uitgave van de 
<A HREF="http://www.linuxdoc.org/HOWTO/PLIP-Install-HOWTO.html">PLIP-Install-HOWTO</A>, van Gilles Lamiral, is te vinden op: <BR>
<CODE>http://www.linuxdoc.org/HOWTO/PLIP-Install-HOWTO.html</CODE>
<P>Als je deze HOWTO al hebt gelezen en je je afvraagt wat er in
deze uitgave is bijgekomen, lees dan de sectie
<A HREF="#WHAT_IS_NEW">wat is nieuw</A>.
<H2><A NAME="PLIP_IMPATIENT"></A> <A NAME="s2">2. PLIP voor de ongeduldigen</A></H2>

<P>Deze sectie is gebruikt om te voorkomen dat je het hele document moet
lezen, wanneer je zo snel mogelijk een plip-verbinding nodig hebt.
<H2>2.1 Source side</H2>

<P>
<P>
<PRE>
cat /proc/parport/0/hardware
insmod parport
insmod parport_pc
echo 7 > /proc/parport/0/irq
insmod plip
tail /var/log/messages
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 \
         netmask 255.255.255.255 up
ifconfig plip0
ping 192.168.0.2
route -n
</PRE>
<H2>2.2 Target side</H2>

<P>
<PRE>
ifconfig plip1 192.168.0.1 pointopoint 192.168.0.2 \
         netmask 255.255.255.255 up
route add -host 192.168.0.2 dev plip1 # als de route niet aanwezig is
</PRE>
<H2>2.3 Laatste test</H2>

<P>
<P>
<PRE>
ping 192.168.0.1 # vanaf 192.168.0.2
ping 192.168.0.2 # vanaf 192.168.0.1
</PRE>
<H2><A NAME="s3">3. Introductie</A></H2>

<P>"PLIP staat voor Parallel Line IP en dat is het transport van
IP-pakketjes via een parallelle poort."
Donald Becker (becker@super.org).
<P>Het schrijven van een PLIP installatie HOWTO lijkt tegenwoordig
zinloos sinds Ethernetkaarten zo goedkoop zijn: NE2000
kaarten kosten ongeveer net zoveel als een Null-Modem kabel.
Dit geldt dan wel voor desktop computers, maar niet voor
laptop computers, waarvoor de PCMCIA kaarten 10 keer zoveel
kosten als de Null-Modem kabel. Bovendien is iedere computer
voorzien van een parallelle poort, en niet altijd van een
netwerkkaart.
<P>Natuurlijk kan deze howto worden gebruikt om Linux op iedere 
personal computer te installeren zonder aan algemeenheid in te boeten.
<P>In dit stuk lees je slechts wat ik heb gedaan om een 
<A HREF="http://www.debian.org">Debian GNU/Linux</A> distributie op
een draagbare Toshiba 620CT laptop, vanaf een NFS ge&euml;xporteerd
cdrom-station, via een Null-Modem kabel te installeren. 
<P>Een Null-Modem kabel wordt ook wel een Null-Printerkabel genoemd.
<P>Een Null-Modem kabel wordt ook wel een "Laplink" (of "Turbo Laplink")
kabel genoemd, maar het woord "LapLink" is sinds 1986 een
<A HREF="http://www.marksonline.com/app/tmsearch/find_mark?tok=laplink">handelsmerk</A> van Traveling Software onder het nummer 75466713,
dus zal ik het niet meer gebruiken.
<P>Deze HOWTO zal verouderd zijn als in iedere Linux distributie een
PLIP installatie optie zal zijn opgenomen. Voor de Debian installatie zijn
bijvoorbeeld slechts twee opdrachten nodig die deze HOWTO verouderd
maken (ifconfig + route). 
Ik hoop dat een van de mensen die Debian onderhoudt, dit punt 
zal overdenken.
<P>Ik hoopte dat deze HOWTO ooit verouderd zou zijn, maar in werkelijkheid
lijkt het erop dat dit nooit het geval zal zijn, omdat een aantal
bouwers van een aantal distributies de installatie via PLIP wel opnemen, 
maar vergeten het in nieuwe versies te onderhouden (zoals bijvoorbeeld bij
REDHAT het geval is).
<P>Ik zou graag willen weten of iemand de PLIP-Install-HOWTO heeft
gebruikt om andere Linux distributies vanaf andere netwerkprotocollen
(ftp, http, nfs, samba, of zelfs NT/Novell servers) te installeren.
<P>Feedback met typfouten, slecht Engels, opmerkingen, geld, een baan,
plezier, angst, tranen zijn welkom en aan te bevelen
(niet allen met dezelfde spontaniteit).
<P>Laat het me alsjeblieft weten als er vertalingen bestaan, daar doe
je me een plezier mee.
<P>
<H2><A NAME="LICENCE"></A> <A NAME="s4">4. Licentie </A></H2>

<P>Dit document viel onder de 
<A HREF="http://www.opencontent.org/opl.shtml">OpenContent</A> licentie. Dat is niet meer zo. Doe wat je wilt met dit
document.
<H2><A NAME="s5">5. Hoe schreef ik deze howto?</A></H2>

<P>
<P>Ik schreef dit stuk tijdens het installatieproces, maar aangezien
ik tegelijkertijd tegen verscheidene problemen aanliep, traden er
verschillen op in mijn aantekeningen en soms vergat ik de juiste
opdrachtregels op te schrijven omdat ik geen zin had opnieuw mijn
systeem op te starten (kernelcompilaties) en dit bestand iedere
keer te wijzigen.
<P>Toen de installatie mis ging (dat gebeurde, ik ben een beginner
betreft laptops, plip, linux nfs, portmapper, Debian) probeerde 
ik van alles om de problemen te corrigeren. Wanneer deze te lang
aanbleven, waren mijn gedachten gericht op het oplossen van deze
problemen, niet op het maken van aantekeningen.
<P>Dus toen het installatieproces uiteindelijk slaagde, besloot ik
het proces vanaf het begin opnieuw te doen en alles op te schrijven,
om je die tijd te besparen. Het was de eerste keer dat ik Linux
tweemaal op dezelfde computer installeerde.
<P>Vervolgens begon ik weer helemaal opnieuw met een Slink Debian
distributie (die volgend op de Hamm distributie) om  het
document te verifi&euml;ren. Het was de eerste keer dat ik Linux
driemaal op dezelfde computer installeerde. Ik hoop dat dit
de laatste keer was dat ik dit moest doen.
<P>
<P><B>Conclusie</B>: Als je doet wat hierin staat, zou het moeten
werken.
<H2><A NAME="s6">6. Wat heb je nodig?</A></H2>

<P>
<UL>
<LI> Een Personal Computer, laptop of desktop, genoemd de
doelcomputer of eenvoudigweg <B>target</B>.</LI>
<LI> Een 3 1/4" inch diskettestation op de <B>target</B>.</LI>
<LI> Twee of drie nieuwe diskettes. Ze hoeven niet te
zijn geformatteerd. Je hebt ook &eacute;&eacute;n of meer onder DOS
geformatteerde diskettes nodig als je <CODE>FIPS</CODE> moet
gebruiken.</LI>
<LI>Een andere computer met een cdrom-station en nfs services,
genoemd source-computer of eenvoudigweg de <B>source</B>. 
Het hoeft geen Linux systeem te zijn, maar slechts een systeem
waarop het cdrom-station via nfs kan worden ge&euml;xporteerd. 
In deze HOWTO wordt verondersteld dat het een Linux systeem is.</LI>
<LI> Een cdrom distributie. Ik nam een Debian Hamm (2.0r3) van
een oude Infomagic compilatie. Ik denk dat iedere distributie op deze
wijze kan worden ge&iuml;nstalleerd, maar ben daar niet zeker van.
Ik heb een 
<A HREF="http://www.linux-france.org/article/sys/Install-Plip/Install-Plip.html">Frans document</A>
gelezen, geschreven door Chmouel Boudjnah, waarin staat beschreven dat
de RedHat distributie over een makkelijk installatieproces beschikt.
Chmouel's document gaat ook over de Debian distributie, dus als je
Frans kunt lezen, kun je Chmouel's document gebruiken in plaats van
dit document.</LI>
<LI> Een Null-Modem DB 25 kabel. Is dit hetzelfde als een
seri&euml;le kabel? Je treft het antwoord in de volgende release
aan.</LI>
<LI> Wat tijd: 3 uur.</LI>
<LI> Koffie. 1 liter.</LI>
</UL>
<H2><A NAME="s7">7. De documentatie</A></H2>

<P>
<P>Ik raad deze goede materie aan voor het geval je er niet uitkomt
hoe een probleem kan worden opgelost. Ik heb ze gelezen. Dit zou
je ook moeten doen als je nieuwsgierig of nauwgezet bent.
<P>Vergeet niet te denken aan de 
<A HREF="http://www.linuxdoc.org/mirrors.html">LDP mirrors</A>,
opgesomd op: <BR> 
<A HREF="http://www.linuxdoc.org/mirrors.html">http://www.linuxdoc.org/mirrors.html</A><P>De meeste HOWTO's zijn 
<A HREF="http://metalab.unc.edu/pub/Linux/docs/HOWTO/translations/">vertaald</A>. Kijk gewoon onderaan de mirrorpagina
en volg de link <B><CODE>translations/</CODE></B>.  
<P>Lees de laatste 
<A HREF="http://mobilix.org/howtos.html">Linux-Mobile-Guide</A>,
van Werner Heuser, te vinden op: <BR> 
<A HREF="http://mobilix.org/howtos.html">http://mobilix.org/howtos.html</A> als je Linux op een
laptop wilt gebruiken.
<P>Lees zorgvuldig de
<A HREF="http://www.linuxdoc.org/HOWTO/Installation-HOWTO/">Installation-HOWTO</A>, van Eric S. Raymond, te vinden op:<BR>
 
<A HREF="http://www.linuxdoc.org/HOWTO/Installation-HOWTO/">http://www.linuxdoc.org/HOWTO/Installation-HOWTO/</A> door, 
als je nog niet eerder een distributie hebt ge&iuml;nstalleerd.
En zet meer koffie. :-)
<P>Lees de 
<A HREF="http://www.linuxdoc.org/HOWTO/CDROM-HOWTO.html">CDROM-HOWTO</A>, van Jeff Tranter, te vinden op: <BR> 
<A HREF="http://www.linuxdoc.org/HOWTO/CDROM-HOWTO.html">http://www.linuxdoc.org/HOWTO/CDROM-HOWTO.html</A> als je
informatie nodig hebt over je cdrom-station.
<P>Lees de 
<A HREF="http://www.linuxdoc.org/HOWTO/NFS-HOWTO.html">NFS-HOWTO</A>, van Nicolai Langfeldt, te vinden op: <BR> 
<A HREF="http://www.linuxdoc.org/HOWTO/NFS-HOWTO.html">http://www.linuxdoc.org/HOWTO/NFS-HOWTO.html</A> als
je nog geen nfs server hebt ge&iuml;nstalleerd.
<P>Lees de
<A HREF="http://www.linuxdoc.org/HOWTO/Kernel-HOWTO.html">Kernel-HOWTO</A>, van Brian Ward, te vinden op: <BR> 
<A HREF="http://www.linuxdoc.org/HOWTO/Kernel-HOWTO.html">http://www.linuxdoc.org/HOWTO/Kernel-HOWTO.html</A> als je
een nieuwe kernel op de <B>source</B> box moet compileren.
<P>Lees de 
<A HREF="http://www.linuxdoc.org/HOWTO/mini/PLIP.html">PLIP     MINI-HOWTO</A>, van Andrea Controzzi, te vinden op: <BR> 
<A HREF="http://www.linuxdoc.org/HOWTO/mini/PLIP.html">http://www.linuxdoc.org/HOWTO/mini/PLIP.html</A> als PLIP
nieuw voor je is.
<P>
<P>
<P>Als je van plan bent zelf een Null-Modem kabel te maken, dan is het
bestand 
<A HREF="file:///usr/src/linux/Documentation/networking/PLIP.txt">PLIP.txt</A>, van Donald Becker, te vinden op:<BR>
<CODE>/usr/src/linux/Documentation/networking/PLIP.txt</CODE><BR>
 te vinden op de <B>source</B> linux computer een goede
referentie. Luke.
<H2><A NAME="s8">8. Conventies</A></H2>

<P>
<P>De bestandsinhoud, opdrachtregels en schermafdrukken van de installatie
staan altijd in <CODE>typewriter</CODE> font, zoals in:
<P>
<P>
<PRE>
     #!/bin/bash
     #############################################
     #### This is the great file /bin/Windows ####
     #############################################
     
     while [ "1" ]; do
             echo "I do my best because I'm the best"
             echo "Very soon, next Y2Kill (the 01/01/0000)"
             echo "A new marvelous 64 bit release !"
             echo "Please wait a little more"
             sleep 18446744073709551615 # 2^64-1
     done
    
</PRE>
<P>of zo:
<P>
<P>
<PRE>
     $ killall Windows
     Terminated
    
</PRE>
<P>
<P>De regels van de bestandsinhoud zouden nooit met witruimte moeten
beginnen. Als dit wel zo is, zal je het moeten verwijderen.
Sorry, ik zit opgescheept met een <CODE>C-a
M-AltGr-\</CODE> (ter herinnering, ik ben een Franse azerty schrijver).
De Tab-emacs reflex is niet te onderdrukken (codeerders die Emacs
gebruiken, drukken altijd als een zenuwtik de tab toets in).
<P>Invoerregels met opdrachten beginnen met een dollarteken <CODE>$</CODE> (de prompt), 
je hoeft het dollar-teken niet in te tikken, typ gewoon de rest van de
regel over; andere regels bestaan uit commentaar, ook die hoef je niet
in te tikken.
<P>Omdat alle configuratie-opdrachten van belang zijn, heb je een
systeembeheerdersshell nodig, zoals root, zowel op de 
<B>source</B> als op de <B>target</B> computers.
<P>
<PRE>
     $ su
     Password: blabla
     # 
    
</PRE>
<P>graham zegt:
<P>Waarom dit "#" teken? Omdat dit het teken voor de root prompt is. 
Vanaf de volgende paragraaf zal ik in het vervolg hier het '$' teken
voor gebruiken. Zie mijn opmerking hieronder.
<P>De prompt zal in de rest van deze documentatie als een "<CODE>$</CODE>" 
teken worden getoond, zelfs als het een "<CODE>#</CODE>" zou moeten zijn.
Dit omdat een "<CODE>#</CODE>" ook vaak voor commentaar wordt gebruikt, dus
is het dubbelzinnig. Ik houd niet van dubbelzinnigheden in de
computerwetenschap.
<H2><A NAME="s9">9. Een eigen kabel bouwen</A></H2>

<P>
<P>
<P>Extractie vanuit /usr/src/linux/Documentation/networking/PLIP.txt,
geschreven door Donald Becker (becker@super.org):
<P>
<PRE>
Parallel Transfer Mode 0 Cable
==============================

The cable for the first transfer mode is a standard
printer "null" cable which transfers data four bits at a time using
data bit outputs of the first port (machine T) connected to the
status bit inputs of the second port (machine R).  There are five
status inputs, and they are used as four data inputs and a clock (data
strobe) input, arranged so that the data input bits appear as contiguous
bits with standard status register implementation.

A cable that implements this protocol is available commercially as a
"Null Printer" or "Turbo Laplink" cable.  It can be constructed with
two DB-25 male connectors symmetrically connected as follows:

    STROBE output       1*
    D0->ERROR   2 - 15          15 - 2
    D1->SLCT    3 - 13          13 - 3
    D2->PAPOUT  4 - 12          12 - 4
    D3->ACK     5 - 10          10 - 5
    D4->BUSY    6 - 11          11 - 6
    D5,D6,D7 are   7*, 8*, 9*
    AUTOFD output 14*
    INIT   output 16*
    SLCTIN      17 - 17
    extra grounds are 18*,19*,20*,21*,22*,23*,24*
    GROUND      25 - 25
* Do not connect these pins on either end

If the cable you are using has a metallic shield it should be
connected to the metallic DB-25 shell at one end only.
    
</PRE>
<P>Ik controleerde mijn kabel twee keer. 
Aan beide kanten, zijn de pinnen als volgt verbonden:
<P>
<PRE>
     1 -  1 Ja
     2 - 15
     3 - 13
     4 - 12
     5 - 10
     6 - 11
     7 niet verbonden 
     8 niet verbonden 
     9 niet verbonden
    10 -  5
    11 -  6
    12 -  4
    13 -  3
    14 - 14 Ja
    15 -  2
    16 - 16 Ja
    17 - 17
    18 niet verbonden 
    19 niet verbonden
    20 niet verbonden
    21 niet verbonden
    22 niet verbonden
    23 niet verbonden
    25 - 25 niet verbonden met metallic shield
    
</PRE>
<P>In tegenstelling tot wat in het kerneldocument wordt beweerd, zijn
bij mijn kabel de pinnen 1, 14 en 16 verbonden.
Blijkbaar doet dit er niet toe, aangezien plip bij mij prima werkt.
<H2><A NAME="s10">10. Netwerkparameters</A></H2>

<P>
<P>We zullen met de volgende IP-configuratie een plip point-to-point netwerk
opzetten:
<UL>
<LI> <B>target</B>: 192.168.0.1 netmask 255.255.255.255</LI>
<LI> <B>source</B>: 192.168.0.2 netmask 255.255.255.255</LI>
</UL>
<P>Je mag deze namen nog niet hebben gebruikt in je netwerkomgeving:
<P>
<PRE>
     $ ping source
     ping: unknown host source
     
     $ ping target
     ping: unknown host target
    
</PRE>
<P>Je mag deze IP-adressen nog niet hebben gebruikt in je netwerkomgeving:
<P>
<PRE>
     $ ping  192.168.0.1
     PING 192.168.0.1 (192.168.0.1): 56 data bytes
     ping: sendto: Network is unreachable
     ping: wrote 192.168.0.1 64 chars, ret=-1
     
     --- 192.168.0.1 ping statistics ---
     1 packets transmitted, 0 packets received, 100% packet loss
     
     $ ping 192.168.0.2
     PING 192.168.0.2 (192.168.0.2): 56 data bytes
     ping: sendto: Network is unreachable
     ping: wrote 192.168.0.2 64 chars, ret=-1
     
     --- 192.168.0.2 ping statistics ---
     1 packets transmitted, 0 packets received, 100% packet loss
    
</PRE>
<P>Als deze opdrachten geen foutmeldingen produceren, wijzig dan de
namen of adressen.
<P>Je kunt andere adressen, namen of netmasks uitkiezen (het netmask
moet aan beide kanten gelijk zijn). Voor de rest van het document
ga ik ervan uit dat je deze adressen en namen hebt gekozen.
<P>
<P>Voeg deze regel toe aan <B><CODE>/etc/exports</CODE></B>
<P>
<PRE>
     #### bestand /etc/exports ####
     ...
     /cdrom          source(ro) target(ro)
     #### EOF ####
     
</PRE>
 
<P>
<P>Omdat de portmapper probeert IP-adressen naar namen om te zetten,
voeg je de IP-adressen en namen toe aan <B><CODE>/etc/hosts</CODE></B>.
<P>
<PRE>
     #### bestand /etc/hosts ####
     ...
     192.168.0.1     target
     192.168.0.2     source
     #### EOF ####
    
</PRE>
<P>Verifieer dat het item <B><CODE>files</CODE></B> voor de te doorzoeken
lijst in <B><CODE>hosts</CODE></B> in het bestand
<B><CODE>/etc/nsswitch.conf</CODE> staat.</B>
<P>
<PRE>
     #### bestand /etc/nsswitch.conf ####
     ...
     hosts:      files nis dns
     ...
     #### EOF ####
    
</PRE>
<H2><A NAME="s11">11. PLIP op de source-computer</A></H2>

<P>
<P>In deze sectie wordt beschreven hoe de <CODE>plip</CODE> interface op
de <B>source</B> server in te stellen.
Als je in problemen komt, raad ik je aan de
<A HREF="http://www.linuxdoc.org/HOWTO/mini/PLIP.html">PLIP     MINI-HOWTO</A> door te lezen.
<P>
<P>Controleer of het <CODE>lp</CODE> device niet is ingesteld. Deze regel zou
<B>niet</B> voor mogen komen:
<P>
<PRE>
     $ cat /proc/devices 
     Character devices:
     ...
     6 lp
     ...
    
</PRE>
<P>Kill de <CODE>lpd</CODE> daemon als je het wel hebt, en verwijder de
<CODE>lp</CODE> module:
<P>
<PRE>
     $ /etc/rc.d/init.d/lpd.init stop
     Shutting down lpd: lpd

     $ rmmod lp
    
</PRE>
<P>Als je de <CODE>lp</CODE> module niet kunt verwijderen, dan moet je
de <B>kernel</B> opnieuw compileren met de <CODE>lp</CODE> service als een
module.
<P>Nu is de "<CODE>6 lp</CODE>" regel uit het bestand
<CODE>/proc/devices</CODE>, wat een weergave is van de
mogelijkheden van de kernel, verdwenen.
<P>Je bent niet verplicht het lp-device te elimineren : wellicht dat het
met lp werkt. Zonder garantie (bij mij werkt het). Probeer het zelf uit.
<P>
<P>Controleer of je parallelle poort wordt gehanteerd:
<P>
<PRE>
     $ ls /proc/parport/
     0/
     
     $ cat /proc/parport/0/hardware 
     base:   0x378
     irq:    7
     dma:    none
     modes:  SPP,ECP,ECPEPP,ECPPS2
    
</PRE>
<P>Als er geen directory's onder <CODE>/proc/parport/</CODE> voorkomen, dan
moet je de <CODE>parport</CODE> en <CODE>parport_pc modules</CODE> laden:
<P>
<PRE>
     $ insmod parport
     $ insmod parport_pc
    
</PRE>
<P>Je zou de volgende nieuwe regels in
<B><CODE>/var/log/messages</CODE></B> te zien moeten krijgen:
<P>
<PRE>
     Oct  9 20:50:47 louloutte kernel:
     parport0: PC-style at 0x378 [SPP,ECP,ECPEPP,ECPPS2]

     Oct  9 20:50:47 louloutte kernel: 
     parport0: detected irq 7; 
     use procfs to enable interrupt-driven operation.
    
</PRE>
<P>Ik herhaal de melding "detected <CODE>irq 7</CODE>, use procfs to
enable interrupt-driven operation", dus:
<P>
<PRE>
     $ echo 7 >  /proc/parport/0/irq
    
</PRE>
<P>
<P>
<P>Controleer of de <CODE>plip</CODE> module is geladen:
<P>
<PRE>
     $ lsmod |grep plip
    
</PRE>
<P>Laad de <CODE>plip</CODE> module, als het nog niet is geladen:
<P>
<PRE>
     $ insmod plip
    
</PRE>
<P>Je zou in <B><CODE>/var/log/messages</CODE></B> iets te zien moeten
krijgen als:
<P>
<PRE>
     ==> /var/log/messages &lt;==
     Oct  8 16:34:12 louloutte kernel:
     NET3 PLIP version 2.3-parport gniibe@mri.co.jp
    
     Oct  8 16:34:12 louloutte kernel: 
     plip0: Parallel port at 0x378, using IRQ 7
     
</PRE>
<P>Als je de <CODE>plip</CODE> module niet kunt laden dan moet je
de <B>kernel</B> opnieuw compileren met <CODE>plip</CODE>
als een module.
<P>De syslog melding zegt dat de module is geladen op de <CODE>plip0</CODE>
interface. Configureer de <CODE>plip0</CODE> interface:
<P>
<PRE>
     $ ifconfig plip0 source pointopoint target netmask 255.255.255.255 up
    
</PRE>
<P>Controleer of alles in orde is.
<P>
<PRE>
     $ ifconfig plip0
     plip0     Link encap:10Mbps Ethernet  HWaddr FC:FC:C0:A8:00:02
          inet addr:192.168.0.2  P-t-P:192.168.0.1  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0
          TX packets:0 errors:0 dropped:0 overruns:0
          Interrupt:7 Base address:0x378 
    
</PRE>
<P>
<P>Nu kun je de <B>source</B> server lokaal <CODE>pingen</CODE>:
<P>
<PRE>
     $ ping source
     PING source (192.168.0.2): 56 data bytes
     64 bytes from 192.168.0.2: icmp_seq=0 ttl=255 time=0.3 ms
     64 bytes from 192.168.0.2: icmp_seq=1 ttl=255 time=0.2 ms
     
     --- source ping statistics ---
     2 packets transmitted, 2 packets received, 0% packet loss
     round-trip min/avg/max = 0.2/0.2/0.3 ms
    
</PRE>
<P>Verifieer dat de route naar de <B>target</B> bestaat:
<P>
<PRE>
     $ route
     Kernel IP routing table
     Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
     target          *               255.255.255.255 UH    0      0        0 plip0
    
</PRE>
<P>Voeg de route toe als het nog niet bestaat.
<P>
<PRE>
     $ route add -host  192.168.0.1  dev plip0
    
</PRE>
<P>
<P>Wanneer de <B>target</B> <EM>is</EM> geconfigureerd, kun je een
ping test uitvoeren:
<P>
<PRE>
     $ ping target
     PING 192.168.0.1 (192.168.0.1): 56 data bytes
     64 bytes from 192.168.0.1: icmp_seq=0 ttl=64 time=4.5 ms
     64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=4.3 ms
     
     --- 192.168.0.1 ping statistics ---
     2 packets transmitted, 2 packets received, 0% packet loss
     round-trip min/avg/max = 4.3/4.4/4.5 ms
    
</PRE>
<P>Maar als je het nu probeert, krijg je:
<P>
<PRE>
     $ ping target
     PING target (192.168.0.1): 56 data bytes
     
     --- target ping statistics ---
     5 packets transmitted, 0 packets received, 100% packet loss
    
</PRE>
<P>Nu is het servernetwerk klaar voor gebruik.
Gefeliciteerd.
<H2><A NAME="s12">12. De cdrom nfs server</A></H2>

<P>
<P>In deze sectie wordt beschreven hoe een cdrom-station via NFS te
mounten en exporteren.
<P>Mount de cdrom. Lees de <B><EM>CDROM-HOWTO</EM></B> als je met
je cdrom-station tegen problemen aanloopt. Ik ga ervan uit dat het
cdrom device <CODE>/dev/hdd</CODE> is, maar dit zou net zo goed
<CODE>/dev/sr0</CODE> of <CODE>/dev/hdb</CODE> enz. kunnen zijn.
Ik kies als mountpoint voor <CODE>/cdrom</CODE>, maar als je dat wilt
kun je een ander mountpoint uitkiezen:
<P>
<PRE>
     $ mount -t iso9660 /dev/hdd  /cdrom
    
</PRE>
 
<P>Je moet nfs services instellen.  
Lees de <B><EM>NFS-HOWTO</EM></B> als er iets verkeerd gaat.
<P>Verifieer of je kernel nfs ondersteunt:
<P>
<PRE>
     $ cat /proc/filesystems 
             ext2
     nodev   proc
     nodev   nfs
     nodev   ncpfs
     nodev   devpts
             iso9660
    
</PRE>
<P>
<P>Verifieer of je portmapper verzoeken van mountd en nfs clients
af kan handelen:
<P>
<P>
<PRE>
     $ rpcinfo -p
     program vers proto   port
     100000    2   tcp    111  portmapper
     100000    2   udp    111  portmapper
     100005    1   udp    655  mountd
     100005    1   tcp    657  mountd
     100003    2   udp   2049  nfs
     100003    2   tcp   2049  nfs
    
</PRE>
<P>Er moeten regels met <CODE>nfs</CODE> of <CODE>portmapper</CODE> in voorkomen.
NFS over tcp? Er is vooruitgang geboekt!
<P>
<P>Herstart vervolgens <CODE>portmap</CODE>, <CODE>mountd</CODE>, <CODE>nfs</CODE>:
<P>
<PRE>
     $ /etc/rc.d/init.d/portmap.init stop
     Stopping INET services: portmap 

     $ /etc/rc.d/init.d/portmap.init start
     Starting portmapper: portmap

     $ /etc/rc.d/init.d/nfs stop
     Shutting down NFS services: rpc.mountd rpc.nfsd 

     $ /etc/rc.d/init.d/nfs start
     Starting NFS services: rpc.mountd rpc.nfsd 
    
</PRE>
<P><CODE>/etc/rc.d/init.d/</CODE> is onder SuSE Linux systemen 
<CODE>/sbin/init.d/</CODE>.
Ik had vannacht een droom: LSB werd gerespecteerd. (LDB: Linux Standard Base)
<P>
<P>Probeer het dan "lokaal" te mounten (via nfs) op de <B>source</B> box
en verwijder de test:
<P>
<PRE>
     $ mkdir /tmp/nfstest
     $ mount -t nfs source:/cdrom /tmp/nfstest
     $ ls  /tmp/nfstest/
     README             debian/            locatedb.3         tools/
     TRANS.TBL          ftp.netscape.com/  ls_lR.3            upgrade/
     boot/              install/           realaudio/
     
     $ echo great stuff !
     $ umount /tmp/nfstest
     $ rmdir /tmp/nfstest
     
</PRE>
<P>Pech? Lees de <B><EM>NFS-HOWTO</EM></B> en
<B><CODE>/var/log/messages</CODE></B>.
<P>Controleer met de volgende opdrachten de nfs server:
<P>
<PRE>
     $ rpcinfo -p
     
</PRE>
 
<P>Start <CODE>portmap</CODE> met de <CODE>-v</CODE> vlag:
<P>
<PRE>
      $ portmap -v
     
</PRE>
<P>kill <CODE>portmap</CODE>, <CODE>mountd</CODE>, <CODE>nfsd</CODE> en herstart
ze in deze volgorde: <CODE>portmap</CODE>, <CODE>mountd</CODE>, <CODE>nfsd</CODE>.
Neem rust, haal meer koffie. Lees de
<B><EM>NFS-HOWTO</EM></B> nog een keer door en ga weer verder.
<P>Nu is de ge&euml;xporteerde cdrom drive nfs server klaar.
Gefeliciteerd.
<H2><A NAME="s13">13. FIPS, PARTED, het splitsen van harddiskpartities</A></H2>

<P>
<P>Deze sectie is voor iedereen die slechts &eacute;&eacute;n primaire
FAT partitie heeft (DOS, Windows 3.xx, NT) en deze wil houden zonder
gegevens te verliezen. Maak een aantal backups want als je het
verknoeit, ben ik daar niet verantwoordelijk voor - jij wel.
<P>Uitstapje naar PARTED
<P>Andrew Clausen (clausen@gnu.org), de beheerder van GNU Parted, schreef
"Misschien dat je GNU Parted in de PLIP-Install Howto wilt noemen." 
Dat is gedaan. Aangezien ik het niet heb uitgeprobeerd, kan ik je
alleen de links geven naar 
<A HREF="http://www.gnu.org/software/parted">parted via http</A> en
<A HREF="ftp://ftp.gnu.org/gnu/parted">parted ftp</A>. Help
jezelf. Parted schijnt erg goed te zijn.
<P>Andrew zei: "GNU Parted is *VEEL* krachtiger dan FIPS (denk Partition Magic). 
Het kan bijvoorbeeld FAT16 &lt;=&gt; FAT32 converteren, de grootte van de
FATs wijzigen, vereist geen defragmenteerprogramma, enz. En het ondersteunt
ext2, linux-swap..."
<P>Terug naar FIPS.
<P>Download 
<A HREF="ftp://ftp.debian.org/pub/debian/tools/">FIPS</A>. Vergeet niet de mirrors ftp.<B>xx</B>.debian.org
waar <B>xx</B> staat voor de afkorting van je land (fr, fi, us, uk,
enz.). 
<P>Tijdens dit schrijven wordt het archiefbestand
<B>fips20.zip</B> genoemd.
<P>Het <B>fips</B> programma bevindt zich reeds in de debian distributie.
Ik vond het (ja, na het downloaden van het
<B>fips20.zip</B> bestand) in <CODE>/cdrom/debian/tools/fips15.zip</CODE>
(Hierbij wordt ervan uitgegaan dat je cdrom is gemount op <B>/cdrom</B>)
<P>Ik gok erop dat je je nu in een Unix-wereld begeeft, maar dit ben je
niet verplicht. Ga naar een goede werkplek op de
<B>source</B> computer:
<P>
<PRE>
     $ mkdir /tmp/fips-2.0/
     $ cd /tmp/fips-2.0/
     $ unzip -l /archive/fips/fips20.zip
     ...
     $ unzip  /archive/fips/fips20.zip
     ...
     $ ls
     $ dos2unix fips.doc fips.faq  readme.1st 
    
</PRE>
<P>
<OL>
<LI>Lees het bestand readme.1st</LI>
<LI>Lees het bestand fips.doc</LI>
<LI>Lees het bestand fips.faq</LI>
</OL>
<P>Boot je <B>target</B> computer. Ga naar puur DOS (verlaat Windows).
<P>Lees nogmaals het bestand <B><CODE>fips.doc</CODE></B> uit sectie
"5. Voor je begint".
<P>Wees je bewust van verborgen bestanden.
<P>Graham's opmerking: Verborgen bestanden zullen niet door DeFrag
worden verplaatst (zover ik weet), dus FIPS zal minder ruimte  voor
gebruik door Linux terugwinnen. Gebruik de opdracht ATTRIB om het
"hidden" kenmerk te verwijderen. Voor een aantal zaken kan het
vereist zijn dat de bestanden verborgen zijn, dus zal het nodig
zijn dezelfde bestanden later weer verborgen te maken. Ik denk dat
het ook een goed idee zou zijn om scandisk op dit moment uit te
voeren. Misschien dat ik DOS niet vertrouw.
<P>Wees je bewust het "virtuele geheugen" bestand te elimineren (swap voor Win*)
tijdens het fips-proces. In Windows 3.11 (nogal up to date, niet?)
is dit swapbestand geconfigureerd via
Program-Manager->Control-Panel->Enhanced (een i386 chip ikoon).
<P>Klik, Klik->Klik op de chip en Klik nog een keer op een knop genaamd
"Virtueel Geheugen". 
<P>Pas de grootte aan tot "geen", Klik&lt;-Klik&lt;-Klik&lt;-Klik terug plus Alt-F4
om al je vensters te sluiten. Denk je niet dat de Gates ook te gesloten
zijn?
<P>Graham'opmerking: Ik ben er niet zo zeker van of dit wel zo'n goed
idee is. Wat gebeurt er als "386spart.par" niet verborgen is?
Ik denk dat DEFRAG het zal verplaatsen, en Windows bij de volgende
start zal klagen en dan het bestand opnieuw aan zal maken. Aangezien
het duidelijk is dat we DOS/Windows willen behouden, zal de gebruiker
later weer een swapbestand nodig hebben. Door het niet te verwijderen,
blijft de diskruimte voor tegen die tijd gereserveerd.
<P>Ik weet hier niets op te zeggen. Ik heb gewoon de FIPS handleiding
nageaapt omdat dit met succes lukte.
<P>Dus drink koffie, en bid.
<P>Start <CODE>SCANDISK</CODE>:
<P>
<PRE>
     C:\> SCANDISK
    
</PRE>
<P>Corrigeer iedere cluster. Er zouden geen beschadigde clusters meer
mogen zijn.
<P>Ga uit  <CODE>SCANDISK</CODE>
<P>
<P>Pas <CODE>DEFRAG</CODE> toe op C:
<P>
<PRE>
     C:\> DEFRAG C:
    
</PRE>
<P>Alle in gebruik zijnde clusters staan aan het begin van de harddisk.
<P>Ga uit <CODE>DEFRAG</CODE>
<P>Maak een opstartbare diskette aan:
<P>
<PRE>
     C:\> FORMAT A: /S
    
</PRE>
<P>Kopieer <B><CODE>AUTOEXEC.BAT</CODE></B> en <B><CODE>CONFIG.SYS</CODE></B>
naar de nieuwe diskette als je je lokale faciliteiten (toetsen op het
toetsenbord enz.) wilt behouden.
Verwijder de regel met <CODE>SMARTDRIVE.EXE</CODE> in
<CODE>AUTOEXEC.BAT</CODE>. Behoud een minimale <CODE>AUTOEXEC.BAT</CODE>
<P>
<P>Op de <B>source</B> box: Kopieer de fips bestanden
<B>restorrb.exe</B>, <B>fips.exe</B> en <B>errors.txt</B> naar
deze diskette.
<P>
<PRE>
    $ mcopy errors.txt fips.exe restorrb.exe a:
    
</PRE>
<P>Graham's opmerking: Wordt hierbij niet verondersteld dat mtools is
ge&iuml;nstalleerd? Als de diskette als type msdos is gemount, dan
klaart de standaardopdracht "cp" deze klus, en zou mtools niet nodig
zijn. Ik heb mtools nog nooit gebruikt, maar heb wel met DOS bestanden
gespeeld vanuit Linux.
<P>Ja, er wordt hierbij vanuit gegaan dat mtools is ge&iuml;nstalleerd.
mcopy is sneller in te typen dan mkdir, mount, cp, umount, rmdir.
<P>Boot de <B>target</B> met de diskette. Start fips onderwijl de
sectie "Using FIPS" in het bestand <B>fips.doc</B> lezend.
<P><B>Vergeet niet</B> <B>yes</B> te antwoorden wanneer fips vraagt
om het opslaan van de rootboot.
<P>Maak harddiskruimte vrij als alles in orde is:
<PRE>
     $ cd
     $ rm -rf /tmp/fips-2.0/
    
</PRE>
<P>Nu heb je een aardige vrije ruimte voor een nieuw besturingssysteem.
<H2><A NAME="s14">14. Debian installatie</A></H2>

<P>
<P>Ik ben een Debian bekeerling aangezien het mijn eerste Debian
installatie is. Aanhangers van Debian zijn dezelfde soort mensen
als aanhangers van Macintosh of aanhangers van Linux in de
wereld van besturingssystemen. Niets anders telt.
Aangezien ik reeds een aanhanger ben van Mac en Linux (en ook van Frans :-)
werd het tijd om er verliefd op te worden.
<P>Debian is goed, duidelijk en internationaal gedocumenteerd. Met
dank aan al die mensen die deze werkelijk open distributie hebben
voortgebracht.
<P>Ik zou het installatieproces aan jezelf over kunnen laten. Maar
aangezien we tijdens het installatieproces een interactie met
de shell doorlopen, zal het gehele proces in detail worden beschreven.
<P>Ik weet dat de beschrijving specifiek voor Debian geldt. 
Ik geef er de voorkeur aan je een volledig voorbeeld te geven dan
niets anders als een ``start op het juiste moment een shell en typ
bla bla...''. Concrete voorbeelden vind ik prettiger.
<P>Simon Forget &lt;sforget@camelot.ca&gt; vertelde me dat hij deze
howto niet kon gebruiken met zijn Toshiba Libretto 50CT omdat de
kernel tijdens het installatieproces het pcmcia diskettestation
niet herkende. Ik weet niet waarom, maar met plip is hier een 
oplossing voor, als je reeds een dospartitie op de
<B>target</B>-computer hebt.
<P>Deze oplossing is eenvoudiger omdat tijdens het installatieproces
geen diskettestation of plip-netwerk nodig is. Ga direct naar de
sectie 
<A HREF="#INSTALL_FROM_A_DOS_PARTITION">Installeren vanaf een DOS     partitie</A> als je in deze oplossing bent ge&iuml;nteresseerd.
Ik houd me bij de oude installatieroutine omdat deze nieuwe routine
een DOS partitie nodig heeft die overbodig wordt als je hier definitief
vanaf wilt.
<H2>14.1 Prepareren van de twee diskettes</H2>

<P>
<P>Mount op de <B>source</B> de cdrom en ga naar de installatie directory.
<P>
<PRE>
      $ mount -t iso9660 /dev/hdd  /cdrom
      $ cd /cdrom/debian/dists/stable/main/disks-i386/current/
     
</PRE>
<P>Lees het bestand install.html met een browser of install.txt met
cat, less of more .
<P>Maak nu de installatie (alias rescue) diskette aan.
Label het met "<CODE>resc1440.bin</CODE>" :
<P>
<PRE>
      $ dd if=resc1440.bin of=/dev/fd0H1440
     
</PRE>
<P>Beschrijf de drivers diskette. Label het met "<CODE>drv1440.bin</CODE>":
<P>
<PRE>
      $ dd if=drv1440.bin of=/dev/fd0H1440
     
</PRE>
<P>Zorg dan dat de diskettes tegen schrijven beveiligd zijn.
<P>Nu ben je er klaar voor het echte installatieproces op te starten.
<H2>14.2 Het echte installatieproces</H2>

<P>Doe de resc1440.bin diskette op de <B>target</B> in het diskettestation.
Start je <B>target</B> box opnieuw op.
<P>
<PRE>
     Welcome to Debian GNU/Linux 2.x!
     ...
</PRE>
<P>Lees de tekst.  De prompt is:
<P>
<PRE>
     boot:
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Loading root.bin...........
     loading linux...
     ....
</PRE>
<P>Een nieuw scherm:
<P>
<PRE>
     Next: Select Color or Monochrome display
</PRE>
<P>Maak je keuze met de op/neer pijltjestoetsen en druk op
<CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Next: Continue with the installation
</PRE>
<P>druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Software in the Public Interest 
             presents
      *** Debian GNU/Linux 2.1 ***
     ...
</PRE>
<P>Lees de tekst. Druk op <CODE>&lt;ENTER&gt;</CODE> (Je ziet
<CODE>&lt;Continue&gt;</CODE> op het scherm)
<P>
<PRE>
     Next: Configure the Keyboard
</PRE>
<P>druk op <CODE>&lt;ENTER&gt;</CODE> 
Selecteer je land en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Next : Partition a Hard Disk
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Select Disk Drive 
     usually /dev/hda
</PRE>
<P>Al je meer disks hebt, selecteer dan de juiste disk (waar je wilt dat Linux
op wordt ge&iuml;nstalleerd) en druk op <CODE>&lt;ENTER&gt;</CODE>
<P>Je zit nu in het programma <CODE>cfdisk</CODE>. Het gebruik van
<CODE>cfdisk</CODE> is veilig totdat je besluit via <CODE>[Write]</CODE> de
partitie naar disk te schrijven.
Verlaten van <CODE>cfdisk</CODE> met <CODE>[Quit]</CODE> is veilig.
<P>We gaan gewoon twee nieuwe primaire partities aanmaken, een Swap partitie
en een grote Linux partitie. Laat wat ruimte vrij voor extended partities
als je meer partities wilt. Lees  wel de documentatie over
partitionering in de <EM>Installation-HOWTO</EM>, vooral als je meer dan
1024 cylinders en oude LILO software hebt.
<P>Als je eerder het <CODE>FIPS</CODE> programma hebt uitgevoerd, zie je
de <CODE>hda1</CODE> partitie (<CODE>DOSFAT16</CODE>). Schakel over naar de
volgende vrije partitie met de op/neer pijltjestoetsen.
<P>Selecteer met de rechter/linker pijltjestoetsen <CODE>[New]</CODE> en druk
op <CODE>&lt;ENTER&gt;</CODE>.
<P>Selecteer <CODE>[Primary]</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE>.
<P>Vul de grootte van je swappartitie in. Tweemaal het RAM is 
gebruikelijk als je minder dan 128 megabyte aan ram hebt. 
Als je 2 gigabyte RAM hebt, is dit omdat je niet wilt swappen.
In dat geval is een swappartitie niet nodig.
<P>Selecteer <CODE>[Beginning]</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE>
<P>Selecteer <CODE>[Type]</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE>.  Typ
<CODE>82</CODE> (Linux Swap) en druk op <CODE>&lt;ENTER&gt;</CODE>.
<P>Schakel over naar de volgende vrije partitie met de op/neer
pijltjestoetsen. Selecteer
<CODE>[New]</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE>
<P>Selecteer <CODE>[Primary]</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>Vul de grootte in in MB (je kunt de standaardwaarde laten voor wat het is)
en druk op
<CODE>&lt;ENTER&gt;</CODE>. Het type zou reeds Linux moeten zijn.
Als dit niet zo is, wijzig je het in
Linux (83) met <CODE>[Type]</CODE>
<P>De partitietabel is nu gedefinieerd. Verifieer of alles er goed uitziet.
Als je er niet zeker van bent, lees dan de documentatie met <CODE>[Help]</CODE>. 
Als je nog steeds twijfels hebt, selecteer je <CODE>[Quit]</CODE> en verlaat
je het installatieproces. Ga een eindje wandelen en begin opnieuw aan
deze sectie.
<P>Ik veronderstel dat je er nu zeker van bent.
<P>Selecteer <CODE>[Write]</CODE>
<P>
<PRE>
     Are you sure you want to write the partition table to disk?
</PRE>
<P>Typ "<CODE>yes</CODE>" en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>Selecteer <CODE>[Quit]</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Next: Initialize and Activate a Swap Partition
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please select the partition to initialize as a swap device
</PRE>
<P>Selecteer <CODE>/dev/hda2</CODE> (normaal gesproken reeds geselecteerd).
Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Scan for Bad Blocks?
</PRE>
<P>selecteer <CODE>&lt;YES&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Are you Sure?
</PRE>
<P>selecteer <CODE>&lt;YES&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Initializing swap partition
     ...
</PRE>
<P>
<P>
<PRE>
     Next: Initialize a Linux Partition
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Select Partition. Please select the partition to initialize as a
     Linux "ext2" file-system.
</PRE>
<P>Selecteer <CODE>/dev/hda3</CODE> (normaal gesproken reeds geselecteerd) 
en druk op <CODE>&lt;ENTER&gt;</CODE>.
<P>
<PRE>
     Scan for Bad Blocks?
</PRE>
<P>Selecteer <CODE>&lt;YES&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Are you Sure?
</PRE>
<P>Selecteer <CODE>&lt;YES&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>Een nieuwe pagina vol met nummers. Je kunt wat rust nemen want het duurt
even (vooral met een grote harddisk).
<P>
<PRE>
     Next: Mount a Previously-Initialized Partition
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please select the partition to mount
</PRE>
<P>Selecteer <CODE>/dev/hda3</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Mount the /dev/hda3 device as the Root FileSystem?
</PRE>
<P>Selecteer <CODE>&lt;Yes&lt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Next: Install Operating System Kernel and Modules
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please select the medium you will use to install the system
</PRE>
<P>
<P>Selecteer <CODE>/dev/fd0</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please place the Rescue Floppy in the first floppy drive
</PRE>
<P>De diskette bevindt zich al in het eerste diskettestation.<BR>
Selecteer <CODE>&lt;Continue&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Installing the Rescue Floppy ...
     Please place the Drivers Floppy in the first floppy drive
</PRE>
<P>
<P>Haal de Rescue diskette uit het diskettestation en doe de Drivers
diskette erin, degene die je etiketteerde met
<CODE>drv1440.bin</CODE> (dat deed je toch, nietwaar?).<BR>
Selecteer <CODE>&lt;Continue&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE>
<P>
<PRE>
     Installing the Drivers  Floppy ...
</PRE>
<P>Een nieuw scherm:
<P>
<PRE>
     Next: Configure Device Driver Modules
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Select Category
</PRE>
<P>Lees de tekst.
<P>
<PRE>
     Please select the category of modules
</PRE>
<P>Selecteer <CODE>net</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> <BR>
Selecteer <CODE>plip</CODE>.
<P>
<PRE>
     Module plip
</PRE>
<P>Selecteer "Install the module in the kernel" en druk op <CODE>&lt;ENTER&gt;</CODE>  <BR>
Er zijn geen parameters nodig.  <BR>
Selecteer <CODE>&lt;Ok&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Installation succeeded
     Please press ENTER when you are ready to continue.
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>Selecteer <CODE>Exit</CODE> ("Finished with these modules") en druk op
<CODE>&lt;ENTER&gt;</CODE> <BR>. Daarna zie je weer hetzelfde scherm.<BR>
 Selecteer <CODE>Exit</CODE> ("Finished with these
modules") en druk op <CODE>&lt;ENTER&gt;</CODE>
<P>
<PRE>
     Next: Configure the Network
</PRE>
<P>Kies een naam, je kunt voor een andere naam dan <CODE>debian</CODE> of
<CODE>target</CODE> kiezen.<BR> Druk op <CODE>&lt;ENTER&gt;</CODE>
<P>
<PRE>
     Is your system connect to a network? 
</PRE>
<P>Selecteer <CODE>&lt;No&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE>
<P><B>STOP STOP STOP</B>.  Nu zie je:
<P>
<PRE>
     Next: Install the base system
</PRE>
<P>Nu hebben we een shell nodig.
<P>Druk op <CODE>Alt F2</CODE> en <CODE>&lt;ENTER&gt;</CODE>
Je bevindt je nu in een root-shell.
<H2>14.3 Een installatie onderbreking: PLIP op de target</H2>

<P>
<P>Je bevindt je in een rootshell.
<P>Verifieer of de plip module is geladen:
<P>
<PRE>
     $ lsmod
     Module    Pages    Used by
     plip          3          0
    
</PRE>
<P>Zoek de exacte naam van de plip interface op:
<P>
<PRE>
     $ dmesg
     ...
     NET3 PLIP version 2.2 gniibe@mri.co.jp
     plip1: Parallel port at 0x378, using assigned IRQ 7
    
</PRE>
<P>Dezelfde informatie is te vinden met:
<P>
<PRE>
     $ cat /proc/kmsg
     ...
     &lt;4>NET3 PLIP version 2.2 gniibe@mri.co.jp
     &lt;4>plip1: Parallel port at 0x378, using assigned IRQ 7
     ...
     
     Ctrl-c (or ^C if you prefer)
</PRE>
<P>Configureer de plip interface:
<P>
<PRE>
     $ ifconfig plip1 192.168.0.1  pointopoint  192.168.0.2 netmask 255.255.255.255 up
</PRE>
<P>Verifieer of alles in orde is:
<P>
<PRE>
     $ ifconfig plip1 
     plip0     Link encap:Ethernet  HWaddr FC:FC:C0:A8:00:01
          inet addr:192.168.0.1  P-t-P:192.168.0.2  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          Collisions:0
          Interrupt:7 Base address:0x378
</PRE>
<P>Verifieer of de route naar <B>source</B> bestaat:
<P>
<PRE>
     $ route 
     Kernel IP routing table
     Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
     127.0.0.0       0.0.0.0         255.0.0.0       U     0      0        0 lo
</PRE>
<P>Als het niet zo is zoals in het vorige voorbeeld, voeg je de route naar
192.168.0.2, de <B>source</B> toe:
<P>
<PRE>
     $ route add -host 192.168.0.2 dev plip1
</PRE>
<P>Nu is de route ge&iuml;nstalleerd:
<P>
<PRE>
     $ route 
     Kernel IP routing table
     Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
     192.168.0.2     0.0.0.0         255.255.255.255 UH    0      0        0 plip1
     127.0.0.0       0.0.0.0         255.0.0.0       U     0      0        0 lo
</PRE>
<P>
<P>Nu kun je een succesvolle <CODE>ping</CODE> vanaf de
<B>source</B> server uitvoeren (<CODE>ping</CODE> is niet beschikbaar
bij het Debian installatieproces):
<P>
<PRE>
     $ ping target
     PING target (192.168.0.1): 56 data bytes
     64 bytes from 192.168.0.1: icmp_seq=0 ttl=64 time=14.0 ms
     64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=4.3 ms
     
     --- target ping statistics ---
     2 packets transmitted, 2 packets received, 0% packet loss
     round-trip min/avg/max = 4.3/9.1/14.0 ms
</PRE>
<P>Controleer de Null-Modem kabelverbinding als het niet werkt,
start <CODE>dmesg</CODE>, <CODE>ifconfig</CODE>, <CODE>route</CODE> nog eens op.
Controleer alles. Neem wat rust. Ga weer verder.
<P>Wanneer het pingen in orde is, ga je terug naar het normale
installatieproces:
<P>Druk op de target op <CODE>Alt F1</CODE>.
<H2>14.4 Ga terug naar het normale installatieproces</H2>

<P>
<P>Je bent terug bij het normale installatieproces. Je zou nog steeds
moeten zien:
<P>
<PRE>
     Next: Install the base system
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please select the medium you will use to install the system
</PRE>
<P>Selecteer <CODE>nfs</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please choose the NFS server and the mount path ...
</PRE>
<P>Typ: <CODE>192.168.0.2:/cdrom</CODE><BR>
Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please choose the path inside the mounted NFS filesystem
</PRE>
<P>Typ /debian (staat er normaal gesproken al) en druk op <CODE>&lt;ENTER&gt;</CODE>.
<P>Goed gedaan als er geen foutmeldingen zijn over de nfs mount. Je kunt
deze mount verifi&euml;ren door de shell weer binnen te gaan:
<P>Druk op <CODE>Alt F2</CODE>.
<P>
<PRE>
     $ mount
     ...
     192.168.0.2:/cdrom on /instmnt type nfs (rw, addr=192.168.0.2)

     $ ls /instmnt/debian
     README                 README.non-US          doc/
     README.CD-manufacture  README.pgp@            hamm/
     README.mirrors.html    TRANS.TBL              tools/
     README.mirrors.txt     dists/
</PRE>
<P>Druk op <CODE>Alt F1</CODE>
<P>Je bent weer terug bij het normale installatieproces.
<P>Nu is de plip nfs cdrom connectie klaar. Laten we verder
gaan en ons werk afmaken.
<P>
<PRE>
     Please select the directory containing a file base2_0.tgz
</PRE>
<P>Selecteer <CODE>list</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Please Wait 
     The installation program is building a list of ...
</PRE>
<P>Een nieuw scherm:
<P>
<PRE>
     Select Archive Path
     Please select the directory that you will use to install the Base
     System from.
</PRE>
<P>Slechts een lang item, reeds geselecteerd. Druk op <CODE>&lt;ENTER&gt;</CODE>
<P>
<PRE>
     The Base System is being extracted from
     /instmnt/debian/dists/.....
</PRE>
<P>Neem een seconde rust, je verdient het.
<P>
<PRE>
     Next: Configure the Base System
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Select Timezone
</PRE>
<P>Selecteer je tijdszone en je directory en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Timezone Configuration
</PRE>
<P>Lezen en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Timezone Configuration.
</PRE>
<P>Een andere pagina. Lezen, selecteer <CODE>&lt;YES&gt;</CODE> en druk op
<CODE>&lt;ENTER&gt;</CODE>
<P>
<PRE>
     Next: Make Linux Bootable Directly From Hard Disk
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Create Master Boot Record?
</PRE>
<P>Lezen<BR>
Selecteer <CODE>&lt;Yes&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Make Linux the Default Boot Partition?
</PRE>
<P>Lezen.<BR>
Selecteer <CODE>&lt;No&gt;</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Next: Make a boot Floppy
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Change Disk
     Please place a blank floppy disk in the first floppy drive.
</PRE>
<P>Doe dit en druk op <CODE>&lt;ENTER&gt;</CODE> <BR>
De diskette wordt geformatteerd. 
<P>
<PRE>
     Creating a filesystem on the floppy...
     Copying the operating system kernel...
</PRE>
<P>Een nieuw scherm:
<P>
<PRE>
     Next: Reboot the System
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Reboot the system ?
</PRE>
<P>Verwijder de diskette en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>Het systeem herstart. Ben je er nog steeds bij? Ik denk van wel,
dus doe de bootdiskette die je zojuist hebt aangemaakt in het 
diskettestation, en start het systeem nogmaals op met
<CODE>Ctrl-Alt-Del</CODE>
<P>Zie de bootmeldingen.<BR> 
Lees de tekst.
<P>
<PRE>
     New password:
</PRE>
<P>Vul een root wachtwoord in.
<P>
<PRE>
     Re-enter new password
</PRE>
<P>Doe dit. En leer het uit het hoofd.
<P>
<PRE>
     Shall I create a normal user account now? [Y/n]
</PRE>
<P>Tik een <CODE>n</CODE> in en druk op <CODE>&lt;ENTER&gt;</CODE>. 
Tenzij je het wel wilt doen (het is in feite veilig en goed om het wel te
doen).
<P>
<PRE>
     Shall I install shadow passwords? [Y/n]
</PRE>
<P>Tik een <CODE>y</CODE> in en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Do you want to use a PPP connection to install
</PRE>
<P>Tik een <CODE>n</CODE> in en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     Now you may choose one of several selections ...
     Do you want to perform this step?
</PRE>
<P>Tik een <CODE>n</CODE> in en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     I'm going to start the 'dselect' program...
</PRE>
<P>Druk op <CODE>&lt;ENTER&gt;</CODE> <BR>
Selecteer <CODE>[Q]uit</CODE> en druk op <CODE>&lt;ENTER&gt;</CODE> 
<P>
<PRE>
     You may now login as 'root' at the login: prompt...
     ...
     debian login:
</PRE>
<P>Vul in: <CODE>root</CODE>.
<P>
<PRE>
     Password:
</PRE>
<P>Vul het wachtwoord van root in.
<P>
<PRE>
    ...
     debian:~#
</PRE>
<P>Het systeem is ge&iuml;nstalleerd en werkend. GEFELICITEERD!
<P>Mijn taak stopt hier. Lees de installatiedocumentatie van je
distributie en ga verder met de Unix systeembeheertaak.
<P>Wanneer je het systeem opnieuw opstart, zal de plip connectie niet
goed zijn. Maar nu weet je wat je te doen staat.
<P>Ik raad je aan wat werk te verzetten:
<UL>
<LI>Configureer de plip interface voor het normale bootproces (in
het bestand <CODE>/etc/init.d/network</CODE>).</LI>
<LI>Configureer <CODE>/etc/fstab</CODE> op de <B>target</B> 
dat het eenvoudigweg de remote <B>source</B> cdrom via nfs mount.

<PRE>
      source:/cdrom              /cdrom   nfs     noauto,intr 1 2
      
</PRE>
</LI>
<LI>Leer Lilo. Configureer het voor DOS en Linux systemen en
installeer het op een diskette.</LI>
<LI>Wanneer je Lilo op de diskette beheerst, installeer je het op
je harddisk.</LI>
<LI>Installeer en configureer het X Window Systeem.</LI>
<LI>Veel plezier.</LI>
<LI>Mail me feedback.</LI>
</UL>
     
<H2><A NAME="s15">15. Installeren van Slackware, RedHat, Caldera</A></H2>

<P>Deze sectie is geschreven door Florent SAUNIER. <BR>
sabetflo@freesurf.fr
<P>Ik heb met veel succes een PLIP installatie voor Slakware uitgevoerd.
Ook lukte het me met dezelfde methode die hieronder is beschreven REDHAT
en caldera Open Linux te installeren.
<P>Zoals eerder door Gilles aangegeven, is voor een slakware installatie
alles al opgegeven in het hoofdstuk "Wat heb je nodig" met de tijd
toegenomen tot 10 uur als je xfree(86) en een aantal
ontwikkelgereedschappen wenst te installeren.
<P>Verder moet je eerst Gilles installatie lezen, aangezien de mijne
overeenkomt met deze vooraf ingestelde instellingen.
<P>Als laatste, ik heb de Slakware en Caldera installatie op een
Twinhead 550C laptop, met 8Mb Ram, en een 2Gbytes Harddisk uitgevoerd.
<H2>15.1 Slakware installatie</H2>

<P>
<UL>
<LI>1- Maak 2 disks (boot en root) en prepareer een plipdisk</LI>
<LI>2- Installeer de PLIP module</LI>
<LI>3- Maak een NFS drive aan voor gebruik met PLIP</LI>
<LI>4- Start de Slakware (of Caldera) Installatie</LI>
<LI>5- Drink de rest van de koffie op en ga naar bed wachtend
tot de installatie klaar is</LI>
</UL>
<H3>Het maken van boot,root en plip disks</H3>

<P>Je hebt de standaardkernel image bareapm.i of bare.i nodig om
slakware vanaf een ATAPI CDROM op je source te installeren.
Als je de installatie wilt uitvoeren vanaf een SCSI apparaat neem je
scsinet.i image.
<P>Er zijn nog andere images, zoals net.i waarin de ondersteuning voor
PLIP zou moeten zijn opgenomen, maar op mijn i486 laptop,
Twinhead550C, werkt deze image niet.
Mijn ervaring is dat de standaardimage altijd werkt op iedere laptop
die ik heb gebruikt.
<H3>1a- Aanmaken van de boot- en rootdisks.</H3>

<P>
<P>Aanmaken van de bootdisk vanuit ms-dos door het intikken van:
<PRE>
 
    rawrite bareapm.i
    
</PRE>

maak dan de rootdisks aan:
<PRE>
    rawrite color.gz.a  (als je een kleurenscherm gebruikt)
    
</PRE>
<H3>1b- Aanmaken van de PLIP disk</H3>

<P>Kopieer de volgende programma's naar een onder dos geformatteerde disk:
<UL>
<LI>1- plip.o (object programma voor de plip tool)</LI>
<LI>2- parport_pc</LI>
<LI>3- parport</LI>
</UL>

Die programma's zijn verplicht voor een PLIP installatie, je vindt
ze op de slakware installatie-CDROM onder de directory /MODULES.
Hetzelfde geldt voor de Caldera installatie. Gebruik find als je ze niet
kunt vinden.
<H3>1c- opstarten van de installatie</H3>

<P>Doe de bootdisk in het diskettestation van je laptop en start de
computer. Volg de installatieprocedure en wacht totdat het systeem
naar de rootdisk vraagt. Doe deze erin en wacht op de loginprompt:
"Slakware login".
<P>Om de Slakware installatie te starten moet je als root inloggen. 
Typ dan root achter de prompt. Denk eraan dat je op dat moment van
de installatie nog steeds een qwerty toetsenbord hebt.
<H3>2a- Installeer de PLIP module</H3>

<P>Installeer je source computer overeenkomstig de aanwijzingen van Gill.
Van hoofstuk 7 tot 9.
<P>Installeer PLIP op de target. Om de PLIP modules te installeren moet
je een programma vanaf je PLIP disk opstarten. 
<P>Toegang tot je diskette door:
<PRE>
          &amp; mount /dev/fd0h1440 /floppy
          &amp; cd /floppy
          &amp; insmod parport      'installeert je parallelle poort
          &amp; insmod parport_pc   'het zal worden ingesteld
          &amp; insmod plip         'installeert de plip module
    
</PRE>

Als je tijdens de PLIP installatie tegen een probleem aanloopt, betekent
dit dat je parallelle poort niet correct is ge&iuml;nstalleerd.
Je kunt nogmaals de bovenstaande instructie intikken, soms werkt dit!!
Ga anders naar de parport directory en schrijf hierin de van
toepassing zijnde instelling weg.
<PRE>
      &amp; cd /proc/parport/0
      &amp; vi IRQ            'Verifieer dat er 7 in wordt weggeschreven als je
                          'deze interrupt gebruikt'
     
</PRE>

Kijk in hoofdstuk 8,"PLIP op de source" voor de juiste instelling.
<P>Je zou je er niet te druk om moeten maken, aangezien van 95% van de 5
die ik op een laptop installeerde, alles soepel verliep.
<H3>3a- Maak nu je NFS drive aan.</H3>

<P>Vanaf daar koos ik ervoor om een NFS drive op de target computer
aan te maken. Toen vervolgde ik de installatie met de optie
"From directory" in plaats van vanaf een nfs support.
<P>Vergeet niet dat je nog steeds met een US toetsenbord werkt.
Natuurlijk moet je de source overeenkomstig hoofdstuk 7
"Network parameters" instellen. Je pingde de source, maar kon
de target nog niet pingen.
<P>Dus de eerste stap bestaat uit het configureren van de PLIP connectie:
Typ op de target:   
<A NAME="SLACKWARE_TARGET_IP_ADRESS_IFCONFIG"></A> <PRE>
&amp; ifconfig plip0 192.168.0.1 pointopoint 192.168.0.2 netmask 255.255.255.255 up
     
</PRE>
 
Test je Plip configuratie door vanaf de source naar de target te pingen.
<PRE>
     &amp; ping target
     
</PRE>

maak dan je nfs drive aan:
<PRE>
     &amp; cd /
     &amp; mkdir nfsdrive
     mount -t nfs 192.168.0.2:/cdrom /nfstest
     
</PRE>

<I>Je moet gewoon een drive gekoppeld aan de source directory /cdrom
configureren, waarvan wordt verondersteld dat daar je slakware CDROM
mee is verbonden, vanaf je target directory genaamd nfstest</I>.
<P>Nu is alles ingesteld en ben je zover het installatieprogramma
van Slakware op te starten, door het intikken van "setup".
<P><B>opmerking:</B>als je nog niet genoeg geheugen hebt, 
met een setup bestaande uit minder dan 8mb zal het installatieprogramma
niet opstarten, dan zal je swapspace aan moeten maken om het programma
zijn werk te kunnen laten doen. Maak als eerste een diskpartitie met
swap door het intikken van
<B>&amp; fdisk</B>
de naam van de disk met swap is bv /hda3
verlaat fdisk met 'w'
Zodra dit klaar is typ je:
<PRE>
         &amp; mkswap -c /dev/hda3
         &amp; swapon /dev/ha3
      
</PRE>

Je swap is nu ingesteld.
Misschien dat je dan het "setup" programma op kunt starten.
<P>
<H3>4a- Installeren van Slakware</H3>

<P>Het setup programma geeft diverse menu-opties te zien:
<UL>
<LI>HELP - Help file</LI>
<LI>KEYMAP - Keyboard select (minstens Azerty !!!)</LI>
<LI>ADDSWAP - Create and select swap</LI>
<LI>TARGET - Select target</LI>
<LI>SOURCE - select the source</LI>
<LI>SELECT - Select pakages to install</LI>
<LI>CONFIGURE - Set up your linux system and make LILO</LI>
<LI>EXIT - bye bye setup </LI>
</UL>
<P>4b- Selecteer je toetsenbord, voor Frans neem je -Fr-latin1.map
<P>4c- Selecteer je swappartitie als deze nog niet is geconfigureerd
<P>4d- Selecteer de target, standaard is '/' 
<P>4e- Selecteer de source. Dit is het lastige deel, kies voor
Installing from a drive
typ de drive zo : /nfsdrive/slakware
<I>`/slakware' omdat je drive naar je slakware CDROM directory
moet verwijzen</I>.
<P>4f- Selecteer de te installeren packages
<P>4g- Wacht, wacht, wacht, en wacht........
<H2>15.2 <B>Caldera Installatie</B></H2>

<P>     
Ik vertelde je al dat Caldera ook met die installatie werkt. 
In feite start Caldera automatisch het setupprogramma, zodra
je bij het menu arriveert waarbij wordt verondersteld dat je
de sourcedisks uitkiest. Typ ALT F2 en ga naar een ander scherm,
log dan in als root en maak je nfs drive zoals hiervoor beschreven
in punt 2 en 4. Ga dan met ALT F1 terug naar het installatiescherm
en type het beroemde nfsdrive als je source directory. Caldera zal
dan zonder probleem worden ge&iuml;nstalleerd.
<H2>15.3 Problemen oplossen</H2>

<P>Als je bij die installatie problemen ondervindt, kun je me
dat laten weten en dan zal ik zo goed als ik kan je proberen te
helpen.
<H2><A NAME="s16">16. Installeren van RedHat 6.x</A></H2>

<P>Deze sectie is geschreven door Dr. Tilmann Bubeck,
bubeck@think-at-work.de
<P>Ik heb met veel moeite geprobeerd via PLIP RedHat 6.2 op een laptop
te installeren, maar het installatieprogramma van RedHat bevat fouten
en kon voor PLIP niet worden gebruikt. Ik verifieerde dat het reeds in
RedHat 6.1 niet functioneerde, maar het wel naar wens in RedHat 5.2 werkte.
Er zijn naar RedHat patches gezonden en deze zullen hopelijk op de 
aankomende RedHat 7.0 worden toegepast.
<P>Dus als je RedHat 6.x via PLIP wilt installeren, dan <B>moet</B>
je deze aanwijzingen opvolgen.
<P>Het probleem is de "bootnet" disk. Deze disk zou voor de PLIP
installatie kunnen worden gebruikt, maar bevat 2 ernstige fouten:
<P>
<UL>
<LI>de noodzakelijk driver "parport_pc" ontbreekt</LI>
<LI>het geeft je niet de mogelijkheid belangrijke moduleparameters
aan "parport_pc" op te geven (in 't bijzonder "iobase" en "irq").</LI>
</UL>
<H2>16.1 Gebruiken van een fixed "bootnet" disk</H2>

<P>De eenvoudigste manier om het bovenstaande probleem op te lossen is
door gebruik te maken van een fixed "bootnet" disk.  Je kunt een
fixed "bootnet" disk voor RedHat 6.2 verkrijgen via
<A HREF="http://www-ti.informatik.uni-tuebingen.de/~bubeck/bootnet-plip-62.img">http://www-ti.informatik.uni-tuebingen.de/~bubeck/bootnet-plip-62.img</A><P>Gebruik de volgende opdracht om het gedownloade image naar een lege disk
te kopi&euml;ren:
<P><CODE>dd if=bootnet-plip-62.img of=/dev/fd0</CODE>. 
<P>Doe de diskette dan in het diskettestation en zet je computer aan. 
Wanneer je bij de fase aankomt waarbij je je netwerk devicedriver
moet uitkiezen, doe dan alsjeblieft het volgende:
<P>
<UL>
<LI>1- Kies voor "Parallel Port Module for PC" en selecteer "specify
module parameters".</LI>
<LI>2- Vul het iobase en interupt voor je parallelle poort in.
Typische waarden zijn iobase=0x378 of iobase=0x3bc. Interrupt is
meestal "irq=7".</LI>
<LI>3- Valideer dat de kernel de module laadt en de parallelle poort
weet te vinden. Gebruik ALT+F4 om naar de kernelmeldingen over te
schakelen en kijk naar een regel die luidt: "parport: ... irq: 7".</LI>
<LI>4- De installatie zal dan het netwerk proberen te benaderen
wat nog steeds niet beschikbaar is. Dus vraagt het installatieprogramma
nogmaals naar de installatiemethode. Kies wederom je methode.</LI>
<LI>5- Kies nu voor de "plip" module zonder parameters.
Verifieer nogmaals het laden van de module in de kernelmeldingen.</LI>
<LI>6- Het netwerk zou nu "in de lucht" moeten zijn, 
de installatie zou nu verder moeten gaan. Als dit niet zo is, 
controleer dan de moduleparameters van "parport_pc".</LI>
</UL>
<H2>16.2 Samenstellen van een eigen "bootnet" disk</H2>

<P>Als de hiervoor beschreven bootnetdisk niet voldoet voor wat je
nodig hebt, lees dan de beschrijving hieronder over hoe een
standaardbootnetdisk met "plip" kan worden getransformeerd.
Deze beschrijving is zeer beknopt en is bestemd voor de geavanceerde
gebruiker.
<P>
<UL>
<LI>1- maak met "dd" een kopie van de standaard bootnetdisk.</LI>
<LI>2- doe deze kopie van de standaard bootnetdisk in het diskettestation
en mount het met: <CODE>mount /dev/fd0 /mnt</CODE></LI>
<LI>3- gunzip de initi&euml;le ramdisk met <CODE>cp /mnt/initrd.img
/tmp/initrd.img.gz; gunzip /tmp/initrd.img.gz</CODE></LI>
<LI>4- Mount de initi&euml;le ramdisk met <CODE>mkdir /mnt2; mount -o loop
/tmp/initrd.img /mnt2</CODE></LI>
<LI>5- gunzip en extraheer modules directory met: <CODE>cd /tmp;
zcat /mnt2/modules/modules.cgz | cpio -ivd</CODE></LI>
<LI>6- Je zou nu een directory moeten hebben die genoemd is naar
je kernelversienummer
(b.v. "2.2.14-5.0BOOT") met heel veel modules.
Controleer of de module "parport_pc.o" is
opgenomen in deze directory (het is helaas NIET opgenomen
in RedHat 6.0-6.2). Als je het niet kunt vinden,
bouw dan alsjeblieft een aangepaste kernel met het 
EXTRAVERSION nummer zoals bij je bootnetdisk
(in dit geval: "5.0BOOT") en
"parport" support als module. Kopieer de nieuw aangemaakte
parport_pc.o module naar je nieuwe modules directory: <CODE>cp
.../parport_pc.o /tmp/2.2.14-5.0BOOT</CODE>.</LI>
<LI>7- verwijder een normaal ongebruikte module, zodat je extra
ruimte op de disk overhoudt: <CODE>rm
/tmp/2.2.14-5.0BOOT/sktr.o</CODE> (driver voor token ring
netwerkadapter).</LI>
<LI>8- bouw het modules archief opnieuw op met: <CODE>find
/tmp/2.2.14-5.0BOOT | cpio -ov -H crc | gzip &gt;
/mnt2/modules/modules.cgz</CODE></LI>
<LI>9- voeg een nieuwe modules afhankelijkheidsregel in in modules.dep
waarin staat dat module "parport_pc" de module "parport" nodig
heeft:
<CODE>echo "parport_pc: parport" &gt;&gt;
/mnt2/modules/modules.dep</CODE></LI>
<LI>10- voeg in module-info een record toe voor parport_pc zodat
de gebruiker de parport_pc modules tijdens de installatie kan
selecteren. Voeg de volgende tekst toe aan het einde van
/mnt2/modules/module-info: 
<PRE>
parport_pc
        plip
        "Parallel Port Module for PC"
        io "Base I/O address"
        irq "IRQ level"
</PRE>

</LI>
<LI>11- unmount en gzip initi&euml;le ramdisk met: <CODE>umount /mnt2;
gzip -9 /tmp/initrd.img</CODE></LI>
<LI>12- kopieer initi&euml;le ramdisk naar bootnet disk en unmount: <CODE>cp /tmp/initrd.img.gz /mnt/initrd.img; umount /mnt</CODE></LI>
</UL>
<P>Door het opvolgen van deze instructies, krijg je een bootnet disk met
alle benodigde modules. Daarmee kun je een PLIP installatie uitvoeren.
Volg alsjeblieft de instructies die hiervoor zijn beschreven om de
installatie met de nieuwe disk uit te kunnen voeren.
<H2><A NAME="INSTALL_FROM_A_DOS_PARTITION"></A> <A NAME="s17">17. Installeren vanaf een DOS-partitie</A>   </H2>

<P>
<P>Je kunt deze sectie gebruiken als je reeds een DOS-partitie op
je <B>doelcomputer</B> hebt. Ik denk dat het een snellere
installatie-methode is.
<P>Lees de sectie 5.3.1 "Installeren vanaf een DOS-partitie" van
<A HREF="http://www.debian.org/releases/stable/i386/install.txt">install.txt</A>. Deze sectie is ook beschikbaar op de Debian
CD in het htmlbestand 
<A HREF="file:///cdrom/dists/stable/main/disks-i386/current/ch-install-methods.html#s-install-drive">ch-install-methods.html</A>.
<P>Ik ga je gewoon op weg helpen met punt 1. Haal vanaf
de dichtstbijzijnde Debian "repository" de volgende bestanden op.
<P>Het transport is makkelijk met 
<A HREF="http://www.toms.net/rb/home.html">tomsrtbt</A>.
<P>Exporteer de <B>source</B> cdrom drive via nfs.
<P>Lees het bestand 
<A HREF="http://www.toms.net/rb/tomsrtbt.FAQ">tomsrtbt.FAQ</A> 
<P>Maak de diskette aan onder DOS of Linux, aan jou de keuze.
<P>
<PRE>
     Linux installatie:
     a) extraheer het .tar.gz archief
     b) Wees root
     c) Ga naar de tomsrtbt-&lt;versie&gt; directory
     d) Zorg voor een lege diskette zonder slechte sectoren.
     e) Geef de opdracht './install.s'
     
</PRE>
<P>Boot de <B>target</B> computer met deze diskette. Login als root.
<P>
<PRE>
      $ insmod plip
      $ ifconfig plip1 192.168.0.1 pointopoint 192.168.0.2 \
      netmask 255.255.255.255 up
      $ route add -host 192.168.0.2 dev plip1
      $ mount -t nfs 192.168.0.2:/cdrom /cdrom
      $ mkdir /c
      $ mount -t msdos /dev/hda1 /c
      $ mkdir /c/debian
      $ cd /cdrom/dists/stable/main/disks-i386/current/
      $ cp resc1440.bin drv1440.bin base2_1.tgz root.bin linux \
      install.bat loadlin.exe /c/debian
     
</PRE>
<P>De <CODE>\</CODE> betekent dat de opdrachtregel op de volgende regel wordt
voortgezet. De opdracht <CODE>cp</CODE> duurt even. Wanneer het klaar is,
verwijder je de diskette en dan geef je de opdracht:
<PRE>
      $ reboot
     
</PRE>
<P>Boot in DOS.
<P>
<PRE>
      C:\> cd debian
      C:\DEBIAN> install
     
</PRE>
<P>Hier ga je Debian vanaf een DOS-partitie installeren. Je hebt tijdens
het installatieproces geen plip of diskette nodig. Alles wordt via de
harddisk afgehandeld. Lees de Debian installatie documentatie, het is
zeer goed en duidelijk.
<H2><A NAME="s18">18. Installeer de plip interface permanent</A></H2>

<H2>18.1 Op de source</H2>

<P>
<P>Ik maak gebruik van een oude Linux RedHat 4.1 distributie. 
De lokatie van de bestanden kan op andere GNU/Linux distributies
anders zijn, maar de filosofie is hetzelfde (De Unix System V conventie).
<P>Maak het bestand <CODE>/etc/rc.d/init.d/plip</CODE> met de volgende
inhoud aan:
<P>
<PRE>
#!/bin/sh

##############################
# file /etc/rc.d/init.d/plip #
##############################

# See how we were called.
case "$1" in
  start)
        # Start daemons.
        /bin/echo "Starting plip interface: "
        /bin/echo "Doing /sbin/ifconfig plip0 source pointopoint target netmask 255.255.255.255 up"
        /sbin/ifconfig plip0 source pointopoint target netmask 255.255.255.255 up
        /bin/echo  "Doing /bin/ping -q -c 4 target"
        /bin/ping -q -c 4 target
        /bin/echo "Starting plip interface: done"
        ;;
  stop)
        # Stop daemons.
        /bin/echo  "Shutting down plip interface:"
        /bin/echo  "Doing /sbin/ifconfig plip0 source pointopoint target netmask 255.255.255.255 down"
        /sbin/ifconfig plip0 source pointopoint target netmask 255.255.255.255 down
        /bin/echo  "Doing /sbin/modprobe  -r plip "
        /sbin/modprobe  -r plip
        /bin/echo "Shutting down plip interface: done"
        ;;
  *)
        echo "Usage: $0 {start|stop}"
        exit 1
esac

exit 0

# === End of File ===

    
</PRE>
<P>Alleen de ifconfig regels zijn echt nodig. Misschien dat je 
een aantal <CODE>modprobe</CODE> opdrachten toe moet voegen als je
noch gebruik maakt van 
<CODE>kerneld</CODE> noch van de <CODE>kmod</CODE> faciliteit van de
nieuwere kernels 2.2.x.
<P>Maak in de <CODE>rc*.d</CODE> directory's de symbolische links aan: 
<P>
<PRE>
      
      $ cd /etc/rc.d/rc0.d/
      $ ln -s ../init.d/plip K97plip
      
      $ cd /etc/rc.d/rc1.d/
      $ ln -s ../init.d/plip K92plip
      
      $ cd /etc/rc.d/rc3.d/
      $ ln -s ../init.d/plip S11plip


      $ cd /etc/rc.d/rc5.d/
      $ ln -s ../init.d/plip S11plip
     
</PRE>
<P>Je kunt voor andere nummers kiezen. Zorg dat het uit twee cijfers
bestaande getal na 'K' groter is dan het nummer van ieder ander
bestand dat een service stopt die afhankelijk is van plip.
<P>Zorg dat het uit twee cijfers bestaande nummer na de 'S' kleiner is
dan het nummer van ieder ander bestand dat een service start die
afhankelijk is van plip: nfs, nis, ftp, http enz.
<P>Werk het <CODE>/etc/conf.modules</CODE> bestand bij en kies voor het
juiste IRQ nummer (die van mij is 7, die van jou kan een andere zijn):
<P>
<PRE>
# /etc/conf.modules
...
alias parport_lowlevel parport_pc
post-install parport_pc echo 7 >  /proc/parport/0/irq
...
     
</PRE>
<P>Test de plip shell:
<P>
<PRE>
      $ /etc/rc.d/init.d/plip 
      Usage: /etc/rc.d/init.d/plip {start|stop}

      $ /etc/rc.d/init.d/plip stop
      Shutting down plip interface: 
      Doing /sbin/ifconfig plip0 source pointopoint target netmask 255.255.255.255 down 
      Doing /sbin/modprobe  -r plip 
      Shutting down plip interface: done

      $ /etc/rc.d/init.d/plip start
      Starting plip interface: 
      Doing /sbin/ifconfig plip0 source pointopoint target netmask 255.255.255.255 up 
      Doing /bin/ping -q -c 4 target
      PING target (192.168.0.1): 56 data bytes
      
      --- target ping statistics ---
      4 packets transmitted, 4 packets received, 0% packet loss
      round-trip min/avg/max = 4.4/8.3/14.0 ms
      Starting plip interface: done
     
</PRE>
<P>Het bijwerken van de opstartscripts is een goede gelegenheid een 
Unix systeem opnieuw op te starten om de wijzigingen te controleren.
Doe dit:
<P>
<PRE>
      $ init 6 # of "shutdown -t now" of "reboot"
     
</PRE>
<H2>18.2 Op de target</H2>

<P>
<P>Werk het bestand <CODE>/etc/init.d/network</CODE> bij:
<P>
<PRE>
      #! /bin/sh
      #######################
      # /etc/init.d/network #
      #######################

      ifconfig lo 127.0.0.1
      route add -net 127.0.0.0
      
      ifconfig plip1 192.168.0.1 pointopoint 192.168.0.2 netmask 255.255.255.255 up
      route add -host 192.168.0.2 dev plip1
     
</PRE>
<P>Dat is alles omdat de parport faciliteiten zich direct in de kernel bevinden.
<P>Het bijwerken van de opstartscripts is een goede gelegenheid een Unix
systeem opnieuw op te starten, om de aanpassingen te controleren. Doe het:
<P>
<PRE>
      $ init 6
     
</PRE>
<H2><A NAME="s19">19. Compatibiliteit met een printer (lp)</A></H2>

<P>Ik gebruik zonder al te grote problemen dezelfde parallelle poort voor
het afdrukken naar een printer en een netwerkaansluiting met mijn laptop.
Het neemt minder dan een seconde in beslag om van afdrukken naar het
netwerk over te schakelen. Ik heb gewoon een goedkope handmatige
schakelaar tussen de parallelle poort, de printer en de laptop
geplaatst. De kabel tussen de schakelaar en de desktop computer is er
een die volledig is verbonden. De schakelaar is die wordt gebruikt voor
het delen van printers wanneer er geen netwerk beschikbaar is. Het werkt.
<P>Soms is de kernel er niet erg blij mee, omdat het de netwerktaak niet
af kan sluiten. In dat geval, sluit ik de plip interface af en
herstart het wanneer ik het nodig heb.
<P>Ik kocht vorig jaar een nieuwe parallelle kaart, maar het zit
nog steeds in de verpakking. Ik zal een "installatie van een
tweede parallelle poort" schrijven wanneer ik er in slaag de
verpakking te openen en die mooie kaart in het laatst beschikbare
slot toe te voegen dat ik heb overgelaten.
<H2><A NAME="s20">20. Nodig om een nieuwe kernel te compileren?</A></H2>

<P>
<P>Verscheidene malen tijdens de <B>source</B> serverconfiguratie
hebben we er melding van gemaakt dat een kernelcompilatie op de
<B>source</B> computer nodig zou kunnen zijn.
<P>Hier is een lijst met datgene dat moet worden gewijzigd of ingesteld.
Lees de <EM>Kernel-HOWTO</EM> als je nooit eerder een kernel compileerde.
<P>
<PRE>
    Loadable module support  --->
        [*] Enable loadable module support

    General setup  --->
        [*] Networking support
        &lt;M> Parallel port support
        &lt;M>    PC-style hardware

    Networking options  --->
        [*] TCP/IP networking
    
    Network device support  --->
        [*] Network device support
        &lt;*> Dummy net driver support
        &lt;M> PLIP (parallel port) support
        &lt;*> of &lt;M>  PPP (point-to-point) support 

    Character devices  --->
        &lt;M> Parallel printer support

     
    Filesystems  --->
        [*] /proc filesystem support
        &lt;*> of &lt;M> ISO 9660 CDROM filesystem support
        Network File Systems  --->
            &lt;*> of &lt;M> NFS filesystem support
     
     
    
</PRE>
<H2><A NAME="WHAT_IS_NEW"></A> <A NAME="s21">21. Wat is nieuw</A></H2>

<P>Deze tag is automatisch dus dit IS de referentie.
(Soms vergeet ik het versienummer en de datum bij te werken)
<P>Id: PLIP-Install-HOWTO.sgml,v 1.27 2000/08/11 06:30:06 gilles Exp 
<P>
<DL>
<DT><B>v1.27, 11 augustus 2000</B><DD><P>
<UL>
<LI>De SLIP regel was niet nodig, SLIP is ge&ouml;ri&euml;nteerd
op de seri&euml;le lijn. De PPP regel was gedeeltelijk onjuist, we
hebben PPP ondersteuning van de kernel nodig.</LI>
<LI> De controle door Graham voor het corrigeren van mijn slechte
Engels is af. Ik weet dat er nog steeds veel fouten in staan, en er komen
steeds nieuwe fouten bij iedere keer als ik een nieuwe zin schrijf...</LI>
<LI> Een sectie "compatibiliteit met een printer" toegevoegd.</LI>
<LI> Toegevoegd Null-Printer == Null-Modem opmerking.</LI>
<LI> Toegevoegd een "bouw je eigen kabel" sectie.</LI>
<LI> Een fout in de Slackware sectie gecorrigeerd. 
<A HREF="#SLACKWARE_TARGET_IP_ADRESS_IFCONFIG">Hier</A> (omgekeerde
IP-adressen). Met dank aan Brad Rigby.</LI>
<LI> nooit verouderde paragraaf opnemen in Introductie sectie.</LI>
<LI> bekend vertaalde versie verzoek in de Introductie sectie.</LI>
<LI> Bovenaan in het document melding gemaakt van de wat is nieuw
sectie.</LI>
<LI> Een vc-header in de Wat is nieuw sectie toegevoegd.</LI>
<LI> De WHAT_IS_NEW label toegevoegd</LI>
</UL>
</DL>
<P>
<P>
<P>
<DL>
<DT><B>v1.22, 16 juni 2000</B><DD><P>
<UL>
<LI> Een vermelding over PARTED 
http://www.gnu.org/software/parted opgenomen,
zoals me verteld door Andrew Clausen (clausen@gnu.org).
</LI>
<LI> Toegevoegd een sectie over het installeren van Slackware, RedHat, of
Caldera, door Florent SAUNIER.</LI>
<LI> Een aantal Engelse fouten gecorrigeerd, met dank aan Graham en
Tomas.
    </LI>
</UL>
</DL>
<P>
<DL>
<DT><B>v1.15,  26 november 1999</B><DD><P>
<UL>
<LI>De sectie "Wat is nieuw". Dat is deze sectie.</LI>
<LI>De sectie  "Installeer de plip interface permanent".</LI>
<LI>De sectie "Opsomming van medewerkers en erkenningen".</LI>
<LI>De verschillende hoofdstukken over de gedetailleerde 
Debian installatie samengevoegd dat ze een enkel hoofdstuk vormen
met de feitelijke hoofdstukken gewoon als subsecties.</LI>
<LI> Nieuwe sectie aangemaakt "Installeren vanaf een DOS
partitie". Een simpelere en snellere methode.</LI>
</UL>
</DL>
<H2><A NAME="s22">22. Nog te doen</A></H2>

<P>
<P>
<UL>
<LI>Controleer een kernelcompilatie van de grond af aan (niet alleen
het laatste
<CODE>.config</CODE> bestand) met slechts de opties die ik opgaf. Voeg daar
waar van toepassing de ontbrekende opties toe.</LI>
<LI>Maak van Mandrake, SuSE (Graham? Ben je daar nog?), Turbo
Linux, en Stampede gedetailleerde installatiehoofdstukkken. Bijdragen
zijn welkom. Gilles Lamiral doet dit niet tenzij je hem nieuwe computers en
CD's geeft.

Debian (klaar), Red Hat (opnieuw gedaan door Tilmann Bubeck), Slackware
(klaar), Caldera OpenLinux (klaar).</LI>
<LI>Maak van het hoofdstuk "De CD-ROM NFS server side" gewoonweg
het hoofdstuk "de server side" met subsecties zoals "cdrom medium",
"zip medium", "hard disk medium", en "ftp server" "nfs server",
"samba server" "http server". Nogmaals, bijdragen zijn welkom.

</LI>
</UL>
     
<H2><A NAME="s23">23. Opsomming van medewerkers en erkenningen</A></H2>

<P>
<P>Ik bedank alle mensen genoemd in deze lijst met medewerkers of projecten.
Als je denkt dat ik iemand vergeten ben, aarzel dan niet een klacht in
te dienen.
<P>
<DL>
<DT><B>Werner Heuser &lt;wehe@snafu.de&gt; </B><DD><P>Hij zei: "gisteren had ik genoeg tijd om je document door te lezen.
Het is geweldig en in de volgende uitgave van mijn HOWTO (waarschijnlijk
2 december) zal ik er een verwijzing naar opnemen.
<P>En dit deed hij.
</DL>
<P>
<DL>
<DT><B>LDP &lt;linux-howto@metalab.unc.edu&gt;</B><DD><P>Het Linux Documentatie Project accepteerde zonder aarzeling de
PLIP-Install-HOWTO.
</DL>
<P>
<DL>
<DT><B>Simon Forget &lt;sforget@camelot.ca&gt;</B><DD><P>Simon ondervond een probleem met zijn pcmcia diskettestation. 
Dus leidde hij me bij het zoeken naar een oplossing die feitelijk
simpeler en sneller is (de DOS oplossing).
</DL>
<P>
<P>
<DL>
<DT><B>Andrew Clausen &lt;clausen@gnu.org&gt;</B><DD><P>Andrew raadde me aan parted,
http://www.gnu.org/software/parted, te vermelden.
</DL>
<P>
<P>
<DL>
<DT><B>Florent SAUNIER &lt;FlorentSAUNIER@sabetflo.freesurf.fr&gt;</B><DD><P>Florent schreef de sectie genaamd "Installeren van Slackware/Caldera".
</DL>
<P>
<DL>
<DT><B>Graham Bosworth &lt;graham@bozikins.connectfree.co.uk&gt;</B><DD><P>Graham corrigeerde in het gehele document mijn slechte Engels.
</DL>
<P>
<DL>
<DT><B>Tomas Pospisek  &lt;tpo@spin.ch&gt;</B><DD><P>Ook Tomas corrigeerde mijn slechte Engels.
</DL>
<P>
<DL>
<DT><B>Brad Rigby  &lt;brigby@rocketmail.com&gt;</B><DD><P>Brad corrigeerde een fout in de Slackware sectie (omgekeerd IP-adres).
</DL>
<P>
<DL>
<DT><B>Donald Becker  &lt;becker@super.org&gt;</B><DD><P>Donald schreef de PLIP kernel documentatie<BR>
/usr/src/linux/Documentation/networking/PLIP.txt
<P>
</DL>
<P>
<DL>
<DT><B>Tilmann Bubeck  &lt;bubeck@think-at-work.de&gt;</B><DD><P>Tilmann schreef de sectie genaamd  "Installeren van RedHat 6.x".
<P>
</DL>
<P>
</BODY>
</HTML>
