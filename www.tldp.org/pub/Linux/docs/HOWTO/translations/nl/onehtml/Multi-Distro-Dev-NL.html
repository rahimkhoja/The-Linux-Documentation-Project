<HTML
><HEAD
><TITLE
>Ontwikkeling voor meerdere Linux distributies mini-HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>Ontwikkeling voor meerdere Linux distributies mini-HOWTO</H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Ed Hill</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:<ed@eh3.com>"
>&lt;ed@eh3.com&gt;</A
>&#62;</TT
></P
></DIV
></DIV
><H3
CLASS="AUTHOR"
><A
NAME="AEN11"
>Vertaald door: Ellen Bokhorst</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:<bokkie@nl.linux.org>"
>&lt;bokkie@nl.linux.org&gt;</A
>&#62;</TT
></P
></DIV
></DIV
></DIV
><P
CLASS="PUBDATE"
>01-03-2001<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Wijzigingen</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 0.9.1</TD
><TD
ALIGN="LEFT"
>14-08-2002</TD
><TD
ALIGN="LEFT"
>Herzien door: EH3</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Kleine update voor het gebruik van X11 (sockets).</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 0.9</TD
><TD
ALIGN="LEFT"
>2001-12-03</TD
><TD
ALIGN="LEFT"
>Herzien door: EH3</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Initi&euml;le versie.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN17"
></A
><P
></P
><P
>In dit document wordt een korte uiteenzetting gegeven als hulp
      bij het ontwikkelen en testen van gebruikersprogramma's voor meerdere
      Linux distributies.
      </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Inhoudsopgave</B
></DT
><DT
><A
HREF="#INTRODUCTION"
>Introductie</A
></DT
><DT
><A
HREF="#SETUP"
>Setup</A
></DT
><DT
><A
HREF="#USE"
>Gebruiken van de secondaire distributies</A
></DT
><DT
><A
HREF="#CREDITS"
>Krediet</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="INTRODUCTION"
></A
>Introductie</H2
><P
>Als ontwikkelaar is het zo nu en dan nodig programma's op
    meerdere Linux distributies te coderen en/of testen. In deze mini-howto
    wordt een aardige <SPAN
CLASS="APPLICATION"
>chroot</SPAN
> truuk uiteengezet
    die in veel gevallen tegemoet kan komen aan het kunnen booten in
    verschillende Linux distributies voor een test- en ontwikkelomgeving.
    </P
><P
>In een notedop houdt de "truuk" in dat alle bestanden van
    een bepaalde linux distributie in een enkele directory worden
    geplaatst en dat dan middels <SPAN
CLASS="APPLICATION"
>chroot</SPAN
> 
    die directory wordt geactiveerd voor het ontwikkelen/testen/debuggen
    van je programma. Deze benadering werkt op voorwaarde dat:
    </P
><P
></P
><OL
TYPE="1"
><LI
><P
>De kernelversie van de "main" of "primaire" distributie die je gebruikt
moet (op z'n minst enigzins) compatibel zijn met de "secondaire" of
<SPAN
CLASS="APPLICATION"
>chroot</SPAN
>'ed distributies en
	</P
></LI
><LI
><P
>Je applicatie is primair user-space (dwz geen kernel moduls) en is niet
min of meer afhankelijk van bepaalde kernelfeatures
(dwz. <TT
CLASS="FILENAME"
>/proc</TT
> functioneren).
	</P
></LI
></OL
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="COPYRIGHT"
></A
>Copyright en licentie</H3
><P
>Dit document is 2001 auteursrechtelijk beschermd door Ed Hill III.  
Het is toegestaand dit document onder de voorwaarden van de GNU
Free Documentation licentie, versie 1.1 of later versie gepubliceerd
door de Free Software Foundation, te kopi&euml;ren, distribueren en/of aan
te passen; zonder Invariant secties, zonder Front-Cover teksten en zonder
Back-Cover teksten. Een kopie van de licentie is beschikbaar op
<A
HREF="http://www.gnu.org/copyleft/fdl.html"
TARGET="_top"
>http://www.gnu.org/copyleft/fdl.html</A
>.
      </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="SETUP"
></A
>Setup</H2
><P
>We veronderstellen het volgende:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Dat een "main" of primaire Linux distributie reeds is ge&iuml;nstalleerd
met een kernelversie 2.4.x of nieuwere kernelversie,
	</P
></LI
><LI
><P
>dat je een vrije partitie hebt met 2 -- 4 Gig beschikbare ruimte en
	</P
></LI
><LI
><P
>dat je voldoende diskruimte hebt voor de tweede installatie (en eventueel
daaropvolgend ontwikkelaars/testwerk).
	</P
></LI
></OL
><P
>Gegeven die veronderstellingen, volgt hierna een uiteenzetting
    van een manier om de meerdere secondaire Linux distributies op te
    zetten die zullen worden gebruikt voor ontwikkeling, testen, of andere
    doeleinden:
    </P
><P
></P
><OL
TYPE="1"
><LI
><P
>Maak als eerste een partitie aan op &eacute;&eacute;n van je harddisks
welke groot genoeg is (gewoonlijk is 2--4Gb voldoende) voor een basisinstallatie
van &eacute;&eacute;n van de secondaire Linux distributies.
	</P
></LI
><LI
><P
>Installeer de secondaire distro op deze partitie, maar voeg het niet toe
aan je bootconfiguratie. In deze installatie hoeven alleen die packages
te worden opgenomen die nodig zijn voor je doelapplicatie (of het testen
daarvan). Je kunt bijvoorbeeld applicaties zoals de X server of andere
ruimte opslokkende packages achterwege laten.
	</P
></LI
><LI
><P
>Reboot je primaire Linux distributie en mount de partitie met de
nieuwe ge&iuml;nstalleerde "secondaire" distro. Kopieer (bijvoorkeur met
<TT
CLASS="FILENAME"
>tar -cp</TT
> of een andere methode die permissies
behoudt) alle bestanden vanaf de secondaire distro naar een lokatie zoals
<TT
CLASS="FILENAME"
>/opt/distros/DISTRO_NAME</TT
>.
	</P
></LI
><LI
><P
>Herhaal de stappen 2--3 voor eventuele extra distributies die je wenst
te installeren. Het resultaat zou een directorystructuur lijkend op het
volgende moeten zijn:
	</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>/opt/distros/redhat_6.2/
             suse_7.2/
             mandrake_8.1/
             debian-potato/
             slackware_8.0/</PRE
></TD
></TR
></TABLE
><P
>waarbij elke directory de complete set bestanden bevat als resultaat van
elke distributie-installatie.</P
></LI
></OL
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="USE"
></A
>Gebruiken van de secondaire distributies</H2
><P
>Met de secondaire distributies ge&iuml;nstalleerd, zijn de te
    volgen stappen:
    </P
><P
></P
><OL
TYPE="1"
><LI
><P
>Het is van belang een Linux kernel uit de 2.4 serie te gebruiken in de
"primaire" Linux distributie om voordeel te kunnen halen uit de
feature waarbij meerdere mountpoints kunnen worden aangemaakt wat in
de 2.4 serie is toegestaan. Voor veel taken zullen de bestandssystemen
<TT
CLASS="FILENAME"
>/proc</TT
> en <TT
CLASS="FILENAME"
>/tmp</TT
> in de 
secondaire distributie opnieuw moeten worden gemount met:
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>mount --bind /proc /opt/distros/redhat_6.2/proc
mount --bind /tmp /opt/distros/redhat_6.2/tmp</PRE
></TD
></TR
></TABLE
>
	</P
></LI
><LI
><P
>Het kan ook handig zijn (in plaats van kopi&euml;ren) de broncodestructuur
vanaf de primaire naar de secondaire distro te mounten:
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>mount --bind /home/USER/src/PROJECT /opt/distros/redhat_6.2/USER/src/PROJECT</PRE
></TD
></TR
></TABLE
>
	</P
></LI
><LI
><P
>Wordt root en gebruik:
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>xhost +localhost chroot /opt/distros/redhat_6.2
/bin/bash</PRE
></TD
></TR
></TABLE
> ter verkrijging van een shell met
&eacute;&eacute;n van de secondaire distro's. De opdracht
<TT
CLASS="FILENAME"
>xhost</TT
> is alleen nodig als je van plan bent
gebruik te gaan maken van X-Window applicaties.
	</P
></LI
><LI
><P
>Maak als laatste (zonodig) een gebruiker aan binnen de
<TT
CLASS="FILENAME"
>chroot</TT
>-ed shell en ontwikkel, bouw, en/of
test je applicatie binnen deze "aparte" Linux distributie! Je moet ook
de omgevingsvariabele <TT
CLASS="FILENAME"
>DISPLAY</TT
> nog instellen als
je graag gebruik wilt maken van X-applicaties.
	</P
></LI
></OL
><P
>Klaar! Je hebt nu een shell welke voor alle praktische
    doeleinden, binnen de secondaire Linux distributie draait van je keuze.
    </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="CREDITS"
></A
>Krediet</H2
><P
>De idee&euml;n in deze mini-HOWTO zijn oorspronkelijk niet van mij.
    Ze zijn uit berichten van Ben Reed geplukt
   (van <A
HREF="http://www.opennms.org/"
TARGET="_top"
> OpenNMS </A
>) naar 
   &eacute;&eacute;n van de
    <A
HREF="http://www.trilug.org/"
TARGET="_top"
> TriLUG </A
> mailing
    lijsten. Ik vond de informatie zo handig dat ik dat idee voor anderen 
    wilde documenteren.
    </P
></DIV
></DIV
></BODY
></HTML
>