<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>X11-big-cursor mini-HOWTO</TITLE>


</HEAD>
<BODY>
<H1>X11-big-cursor mini-HOWTO</H1>

<H2>Hoe vergrootte muiscursors met het
X-Window Systeem te gebruiken.</H2>
<H2>
<A HREF="mailto:joerg_schneider@gmx.net">J&ouml;rg Schneider</A>Vertaald door: 
<A HREF="mailto:bokkie@nl.linux.org">Ellen Bokhorst</A></H2>V3, 1998-03-24
<P><HR>
<EM>Dit document beschrijft hoe je vergrote muiscursors met het X-Window systeem kunt gebruiken.</EM>
<HR>
<H2><A NAME="top"></A> <A NAME="s1">1. Introductie</A></H2>

<P>Er zijn verscheidene redenen waarom de standaard X-muiscursors voor een
aantal mensen moeilijk zijn te traceren:
<UL>
<LI> als je X op een notebook draait met een lage contrast LCD</LI>
<LI> op normale schermen als je gebruik maakt van een hoge resolutie, 
b.v. 1600x1280</LI>
<LI> voor visueel gehandicapte personen zelfs op gewone hardware</LI>
</UL>
<P>In alle gevallen zou het kunnen helpen om vergrote muiscursors te gebruiken.
Het zou ideaal zijn, als deze taak door een enkel X-programma zou worden
gedaan, waarmee iedere muiscursor automatisch zou kunnen worden vergroot.
<P>Zover ik weet, is er geen eenvoudige manier om een dergelijk utility te
schrijven, omdat het X-protocol geen voorziening heeft om muiscursors
te ondervragen. Zie de sectie
<A HREF="#tech">Technische bespreking</A> hieronder voor meer informatie. 
<P>Als we echter naar een minder algemeen doel streven, kan er iets aan worden
gedaan.
<P>Er is een set met standaardmuiscursors, die bij de cursorfonts kan worden
gevonden. (probeer <CODE>xfd -fn cursor</CODE> om ze te bekijken). De meeste
programma's maken gebruik van deze muiscursors en de belangrijkste
gedachte hierachter is het standaardcursorfont te vervangen door
een vergrote versie.
<H2><A NAME="s2">2. Over dit document</A></H2>

<P>De motivatie voor deze mini-HOWTO was een visueel gehandicapte mede-student,
die me vroeg hoe de muiscursor onder X kon worden vergroot. Nadat
ik erachter was gekomen hoe dit gedaan kan worden, schreef ik
een initi&euml;le versie van dit document. De beschreven
methode schijnt niet algemeen bekend te zijn, dus besloot ik het te delen. 
Ik leverde dit document aan als een Linux mini-HOWTO, ondanks het feit dat
het <EM>helemaal niet specifiek is voor Linux</EM>. 
Zoals alle andere mini-HOWTO's kan het worden gevonden bij het
<A HREF="http://sunsite.unc.edu/LDP/HOWTO/">Linux Documentatie Project (LDP)</A>.
<P>Het 
<A HREF="http://i11www.ira.uka.de/~schneid/X11-big-cursor/master/">origineel</A> van
dit document wordt beheerd in het SGML/linuxdoc formaat. Dit maakt het
mogelijk om automatisch in de volgende formaten te voorzien
(die op dezelfde plaats als het origineel kunnen worden gevonden): 
html, text, LaTeX, DVI, PostScript en GNU info.
<P><B>Opmerking:</B> Als de hierboven genoemde link niet werkt, probeer dan
<A HREF="http://come.to/joerg_schneider">http://come.to/joerg_schneider</A>&mdash;deze link zou zelfs moeten
werken, als ik mijn homepage naar een andere webserver zou moeten verplaatsen.
<P>
<A HREF="mailto:shinobu@emichan.rim.or.jp">Shinobu Miyata</A> heeft
deze mini-HOWTO vertaald naar het Japans. Het kan worden gevonden in
<A HREF="http://i11www.ira.uka.de/~schneid/jp/X11-big-cursor/">http://i11www.ira.uka.de/~schneid/jp/X11-big-cursor/</A>.
<H2><A NAME="howto"></A> <A NAME="s3">3. Hoe ga je te werk</A></H2>

<P>Volg de gedetailleerde stappen hieronder. Als je het bdfresize package
zelf niet wilt ophalen en compileren, kun je stap 3 overslaan en kun je
daarvoor in de plaats een vergroot font downloaden.
<P>
<OL>
<LI> zorg dat je aan cursor.bdf komt, de source van het cursorfont, 
vanuit een X-distributie, b.v. vanaf 
<A HREF="ftp://ftp.x.org/pub/R6.3/xc/fonts/bdf/misc/cursor.bdf">ftp://ftp.x.org/pub/R6.3/xc/fonts/bdf/misc/cursor.bdf</A> (als je het
daar niet vindt, probeer dan een archie search of haal het van
<A HREF="http://i11www.ira.uka.de/~schneid/X11-big-cursor/cursor.bdf">mijn kopie</A>).  </LI>
<LI> haal, compileer en installeer het bdfresize package vanaf
<A HREF="ftp://ftp.cs.titech.ac.jp/X11/contrib/Local/bdfresize-1.4.tar.Z">ftp://ftp.cs.titech.ac.jp/X11/contrib/Local/bdfresize-1.4.tar.Z</A>
(of vanaf 
<A HREF="http://i11www.ira.uka.de/~schneid/X11-big-cursor/bdfresize-1.4.tar.gz">mijn kopie</A>):
<PRE>
zcat bdfresize-1.4.tar.Z  | tar xf -
cd bdfresize-1.4
xmkmf
make
</PRE>

Onder Linux zul je waarschijnlijk het volgende moeten gebruiken:
<PRE>
make CCOPTIONS='-include /usr/include/bsd/bsd.h' clean all
</PRE>
</LI>
<LI> maak een directory aan en installeer daarin een vergrote cursor
(in dit voorbeeld met een vergrotingsfactor 2):

<PRE>
mkdir $HOME/fonts
bdfresize -f 2 cursor.bdf | bdftopcf >$HOME/fonts/cursor2.pcf
mkfontdir $HOME/fonts
</PRE>


Ik heb me voorbereid op een aantal 
<A HREF="http://i11www.ira.uka.de/~schneid/X11-big-cursor/fonts/">cursorfonts</A>
met de volgende vergrotingsfactoren: 1.5, 2, 2.5, 3, 4, 5,
6, 7, 8 en 16. Je kunt er &eacute;n&eacute;n van downloaden en het naar
<CODE>$HOME/fonts</CODE> kopie&euml;ren, als je bdfresize niet wilt
gebruiken.

Marc Quinton heeft een dubbel zo groot
cursorfont met de hand vervaardigd 
<A HREF="http://i11www.ira.uka.de/~schneid/X11-big-cursor/fonts/BigCursor2.pcf">BigCursor2.pcf</A>
dat er <EM>veel</EM> beter uitziet dan de uitvoer van bdfresize. 
Bezoek zijn 
<A HREF="http://www.stna.dgac.fr/~quinton/BigCursor/">site</A> voor meer info!</LI>
<LI> wijzig je <CODE>.xinitrc</CODE> of <CODE>.xsession</CODE> bestand: voordat
er een X-client (dat van cursors gebruik maakt) wordt opgestart, moeten 
de volgende opdrachten worden uitgevoerd:

<PRE>
xset +fp $HOME/fonts
xsetroot -cursor_name X_cursor
</PRE>
</LI>
<LI> verlaat je X-sessie en start opnieuw op.</LI>
</OL>
<P>Dat is het&mdash;nu zouden alle muiscursors tweemaal zo groot moeten zijn.
<H2><A NAME="notes"></A> <A NAME="s4">4. Opmerkingen en beperkingen</A></H2>

<P>
<UL>
<LI>Het kan zijn dat X-servers een beperking hebben voor de maximum
cursorgrootte, vooral als ze een hardware-implementatie voor de muiscursor 
gebruiken. Anderen hebben een dergelijke beperking niet.
XF86_S3&nbsp;3.3 werkt bijvoorbeeld zelfs met een 
512x512 muiscursor (nogal langzaam).</LI>
<LI> Het vergrote cursorfont moet dezelfde naam hebben als het originele
font (de <EM>naam van het font</EM> moet <CODE>cursor</CODE> zijn, 
de <EM>bestandsnaam</EM> doet er niet toe)
&mdash;dat is geen probleem aangezien <CODE>bdfresize</CODE> de naam van het
font niet wijzigt.</LI>
<LI> De directory met het nieuwe cursorfont moet voor de directory met het
standaardcursorfont in het fontpath&mdash; worden geplaatst, dit
wordt bewerkstelligd met <CODE>xset +fp</CODE> (als tegengestelde van
<CODE>xset fp+</CODE>).</LI>
<LI> Wijzigingen in <CODE>$HOME/fonts/</CODE> zullen alleen zichtbaar zijn
na de opdracht
<CODE>mkfontdir $HOME/fonts; xset fp rehash</CODE> 
en alleen in nieuw opgestarte X-clients
(preciezer: voor nieuw aangemaakte cursors).</LI>
<LI> het kan zijn dat <CODE>xset +fp path</CODE> op een X-Terminal niet werkt.
In dit geval kan een fontserver (zie de sectie 
<A HREF="#fontserver">Hoe gebruik je een fontserver</A>)
worden gebruikt als deze door de X-Terminal wordt gebruikt, of 
&eacute;&eacute;n of andere methode om het font op de X-Terminal te
installeren
(dit kan meestal alleen worden gedaan door je systeembeheerder).</LI>
<LI> Dezelfde aanpak kan voor <CODE>olcursor</CODE> en
<CODE>decw$cursor</CODE>fonts en enige ander cursorfont worden
gebruikt dat je aan kunt treffen.</LI>
<LI> Cursorfonts, die door bdfresize zijn geproduceerd, zien er niet
zo vloeiend uit, vooral niet bij grotere vergrotingsfactoren.
Het zou fijn zijn als iemand een beter uitziend met de hand vervaardigde
versie met een aantal algemene groottes kon cre&euml;ren.</LI>
</UL>
<H2><A NAME="tech"></A> <A NAME="s5">5. Technische bespreking</A></H2>

<P>Is het mogelijk een X-programma te schrijven waarmee cursors automatisch
worden vergroot?
<P>
<DL>
<DT><B>(Gedeeltelijke) oplossing 1</B><DD><P>Gebruik de XTestCompareCursor van de XTEST
uitbreiding. Vergelijk voor alle vensters waarin de muisaanwijzer komt de cursor
met een set `bekende' cursors (b.&nbsp;v. van het cursorfont).
Als de cursor is gevonden, vervang het dan door een vergrote
versie, en laat het anders met rust of vervang het door een standaardcursor.
Dit zal alleen werken waar de XTest uitbreiding beschikbaar is.
</DL>
<P>
<DL>
<DT><B>Oplossing 2</B><DD><P>Schrijf een proxy X-server die alle client-verzoeken ongewijzigd naar
de echte X-server heruitzendt, behalve dat het alle verzoeken corresponderend
met de <CODE>XCreate*Cursor</CODE> Xlib functies onderschept.
<CODE>XCreate*Cursor</CODE> verzoeken zouden zodanig moeten worden
gewijzigd dat er een vergrote cursor wordt gebruikt.
<P>Deze proxy server simuleert een nieuw display, b.&nbsp;v. <CODE>:1</CODE>. Alle
clients die een verbinding met dit display maken (b.&nbsp;v.
<CODE>xterm -display :1</CODE>) worden op de werkelijke server getoond
(normaal gesproken is dit <CODE>:0</CODE>)
en hun muiscursors worden automatisch vergroot.
De muiscursors van clients die een verbinding maken met
<CODE>:0</CODE> zullen <EM>ongewijzigd</EM> blijven.
</DL>
<H2><A NAME="ideas"></A> <A NAME="s6">6. Andere idee&euml;n om de muiscursor beter zichtbaar te maken</A></H2>

<P>Hier zijn een aantal idee&euml;n voor nogal eenvoudige X-programma's, 
waarmee muiscursors misschien makkelijker te traceren zijn.
<P>
<UL>
<LI>Toon gedurende 0.5s iets op de aanwijspositie, als er een sneltoets
wordt ingedrukt (grote cursor, klein venster, gevormd venster).</LI>
<LI>Gebruik XRecolorCursor om de kleur van de muiscursor iedere 0.1s
te wijzigen</LI>
</UL>
<P>Het zou een veeleisender project zijn als je <B>muissporen</B> &agrave; la
windoze zou gebruiken, d.w.z. als de muis wordt verplaatst en de muiscursor moet
op een andere positie worden getekend, dan zal de oude muiscursor
niet onmiddellijk verdwijnen, maar pas na een korte vertraging. 
Muissporen zouden waarschijnlijk het beste in een X server kunnen 
worden ge&iuml;mplementeerd, maar het kan geschikter zijn het als een 
X-client te doen, of nog beter als een proxy server 
(zie de sectie 
<A HREF="#tech">Technische bespreking</A> voor details).
<H2><A NAME="info"></A> <A NAME="s7">7. Gerelateerde info</A></H2>

<H2><A NAME="fontserver"></A> 7.1 Hoe gebruik je een fontserver</H2>

<P>Een fontserver is een netservice die voorziet in een set X11-fonts
door gebruik te maken van een eenvoudig protocol. Het kan worden
ondervraagd in welke fonts
het voorziet en zal de bitmapgegevens van het font op verzoek aanleveren.
<P>Het zou kunnen dat je een fontserver wilt gebruiken om de X-server te
voorzien in een gewijzigd cursorfont, in plaats dat je het laat weten
waar het het font op het bestandssysteem kan vinden.
<P>Deze methode is vooral handig als je verscheidene computers gebruikt, die
geen gemeenschappelijk bestandssysteem delen of als je X-terminals gebruikt, die
het fontserver-protocol ondersteunen.
<P>Met de X11R5+ distributie wordt een fontserver programma meegeleverd (AFAIK).
<H3><A NAME="fsconfig"></A> Instellen van een fontserver</H3>

<P>Lees de manual pages <EM>fs(1)</EM>, <EM>fslsfonts(1)</EM> (of
<EM>xfs(1)</EM>, <EM>xfslsfonts(1)</EM> onder X11R6) en probeer het&mdash;
het is niet moelijk.
Laten we ervan uitgaan dat je de server draait op host <CODE>some.host.edu</CODE>
op poort 7100. Je kunt de setup testen met de opdracht
<P><CODE>fslsfonts -server some.host.edu:7100</CODE>
<P>Om de server feitelijk te gebruiken roep je de opdracht
<P><CODE>xset +fp tcp/some.host.edu:7100</CODE>
<P>aan, die zou moeten retourneren met een foutmelding.
<H2><A NAME="getbdf"></A> 7.2 Hoe kom je aan de bdf-source van een font</H2>

<P>Als je een fontserver hebt ingesteld, gebruik dan gewoon <CODE>fstobdf</CODE>,
waarmee de fontserver wordt geladen.
<P>Als alternatief zou je <CODE>getbdf</CODE> kunnen proberen, 
waarmee ieder ge&iuml;nstalleerd X11-font naar een bdf bestand kan worden
gedumpt.
<H2><A NAME="s8">8. Wijzigingslog</A></H2>

<P>V3, 1998-03-19
<UL>
<LI> e-mailadres van de auteur bijgewerkt</LI>
<LI> URL van de kopie van het origineel bijgewerkt</LI>
<LI> Het met de hand gemaakte dubbel zo grote cursorfont van Marc Quinton
opgenomen</LI>
</UL>
<P>V2, 1997-08-11
<UL>
<LI> Initi&euml;le versie in SGML/linuxdoc</LI>
</UL>
<P>V1, ?
<UL>
<LI> Initi&euml;le versie</LI>
</UL>
</BODY>
</HTML>
