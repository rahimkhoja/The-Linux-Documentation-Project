<HTML
><HEAD
><TITLE
>Upgraden van je linux distributie mini-HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>Upgraden van je linux distributie mini-HOWTO</H1
><DIV
CLASS="AUTHORGROUP"
><A
NAME="AEN4"
></A
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
>Greg Louis</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:glouis@dynamicro.on.ca"
>glouis@dynamicro.on.ca</A
>&#62;</TT
><br>
&nbsp;&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="AUTHOR"
><A
NAME="AEN11"
>Vertaald door: Ellen Bokhorst</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:bokkie@nl.linux.org"
>bokkie@nl.linux.org</A
>&#62;</TT
><br>
&nbsp;&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
></DIV
><P
CLASS="COPYRIGHT"
>Copyright &copy; 1996, 2002 Dynamicro Consulting Limited</P
><P
CLASS="PUBDATE"
>v1.2, 9 maart 2002<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN21"
></A
><P
></P
><P
>    Hints en tips over het upgraden van de ene naar de andere Linux distributie.
    Dit is versie 1.2, 09-03-2002.
  </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Inhoudsopgave</B
></DT
><DT
><A
HREF="#AEN23"
>BELANGRIJK!!! Disclaimer en Copyright</A
></DT
><DT
><A
HREF="#AEN28"
>Wijzigingen sinds versie 1.1</A
></DT
><DT
><A
HREF="#AEN42"
>Introductie</A
></DT
><DT
><A
HREF="#AEN64"
>Schrijf alles op wat je doet</A
></DT
><DT
><A
HREF="#AEN67"
>Maak een volledige backup van het bestaande systeem</A
></DT
><DT
><A
HREF="#AEN72"
>Maak op &eacute;&eacute;n of twee diskettes een backup van /etc
  inclusief subdirectory's</A
></DT
><DT
><A
HREF="#AEN75"
>Maak aparte backups van elke groep bestanden die je wilt behouden.</A
></DT
><DT
><A
HREF="#AEN126"
>Bereid root- en bootdiskettes voor de nieuwe installatie voor</A
></DT
><DT
><A
HREF="#AEN129"
>Formatteer diskettes voor de tijdelijke kernel en de uiteindelijke
  compilatie.</A
></DT
><DT
><A
HREF="#AEN133"
>Belet logins en maak een backup van /root en /home.</A
></DT
><DT
><A
HREF="#AEN136"
>Boot met de boot- en rootdiskettes van de nieuwe installatie.</A
></DT
><DT
><A
HREF="#AEN139"
>Verwijder de linux partities met fdisk en maak ze opnieuw aan.</A
></DT
><DT
><A
HREF="#AEN142"
>Start de nieuwe linux installatie.</A
></DT
><DT
><A
HREF="#AEN146"
>Zet de configuratiegegevens terug in de /etc/directory en
  subdirectory's daarvan.</A
></DT
><DT
><A
HREF="#AEN149"
>Configureer en compileer de linux kernel.</A
></DT
><DT
><A
HREF="#AEN153"
>Zet de bestanden terug van de backup die je eerder aanmaakte.</A
></DT
><DT
><A
HREF="#AEN156"
>Kijk de systeembeveiliging nog eens na.</A
></DT
><DT
><A
HREF="#AEN161"
>Activeer logins.</A
></DT
><DT
><A
HREF="#AEN164"
>Sorry, maar nogmaals:
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>GEBRUIK DEZE INFORMATIE OP EIGEN RISICO!</I
></SPAN
></A
></DT
><DT
><A
HREF="#AEN168"
>Erkenningen</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="AEN23"
></A
>BELANGRIJK!!! Disclaimer en Copyright</H2
><P
>De procedure die in dit document wordt gebruikt om te proberen je
van een handleiding te voorzien is als zodanig gevaarlijk voor de
programma's en gegevens die op je computer zijn opgeslagen. Je
voert een dergelijke procedure geheel op eigen risico uit. De stappen
die in dit document zijn beschreven, werkte voor de auteur; er
is geen garantie dat ze voor jou ook zullen werken, noch de garantie dat je
ze kunt proberen te volgen zonder ernstige schade aan de programma's en/of
data op je computer. Je bent geheel op jezelf aangewezen bij elk gebruik
dat je maakt van de hierin gepresenteerde informatie, en de auteur
zal niet op energelei wijze aansprakelijk kunnen worden gesteld
voor de schade of het ongemak in wat voor zin dan ook dat je kunt
hebben van het gebruik van dit document.</P
><P
>Dit document is auteursrechtelijk beschermd © 1996, 2000 
Dynamicro Consulting Limited, en wordt uitgegeven onder de voorwaarden
van de GNU General Public Licentie. Dit betekent voornamelijk dat je
het naar wens mag kopi&euml;ren en aanpassen, maar anderen niet kunt
beletten ditzelfde te doen.</P
><P
>Opmerkingen en vragen kunnen naar de auteur worden gestuurd. Vooral welkom
voor gebruik in toekomstige revisies zijn verslagen van succesvolle
upgrades van complexe systemen.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN28"
></A
>Wijzigingen sinds versie 1.1</H2
><P
>  <P
></P
><UL
><LI
><P
>	Naar docbook geconverteerd
      </P
></LI
><LI
><P
>	Wat verouderde informatie gecorrigeerd
      </P
></LI
><LI
><P
>	De historie sectie toegevoegd
      </P
></LI
><LI
><P
>	Toegevoegd Zoltán Hidvégi's suggestie over mtime en ctime.
	Bedankt Zoltán!
      </P
></LI
><LI
><P
>	Toegevoegd sectie Erkenningen
      </P
></LI
></UL
>
 </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN42"
></A
>Introductie</H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN44"
></A
>Hoe je linux box laten sneuvelen en re&iuml;ncarneren!</H3
><P
>Het doel van dit document is tips te bieden als hulp bij het verwijderen
en herinstalleren van een Linux systeem. Het is in geen enkele zin een
onfeilbaar middel, maar ik hoop dat het zal dienen als een indicatie,
waar je aan moet denken, en de volgorde waarin te handelen.
Het zou mij van hulp zijn geweest, als iemand anders
iets dergelijks eerder had geschreven toen ik mijn eerste upgrade
uitvoerde; dus ik hoop het het jou van hulp zal zijn, als je een
linux machine opnieuw wilt opbouwen.</P
><P
>Beschouw het echter niet als heilig. 
Zelfs de namen van directory's in dit document kunnen anders
zijn dan die jij moet gebruiken; een aantal mensen maakt bijvoorbeeld
gebruik van /usr/home in plaats van /home; anderen noemen het /u, en
een aantal plaatst hun gebruikers zelfs onder /usr
zelf! Ik kan niet specificiek zijn over je systeem, dus ik heb de namen
gebruikt zoals ze op mijn systeem voorkomen.
      </P
><P
>Je zult ook bemerken dat ik gebruik maak van Slackware distributies, en
dat ik veronderstel dat je voldoende RAM en harddiskruimte hebt om de
broncode van een linux kernel te installeren en je eigen kernel te
bouwen. Als je systeem er anders uitziet, zullen een aantal van mijn 
aanbevelingen niet van toepassing zijn; maar ik hoop dat je de algemene 
uiteenzetting kunt gebruiken bij het opnieuw opzetten van je systeem.
      </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN49"
></A
>Waarom zou iemand dat willen doen?</H3
><P
>Goede vraag! Doe het niet als het mogelijk te vermijden is! 
(Dat is de allerbelangrijkste aanbeveling in dit document!!!). Toen
deze leidraad voor het eerst werd geschreven, waren er niet veel mensen
met harddisks die groot genoeg waren om twee hele Linux installaties
te herbergen. Tegenwoordig is dat niet meer zo ongewoon.
Bouw je nieuwe systeem in een aparte partitie (of groep partities) 
opnieuw op als je ook maar enigszins kan, waarbij je de oude intact laat
totdat je tevreden bent met de nieuwe precies zoals je het wilt.
Als je het kunt voorkomen om het oude systeem af te breken om ruimte te
maken voor het nieuwe systeem, voorkom dit dan!!
Maar er zijn keren dat je geen keuze hebt.
      </P
><P
>(Deze voorbeelden zijn een beetje gedateerd, maar ze dienen ter illustratie)

      </P
><P
>Toen ik bijvoorbeeld een 4Gb harddisk installeerde bemerkte ik 
dat Slackware 2.0 vintage linux niet wist dat een harddisk een grotere
capaciteit kon hebben dan 2Gb, en raakte het hopeloos in de war.
Dus moest ik upgraden naar de
toen huidige Slackware 2.3. Die upgrade was een harde ervaring, en deels
daarom schrijf ik deze notities op. Ik deed zo ongeveer
alles fout, en alleen goed geluk en het feit dat ik een andere draaiende
Linux box naast me had, voorkwam een ramp.
      </P
><P
>Nog een voorbeeld: ik bemerkte dat het samenstellen van een werkende a.out
linuxkernel in de 1.3 serie met een kant-en-klare Slackware 2.3
installatie me niet lukte
(een andere machine, niet die ik eerder verprutste).
Ik waagde de sprong, kocht Slackware 3.0 op CDROM en converteerde het naar ELF.
Dit keer ging de herinstallatie beter, dankzij de eerdere bittere ervaring,
en het diende als grondlegger voor de meeste idee&uml;n die ik je hier van de
hand doe.
      </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN55"
></A
>Moet je je systeem afbreken om het weer opnieuw op te bouwen?</H3
><P
>Zie hiervoor. Als je het je kunt permitteren je nieuwe systeem samen te stellen
op een disk met lege ruimte, doe dit dan! In de rest van dit document wordt
er echter van uitgegaan dat dit een van die keren is dat die optie niet
beschikbaar is; je moet of ter plaatse bovenop het bestaande systeem
een herinstallatie uitvoeren of je moet de gevolgen onder ogen zien en
je systeem vanaf het begin af aan opnieuw opbouwen.
      </P
><P
>Vreemd genoeg is dat laatste veiliger. Als je bovenop een bestaand linux
systeem een installatie uitvoert, bestaat de kans dat je oude en nieuwe
binaire bestanden, oude en nieuwe configuratiebestanden en gewoonlijk een
rommeltje om te beheren doorelkaar krijgt. Het systeem opschonen
en dan alleen terugzetten wat je nu nodig hebt is drastisch, maar een
effectieve manier om een zuiver resultaat te krijgen. (Uiteraard hebben
we het hier over het installeren van een geheel nieuwe linux distributie,
niet over het upgraden van &eacute;&eacute;n of twee packages! De beste
manier om een volledige herinstallatie te voorkomen is, precies, de
individuele programma's -- vooral gcc en library's, en binutils recent
te houden. Als hetgeen je gebruikt redelijk up-to-date is, en je kunt
dit zo houden, zonodig zo nu en dan door compilatie van nieuwe code, dan
is een massale upgrade niet nodig.)
      </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN59"
></A
>Hoeveel tijd neemt het in beslag?</H3
><P
>Hangt er uiteraard vanaf hoe complex je systeem is. Maar ik schat in
dat ik voor een succesvolle upgrade (dat andere? -- niet aan mij vragen! :)
ongeveer tien uur kwijt was aan het maken van backups, zes uur
aan het weer opbouwen van het systeem tot aan het punt waar ik
logins kon activeren, en nog een halve dag daaromtrent voor het terugzetten 
van de minder kritieke bestanden. Naarmate de tijd verstreek bleef ik
kleine dingen ontdekken die nog steeds niet zo zijn zoals ik ze werkelijk
hebben wil -- ik zal dit corrigeren zodra ik ze tegenkom -- maar 
over het geheel zou twintig uur genoeg moeten zijn voor een redelijk
complexe heropbouw. Misschien minder als je
een herinstallatie vanaf harddisk uitvoert (ik gebruikte een CDROM) of meer
als je vanaf diskettes moet installeren.
Misschien minder als je een snelle Pentium hebt,
meer als het een 386'r is. 't Is maar om je een idee te geven.
      </P
><P
>Dat waren de slechtere tijden. Met de nu snellere disks en snellere
machines en CD-writers gaat het allemaal wat beter. Mijn notebook
werd in december 2002 gestolen en toen er
een nieuwe kwam, was ik na ongeveer zever uur werk klaar en was het vrijwel 
compleet, ondanks dat ik het oude systeem kwijtraakte zonder de kans
te hebben gehad de laatste wijzigingen te bewaren.
      </P
><P
>Tot zover de introductie. Zodra je hebt besloten dat de klus moet
worden geklaard, kun je in dit document lezen hoe je het kunt doen.
Wapen jezelf met vastberadenheid en Jolt of iets dergelijks en:
      </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN64"
></A
>Schrijf alles op wat je doet</H2
><P
>Het is van groot belang dat je bijhoudt wat je hebt gedaan tijdens
het proces waarbij je de voorbereiding en uitvoering van de
omschakeling uitvoert.
Vooral van belang is een lijst met backups die je zult gaan maken
als voorbereiding op de vernietiging van je bestaande systeem.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN67"
></A
>Maak een volledige backup van het bestaande systeem</H2
><P
>Over het algemeen genomen, worden grote backups weggeschreven op media
welke sequentieel toegankelijk is. Je zult deze volledige backup vast
niet willen gebruiken voor het terugzetten van een veelbetekenend aantal
bestanden; het bevat te veel bestanden welke je niet wilt.
Je kunt beter kleine
backups maken van individuele segmenten waarvan je weet dat je ze in
z'n geheel terug gaat zetten. Ik zal hier later veel voorbeelden
van geven.
  </P
><P
>Waarom zou je dan beginnen met een volledige backup? Twee basisredenen:
ten eerste zal in geval van een rampzalig falen bij de installatie
van het nieuwe systeem, er geen enkele manier zijn met minimale moeite
terug te keren naar het aanvangspunt.
Ten tweede, ongeacht hoe zorgvuldig je de nieuwe installatie
voorbereidt, bestaat een zeer grote kans dat &eacute;&eacute;n of
twee belangrijke bestanden over het hoofd zullen worden gezien.
In dat geval zal de onhandigheid bij het herstellen van die &eacute;&eacute;n
of twee bestanden vanaf de volledige backup voorkeur hebben boven het
ongemak van het zonder deze bestanden te moeten doen.
  </P
><P
>Om tijd en ruimte te besparen, zou je alleen van die bestanden een backup
kunnen maken waarvan de mtime of ctime recenter is dan de datum van de
oorspronkelijke installatie, als je het distributiemedium van je
oude linux versie nog hebt.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN72"
></A
>Maak op &eacute;&eacute;n of twee diskettes een backup van /etc
  inclusief subdirectory's</H2
><P
>Dit is het andere uiterste: je gaat deze bestanden niet terugzetten (voor
het overgrote deel in elk geval);
je gaat ze vergelijken met de nieuwe bestanden die worden
aangemaakt tijdens de installatie. Waarom? Omdat in de nieuwe bestanden
gegevens kunnen staan die niet in de oude bestanden stond, of waarbij
de oude gegevens op een andere manier worden uitgedrukt.
Wijzigingen in protocollen, toevoegingen van nieuwe tools, of de
implementatie van nieuwe features in bestaande tools kunnen allen 
wijzigingen in de opmaak van configuratiebestanden en opstartscripts
in de /etc structuur met zich meebrengen, en zeer waarschijnlijk
moet je de oude gegevens in deze bestanden bewerken om de nieuwe
formaten te behouden en voordeel te hebben van de verbeteringen.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN75"
></A
>Maak aparte backups van elke groep bestanden die je wilt behouden.</H2
><P
>Dit is het meest variabele deel van het werk, en het enige wat ik werkelijk kan
doen als hulp is beschrijven hoe ik het op mijn systeem deed, in de hoop
dat het als een grove leidraad zal dienen. Voornamelijk dien je elke
directory te bekijken met daarin:
  </P
><P
>    <P
></P
><UL
><LI
><P
>bestanden die geen onderdeel uitmaken van je standaard linux installatie,
of
	</P
></LI
><LI
><P
>bestanden die echt nieuwer zijn dan de bestanden die je zult installeren
wanneer je de nieuwe linux installatie uitvoert.
	</P
></LI
></UL
>
  </P
><P
>en alleen die bestanden apart houdt die je wilt overbrengen op het nieuwe
systeem.
  </P
><P
>(Een andere mogelijke strategie is een backup te maken van alle bestanden
waarbij de mtime of ctime recenter is dan de dag van de vorige linux
installatie, zoals hiervoor genoemd en die terug te zetten. Als je dat
doet, moet je er rekening mee houden dat de nieuwe linux distributie
wellicht versies bevat van een aantal bestanden die nieuwer zijn dan
die je hebt bewaard.)
  </P
><P
>In mijn geval maakte ik een .tgz bestand op het backupmedium voor alle 
bestanden in
  </P
><P
>    <P
></P
><UL
><LI
><P
>/usr/lib/rn</P
></LI
><LI
><P
>/usr/lib/smail</P
></LI
><LI
><P
>/usr/lib/trn (de rest van /usr/lib wordt opnieuw
      ge&iuml;nstalleerd)</P
></LI
><LI
><P
>/usr/local/src</P
></LI
><LI
><P
>/usr/local/bin</P
></LI
><LI
><P
>/usr/local/lib</P
></LI
><LI
><P
>/usr/local/lpfont</P
></LI
><LI
><P
>/usr/local/man</P
></LI
><LI
><P
>/usr/local/sbin</P
></LI
><LI
><P
>/usr/local/thot (andere /usr/local bestanden had
      ik niet nodig)</P
></LI
><LI
><P
>/usr/openwin</P
></LI
><LI
><P
>/usr/src/lilo-17 (omdat mijn nieuwe Slackware nog steeds
      was voorzien van versie 16)</P
></LI
><LI
><P
>/usr/src/linux-1.2.13 (omdat ik wat aanpassingen had
      gemaakt)</P
></LI
><LI
><P
>/usr/X11R6/lib/X11/app-defaults</P
></LI
><LI
><P
>/usr/X11R6/lib/X11/initrc (de rest van XFree86 werd
      opnieuw ge&iuml;nstalleerd)</P
></LI
><LI
><P
>/var/named</P
></LI
><LI
><P
>/var/openwin</P
></LI
><LI
><P
>/var/texfonts</P
></LI
></UL
>
  </P
><P
>Mijn machine was relatief eenvoudig in die zin dat er geen spoolbestanden
waren om me zorgen om te maken. Ik heb geen newsspool op deze box, en
aangezien er slechts twee gebruikers zijn, was het 't eenvoudigst alle
mail te lezen voordat het systeem zou worden afgesloten. Anders zou
op het laatste moment nog een backup moeten worden gemaakt van de
/var/spool directory's. (en uiteraard ook van de news library en
site directory's!)
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN126"
></A
>Bereid root- en bootdiskettes voor de nieuwe installatie voor</H2
><P
>Met een beetje geluk, is in je nieuwe package een opstartbare CD opgenomen
en is deze stap niet nodig.
Als je geen cd-romstation hebt of er niet van kunt
booten, dan zijn details over het aanmaken van de diskettes te vinden
in de installatiehandleiding van je distributie.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN129"
></A
>Formatteer diskettes voor de tijdelijke kernel en de uiteindelijke
  compilatie.</H2
><P
>Je hebt twee diskettes nodig, &eacute;&eacute; voor elk.
  </P
><P
>Als je hier eenmaal mee klaar bent, is het grote moment aangebroken.
De volgende stap verwijdert het systeem voor productie.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN133"
></A
>Belet logins en maak een backup van /root en /home.</H2
><P
>Dit is het laatste wat op het oude systeem moet gebeuren voordat je het
gaat verwijderen, om de meest bijgewekte gebruikers- en rootinformatie
over te brengen. Om logins te beletten, geef je gewoon de opdracht
"getting ready for upgrade" &#62;/etc/nologin (uiteraard als root).
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN136"
></A
>Boot met de boot- en rootdiskettes van de nieuwe installatie.</H2
><P
>Of als je die mogelijkheid hebt, met de installatie-CD zelf.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN139"
></A
>Verwijder de linux partities met fdisk en maak ze opnieuw aan.</H2
><P
>In de installatiehandleiding zal worden uitgelegd hoe je dit doet. Hiermee
zal het oude systeem worden verwijderd. Van nu af aan ben je afhankelijk van
de kwaliteit van de backups die je in de eerdere stappen hebt gemaakt!
Je bent gewaarschuwd!
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN142"
></A
>Start de nieuwe linux installatie.</H2
><P
>Er zijn reeds verscheidene goede documenten waarin dit wordt beschreven,
dus ga ik hier niet in detail op in. Ga verder met waar het nieuwe systeem
van de harddisk kan booten.
  </P
><P
>Zorg ondertussen ook dat je een diskette hebt waarmee je kunt booten,
aangezien de kernel die de linux setup installeert, moet worden vervangen
en tijdens dat proces ongelukken kunnen gebeuren. Zorg ervoor dat je
de ontwikkelaarspackages en de kernelbroncode installeert.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN146"
></A
>Zet de configuratiegegevens terug in de /etc/directory en
  subdirectory's daarvan.</H2
><P
>Zoals hiervoor beschreven kun je niet zomaar alle oude bestanden in /etc
terugzetten en daarna verwachten dat alles juist werkt.
Met een aantal bestanden kun je dat wel doen; bijvoorbeeld met /etc/XF86Config
(zolang je dezelfde versie van XFree86 gebruikt met dezelfde videohardware
in de nieuwe installatie als in de oude installatie). Voor het overgrote deel
echter kun je het beste diff gebruiken om de oude en nieuwe bestanden
voor het kopi&euml;ren met elkaar te vergelijken. Kijk vooral uit voor
belangrijke wijzigingen in de bestanden in /etc/rc.d en dergelijke, wat
in zou kunnen houden dat je de oude configuratie terug moet brengen door
deze bestanden handmatig te wijzigen, in plaats van het kopi&euml;ren van
de oude rc-scripts vanaf je backup. Start het systeem opnieuw op als je
hiermee klaar bent.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN149"
></A
>Configureer en compileer de linux kernel.</H2
><P
>Zelfs als je dit niet beslist hoeft te doen om een kernel te verkrijgen
die je hardware ondersteunt, is dit het wel waard om het te doen om
een kernel te krijgen die geen massa's drivers bevat voor zaken die
waarmee je machine niet is uitgerust. En nog belangrijker, om een
goed begrip te krijgen van hoe je configuratie-opties van invloed zijn
op het functioneren van je systeem! 
Aangezien linux blijft uitbreiden, is de mogelijkheid voor 
distributieverkopers om een kernel te configureren die voor iedereen voldoet
zeer beperkt geworden. Zie de Kernel HOWTO voor details hoe je dit doet;
het lijkt in eerste instantie gecompliceerd, maar het valt uiteindelijk
wel mee; doe het gewoon stap voor stap.
  </P
><P
>Installeer de gecompileerde kernel eerst op een diskette; zodra je daar
goed mee kunt booten, installeer je het op de harddisk. Start lilo op
als je daar gebruik van maakt en start de computer opnieuw op.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN153"
></A
>Zet de bestanden terug van de backup die je eerder aanmaakte.</H2
><P
>Een aantal binary's moet wellicht opnieuw vanuit de directory's met broncode
worden ge&iuml;nstalleerd; ik moest dit bijvoorbeeld doen met lilo, omdat
mijn versie nieuwer was dan die van de Slackware installatie en ik had
geen moeite gedaan de binary in /sbin te bewaren. Controleer de
teruggezette programma's en bevestig daarvan het bestaan en de juistheid
van configuratiebestanden, library's enzovoort. In een aantal gevallen 
moet je wellicht wat zaken in een specifieke volgorde terugplaatsen;
je hebt toch wel notities gemaakt tijdens de backup? ;-)
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN156"
></A
>Kijk de systeembeveiliging nog eens na.</H2
><P
>Toen ik dit schreef was deze stap van belang, maar niet kritiek;
het Internet was zelfs in 1996 een vriendelijker plaats dan het tegenwoordig
is. Als je vanaf je machine toegang hebt tot het Internet, is deze stap
volkomen noodzakelijk, en er zijn volledige boeken aan gewijd om dit
op orde te krijgen; ik kan hier niets meer doen dan een paar 
basisaanwijzingen bieden:
  </P
><P
>Controleer bestandspermissies en directorypermissies om er zeker van te
zijn dat de toegang ertoe noch te beperkt noch te makkelijk is. Ik vind
dat Slackware neigt naar een meer open omgeving dan ik graag wil, dus
wijzig ik de permissie 755 voor binary's in 711 in de ../bin directory's
en dergelijke. Of zelfs in 700 voor de bestanden in .../sbin.
Speciale aandacht is nodig als je ftp, telnet of webserver hebt
getransporteerd; maar als je die draaide, dan hebt je dat vast reeds
overdacht. :)
  </P
><P
>Kijk in /etc/inetd.conf of /etc/xinetd.conf en zorg dat je geen Internet
services actief hebt die je niet nodig hebt. Doorloop met hetzelfde
doel ook de bootscripts in /etc/rc.d en dergelijke. Controleer je
firewall rules als je box een Internet gateway is of toegang heeft tot
Internet.
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN161"
></A
>Activeer logins.</H2
><P
>Nog even en je bent waarschijnlijk details aan
het opschonen; maar de bulk van het werk is klaar. Veel plezier!
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN164"
></A
>Sorry, maar nogmaals:
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>GEBRUIK DEZE INFORMATIE OP EIGEN RISICO!</I
></SPAN
></H2
><P
>(Zie de disclaimer aan het begin van dit document.)
  </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN168"
></A
>Erkenningen</H2
><P
>Met dank voor de bijdragen aan deze mini-HOWTO aangeboden door
Zoltán Hidvégi; en voor de motivatie mij wat dichter bij de moderne
praktijk te brengen, aan Steve Sanfratello, auteur van de rpmupgrade-HOWTO.
  </P
></DIV
></DIV
></BODY
></HTML
>