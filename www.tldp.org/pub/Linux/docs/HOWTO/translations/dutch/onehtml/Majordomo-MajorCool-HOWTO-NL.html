<HTML
><HEAD
><TITLE
>Majordomo en MajorCool HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>Majordomo en MajorCool HOWTO</H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>John Archie</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:johnarchie@emeraldis.com"
>johnarchie@emeraldis.com</A
>&#62;</TT
></P
></DIV
></DIV
><H3
CLASS="AUTHOR"
><A
NAME="AEN10"
>Vertaald door:Ellen Bokhorst</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:bokkie@nl.linux.org"
>bokkie@nl.linux.org</A
>&#62;</TT
></P
></DIV
></DIV
><P
CLASS="PUBDATE"
>15 November 2000<BR></P
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN18"
></A
><P
></P
><P
>Dit document is bedoeld om een gebruiker bij een installatie van 
Majordomo Mailing List Software en MajorCool te begeleiden. MajorCool is 
een utility voor het beheren van Majordomo lijsten via een CGI-script;
veel mensen die niet bekend zijn met de tekstge&ouml;ri&euml;nteerde
aard van Majordomo geven de voorkeur aan de wat gebruikersvriendelijke
op het web gebaseerde interface van MajorCool.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Inhoudsopgave</B
></DT
><DT
><A
HREF="#AEN20"
>Introductie</A
></DT
><DT
><A
HREF="#AEN63"
>Sendmail</A
></DT
><DT
><A
HREF="#AEN262"
>Majordomo</A
></DT
><DT
><A
HREF="#AEN433"
>MajorCool</A
></DT
><DT
><A
HREF="#AEN487"
>Veel gestelde vragen</A
></DT
><DT
><A
HREF="#AEN525"
>Lijst met termen</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="AEN20"
></A
>Introductie</H2
><P
>Deze HOWTO is in verscheidene secties onderverdeeld. Het deel over Sendmail
bestaat uit een algemene bespreking over Majordomo en hoe Majordomo
aansluit op Sendmail, als ook de diverse manieren waarop Majordomo kan worden
opgezet en de consequenties van dergelijke besluiten. Daarbij afgestoken
bestaat de rest van de HOWTO uit een tutorial die een gebruiker door een
gewoon installatieproces van Majordomo leidt. 
Ik raad je aan eerst het algemene installatieproces, beschreven in de secties
na Sendmail, door te nemen, waarbij zonodig naar de passende delen van de 
Sendmail sectie wordt verwezen
(de van toepassing zijnde secties worden vermeld op de
van toepassing zijnde lokaties). Lees vervolgens het deel over Sendmail
zorgvuldig door en besluit daarna hoe precies je systeem te configureren.
Tenslotte, is in een lijst met termen voorzien voor de wat diepzinniger
termen.</P
><P
>Mochten de offici&euml;le sites voor het downloaden van de software vermeld in
dit document down zijn, dan zijn de tarballs ook te vinden op <A
HREF="http://philosophy.lander.edu/~jarchie/majordomo/"
TARGET="_top"
>mijn website</A
>.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN25"
></A
>Krediet</H3
><P
>Dank gaat uit naar een paar mensen (in alfabetische volgorde) voor hun
hulp van onschatbare waarde.</P
><P
></P
><UL
><LI
><P
>Lee Archie voor het proeflezen</P
></LI
><LI
><P
>James Bruce en Bill Poston voor de kans om mijn eerste permanente machine
met Majordomo op te zetten</P
></LI
><LI
><P
>Joseph D. Sloan voor het lezen van het deel dat gaat over Sendmail en
het geven van behulpzame suggesties</P
></LI
><LI
><P
>Aanvulling van de vertaler: Met dank aan Reggy Ekkebus voor het vertalen
van versie 1.10, dd 10 november 1999 van dit document naar het Nederlands.
Dit document is opnieuw vertaald vanwege de omzetting van linuxdoc naar
DocBook en de uitgave van een nieuwe versie.</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN37"
></A
>Referenties</H3
><P
>Alhoewel ik heb getracht deze HOWTO zo compleet mogelijk te maken, is het
altijd een goed idee meer dan &eacute;&eacute;n bron te bekijken. Hieronder
tref je een lijst aan met de bronnen die ik behulpzaam vond bij het voor
de eerste keer proberen te configureren van Majordomo.</P
><P
>Boeken:</P
><P
></P
><UL
><LI
><P
>Bryan Costales with Eric Allman, <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>sendmail</I
></SPAN
>.  Cambridge: O'Reilly, 1997.</P
></LI
><LI
><P
>Alan Schwartz, <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Managing Mailing Lists</I
></SPAN
>.  Cambridge: O'Reilly, 1998.</P
></LI
></UL
><P
>Vrije bronnen:</P
><P
></P
><UL
><LI
><P
>de documentatie die met Sendmail wordt geleverd, vooral
<TT
CLASS="FILENAME"
>README.cf</TT
></P
></LI
><LI
><P
>de documentatie die met Majordomo wordt geleverd, met name
<TT
CLASS="FILENAME"
>INSTALL</TT
> en <TT
CLASS="FILENAME"
>NEWLIST</TT
></P
></LI
><LI
><P
>het <A
HREF="http://www.hpc.uh.edu/majordomo-users/"
TARGET="_top"
><TT
CLASS="LITERAL"
>Majordomo-Users</TT
></A
> discussielijstarchief.</P
></LI
><LI
><P
>de documentatie die bij MajorCool wordt geleverd.</P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN63"
></A
>Sendmail</H2
><P
>Aangezien Majordomo verantwoordelijk is voor het beheren van E-maillijsten,
is het in belangrijke mate afhankelijk van een MTA zoals Sendmail. 
Er bestaan nog andere MTA's,
zoals Smail en Qmail; echter Sendmail is de oudste en meest algemene.
Deze sectie introduceert de lezer in die gebieden die bruikbaar of nodig
zijn voor de configuratie bij het gebruik van Majordomo.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="SEC-ALIASES"
></A
>Aliassen</H3
><P
>Het aliassenbestand van Sendmail (gewoonlijk <TT
CLASS="FILENAME"
>/etc/aliases</TT
>)
wordt gebruikt voor het maken van aliassen voor E-mailadressen. Zodra
Majordomo is ge&iuml;nstalleerd bijvoorbeeld, komt er in het bestand aliases
gewoonlijk een regel voor als:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>majordomo-owner:	jarchie</PRE
></TD
></TR
></TABLE
>

Deze regel betekent dat alle mail geadresseerd aan 
<TT
CLASS="LITERAL"
>majordomo-owner@host.com</TT
> in werkelijkheid zal worden
gestuurd naar <TT
CLASS="LITERAL"
>jarchie@host.com</TT
>. Het is niet nodig
<TT
CLASS="LITERAL"
>@host.com</TT
> aan <TT
CLASS="LITERAL"
>jarchie</TT
> toe te voegen,
omdat beide gebruikers zich op dezelfde host bevinden. Als het gewenst zou
zijn om het bericht naar een andere gebruiker op een andere host door te
sturen, dan zou men het deel <TT
CLASS="LITERAL"
>@host.com</TT
> moeten toevoegen.</P
><P
>Een ander type regel in het bestand aliases staat toe dat E-mail naar
meerdere adressen opgesomd in een bestand kan worden doorgestuurd:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>testlist:		:include:/usr/local/majordomo-1.94.5/lists/testlist</PRE
></TD
></TR
></TABLE
>

Deze regel geeft aan dat elk bericht gestuurd naar 
<TT
CLASS="LITERAL"
>testlist@host.com</TT
> zal worden doorgestuurd naar alle
adressen die zijn opgesomd in het bestand 
<TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/lists/testlist</TT
>.  
Het bestand <TT
CLASS="FILENAME"
>testlist</TT
> zou er zo uit kunnen zien:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>johnarchie@emeraldis.com
srobirds@yahoo.com
acreswell@geocities.com</PRE
></TD
></TR
></TABLE
>

Majordomo kan door gebruik te maken van deze feature adressen aan een lijst
toevoegen of van een lijst verwijderen. Wanneer een 
<TT
CLASS="LITERAL"
>subscribe</TT
> verzoek wordt verwerkt, wordt het E-mailadres
van de gebruiker toegevoegd aan het bestand <TT
CLASS="FILENAME"
>testlist</TT
>;
wanneer een <TT
CLASS="LITERAL"
>unsubscribe</TT
> verzoek wordt verwerkt, wordt
het E-mailadres van de gebruiker verwijderd uit het bestand 
<TT
CLASS="FILENAME"
>testlist</TT
>.  Men kan tevens adressen handmatig toevoegen
of verwijderen door simpelweg het bestand te bewerken met een teksteditor
zoals <B
CLASS="COMMAND"
>vi</B
>.</P
><P
>Aangezien Majordomo opdrachten moet kunnen verwerken die er via E-mail
naartoe zijn gestuurd, moet Sendmail het Majordomo programma kunnen
uitvoeren en er het bericht aan door kunnen geven. Dit wordt bewerkstelligd
door een ander type regel toe te voegen aan het bestand
<TT
CLASS="FILENAME"
>aliases</TT
>:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>majordomo:		"|/usr/local/majordomo-1.94.5/wrapper majordomo"</PRE
></TD
></TR
></TABLE
>

Het programma <TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/wrapper</TT
> is een
wrapper (SUID <TT
CLASS="LITERAL"
>majordomo</TT
> en SGID <TT
CLASS="LITERAL"
>majordomo</TT
> of <TT
CLASS="LITERAL"
>daemon</TT
> afhankelijk van de configuratie) 
dat het Majordomo programma uitvoert. De aanhalingstekens rondom het tweede
deel van de alias worden gebruikt om Sendmail aan te geven dat dit deel van de
regel uit &eacute;&eacute;n statement bestaat; 
de aanhalingstekens zouden niet nodig zijn als er geen spatie tussen
<TT
CLASS="LITERAL"
>wrapper</TT
> en <TT
CLASS="LITERAL"
>majordomo</TT
> zou staan.  
Het <TT
CLASS="LITERAL"
>|</TT
>-teken staat bekend als een "pipe"; het wordt
gebruikt om Sendmail aan te geven de E-mail aan de wrapper via de 
standaardinvoer naar de wrapper te sturen. 
(Aangezien het enige dat de wrapper hier doet het aanroepen van
<B
CLASS="COMMAND"
>majordomo</B
> is, wordt de E-mail in feite doorgestuurd naar 
Majordomo.)  De wrapper accepteert &eacute;&eacute;n parameter, namelijk
de parameter van het programma dat het verondersteld wordt uit te voeren.
(Parameters na de eerste zullen worden doorgegeven aan het programa dat de
wrapper uitvoert.) 
Om beveiligingsredenen, voert de wrapper alleen programma's uit die zijn
de vinden in de Majordomo directory, 
<TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/</TT
>.  Deze beperking
verhindert een programmeur de wrapper te gebruiken programma's uit
te voeren die geen Majordomo privileges zouden moeten hebben. 

(Bijvoorbeeld, <B
CLASS="COMMAND"
>wrapper /bin/vi</B
> zou een gebruiker toestaan
elk Majordomo configuratiebestand te bewerken.) Wanneer een bericht naar
<TT
CLASS="LITERAL"
>majordomo@host.com</TT
> is gezonden, start Sendmail de wrapper,
die op zijn beurt, <B
CLASS="COMMAND"
>majordomo</B
> opstart, en Sendmail stuurt
het bericht naar het <B
CLASS="COMMAND"
>majordomo</B
> script via de
standaardinvoer.  Majordomo extraheert de opdrachten dan uit het bericht
en reageert dienovereenkomstig.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN103"
></A
>Bewerken van <TT
CLASS="FILENAME"
>sendmail.cf</TT
></H3
><P
>Door zijn geheimzinnige syntax is <TT
CLASS="FILENAME"
>sendmail.cf</TT
> misschien
wel het meest beangstigend van alle configuratiebestanden. Bij de installatie
van <TT
CLASS="LITERAL"
>majordomo</TT
>, is het niet strict noodzakelijk om 
<TT
CLASS="FILENAME"
>sendmail.cf</TT
> te bewerken; echter een paar features zijn
buitengewoon handig. Tenzij belangrijke wijzigingen moeten worden aangebracht 
aan <TT
CLASS="FILENAME"
>sendmail.cf</TT
> (wat Majordomo gelukkig niet vereist), 
is het bewerken van het bestand niet zo moeilijk. Het enige dat nodig is, is
het toevoegen van extra regels aan het bestand.</P
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN111"
></A
>Een ander aliases bestand</H4
><P
>Vaak is het een goed idee om een apart bestand voor de Majordomo aliassen,
zoals <TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/majordomo.aliases</TT
>, aan
te maken.  Dit kan nogal makkelijk worden gedaan door een regel toe te voegen
aan het einde van het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
>

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>OA/usr/local/majordomo-1.94.5/majordomo.aliases</PRE
></TD
></TR
></TABLE
>

Voor een <TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/majordomo.aliases</TT
>, 
moet Sendmail een database (<TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/majordomo.aliases.db</TT
>) kunnen genereren. De makkelijkste manier om dit te
bewerkstelligen is een door Sendmail te overschrijven lege database
aan te maken.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes majordomo-1.94.5]# </TT
><TT
CLASS="USERINPUT"
><B
>touch majordomo.aliases.db</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes majordomo-1.94.5]# </TT
><TT
CLASS="USERINPUT"
><B
>chmod 644 majordomo.aliases.db</B
></TT
></PRE
></TD
></TR
></TABLE
>

Een andere methode hiervoor is het simpelweg aanmaken van het bestand
<TT
CLASS="FILENAME"
>majordomo.aliases</TT
> in de directory 
<TT
CLASS="FILENAME"
>/etc/</TT
>, in plaats van in de homedirectory van
Majordomo.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN126"
></A
>Niet gewenste beveiligingsfeatures van Sendmail</H4
><P
>Voor bepaalde setups, kunnen een aantal beveiligingsmaatregels die
Sendmail gebruikt, de juiste werking van Majordomo verhinderen. Uiteraard
moeten deze beveiligingsfeatures worden uitgezet.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="SEC-SENDTRUST"
></A
>Toevertrouwde gebruikers van sendmail</H4
><P
>Sendmail is zodanig geprogrammeerd dat het mensen moeilijk maakt om
"perfecte" vervalsingen van E-mail te maken. Wanneer een gebruiker bijvoorbeeld
een bericht via SMTP verzendt, wordt het IP bronadres kenmerkend gelogd,
en wanneer een gebruiker een bericht verstuurt door het direct aan Sendmail
te geven en de afzender specificeert middels de opdracht
<B
CLASS="COMMAND"
>sendmail -f</B
>, plaatst sendmail een waarschuwingsmelding
in de header waarin het de gebruiker aangeeft wie de melding echt verzond.
Echter een aantal programma's moet gemaskerd als andere gebruikers berichten 
kunnen versturen en met deze extra beveiligingsregel toegevoegd aan de
header is ergerlijk. Sendmail handelt dit probleem af door middel van
toevertrouwde gebruikers. Voor de juiste werking van het script 
<B
CLASS="COMMAND"
>resend</B
> van Majordomo, moet <TT
CLASS="LITERAL"
>majordomo</TT
>
een toevertrouwde gebruiker van sendmail worden, aangezien het mail van 
andere gebruikers moet herverzenden.</P
><P
>Een manier om Majordomo een toevertrouwde gebruiker te maken is door het
toevoegen van de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>Tmajordomo</PRE
></TD
></TR
></TABLE
>

aan het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="SMRSH"
></A
>Sendmail Restricted Shell</H4
><P
>Als Sendmail gebruik maakt van <B
CLASS="COMMAND"
>smrsh</B
>, dan zijn de enige
programma's die kunnen worden uitgevoerd, die onder de directory 
<TT
CLASS="FILENAME"
>/etc/smrsh/</TT
>. Misschien de beste oplossing om de wrapper
vanuit het bestand <TT
CLASS="FILENAME"
>aliases</TT
> uit te voeren is het
aanmaken van een symbolische link vanuit <TT
CLASS="FILENAME"
>/etc/smrsh/wrapper</TT
> naar <TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/wrapper</TT
>.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes smrsh]# </TT
><TT
CLASS="USERINPUT"
><B
>ln -s /usr/local/majordomo-1.94.5/wrapper wrapper</B
></TT
></PRE
></TD
></TR
></TABLE
>

Een tweede oplossing is het daadwerkelijk verplaatsen van de wrapper naar
de directory <TT
CLASS="FILENAME"
>/etc/smrsh/</TT
>.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes smrsh]# </TT
><TT
CLASS="USERINPUT"
><B
>mv /usr/local/majordomo-1.94.5/wrapper ./</B
></TT
></PRE
></TD
></TR
></TABLE
>

Als de beveiliging niet zo van belang is, dan kan de secure shell worden
gedeactiveerd. Een tamelijk grove methode is het verwijderen van 
<TT
CLASS="FILENAME"
>/usr/sbin/smrsh</TT
> en daarvoor in de plaats kopi&euml;ren of
linken van <TT
CLASS="FILENAME"
>/bin/sh</TT
>.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes sbin]# </TT
><TT
CLASS="USERINPUT"
><B
>rm -f smrsh</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes sbin]# </TT
><TT
CLASS="USERINPUT"
><B
>ln -s /bin/sh smrsh</B
></TT
></PRE
></TD
></TR
></TABLE
>

Een betere (maar moeilijkere) methode is het bewerken van 
<TT
CLASS="FILENAME"
>sendmail.cf</TT
>.  
Wijzig de verwijzing van <TT
CLASS="FILENAME"
>/usr/sbin/smrsh</TT
>

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>Mprog,		P=/usr/sbin/smrsh, F=lsDFMoqeu9, S=10/30, R=20/40, D=$z:/,
		T=X-Unix,
		A=sh -c $u</PRE
></TD
></TR
></TABLE
>

naar <TT
CLASS="FILENAME"
>/bin/sh</TT
>

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>Mprog,		P=/bin/sh, F=lsDFMoqeu9, S=10/30, R=20/40, D=$z:/,
		T=X-Unix,
		A=sh -c $u</PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="GROUP-PERM"
></A
>Schrijfpermissies van de groep</H4
><P
>Als je van plan bent een niet-root gebruiker discussielijsten te laten
toevoegen en beheren, dan zul je het bestand <TT
CLASS="FILENAME"
>majordomo.aliases</TT
> voor de groep schrijfbaar moeten maken.
Om beveiligingsredenen staat Sendmail deze configuratie echter niet toe
(zie <A
HREF="#SENDMAIL-SECURITY"
>paragraaf <I
>Sendmail beveiligingskwesties</I
></A
>).  
Voeg de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>O DontBlameSendmail=GroupWritableAliasFile</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
> om deze beveiligingsfeature
te deactiveren. Ook moet de directory lists schrijfbaar zijn voor de groep om
een lijst toe te kunnen voegen, maar Sendmail zal ook deze setup om
vergelijkbare beveiligingsredenen niet toelaten. Voor het deactiveren van
deze beveiligingsfeature is de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>O DontBlameSendmail=IncludeFileInGroupWritableDirPath</PRE
></TD
></TR
></TABLE
>

nodig in het configuratiebestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
>.</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN174"
></A
>Configureren van <TT
CLASS="FILENAME"
>sendmail.cf</TT
> met behulp van de M4 configuratie</H3
><P
>Voor beheerders die het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
> niet direct
willen bewerken, is het mogelijk gebruik te maken van M4 om het bestand aan
te maken; in deze sectie wordt beschreven hoe de besproken wijzigingen in
de vorige sectie te maken aan het mc bestand in plaats van het cf bestand.</P
><P
>Het doel van de M4 configuratie is te voorzien in een makkelijke manier om
het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
> aan te maken. Het idee erachter
is dat het aangemaakte mc bestand makkelijker is te begrijpen dan het bestand 
<TT
CLASS="FILENAME"
>sendmail.cf</TT
>. Door uitvoering van de preprocessor m4,
wordt een <TT
CLASS="FILENAME"
>sendmail.cf</TT
> bestand gegenereerd:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes etc]# </TT
><TT
CLASS="USERINPUT"
><B
>m4 /etc/sendmail.mc &#62; /etc/sendmail.cf</B
></TT
></PRE
></TD
></TR
></TABLE
>&#13;</P
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN186"
></A
>Een ander aliases bestand aanmaken</H4
><P
>Voeg de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`ALIAS_FILE',`/etc/aliases,/usr/local/majordomo-1.94.5/majordomo.aliases')</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.mc</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN191"
></A
>Van Majordomo een toevertrouwde gebruiker maken</H4
><P
>Voeg de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`confTRUSTED_USERS',`majordomo')</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.mc</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN196"
></A
>Deactiveer de Sendmail Secure Shell</H4
><P
>Verwijder de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>FEATURE(smrsh)</PRE
></TD
></TR
></TABLE
>

uit het bestand <TT
CLASS="FILENAME"
>sendmail.mc</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN201"
></A
>Deactiveren van beveiligingsfeatures</H4
><P
>Voeg voor het deactiveren van de beveiligingscontrole op de schrijfpermissie
van de groep op het aliases bestand de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`confDONT_BLAME_SENDMAIL',`GroupWritableAliasFile')</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.mc</TT
>.</P
><P
>Voeg voor het deactiveren van de beveligingscontrole op de schrijfpermissie
van het pad op de include bestanden de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`confDONT_BLAME_SENDMAIL',`IncludeFileInGroupWritableDirPath')</PRE
></TD
></TR
></TABLE
>

toe. Gebruik voor het deactiveren van beide opties

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`confDONT_BLAME_SENDMAIL',`GroupWritableAliasFile,IncludeFileInGroupWritableDirPath')</PRE
></TD
></TR
></TABLE
>

Het toevoegen van het laatste statement is gelijk aan het schrijven van

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>O DontBlameSendmail=GroupWritableAliasFile,IncludeFileInGroupWritableDirPath</PRE
></TD
></TR
></TABLE
>

in <TT
CLASS="FILENAME"
>sendmail.cf</TT
>, en deze regel is gelijk aan het schrijven
van deze regels op aparte regels:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>O DontBlameSendmail=GroupWritableAliasFile
O DontBlameSendmail=IncludeFileInGroupWritableDirPath</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="SENDMAIL-SECURITY"
></A
>Sendmail beveiligingskwesties</H3
><P
>Beveiliging is omgekeerd evenredig proportioneel met gemak; 
de enige veilige machine
is die door niemand kan worden benaderd. Wanneer een aantal van de
beveiligingsfeatures zijn gedeactiveerd, zal een machine onvermijdelijk minder
veilig worden. Het is echter van belang de basisbeveiligingsrisico's te
begrijpen om vast te stellen of het gemak zwaarder weegt dan mogelijke
beveiligingslekken.</P
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="GROUP-SECURITY"
></A
>Consequenties van onveilige te beschrijven groepen</H4
><P
>Als een gebruiker schrijfpermissies heeft om een aliases bestand te
benaderen, dan zou het een <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>toevertrouwde gebruiker</I
></SPAN
>
moeten zijn. Door het plaatsen van een regel in het aliases bestand
(zoals die wordt gebruikt om <B
CLASS="COMMAND"
>wrapper</B
> uit te voeren) kan
een gebruiker elk programma uitvoeren met de privileges van Sendmail
(<TT
CLASS="LITERAL"
>daemon</TT
> of, in oudere versies, <TT
CLASS="LITERAL"
>root</TT
>).  
Deze ongepaste daad zou mensen toestaan de permissies van bestanden
te verwijderen of wijzigen die toebehoren aan <TT
CLASS="LITERAL"
>daemon</TT
> 
(met behulp van de opdrachten <B
CLASS="COMMAND"
>rm</B
> of <B
CLASS="COMMAND"
>chmod</B
> in het aliases bestand). Tot op zekere hoogte wordt deze mogelijkheid
vermeden door gebruik te maken van <B
CLASS="COMMAND"
>smrsh</B
>; 
men moet echter nog steeds zorgvuldig te werk gaan betreffende de bestanden
die aanwezig zijn in de directory <TT
CLASS="FILENAME"
>/etc/smrsh/</TT
>.</P
><P
>Een andere belangrijke beveiligingskwestie is dat de gebruiker die het bestand
aliases kan benaderen, bestanden kan toevoegen of beschrijven die toebehoren
aan <TT
CLASS="LITERAL"
>daemon</TT
> door gebruik te maken van bestandsomleiding
(een <TT
CLASS="LITERAL"
>&#62;&#62;</TT
> of <TT
CLASS="LITERAL"
>&#62;</TT
> in plaats van
een <TT
CLASS="LITERAL"
>|</TT
>). Evenzo kan ook dit lek worden weerlegd door
een regel toe te voegen aan het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
> 
een beperking opleggend welke bestanden kunnen worden beschreven via het
aliases ebstand. Voeg de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>O SaveFileEnvironment=/pad/naar/veilige/bestanden</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
> of voeg

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`confSAFE_FILE_ENV',`/pad/naar/veilige/bestanden')</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.mc</TT
>.
Echter deze manoevre laat slechts een dunne beveiligingslaag tussen de
gebruiker en <TT
CLASS="LITERAL"
>daemon</TT
> achter. Een veel beter idee zou zijn
om het bestand aliases alleen schrijfbaar te maken voor root en een SUID
root programma aan te maken om de aan Majordomo gerelateerde aliassen 
toe te voegen of te verwijderen.</P
><P
>In het geval van include of .forward bestanden, worden opdrachten of
omleidingen uitgevoerd als de gebruiker die eigenaar is van het bestand.
Als daarom een bestand schrijfbaar is voor de groep, dan kan een deelnemer
van de groep opdrachten uitvoeren als de gebruiker die eigenaar is van
het bestand. Met andere woorden, elke gebruiker in de groep 
<TT
CLASS="LITERAL"
>majordomo</TT
> zou opdrachten als Majordomo uit kunnen
voeren. Echter gezien de <TT
CLASS="LITERAL"
>majordomo</TT
> gebruiker zonder
een shell wordt aangemaakt, zullen opdrachten of omleidingen niet worden
verwerkt in include bestanden met als eigenaar <TT
CLASS="LITERAL"
>majordomo</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN242"
></A
>Consequenties van onveilige voor de groep schrijfbare directorypaden</H4
><P
>Als een gebruiker voor de groep schrijfpermissies heeft op een directory,
bijvoorbeeld <TT
CLASS="FILENAME"
>/etc/</TT
>, dan zou de gebruiker simpelweg 
elk bestand kunnen verplaatsen en daarvoor in de plaats een nieuwe aanmaken. 
Een aanval zou als volgt kunnen verlopen

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[mallory@kes etc]$ </TT
><TT
CLASS="USERINPUT"
><B
>mv aliases ...</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[mallory@kes etc]$ </TT
><TT
CLASS="USERINPUT"
><B
>vi aliases</B
></TT
></PRE
></TD
></TR
></TABLE
>

De gebruiker kan dan zijn eigen aliassen aanmaken! Deze aanval zou echter
kunnen worden verhinderd door de beveiligingscontrole van Sendmail van
onveilige voor de groep schrijfbare paden.
Een dergelijke aanval zou ook zo werken bij include en .forward bestanden
met onveilige paden.</P
><P
>In het geval van Majordomo, heeft de gebruiker in de groep 
<TT
CLASS="LITERAL"
>majordomo</TT
> reeds toegang tot de include bestanden,
dus dit comprimitteert niet echt de beveiliging.  Echter een beheerder 
zou zorgvuldig moeten zien te verhinderen deze onwenselijke onveilige 
groep schrijfbare directorypaden in de toekomst plaats te laten vinden, 
omdat Sendmail hier <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>niet</I
></SPAN
> op zal controleren.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN254"
></A
>De privacy van deelnemers beschermen</H4
><P
>Helaas kunnen geraffineerde spammers discussielijsten uitbreiden met behulp van
de SMTP-opdracht <B
CLASS="COMMAND"
>EXPN</B
>. Om deze reden zouden
beheerders deze feature moeten deactiveren wanneer discusselijsten worden
verleend.  Voeg de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>O PrivacyOptions=noexpn</PRE
></TD
></TR
></TABLE
>

toe aan het bestand <TT
CLASS="FILENAME"
>sendmail.cf</TT
> of

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`confPRIVACY_FLAGS',`noexpn')</PRE
></TD
></TR
></TABLE
>

aan het bestand <TT
CLASS="FILENAME"
>sendmail.mc</TT
>.</P
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN262"
></A
>Majordomo</H2
><P
>Majordomo is natuurlijk het stuk code waar het in dit document om draait;
het bestaat uit een verzameling Perl-scripts met als enige doel het beheren
van discussielijsten.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN265"
></A
>Voorbereiden van de installatie</H3
><P
>Download de met gzip gecomprimeerde broncodedistributie van de laatste versie
van Majordomo vanaf <A
HREF="http://www.greatcircle.com/majordomo/"
TARGET="_top"
>Great Circle Associates</A
> en decomprimeer het

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>tar zxvf majordomo-1.94.5.tar.gz</B
></TT
></PRE
></TD
></TR
></TABLE
>

Hiermee zal een subdirectory worden aangemaakt met alle bestanden die
nodig zijn om Majordomo te installeren; deze directory kan 
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>niet</I
></SPAN
> dezelfde directory zijn waarin Majordomo moet
worden ge&iuml;nstalleerd.</P
><P
>Majordomo moet zodanig worden uitgevoerd onder een specifieke UID en GID 
dat wanneer een van de scripts wordt uitgevoerd, het zal draaien onder
Majordomo's UID. Dus is het nodig een besluit te nemen over onder welke
UID en GID Majordomo zal draaien. Ook moet Majordomo een toevertrouwde
gebruiker van Sendmail zijn (zie <A
HREF="#SEC-SENDTRUST"
>paragraaf <I
>Toevertrouwde gebruikers van sendmail</I
></A
>).</P
><P
>Kijk in de bestanden <TT
CLASS="FILENAME"
>/etc/passwd</TT
> en 
<TT
CLASS="FILENAME"
>/etc/group</TT
> om een nog niet in gebruik genomen UID
en GID te achterhalen. Voor dit voorbeeld werd gekozen voor UID 16 en GID 16.
Je moet een beslissing nemen over de lokatie waar de Majordomo-scripts zullen
voorkomen; in deze HOWTO werd gekozen voor de directory
<TT
CLASS="FILENAME"
>/usr/local/majordomo-1.94.5/</TT
>.
Voeg regels vergelijkbaar met

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>majordomo:x:16:16:Majordomo List Manager:/usr/local/majordomo-1.94.5:</PRE
></TD
></TR
></TABLE
>

toe aan <TT
CLASS="FILENAME"
>/etc/passwd</TT
> als je gebruik maakt van
een shadow password bestand en voeg een van toepassing zijnde regel toe aan
<TT
CLASS="FILENAME"
>/etc/shadow</TT
>.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>majordomo:*:10883:0:88888:7:::</PRE
></TD
></TR
></TABLE
>

Gebruik de andere regels in deze bestanden als een richtlijn voor wat er
precies zou moeten worden toegevoegd. <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Dit zijn slechts de waarden
op mijn systeem.</I
></SPAN
>  Als je geen gebruik maakt van shadow-passwords,
dan is alleen een regel nodig in het bestand <TT
CLASS="FILENAME"
>/etc/passwd</TT
>.</P
><P
>Voeg voor de aanmaak van een Majordomo groep een regel toe vergelijkbaar met

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>majordomo:x:16:jarchie</PRE
></TD
></TR
></TABLE
>

aan het bestand <TT
CLASS="FILENAME"
>/etc/group</TT
>. 
Je gebruikersnaam toevoegen aan het einde van de regel geeft je toegang tot
de Majordomo bestanden die schrijfbaar zijn voor de groep.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN288"
></A
>Bewerken van de installatiebestanden</H3
><P
>De <TT
CLASS="FILENAME"
>Makefile</TT
> bevat alle informatie nodig om Majordomo
te installeren; gewoonlijk moeten regels in de <TT
CLASS="FILENAME"
>Makefile</TT
>
worden bewerkt die verwijzen naar systeemspecifieke instellingen zodat
Majordomo zuiver op je systeem kan worden ge&iuml;nstalleerd.
De meeste standaardinstellingen zijn correct; echter de volgende
instellingen, vrijwel onveranderlijk, moeten per systeem worden gewijzigd.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes majordomo-1.94.5]$ </TT
><TT
CLASS="USERINPUT"
><B
>vi Makefile</B
></TT
></PRE
></TD
></TR
></TABLE
>

De instellingen

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>PERL = /bin/perl
CC = cc
W_HOME = /usr/test/majordomo-$(VERSION)
MAN = $(W_HOME)/man
W_USER = 123
W_GROUP = 45</PRE
></TD
></TR
></TABLE
>

zouden moeten worden gewijzigd in iets meer geschikt voor je systeem.
In mijn setup bijvoorbeeld zijn de waarden gewijzigd in

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>PERL = /usr/bin/perl
CC = gcc
W_HOME = /usr/local/majordomo-1.94.5
MAN = /usr/man
W_USER = 16
W_GROUP = 16</PRE
></TD
></TR
></TABLE
>

Ook moet het bestand <TT
CLASS="FILENAME"
>majordomo.cf</TT
> worden aangemaakt.
Een makkelijke manier om dit bestand aan te maken is door het aangeleverde
bestand <TT
CLASS="FILENAME"
>sample.cf</TT
> te kopi&euml;ren naar 
<TT
CLASS="FILENAME"
>majordomo.cf</TT
> en het te bewerken.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes majordomo-1.94.5]$ </TT
><TT
CLASS="USERINPUT"
><B
>cp sample.cf majordomo.cf</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes majordomo-1.94.5]$ </TT
><TT
CLASS="USERINPUT"
><B
>vi majordomo.cf</B
></TT
></PRE
></TD
></TR
></TABLE
>

Nogmaals, de meeste standaardinstellingen zijn correct, maar de 
volgende regels moeten wellicht voor je systeem worden aangepast van

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>$whereami = "example.com";
$whoami = "Majordomo\@$whereami";
$whoami_owner = "Majordomo-Owner\@$whereami";
     $homedir = "/usr/test/majordomo";
$digest_work_dir = "/usr/local/mail/digest";
$sendmail_command = "/usr/lib/sendmail";</PRE
></TD
></TR
></TABLE
>

in iets meer passend zoals

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>$whereami = "kes.emeraldis.com";
$whoami = "majordomo\@$whereami";
$whoami_owner = "majordomo-owner\@$whereami";
     $homedir = "/usr/local/majordomo-1.94.5";
$digest_work_dir = "/usr/local/majordomo-1.94.5/digest";
$sendmail_command = "/usr/sbin/sendmail";</PRE
></TD
></TR
></TABLE
>

<TT
CLASS="VARNAME"
>$whoami</TT
> en <TT
CLASS="VARNAME"
>$whoami_owner</TT
> 
hoeven voor de werking van Majordomo niet te worden gewijzigd; ik wijzigde
ze omdat ik het intikken van hoofdletters graag wil voorkomen. 
<TT
CLASS="VARNAME"
>$digest_work_dir</TT
> is een tijdelijke
directory waarin de digest bestanden zouden moeten worden geplaatst;
aan deze directory zou moeten worden toegekend de directory waarin je
wilt dat de digests worden opgeslagen.
Maak je niet druk om deze optie als je niet van plan bent om digest lijsten
te gebruiken.  
<TT
CLASS="VARNAME"
>$whereami</TT
>, <TT
CLASS="VARNAME"
>$homedir</TT
>, en 
<TT
CLASS="VARNAME"
>$sendmail_command</TT
> zouden moeten worden
gewijzigd in de van toepassing zijnde waarden voor je systeem.
In tegenstelling tot de <TT
CLASS="FILENAME"
>Makefile</TT
>, kunnen deze opties
altijd worden gewijzigd nadat Majordomo is ge&iuml;nstalleerd door het 
bewerken van <TT
CLASS="FILENAME"
>majordomo.cf</TT
> in de directory waarin
Majordomo werd ge&iuml;nstalleerd.
(Het configuratiebestand wordt simpelweg gekopieerd tijdens de setup.)</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN316"
></A
>Majordomo installeren</H3
><P
>De volgende stap bestaat uit het compileren van de Majordomo wrapper.
De wrapper is de enige Majordomo component die moet worden gecompileerd,
omdat al het andere bestaat uit een verzameling perl-scripts en daarom
niet wordt gecompileerd.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes majordomo-1.94.5]$ </TT
><TT
CLASS="USERINPUT"
><B
>make wrapper</B
></TT
></PRE
></TD
></TR
></TABLE
>

Geef voor de installatie van de Majordomo bestanden de opdrachten:

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes majordomo-1.94.5]# </TT
><TT
CLASS="USERINPUT"
><B
>make install</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes majordomo-1.94.5]# </TT
><TT
CLASS="USERINPUT"
><B
>make install-wrapper</B
></TT
></PRE
></TD
></TR
></TABLE
>

De eerste opdracht kan als de Majordomo gebruiker (in de veronderstelling
dat <TT
CLASS="LITERAL"
>majordomo</TT
> <TT
CLASS="VARNAME"
>$home_dir</TT
> kan aanmaken
of hier toegang toe heeft), maar de tweede opdracht moet worden gegeven
als <TT
CLASS="LITERAL"
>root</TT
> zodat het installatiescript kan SUID root de 
Majordomo wrapper. (Aangezien, <TT
CLASS="LITERAL"
>majordomo</TT
> werd aangemaakt
zonder loginshell of wachtwoord, zul je als root de opdracht
<B
CLASS="COMMAND"
>su majordomo</B
> moeten geven om <TT
CLASS="LITERAL"
>majordomo</TT
>
te worden als je de eerste opdracht als <TT
CLASS="LITERAL"
>majordomo</TT
> uit wilt
voeren.)</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN334"
></A
>Aanmaken van de Majordomo aliassen</H3
><P
>Sendmail aliassen moeten voor Majordomo worden aangemaakt zodat opdrachten
verzonden naar Majordomo kunnen worden verwerkt door 
<B
CLASS="COMMAND"
>majordomo</B
>, en een alias voor de eigenaar van Majordomo
moet worden aangemaakt, zodat mensen je kunnen mailen via het standaardadres
<TT
CLASS="LITERAL"
>owner-majordomo</TT
>.  Voeg de volgende regels toe aan het
bestand aliases (zie <A
HREF="#SEC-ALIASES"
>paragraaf <I
>Aliassen</I
></A
>).

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>majordomo:       "|/usr/local/majordomo-1.94.5/wrapper majordomo"
owner-majordomo: jarchie
majordomo-owner: jarchie</PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN341"
></A
>Testen van de configuratie</H3
><P
>Start als reguliere gebruiker (<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>niet</I
></SPAN
> als <TT
CLASS="LITERAL"
>majordomo</TT
> <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>of</I
></SPAN
> als <TT
CLASS="LITERAL"
>root</TT
>)

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>/usr/local/majordomo-1.94.5/wrapper config-test</B
></TT
></PRE
></TD
></TR
></TABLE
>

Dit programma kan de meeste problemen in de Majordomo installatie detecteren.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN351"
></A
>Lijsten aanmaken</H3
><P
>Voor het aanmaken van een lijst, maak je een bestand aan met de naam
van de lijst in de Majordomo-directory lists. Voor bijvoorbeeld het 
aanmaken van een lijst met de naam test, maak je als Majordomo een bestand
test aan

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes /]# </TT
><TT
CLASS="USERINPUT"
><B
>su majordomo</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[majordomo@kes /]$ </TT
><TT
CLASS="USERINPUT"
><B
>touch /usr/local/majordomo-1.94.5/lists/test</B
></TT
></PRE
></TD
></TR
></TABLE
>

en voeg de gerelateerde aliassen toe

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>test:	       :include:/usr/local/majordomo-1.94.5/lists/test
owner-test:    jarchie
test-request:  "|/usr/local/majordomo-1.94.5/wrapper request-answer test"
test-approval: jarchie</PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN360"
></A
>Verder testen van de configuratie</H3
><P
>Test nu de werking van de lijst door een <B
CLASS="COMMAND"
>lists</B
> opdracht
aan Majordomo uit te voeren.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>echo lists | mail majordomo</B
></TT
></PRE
></TD
></TR
></TABLE
>

Het zou slechts een seconde moeten duren eer <B
CLASS="COMMAND"
>majordomo</B
> 
antwoordt met een bericht waarin alle lijsten die thans zijn opgesteld zijn
opgesomd. Probeer vervolgens de opdracht <B
CLASS="COMMAND"
>help</B
> uit te
voeren.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>echo help | mail majordomo</B
></TT
></PRE
></TD
></TR
></TABLE
>

Majordomo zou moeten reageren met een lijst met alle opdrachten die
Majordomo accepteert. Het is wellicht een goed idee om het bericht voor
toekomstige referenties te bewaren.</P
><P
>Probeer jezelf in- en uit te schrijven op de lijst om te achterhalen of
de aliassen correct werken.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>echo subscribe test | mail majordomo</B
></TT
></PRE
></TD
></TR
></TABLE
>

Je zult een E-mailbericht ontvangen met instructies hoe je de aanmelding
kunt bevestigen als ook een melding bevestigend dat je opdracht succesvol was.
Na het terugsturen van je bevestiging, zou Majordomo twee meldingen terug
moeten sturen, &eacute;&eacute;n melding waarin staat dat je aanmeldingsverzoek
succesvol was en een andere melding die je welkom heet op de lijst test.
Aan de eigenaar van de lijst zal ook een bericht worden gezonden waarin staat
aangegeven dat je je hebt aangemeld op de lijst.</P
><P
>Stuur de opdracht <B
CLASS="COMMAND"
>unsubscribe</B
> om je uit te schrijven
van een lijst

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>echo unsubscribe test | mail majordomo</B
></TT
></PRE
></TD
></TR
></TABLE
>

Je zou een melding terug moeten krijgen waarin staat dat je opdracht
succesvol was.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN381"
></A
>Betere aliassen aanmaken</H3
><P
>Bij een aantal lijsten kan het wenselijk zijn om Majordomo de berichten te
laten verwerken, voordat ze de lijst bereiken.  
Majordomo heeft bijvoorbeeld een <B
CLASS="COMMAND"
>resend</B
> script om
berichten gebaseerd op inhoud (zoals woorden die taboe zijn) automatisch
te filteren om te voorkomen dat mensen Majordomo opdrachten naar de lijst
sturen, en nog andere features. Voor het gebruik van deze opties is het nodig
een betere set aliassen te gebruiken, zoals

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>test:        "|/usr/local/majordomo-1.94.5/wrapper resend -l test test-list"
test-list:   :include:/usr/local/majordomo-1.94.5/lists/test
owner-test:  jarchie
test-owner:  jarchie
test-request:  "|/usr/local/majordomo-1.94.5/wrapper majordomo -l test"</PRE
></TD
></TR
></TABLE
>

De laatste regel maakt het iemand mogelijk om simpelweg een bericht te sturen
naar <TT
CLASS="LITERAL"
>test-request@kes.emeraldis.com</TT
> met de tekst 
<TT
CLASS="LITERAL"
>subscribe</TT
> in plaats van het versturen van een bericht naar
<TT
CLASS="LITERAL"
>majordomo@kes.emeraldis.com</TT
> met de tekst 
<TT
CLASS="LITERAL"
>subscribe test</TT
>.  Als sendmail gebruik maakt van smrsh,
dan zou de bovenstaande aliases verwijzen naar de kopie van de wrapper in
het veilige pad, gewoonlijk <TT
CLASS="FILENAME"
>/etc/smrsh/wrapper</TT
>.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN391"
></A
>Fouten opsporen</H3
><P
>Het gebeurt regelmatig dat de permissies van Majordomo niet correct worden
ingesteld wat veroorzaakt dat Majordomo niet naar behoren werkt.
Gelukkig geven Sendmail en Majordomo kenmerkend fatsoenlijke foutmeldingen
die een probleem aanduiden. De directory <TT
CLASS="FILENAME"
>lists</TT
> 
bijvoorbeeld moet uitvoerbaar zijn voor de gebruiker sendmail setuids naar,
typisch <TT
CLASS="LITERAL"
>mail</TT
> of <TT
CLASS="LITERAL"
>daemon</TT
>.  
Als <B
CLASS="COMMAND"
>sendmail</B
> <TT
CLASS="FILENAME"
>lists</TT
> niet kan uitvoeren,
dan moeten de permissies wat minder strict zijn.
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>chmod +x /usr/local/majordomo-1.94.5/lists</B
></TT
></PRE
></TD
></TR
></TABLE
>
Een ander gebruikelijk probleem wordt veroorzaakt doordat de directory
<TT
CLASS="FILENAME"
>lists</TT
> schrijfbaar is door de groep. 
Als oplossing van dit probleem kan men de schrijfbare bit van de groep
verwijderen of de sendmailoptie 
<TT
CLASS="LITERAL"
>IncludeFileInGroupWritableDirPath</TT
> gebruiken (zie <A
HREF="#GROUP-PERM"
>paragraaf <I
>Schrijfpermissies van de groep</I
></A
> en <A
HREF="#GROUP-SECURITY"
>paragraaf <I
>Consequenties van onveilige te beschrijven groepen</I
></A
> voor meer details).</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN406"
></A
>Majordomo beveiligingskwesties</H3
><P
>Majordomo is bedoeld te worden uitgevoerd op een ge&iuml;soleerd systeem;
er bestaan een paar welbekende beveiligingslekken in de scripts waarmee elke
lokale gebruiker <B
CLASS="COMMAND"
>wrapper</B
> kan draaien om code als
de gebruiker <TT
CLASS="LITERAL"
>majordomo</TT
> uit te voeren.  
Als Majordomo op een systeem moet worden uitgevoerd die voorziet in
gebruikers met toegang tot een shell, dan is het aan te raden de permissies
op de wrapper te verscherpen. Dit kan worden bewerkstelligd door de
uitvoerbare bit voor alle overige gebruikers te verwijderen en
de groep van de wrapper met <B
CLASS="COMMAND"
>chgrp</B
> te wijzigen in
de gebruiker die de Majordomo-scripts moet uitvoeren. Als bijvoorbeeld
Sendmail en MajorCool beiden worden gebruikt om de wrapper uit te voeren,
gebruik dan de opdrachten

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>cp /usr/local/majordomo-1.94.5/wrapper /etc/smrsh/wrapper</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>chmod 4750 /usr/local/majordomo-1.94.5/wrapper</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>chown root:nobody /usr/local/majordomo-1.94.5/wrapper</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>chmod 4750 /etc/smrsh/wrapper</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>chown root:mail /etc/smrsh/wrapper</B
></TT
></PRE
></TD
></TR
></TABLE
>
om het systeem te beveiligen. Dit laat toe dat <B
CLASS="COMMAND"
>sendmail</B
> 
(onderwijl onder <TT
CLASS="LITERAL"
>mail</TT
> draaiend) <B
CLASS="COMMAND"
>/etc/smrsh/wrapper</B
> uit te voeren terwijl het toestaat dat de webserver's MajorCool (draaiend onder <TT
CLASS="LITERAL"
>nobody</TT
>) <B
CLASS="COMMAND"
>/usr/local/majordomo-1.94.5/wrapper</B
> uitvoert. Deze oplossing zal echter toestaan dat iedereen met het UID
of GID <TT
CLASS="LITERAL"
>mail</TT
> of <TT
CLASS="LITERAL"
>nobody</TT
> ook toegang tot
het <TT
CLASS="LITERAL"
>majordomo</TT
> account kan verkrijgen.  
Ter bescherming van het <TT
CLASS="LITERAL"
>nobody</TT
> account, is het van belang
normale gebruikers niet toe te staan gebruik te laten maken van serversite
includes of cgi-scripts, tenzij die services niet onder
<TT
CLASS="LITERAL"
>nobody</TT
> draaien.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN433"
></A
>MajorCool</H2
><P
>MajorCool is een web-gebaseerde interface naar Majordomo waarmee gebruikers
zichzelf kunnen toevoegen aan lijsten en kunnen verwijderen van lijsten en
lijsten kunnen beheren waarvan ze eigenaar zijn. De installatie is
tamelijk recht-door-zee; het enige dat hoeft te worden gedaan is het uitpakken
van de bestanden, het bewerken van een regel in het 
<B
CLASS="COMMAND"
>Configure</B
> script, en het uitvoeren van het script.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN437"
></A
>MajorCool extraheren</H3
><P
>De laatste bestanden kunnen worden gedownload van 
<A
HREF="http://www.conveyanced.com/MajorCool/"
TARGET="_top"
>Conveyance Digital</A
>.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>mkdir majorcool</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>mv majorcool.tar.gz ./majorcool/</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>cd majorcool/</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes majorcool]$ </TT
><TT
CLASS="USERINPUT"
><B
>tar zxvf majorcool.tar.gz</B
></TT
></PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN450"
></A
>Bewerk het <B
CLASS="COMMAND"
>Configure</B
> Script</H3
><P
>Open <B
CLASS="COMMAND"
>Configure</B
> en

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes majorcool]$ </TT
><TT
CLASS="USERINPUT"
><B
>vi Configure</B
></TT
></PRE
></TD
></TR
></TABLE
>

wijzig de regel

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>PERLBIN="/usr/local/bin/perl"	# Hoe een perlscript te starten</PRE
></TD
></TR
></TABLE
>

in de juiste lokatie van <B
CLASS="COMMAND"
>perl</B
>

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>PERLBIN="/usr/bin/perl"		# Hoe een perlscript te starten</PRE
></TD
></TR
></TABLE
>

anders zal MajorCool niet juist worden ge&iuml;nstalleerd.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN461"
></A
>MajorCool installeren</H3
><P
>Tijdens de uitvoering van het <B
CLASS="COMMAND"
>Configure</B
> script, zal het
simpelweg indrukken van de Enter-toets de standaardwaarde accepteren als
de standaardkeuze voor een optie akkoord is.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes majorcool]# </TT
><TT
CLASS="USERINPUT"
><B
>./Configure</B
></TT
></PRE
></TD
></TR
></TABLE
>

Het <B
CLASS="COMMAND"
>Configure</B
> script zal je vragen een paar maal op de
Enter-toets te drukken, en dan zal het vragen om de lokatie van Majordomo
en nog wat vragen stellen over de setup van je Webserver.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>What is the installation directory of Majordomo?
	[]: </TT
><TT
CLASS="USERINPUT"
><B
>/usr/local/majordomo-1.94.5</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>Will place the MajorCool programs in /usr/local/majordomo-1.94.5.
 
What is the path to your Majordomo configuration file?
	[/usr/local/majordomo-1.94.5/majordomo.cf]: 
Using configuration file name '/usr/local/majordomo-1.94.5/majordomo.cf'
 
Where would you like temp files created when MajorCool runs?
	[/tmp]: 

MajorCool needs to install CGI programs, support files, and icons in
your Web server directories.
 
What is the root directory for your Web server?
	[]: </TT
><TT
CLASS="USERINPUT"
><B
>/var/www</B
></TT
>

<TT
CLASS="COMPUTEROUTPUT"
>Where is the cgi-bin directory for your Web server?
	[/var/www/cgi-bin]: 
Will place the programs in /var/www/cgi-bin.
 
What is your server's URL for '/var/www/cgi-bin'?
	[/cgi-bin]: 
 
Where is the image directory for your Web server?
	[/var/www/icons]: 
Will place the icons in /var/www/icons.
 
What is your server's URL for '/var/www/icons'?
	[/images]: </TT
><TT
CLASS="USERINPUT"
><B
>/icons</B
></TT
>

<TT
CLASS="COMPUTEROUTPUT"
>Where is the root directory for documents on your Web server?
	[]: </TT
><TT
CLASS="USERINPUT"
><B
>/var/www/html</B
></TT
></PRE
></TD
></TR
></TABLE
>

Het <B
CLASS="COMMAND"
>Configure</B
> script zal nog andere vragen stellen die
minder kritiek zijn. (De standaardwaarden zijn prima, maar wellicht dat je
een paar instellingen naar eigen voorkeuren wilt wijzigen. In tegenstelling
tot een aantal Webserver vragen, zou de betekenis moeten blijken uit de
context.) Wanneer het configuratiebestand dat het script genereerde uit je
antwoorden wordt weergegeven, zou je de nieuwe versie moeten accepteren.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>Accept the new version? [yes|no|list|edit|diff]? </TT
><TT
CLASS="USERINPUT"
><B
>y</B
></TT
></PRE
></TD
></TR
></TABLE
>

Het installatiescript zal de MajorCool bestanden installeren en het
<B
CLASS="COMMAND"
>majordomo</B
> cgi-script uitvoeren die als uitvoer het
html-bestand naar de console geeft. Bekijk het cgi-script
<B
CLASS="COMMAND"
>majordomo</B
> vanaf het web ter controle of de installatie 
werkte.

<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[jarchie@kes jarchie]$ </TT
><TT
CLASS="USERINPUT"
><B
>lynx http://localhost/cgi-bin/majordomo</B
></TT
></PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN487"
></A
>Veel gestelde vragen</H2
><P
>Twee vragen die vaak worden gesteld.</P
><DIV
CLASS="QANDASET"
><DL
><DT
>1. <A
HREF="#AEN492"
>Waarom geeft sendmail de foutmelding, <TT
CLASS="LITERAL"
>sh: wrapper not available for sendmail programs</TT
>?</A
></DT
><DT
>2. <A
HREF="#AEN500"
>Waarom zal RedHat mijn mc bestand niet verwerken?</A
></DT
></DL
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN492"
></A
><B
>1. </B
>Waarom geeft sendmail de foutmelding, <TT
CLASS="LITERAL"
>sh: wrapper not available for sendmail programs</TT
>?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
> </B
><B
CLASS="COMMAND"
>smrsh</B
> zal alleen bepaalde bestanden uit laten voeren door
sendmail. Zie <A
HREF="#SMRSH"
>paragraaf <I
>Sendmail Restricted Shell</I
></A
>.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN500"
></A
><B
>2. </B
>Waarom zal RedHat mijn mc bestand niet verwerken?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
> </B
>Om de een of andere reden neemt RedHat de benodigde bestanden om mc bestanden
te verwerken niet op. Overeenkomstig 
<TT
CLASS="FILENAME"
>/etc/mail/sendmail.mc</TT
>, zouden deze bestanden in het
package <TT
CLASS="LITERAL"
>sendmail-cf</TT
> moeten zitten; ik slaagde er echter
niet in dit package op de CD te vinden. Installeer ter correctie van dit
probleem RedHat's sendmail SRPM, decomprimeer de sendmail tarball en 
kopieer de benodigde macrobestanden.
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>rpm -i sendmail-8.11.0-8.src.rpm</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes root]# </TT
><TT
CLASS="USERINPUT"
><B
>cd /usr/src/redhat/SOURCES/</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes SOURCES]# </TT
><TT
CLASS="USERINPUT"
><B
>tar zxvf sendmail-8.11.0.tar.gz</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes SOURCES]# </TT
><TT
CLASS="USERINPUT"
><B
>cd sendmail-8.11.0</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes sendmail-8.11.0]# </TT
><TT
CLASS="USERINPUT"
><B
>cp -R cf /usr/lib/sendmail-cf</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes sendmail-8.11.0]# </TT
><TT
CLASS="USERINPUT"
><B
>cd ..</B
></TT
>
<TT
CLASS="COMPUTEROUTPUT"
>[root@kes SOURCES]# </TT
><TT
CLASS="USERINPUT"
><B
>rm -rf sendmail-8.11.0</B
></TT
></PRE
></TD
></TR
></TABLE
>
Bovendien bestaat in het standaardbestand 
<TT
CLASS="FILENAME"
>/etc/mail/sendmail.mc</TT
>, een kleine syntaxfout.
(Het beginnende enkele aanhalingstekens op een regel staat andersom.)
De regel
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define('ALIAS_FILE','/etc/aliases')dnl</PRE
></TD
></TR
></TABLE
>
zou moeten worden gewijzigd in
<TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define(`ALIAS_FILE',`/etc/aliases')dnl</PRE
></TD
></TR
></TABLE
>
Na deze wijzigingen zou het nieuwe <TT
CLASS="FILENAME"
>sendmail.cf</TT
> moeten
worden gegenereerd.</P
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="GLOSSARY"
><H1
><A
NAME="AEN525"
></A
>Lijst met termen</H1
><DL
><DT
><A
NAME="DEF-DIGEST"
></A
><B
>digest</B
></DT
><DD
><P
>een verzameling nieuwe berichten als &eacute;&eacute;n bericht gemaild naar 
de deelnemers van een archieflijst.
Een lijst wordt `digested' genoemd, wanneer het wordt gearchiveerd en periodiek
een digest wordt uitgezonden.</P
></DD
><DT
><A
NAME="DEF-GID"
></A
><B
>Group ID</B
></DT
> (GID)<DD
><P
>een identificatienummer toegekend aan bestanden, directory's en verwerkt
om de toegang te beperken, vergelijkbaar met UID, behalve dat meerdere mensen
deelnemer kunnen zijn van een groep. Op Unix type systemen, kunnen groepen 
worden opgezet (gedefinieerd in het bestand
<TT
CLASS="FILENAME"
>/etc/group</TT
>).  Wanneer een gebruikersnaam deelnemer
is van een groep, kan zij bestanden benaderen aangemaakt met dat
GID (in de veronderstelling dat de permissies 't toelaten).</P
></DD
><DT
><A
NAME="DEF-MTA"
></A
><B
>Mail Transfer Agent</B
></DT
> (MTA)<DD
><P
>een programma zoals Sendmail, verantwoordelijk voor het doorgeven van mail
van de ene naar de andere lokatie.</P
></DD
><DT
><A
NAME="DEF-SGID"
></A
><B
>Set Group ID</B
></DT
> (SGID)<DD
><P
>een bestandskenmerk die een programma toestaat het uit te voeren met specifieke
groepsprivileges ongeacht wie het uitvoert.</P
></DD
><DT
><A
NAME="DEF-SMRSH"
></A
><B
><B
CLASS="COMMAND"
>smrsh</B
></B
></DT
><DD
><P
>(SendMail Restricted SHell) de shell die Sendmail gebruikt om programma's
uit te voeren. <B
CLASS="COMMAND"
>smrsh</B
> plaatst beperkingen op de programma's
die kunnen worden uitgevoerd om het veiliger te maken dan een reguliere shell,
zoals de Bourne Shell.</P
></DD
><DT
><A
NAME="DEF-SUID"
></A
><B
>Set User ID</B
></DT
> (SUID)<DD
><P
>een bestandskenmerk die een programma toelaat het als een specifieke gebruiker
uit te voeren ongeacht wie het uitvoert.</P
></DD
><DT
><A
NAME="DEF-UID"
></A
><B
>User ID</B
></DT
> (UID)<DD
><P
>een identificatienummer toegekend aan bestanden, directory's en processen,
vergelijkbaar met GID behalve dat elke gebruiker een uniek UID heeft.
Elk proces moet onder een UID worden uitgevoerd (de &eacute;&eacute;n-op-&eacute;&eacute;n relatie tussen de UID en de gebruikersnaam is gedefinieerd in
<TT
CLASS="FILENAME"
>/etc/passwd</TT
>). Het UID van het proces bepaalt wat het
proces kan benaderen. Over het algemeen kan een reguliere gebruiker
de permissies op bestanden wijzigen waarvan ze eigenaar is, tenzij de
UID gelijk is aan 0 (de <TT
CLASS="LITERAL"
>root</TT
> gebruiker).  
In dat geval kan alleen <TT
CLASS="LITERAL"
>root</TT
> bestanden op 
het systeem aanpassen.</P
></DD
><DT
><A
NAME="DEF-WRAPPER"
></A
><B
>wrapper</B
></DT
><DD
><P
>een programma dat wordt gebruikt om een ander programma op te starten;
gewoonlijk is een wrapper SUID of SGID zodat het privileges kan schenken
aan een ander programma die het andere programma normaal gesproken niet
zou hebben.</P
></DD
></DL
></DIV
></DIV
></BODY
></HTML
>