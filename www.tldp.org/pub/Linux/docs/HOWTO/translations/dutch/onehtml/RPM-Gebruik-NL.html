<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>RPM-Gebruik</TITLE>


</HEAD>
<BODY>
<H1>RPM-Gebruik</H1>

<H2>
<A HREF="http://people.zeelandnet.nl/reggye/">Reggy Ekkebus</A>, 
<A HREF="mailto:reggy@zeelandnet.nl">reggy@zeelandnet.nl</A><BR></H2>v0.1, 22 januari 2000
<P><HR>
<EM> Dit document beschrijft hoe je met RPM programma's installeert,
un&iuml;nstalleert en informatie opvraagt. </EM>
<HR>
<H2><A NAME="s1">1. Introductie</A></H2>

<P>Het belangrijkste doel van dit document is dat mensen RPM snel
leren kennen en gebruiken.
<H2>1.1  Nieuwe versies van dit document</H2>

<P>Nieuwe versies van dit document zullen te vinden zijn tussen de
Nederlandse howto's op 
<A HREF="http://www.nl.linux.org/doc/HOWTO/">http://www.nl.linux.org/doc/HOWTO/</A>.
<H2>1.2  Feedback</H2>

<P>Ik verwelkom beslist elke feedback over deze RPM-Gebruik-Mini Howto.
Het zou leuk zijn als je een mailtje stuurde als je kritiek hebt,
suggesties, verbeteringen, etc.
Ik hoop dat ik mensen kan helpen met deze Mini Howto
en als ik dat deed stuur me dan een mailtje
<P><CODE>
<A HREF="mailto:reggy@zeelandnet.nl">reggy@zeelandnet.nl</A></CODE>
<H2>1.3  Standaard Disclaimer</H2>

<P>Er kan geen aansprakelijkheid voor de inhoud van dit document worden
geaccepteerd. Alles mag gebruikt worden, maar op eigen risico.
Ik neem hiervoor geen verantwoordelijkheid.
<H2>1.4  Copyright Informatie</H2>

<P>Dit document valt onder het copyright (c)2000 Reggy Ekkebus en
wordt onder de volgende voorwaarden gedistribueerd:
<P>Dit document mag geheel of gedeeltelijk worden gedistributeerd
en gereproduceerd, via elektronisch of fysiek medium.
Zolang de copyright vermelding op alle kopie&euml;n behouden blijft.
Voor vragen mail:
<CODE>
<A HREF="mailto:reggy@zeelandnet.nl">reggy@zeelandnet.nl</A></CODE>
<H2><A NAME="s2">2.  Wat is RPM</A></H2>

<P>RedHat Package Manager (RPM) is een open packaging systeem bruikbaar
voor iedereen, en werkt op 
<A HREF="http://www.redhat.com">Red Hat</A> Linux systemen, maar ook op andere Linux systemen bv Suse, Mandrake, etc
voor rpm gebruik met slackware zie: 
<A HREF="http://www.nl.linux.org/doc/HOWTO/RPM+Slackware-NL.html#toc1">RPM+Slackware Mini-Howto</A>. RPM kan ook op andere Unix systemen zoals
Tru64 Unix, AIX, Solaris en SunOS gebruikt worden. Met RPM kun je software met
de extensie .rpm erachter installeren, unistalleren, verificeren, zoeken en
zelf RPMS maken maar dit onderdeel wordt in dit document  niet verder
besproken. 
<H2><A NAME="s3">3.  De thuis basis van RPM</A></H2>

<P>Bij de meeste distibuties wordt RPM standaard geinstalleerd en kun je hier
<A HREF="http://www.rpm.org">rpm.org</A> eventueel de nieuwste versie
ophalen.
<P>Tijdens het schrijven van deze Mini-Howto was de laatste versie
<P>
<BLOCKQUOTE>
<B>rpm-3.0.3.tar.gz of  rpm-3.0.3-6x.i386.rpm</B>
</BLOCKQUOTE>
<P>
<H2><A NAME="s4">4. Het Installeren, Upgraden en Un-installeren van software</A></H2>

<H2>4.1 Software Installeren</H2>

<P>
<P>Om software met RPM te installeren heb je om te beginnen software (packages)
nodig die de .rpm extensie heeft. Deze zijn vooral te vinden op 
<A HREF="http://rpmfind.net/">rpmfind.net</A><P>
<UL>
<LI>De simpelste manier om software (packages) te installeren is:</LI>
</UL>
<P>
<BLOCKQUOTE>
<B># rpm -i foo-1.2-3.i386.rpm</B>
</BLOCKQUOTE>
 
<P>
<UL>
<LI>Als je het verloop van de installatie wilt zien gebruik dan:</LI>
</UL>
<P>
<BLOCKQUOTE>
<B># rpm -ivh  foo-1.2-3.i386.rpm</B>
</BLOCKQUOTE>
 
<BLOCKQUOTE><CODE>
<PRE>
  
foo                      ##################################################
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Ook kan het zijn dat de software (package) al is geinstalleerd, je krijgt
dan: </LI>
</UL>
<P>
<BLOCKQUOTE>
<B># rpm -ivh  foo-1.2-3.i386.rpm</B>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE><CODE>
<PRE>
package foo-1.2-3 is already installed
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Indien er problemen zijn met dependies, wordt dit gemeld, en dien je de
bewuste software (packages) ook te installeren. </LI>
</UL>

<BLOCKQUOTE>
<B># rpm -ivh bar-1.2.3.i386.rpm</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
error: failed dependencies:
        foo is needed by bar-1.2.3
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Om de problemen met dependies te negeren kun je de --nodeps optie
meegeven:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -ivh bar-1.2.3.i386.rpm --nodeps</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
bar                      ##################################################
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Je kan ook rechtstreeks vanaf een ftp server software (packages)
installeren:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -ivh ftp://ftp.redhat.com/pub/redhat/rh-6.1/RPMS/foo-1.2-3.i386.rpm</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
foo                      ##################################################
</PRE>
</CODE></BLOCKQUOTE>
<H2>4.2 Software Upgraden</H2>

<P>Ook Software Upgraden met RPM is heel simpel.
<UL>
<LI>De simpelste manier om software (packages) te Upgraden is:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -U foo-1.2-3.i386.rpm</B>
</BLOCKQUOTE>
<P>
<UL>
<LI>Als je het verloop van de installatie wilt zien gebruik dan:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -Uvh  foo-1.2-3.i386.rpm</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
foo                      ##################################################
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>Ook tijdens het upgraden kunnen er dependies problemen zijn, deze kunnen 
ook hier worden genegeerd door de --nodeps optie mee te geven of de
benodigde software installeren.
<H2>4.3 Software verwijderen</H2>

<P>Ook software (packages) verwijderen gaat met RPM heel eenvoudig.
<UL>
<LI>Hiervoor gebruiken we:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -e foo</B>
</BLOCKQUOTE>
<P>
<P>Hier dus niet de naam van het pakket file, maar de naam van het pakket. 
<P>Ook kunnen tijdens het Un-installeren dependies problemen voorkomen, deze kunnen
ook hier worden genegeerd door de --nodeps optie mee te geven, of de
software (package) te laten staan omdat er anders problemen kunnen zijn met andere software.
<H2><A NAME="s5">5. Informatie opvragen</A></H2>

<H2>5.1 Informatie over te installeren software</H2>

<P>
<P>Met RPM kun je allerlei informatie opvragen over de te installeren
software.
<P>
<UL>
<LI>Als je software hebt gevonden maar je weet niet precies wat het
is:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -qpi ispell-3.1.20.i386.rpm</B>
</BLOCKQUOTE>
 
<BLOCKQUOTE><CODE>
<PRE>
Name        : ispell                       Relocations: (not relocateable)
Version     : 3.1.20                            Vendor: Red Hat Software
Release     : 22                            Build Date: Tue 07 Sep 1999 07:03:29 PM CEST
Install date: Thu 21 Oct 1999 10:15:50 PM CEST      Build Host: porky.devel.redhat.com
Group       : Applications/Text             Source RPM: ispell-3.1.20-22.src.rpm
Size        : 6351115                          License: GPL
Packager    : Red Hat Software &lt;http://developer.redhat.com/bugzilla>
Summary     : The GNU interactive spelling checker program.
Description :
Ispell is the GNU interactive spelling checker.  Ispell will check a
text file for spelling and typographical errors.  When it finds a word
that is not in the dictionary, it will suggest correctly spelled words
for the misspelled word.

You should install ispell if you need a program for spell checking
(and who dosn't...).
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Als je wilt kijken in welke directory's xearth alles gaat installeren :</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -qlp ispell-3.1.20.i386.rpm</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
/usr/bin/buildhash
/usr/bin/findaffix
/usr/bin/icombine
/usr/bin/ijoin
/usr/bin/ispell
/usr/bin/munchlist
/usr/bin/spell
/usr/bin/sq
/usr/bin/tryaffix
/usr/bin/unsq
/usr/doc/ispell-3.1.20
/usr/doc/ispell-3.1.20/README
/usr/info/ispell.info.gz
/usr/lib/ispell
/usr/lib/ispell/american.hash
/usr/lib/ispell/americanmed+.hash
/usr/lib/ispell/americanxlg.hash
/usr/lib/ispell/british.hash
/usr/lib/ispell/britishmed+.hash
/usr/lib/ispell/britishxlg.hash
/usr/lib/ispell/english.aff
/usr/lib/ispell/english.hash
/usr/man/man1/buildhash.1
/usr/man/man1/findaffix.1
/usr/man/man1/ispell.1
/usr/man/man1/munchlist.1
/usr/man/man1/sq.1
/usr/man/man1/tryaffix.1
/usr/man/man1/unsq.1
/usr/man/man5/english.5
/usr/man/man5/ispell.5
</PRE>
</CODE></BLOCKQUOTE>
<H2>5.2 Informatie over geinstalleerde software</H2>

<P>
<P>Met RPM kun je ook allerlij informatie opvragen over geinstalleren software.
<UL>
<LI>Om het versie (release) nummer van de software (package) op te
vragen:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -q foo</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
foo-1.2-3.i386   
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Om te kijken in welke package een bepaalde file hoort:</LI>
</UL>
<P>
<BLOCKQUOTE>
<B># rpm -qf /usr/local/bin/foo</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
foo-1.2-3.i386
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Als je software gebruikt en je wilt er meer informatie (documentatie)
over:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -qdf /usr/bin/ispell</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
/usr/doc/ispell-3.1.20/README
/usr/info/ispell.info.gz
/usr/man/man1/buildhash.1
/usr/man/man1/findaffix.1
/usr/man/man1/ispell.1   
/usr/man/man1/munchlist.1
/usr/man/man1/sq.1
/usr/man/man1/tryaffix.1
/usr/man/man1/unsq.1
/usr/man/man5/english.5
/usr/man/man5/ispell.5 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Als je meer wilt weten over software (een package) dat op je systeem
staat:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -qi ispell</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
Name        : ispell                       Relocations: (not relocateable)
Version     : 3.1.20                            Vendor: Red Hat Software
Release     : 22                            Build Date: Tue 07 Sep 1999 07:03:29 PM CEST
Install date: Thu 21 Oct 1999 10:15:50 PM CEST      Build Host: porky.devel.redhat.com
Group       : Applications/Text             Source RPM: ispell-3.1.20-22.src.rpm
Size        : 6351115                          License: GPL
Packager    : Red Hat Software &lt;http://developer.redhat.com/bugzilla>
Summary     : The GNU interactive spelling checker program.
Description :
Ispell is the GNU interactive spelling checker.  Ispell will check a
text file for spelling and typographical errors.  When it finds a word
that is not in the dictionary, it will suggest correctly spelled words
for the misspelled word.

You should install ispell if you need a program for spell checking
(and who dosn't...).
</PRE>
</CODE></BLOCKQUOTE>
<P>
<UL>
<LI>Als je meer wilt weten waar een applicatie (een package) al zijn files
heeft gezet:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -ql ispell</B>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE><CODE>
<PRE>
  
/usr/bin/buildhash
/usr/bin/findaffix
/usr/bin/icombine
/usr/bin/ijoin
/usr/bin/ispell
/usr/bin/munchlist
/usr/bin/spell
/usr/bin/sq
/usr/bin/tryaffix
/usr/bin/unsq
/usr/doc/ispell-3.1.20
/usr/doc/ispell-3.1.20/README
/usr/info/ispell.info.gz
/usr/lib/ispell
/usr/lib/ispell/american.hash
/usr/lib/ispell/americanmed+.hash
/usr/lib/ispell/americanxlg.hash
/usr/lib/ispell/british.hash
/usr/lib/ispell/britishmed+.hash
/usr/lib/ispell/britishxlg.hash
/usr/lib/ispell/english.aff
/usr/lib/ispell/english.hash
/usr/man/man1/buildhash.1
/usr/man/man1/findaffix.1
/usr/man/man1/ispell.1
/usr/man/man1/munchlist.1
/usr/man/man1/sq.1
/usr/man/man1/tryaffix.1
/usr/man/man1/unsq.1
/usr/man/man5/english.5
/usr/man/man5/ispell.5
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
<UL>
<LI>Als je wilt weten welke applicaties (packages) er allemaal op jou
systeem zijn geinstalleerd:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -qa</B>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE><CODE>
<PRE>
3c5x9utils-1.0-3
apmd-3.0beta9-3
arpwatch-2.1a4-16
ash-0.2-18
at-3.1.7-11
audiofile-0.1.9-1
audiofile-devel-0.1.9-1
aumix-1.22.1-6
authconfig-2.0-2
autoconf-2.13-5
automake-1.4-5
awesfx-0.4.3a-2
basesystem-6.0-4
bash-1.14.7-16
bc-1.05a-4
bdflush-1.5-10
bind-utils-8.2.1-7
binutils-2.9.1.0.23-6
bison-1.28-1
byacc-1.9-11
bzip2-0.9.5c-1
cdecl-2.5-9
..
enz
</PRE>
</CODE></BLOCKQUOTE>
 
<P>Zoals je ziet wordt dit een lange onoverzichtelijke file.
Je kan voor een complete lijst van de geinstalleerde software beter het
onderstaande commando gebruiken:
<P>
<BLOCKQUOTE>
<B># rpm -qa | sort > software.txt</B>
</BLOCKQUOTE>
<P>Je hebt nu een file software.txt die alfabetisch is opgebouwd.
<H2><A NAME="s6">6. Probleem oplossingen </A></H2>

<P>
<UL>
<LI>Stel je hebt per ongeluk een paar files weggegooid, maar je weet niet meer welke.
Dan kun je je hele systeem doorzoeken om te kijken wat je mist:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm -Va</B>
</BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
  
S.5....T c /etc/host.conf
S.5....T c /etc/printcap
S.5....T c /etc/profile
..?..... c /etc/securetty
S.5....T c /etc/services
.M......   /opt
missing    /var/state
missing    /var/state/misc
S.5....T c /etc/localtime
missing    /etc/default/useradd
S.5....T c /etc/bashrc
S.5....T c /etc/info-dir
..?.....   /usr/X11R6/bin/xload
S.5....T c /etc/X11/xdm/Xsession
S.5....T c /etc/X11/xdm/Xsetup_0
..?.....   /usr/X11R6/bin/Xwrapper
SM5....T c /usr/X11R6/lib/X11/fonts/misc/fonts.dir
S.5....T c /etc/syslog.conf
S.5....T c /etc/inittab
S.5....T c /etc/rc.d/init.d/functions
S.5....T c /etc/rc.d/rc.local
S.5....T c /etc/sysconfig/network-scripts/ifcfg-lo
S.5..UGT c /etc/X11/fs/config
..?..... c /etc/at.deny
missing    /var/spool/at/.SEQ
missing    /var/spool/at/spool
</PRE>
</CODE></BLOCKQUOTE>
<P>Let wel dit duurt een tijdje.
<UL>
<LI>Als er problemen zijn met de database van rpm kun je deze opnieuw
aanmaken met:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm --rebuilddb</B>
</BLOCKQUOTE>

<UL>
<LI>Voor meer en of geavanceerde opties typ --help achter rpm of man
rpm:</LI>
</UL>

<BLOCKQUOTE>
<B># rpm --help</B>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>
<B># man rpm</B>
</BLOCKQUOTE>
<H2><A NAME="s7">7. Aanvullende Tips</A></H2>

<P>Als je nog een tip hebt twijfel dan niet om  hem te sturen, want
als het een goed tip is komt hij in de Howto.
</BODY>
</HTML>
