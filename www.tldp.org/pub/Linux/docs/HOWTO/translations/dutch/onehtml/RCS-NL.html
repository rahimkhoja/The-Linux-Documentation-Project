<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>De RCS MINI-HOWTO</TITLE>


</HEAD>
<BODY>
<H1>De RCS MINI-HOWTO</H1>

<H2> Robert Kiesling,<BR>
Vertaald door: Ellen Bokhorst</H2>v1.4, 14 augustus 1997
<P><HR>
<EM>In dit document wordt de basisinstallatie en het gebruik van RCS,
het GNU Revisie Control System, onder Linux behandeld.
Het gaat ook over de installatie van de <CODE>diff(1)</CODE> en <CODE>diff3(1)</CODE>
utility's, welke nodig zijn voor het gebruik van RCS.
Dit document mag geheel of gedeeltelijk, vrij worden gereproduceerd, op voorwaarde dat elk gebruik van dit document conformeert aan de algemene copyrightmelding van de HOWTO-serie van het Linux Documentatie
Project. Zie het bestand COPYRIGHT voor details. Stuur alle klachten,
suggesties en eventuele diversen naar 
<A HREF="mailto:kiesling@terracom.net">kiesling@terracom.net</A>, zodat
ik dit document zo volledig en bijgewerkt mogelijk kan houden.</EM>
<HR>
<H2><A NAME="s1">1. Overzicht van RCS</A></H2>

<P>RCS, het revision control system, is een suit programma's dat wijzigingen
in tekstbestanden opspoort en gedeelde toegang tot bestanden in
werkgroepsituaties beheert. Het wordt in het algemeen gebruikt voor het
beheren van broncode modules.
Het leent zich ook voor het opsporen van revisies van documentbestanden.
<P>RCS werd geschreven door Walter F. Tichy en Paul Eggert. De laatste
versie welke naar Linux werd geport is RCS Versie 5.7. Er is ook een
semi-officieel threaded versie beschikbaar. Veel van de informatie in
deze HOWTO is afkomstig vanuit de RCS manpages.
<P>RCS bestaat uit het <CODE>rcs(1)</CODE> programma, dat de bestandskenmerken
van het RCS archief beheert, <CODE>ci(1)</CODE> en <CODE>co(1)</CODE>, 
die bestanden in en uit RCS archieven checken, <CODE>ident(1)</CODE>, dat 
in RCS archieven zoekt naar keyword identifiers,
<CODE>rcsclean(1)</CODE>, een programma om bestanden op te schonen waaraan
niet meer wordt gewerkt of die niet zijn gewijzigd.
<CODE>rcsdiff(1)</CODE>, waarmee <CODE>diff(1)</CODE> wordt uitgevoerd om
revisies te vergelijken, <CODE>rcsmerge(1),</CODE> waarmee RCS branches
worden samengevoegd tot een enkel werkbestand, en
<CODE>rlog(1),</CODE> waarmee RCS logmeldingen worden afgedrukt.
<P>Bestanden gearchiveerd door RCS kunnen bestaan uit tekst in ieder formaat,
of binair als het gebruikte programma <CODE>diff</CODE> om gewijzigde bestanden
te genereren om kan gaan met 8-bit gegevens.
In bestanden kunnen optioneel identificatiestrings worden opgenomen als
hulp bij het opsporen door <CODE>ident(1)</CODE>.  RCS maakt gebruik van de utility's
<CODE>diff(1)</CODE> en <CODE>diff3(3)</CODE> om de gewijzigde bestanden tussen
revisies te genereren. Een RCS archief bestaat uit de initi&euml;le revisie
van een bestand, welke als versie 1.1 wordt ge&iuml;dentificeerd en een
serie gewijzigde bestanden, &eacute;&eacute;n voor iedere revisie.
Iedere keer dat een bestand vanuit een archief wordt opgehaald (uitgecheckt)
met <CODE>co(1)</CODE>, gewijzigd, en weer terug in het archief wordt geplaatst
(inchecken) met <CODE>ci(1)</CODE>, wordt het versienummer opgehoogd, naar
bijvoorbeeld 1.2, 1.3, 1.4, enzovoort voor opeenvolgende revisies.
<P>De archieven zelf staan gewoonlijk in een <CODE>./RCS</CODE>
subdirectory, alhoewel RCS voor de opslag van het archief andere
opties biedt.
<P>Zie de manual page van <CODE>rcsintro(1)</CODE> voor een overzicht van RCS.
<H2><A NAME="s2">2. Systeembenodigdheden</A></H2>

<P>RCS heeft <CODE>diff(1)</CODE> en <CODE>diff3(3)</CODE> nodig om de context
diff-bestanden tussen revisies te kunnen genereren.
De suite met diff utility's moet op je systeem zijn ge&iuml;nstalleerd, en
wanneer je RCS installeert, controleert de software op de aanwezigheid ervan.
<P>Voorgecompileerde diffutils zijn beschikbaar op:
<PRE>
ftp://sunsite.unc.edu/pub/Linux/utils/text/diffutils-2.6.bin.ELF.tar.gz
</PRE>

en mirror sites. Als je <CODE>diff(1)</CODE>, vanuit de source moet compileren,
het is te vinden op
<PRE>
ftp://prep.ai.mit.edu/pub/gnu/diffutils-2.7.tar.gz
</PRE>

en mirror sites.
<P>Je moet op je systeem ook de ELF library's hebben ge&euml;nstalleerd als
je voorgebouwde binary's wilt installeren. Zie de ELF-HOWTO voor verdere
details.
<H2><A NAME="s3">3. RCS compileren vanuit de broncode</A></H2>

<P>Haal de broncode distributie van RCS Versie 5.7 op. Het is beschikbaar
vanaf
<PRE>
ftp://sunsite.unc.edu/pub/Linux/devel/vc/rcs-5.7.src.tar.gz
</PRE>

en mirrors. Nadat je het archief in de source-directorystructuur hebt
uitgepakt, moet je RCS voor je systeem configureren.
Dit kun je doen via het
<CODE>configure</CODE> script in de source-directory, die je als eerste
uit moet voeren. Hiermee zal een <CODE>Makefile</CODE> en een passend
<CODE>conf.sh</CODE> voor je systeem worden gegeneerd.
Je kunt dan intikken:
<PRE>
make install
</PRE>

waarmee de binaire bestanden zullen worden aangemaakt.
Op een bepaald punt moet je wellicht met
<CODE>su</CODE> overschakelen naar root zodat de binaire bestanden
in de juiste directory's kunnen worden ge&iuml;nstalleerd.
<H2><A NAME="s4">4. Aanmaken en beheren van archieven</A></H2>

<P>Het programma <CODE>rcs(1)</CODE> maakt archieven aan en wijzigt daarvan
de kenmerken.
Een samenvatting van <CODE>rcs(1)</CODE> optie is de vinden in de
<CODE>rcs(1)</CODE> manual page.
<P>De eenvoudigste manier om voor het eerst een archief aan te maken
is door in de huidige directory een <CODE>RCS</CODE> subdirectory aan te maken, en
het archief vervolgens te initialiseren met de opdracht
<PRE>
rcs -i naam_werk_bestand
</PRE>

Hiermee wordt een archief met de naam 
<CODE>./RCS/naam_werk_bestand,v</CODE> aangemaakt en verzocht om een
beschrijvende tekstuele melding, maar het deponeert geen revisies in het
archief. Je kunt stricte archief locking respectievelijk in of uitschakelen
met de opdrachten
<PRE>
rcs -L naam_werk_bestand
</PRE>

en
<PRE>
rcs -U naam_werk_bestand
</PRE>

Er zijn nog andere opties voor het beheren van het archief,
instellen van het formaat, en instellen van revisienummer, welke allen worden
behandeld in de manual page van <CODE>rcs(1)</CODE>.
<H2><A NAME="s5">5. <CODE>ci(1)</CODE> en <CODE>co(1)</CODE></A></H2>

<P><CODE>ci(1)</CODE> en <CODE>co(1)</CODE> zijn de opdrachten die worden gebruikt
voor het respectievelijk in- en uitchecken van bestanden in/uit RCS archieven.
De opdracht <CODE>ci(1)</CODE> kan ook worden gebruikt om een bestand zowel
op te halen uit een archief als in te checken. In de eenvoudigste vorm
vragen <CODE>ci(1)</CODE> en <CODE>co(1)</CODE> als argument alleen om de naam
van het werkbestand.
<PRE>
ci naam_werk_bestand
</PRE>

en
<PRE>
co naam_werk_bestand
</PRE>

De opdracht in de vorm
<PRE>
ci -l naam_werk_bestand
</PRE>

checkt het bestand in met locking geactiveerd en
<PRE>
co -l naam_werk_bestand
</PRE>

<EM>wordt automatisch uitgevoerd.</EM> Dat wil zeggen dat <CODE>ci -l</CODE> 
het bestand weer ophaalt met locking geactiveerd.
<PRE>
ci -u naam_werk_bestand
</PRE>

checkt het bestand in het archief, en haalt het weer op met locking
gedeactiveerd. In alle gevallen, wordt de gebruiker gevraagd om een
logbericht.
<P><CODE>ci(1)</CODE> maakt een RCS archief ook aan als deze nog niet bestaat.
<P>Als je geen revisie opgeeft, hoogt <CODE>ci(1)</CODE> het versienummer 
van de laatste revisie in het archief op, en voegt hier het gereviseerde
werkbestand aan toe.
Als je een revisie specificeert voor een bestaande branch, moet deze hoger
liggen dan de bestaande revisienummers.
<CODE>ci(1)</CODE> zal ook een nieuwe branch aanmaken als je een revisie 
van een branch opgeeft die niet voorkomt. Zie de
<CODE>ci(1)</CODE> en <CODE>co(1)</CODE> man pages voor details.
<P>Voor <CODE>ci(1)</CODE> en <CODE>co(1)</CODE> zijn diverse opties beschikbaar voor
niet interactief gebruik. Nogmaals, zie de <CODE>ci(1)</CODE> en
<CODE>co(1)</CODE> man pages voor details.
<H2><A NAME="s6">6. Revisie historie</A></H2>

<P>Het <CODE>rlog(1)</CODE> programma levert informatie over het archiefbestand
en iedere revisie die daarin is opgeslagen.
Een opdracht als
<PRE>
rlog naam_werk_bestand 
</PRE>
 
zal de versiehistorie van het bestand afdrukken, de aanmaakdatum van
iedere revisie en
<CODE>gebruikers-id's</CODE> van de auteur en de persoon die
een lock op het bestand plaatste.
Je kunt archiefkenmerken en revisieparameters opgeven die dan kunnen
worden bekeken.
<H2><A NAME="s7">7. RCS gegevens opnemen in werkbestanden</A></H2>

<P><CODE>co(1)</CODE> beheert een lijst met sleutelwoorden van de RCS database
die worden ge&euml;xtraheerd wanneer het werkbestand wordt opgehaald.
Het sleutelwoord <CODE>$Id$</CODE> in een document zal
het extraheren naar een string waarin de bestandsnaam, het revisienummer,
de datum dat het werd opgehaald, de auteur, de revisie status, en een
eventuele persoon die een lock op het bestand heeft geplaatst, zijn opgenomen.
Het opnemen van het sleutelwoord <CODE>$Log$</CODE> zorgt ervoor
dat de historie-log van de revisie van het document erin wordt opgenomen.
<P>Deze en andere sleutelwoorden kunnen worden gebruikt als zoekcriteria
voor het RCS archief. Zie de manpage van
<CODE>ident(1)</CODE> voor verdere details.
<H2><A NAME="s8">8. RCS en <CODE>emacs(1)</CODE> Version Control.</A></H2>

<P>De Version Control faciliteit van <CODE>emacs(1)</CODE> werkt als een
frontend naar RCS. Deze informatie geldt in 't bijzonder voor
Versien 19.34 van GNU Emacs, die wordt geleverd met de meest gebruikte
Linux distributies. Wanneer met <CODE>emacs(1)</CODE> een bestand wordt 
gewijzigd dat onder RCS is geregistreerd, zal de opdracht
<CODE>vc-toggle-read-only</CODE> (standaard gekoppeld aan <CODE>C-x C-q</CODE>)
een bestand in emac's Version Control checken, en vervolgens in RCS.
Emacs zal een buffer openen waarin je een logbericht kunt typen voor opname
in de RCS-log. Wanneer je klaar bent met het intikken van de logregel
typ je <CODE>C-c C-c</CODE> om je invoer te be&euml;indigen en verder te gaan
met het incheck proces.
<P>Als je strict locking hebt geselecteerd voor het bestand onder RCS, moet je
weer een lock op het bestand plaatsen om het met <CODE>emacs(1)</CODE> te 
kunnen wijzigen. Je kunt het bestand uitchecken voor emac's Version Control
met de opdracht <CODE>%</CODE> in buffer-menu mode.
<P>Zie voor meer informatie de GNU Emacs Manual en de Emacs info pages.
</BODY>
</HTML>
