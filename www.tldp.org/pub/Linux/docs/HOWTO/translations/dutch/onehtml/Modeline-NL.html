<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>XF86Config modeline HOWTO</TITLE>


</HEAD>
<BODY>
<H1>XF86Config modeline HOWTO</H1>

<H2>Richard Lucassen (<CODE>lucassen@bigfoot.com</CODE>)</H2>v0.01, 20 Juni 1999
<P><HR>
<EM>Ik probeer het zo eenvoudig mogelijk te houden en ga niet in op erg technische
zaken als Fourrieranalyse van een puls, ontbrekende kantelpunten bij
videobandbreedtes etc.
Deze HOWTO mag gekopieerd worden en bewerkt worden etc. Daarbij gaarne een kopie
van de gemodificeerde HOWTO sturen naar de auteur: lucassen@bigfoot.com.</EM>
<HR>
<H2><A NAME="s1">1. Inleiding</A></H2>

<P>In de ergens op het systeem aanwezige XF86Config-file (zoek met 'locate
XF86Config') staan er allemaal regels van het volgende formaat:
<P>
<PRE>
# 640x480 @ 60 Hz, 31.5 kHz hsync
Modeline "640x480"     25.200 640  664  760  800   480  491  493  525
</PRE>
<P>Dit is een zogenaamde modeline en bepaalt wat de VGA-kaart naar de monitor
gaat sturen.
<P>De bovenstaande 640x480 modeline  is de doodordinaire VGA modus die in
principe iedere kaart en monitor aankan.
<P>Ik ga een poging wagen een beetje duidelijk te maken wat deze regels in die
XF86Config file nou betekenen. Ik neem als voorbeeld de bovenstaande modeline
en probeer aan de hand daarvan enige aanwijzingen te geven om de monitor en
VGA-kaart naar eigen inzicht te kunnen instellen.
<P><B>Nog een verzoek van de auteur:</B>
Vragen betreffende de eigen situatie en/of vragen over problemen met het
opzetten van een eigen XF86Config dienen te worden gesteld in de daartoe
opgerichte nieuwsgroepen zoals nl.comp.os.linux en be.comp.os.linux en liever
niet rechtstreeks aan de auteur.
<H2><A NAME="s2">2. Achtergrond Informatie</A></H2>

<P>Een monitorbeeld wordt in feite net zo opgebouwd als het schrijven van letters
op een blaadje. Laten we eens een voorbeeld nemen.
<H2>2.1 Op Papier</H2>

<P>
<UL>
<LI>Je hebt een blaadje met 525 regels</LI>
<LI>Op een regel kun je 800 letters schrijven</LI>
<LI>Stel nou dat je zo snel bent dat je 60 blaadjes per seconde kunt schrijven</LI>
<LI>Dat houdt in dat je 525 regels maal 60 blaadjes = 31500 regels per seconde
moet kunnen schrijven</LI>
<LI>Dat houdt op zich weer in dat je 25200000 (31500 x 800) letters per
seconde moet kunnen schrijven</LI>
</UL>
<P>Maar een blaadje helemaal volgeklad met letters is niet mooi, daarom spreken
we af dat er een linker-, rechter-, boven- en ondermarge moet komen waar er
geen letters staan.
Goed, we spreken af dat er links en rechts een marge is van 80 letters breed
(80 spaties) en dat er boven 22 en onder 23 regels niet beschreven worden.
Het resultaat is dat er blaadjes geschreven worden waar altijd 640 letters op
een regel staan en altijd 480 regels op een blaadje staan. Mooi gecentreerd.
Maar het schrijven gaat echter zo snel dat er altijd drie mensen aanwezig
moeten zijn, namelijk een om te schrijven, een om de blaadjes om te slaan en
een om de schrijver te helpen om de pen weer van het eind naar het begin van
een regel te helpen.
Nadat een regel volgeschreven is zal de degene die de pen weer terugbrengt van
het eind van een regel naar het begin van een regel een seintje moeten
krijgen. We spreken af dat dat signaal wordt gegeven 24 spaties na de laatste
letter, dus eigenlijk op letter (= spatie) 664. Hij krijgt de tijd tot letter
760 om de pen daadwerkelijk naar links terug te brengen. (dat is dus 40
spaties voor het begin van een nieuwe letterreeks).
<P>Voor degene die de blaadjes omslaat geldt ongeveer hetzelfde. Vanaf regel 491
tot 493 krijgt hij de tijd om zijn werk te doen.
<H2>2.2 Videokaart</H2>

<P>Goed begrepen wat hierboven staat? Mooi, dan gaan we het nu eens anders
bekijken. Je VGA kaart werkt namelijk precies hetzelfde.
Lees voor letters: pixels
Lees voor regels: lijnen
Lees voor blaadjes: beelden
Lees voor aantal beelden per seconde: refresh-rate
Dan moet je het eigenlijk al snappen.
<PRE>
# 640x480 @ 60 Hz, 31.5 kHz hsync
Modeline "640x480"     25.200 640  664  760  800   480  491  493  525
</PRE>
<P>
<LI>640x480:    aantal zichtbare pixels (letters)</LI>
<LI>60Hz:               aantal beelden per seconde (refresh-rate, aantal blaadjes per seconde)</LI>
<LI>31.5kHz:    31500Hz = 31500 lijnen per seconde</LI>
<LI>25.200 (kHz):       25200000 pixels per seconde (letters)</LI>
<LI>640:                aantal zichtbare pixels (daadwerkelijk geschreven letters)</LI>
<LI>664:                begin van de H-sync (horizontal synchronisation) (breng pen terug naar begin regel)</LI>
<LI>760:                eind van de H-sync (horizontal synchronisation)</LI>
<LI>800:                het totaal aantal pixels per lijn (letters per regel, inclusief</LI>
<LI>marge-spaties)</LI>
<LI>480:                totaal aantal zichtbare lijnen (zichtbare regels)</LI>
<LI>491:                begin V-sync (vertical synchronisation) (sla blaadje om)</LI>
<LI>493:                eind V-sync: nieuw blaadje ligt klaar</LI>
<LI>525:                totaal aantal regels op een blaadje</LI>
<P>Deze modeline wordt via de driver naar de VGA-kaart gestuurd. Hiermee worden
een aantal opdrachten gegeven aan de VGA-kaart:
<P>
<UL>
<LI>de opdracht om 25200000 pixels per seconde te genereren. Op de VGA-kaart
zit namelijk een pixelclock die, afhankelijk van de kaart, ingesteld kan
worden op de gewenste frequentie. Op oude VGA kaarten zat voor iedere
pixelclockfrequentie een kristal gemonteerd, tegenwoordig wordt een hele hoge
clockfrequentie genomen die gevolgd wordt door een programmeerbare deler,
waardoor vanuit *een* stuk hardware een heleboel pixelclock-frequenties
gegenereerd kunnen worden. Dit is het eerste getal op de modeline: 25.200 (in
kilohertz = 1000 hertz).
</LI>
<LI>de opdracht om deze frequentie van 25200000 Hz door 800 (het vijfde getal
in de modeline) te delen, hetgeen de zogenaamde H-sync genereert. Door deze
H-sync weet de monitor namelijk wanneer er een nieuwe lijn moet beginnen.
Zonder deze H-sync zal de monitor alleen maar strepen gaan geven omdat hij dan
op ongedefinieerde plaatsen maar een eind weg pixels gaat staan schrijven.
Voor de tegenwoordige "green" monitoren echter betekent het afwezig zijn van
de V-sync en/of H-sync dat de monitor in stand-by of in off-mode moet
springen.
Goed, het volgende is waarschijnlijk lastig te begrijpen, maar behalve het
deeltal van 800 worden er nog twee getallen naar die deler gestuurd, te weten
664 en 760 (getal 3 en 4 van modeline). Deze twee getallen regelen twee
dingen:
<UL>
<LI>De H-sync pulsbreedte, nodig om de elektronica in de monitor goed te laten
werken. Deze waarde is gedefinieerd per video-standaard (VESA bijvoorbeeld),
maar is over het algemeen niet kritisch als hij iets te breed of te smal is.
De monitor kijkt namelijk alleen maar of een puls van laag (nul volt) naar
hoog (5 Volt) gaat, of omgekeerd (flankdetectie). De breedte van de H-syncpuls
wordt bepaald door het verschil tussen de twee getallen: 760 - 664 = 96 pixels
breed, oftewel een pulsbreedte van 3.8 uS (96/25200000).</LI>
<LI>De plaats waar het zichtbare beeld op de beeldbuis terecht komt.
Er staat eigenlijk "begin H-sync puls bij pixel 664" en "eindig H-sync puls
bij pixel 760"
En eigenlijk is dat verhaal van de marges links en rechts een beetje
verwarrend omdat de linkermarge er niet is en de rechtermarge net zo groot is
als de linker- plus rechtermarge. Wat is namelijk het geval: de linkermarge
begint bij pixel -80, oftewel pixel 760 van de vorige lijn! Dit verklaart dat
de VGA kaart direct zichtbare pixels begint te schrijven bij pixel 0 van de
lijn en ophoudt bij pixel 640 (het tweede getal in modeline). Door nu de
getallen 3 en 4 te veranderen (maar wel zorgen dat het verschil niet
verandert, hier 96 dus), verschuift het beeld horizontaal. Dit komt omdat de
monitor de opdracht krijgt de lijn op een ander tijdstip te laten beginnen.
Men ziet ook deze getallen veranderen als men het programma "xvidtune" opstart
en men het beeld verschuift.</LI>
</UL>

</LI>
<LI>De opdracht om per 525 lijnen (negende getal) een nieuw beeld te beginnen.
Dit is 252000000/800/525 = 60Hz, oftewel 60 beelden per seconde, oftewel een
refreshrate van 60 Hz. En voor de verticale synchronisatie geldt hetzelfde als
voor de horizontale synchronisatie: er worden nog twee extra getallen
meegegeven: 491 en 493 (getal 7 en 8) Deze twee bepalen:
<UL>
<LI>De pulsbreedte van de V-sync (493 - 491 = 2, en is dus twee lijnen breed,
oftewel 63.5uS, (twee maal de inverse van de lijnfrequentie: 2 * (1 / 31500)
(sec)).</LI>
<LI>De verticale plaats van het beeld. Verandering van de twee met behoud van
het verschil van 2 verplaatst het beeld in verticale richting.
Het ontbreken van de V-sync geeft een scrollend beeld omdat de monitor dan
niet meer weet waar het beginpunt van het beeld zich bevindt. Voor de
tegenwoordige "green" monitoren echter betekent het afwezig zijn van de V-sync
en/of H-sync dat de monitor in stand-by of in off-mode moet springen.</LI>
</UL>
</LI>
</UL>
<P>Wil je eens voor de lol het zwarte deel van het beeld bekijken, zet dan getal
7 en 8 (491 en 493) eens op 240 en 242. Je zult dan zien dat het beeld in
tweeen is geknipt waarbij het onderste deel boven staat en het vice versa. Dit
komt omdat je dan de VGA-kaart opdracht geeft om de monitor te vertellen dat
hij de elektronenstraal naar boven moet brengen ergens in het midden van het
beeld.
<P>De parameters +Vsync -Vsync +Hsync en -Hsync
<P>Deze parameters geven of de synchronisatiesignalen voor de verticale en
horizontale synchronisatie positief danwel negatief zijn. Bij een positief
signaal is de logische '0' ook daadwerkelijk nul volt en de logische '1' vijf
volt. Bij een negatief sync signaal is dat precies andersom. Dit werd vroeger
vooral gebruikt om verschillende resoluties bij gelijke monitorfrequenties te
onderscheiden. Bijvoorbeeld de modes 720x350 en 720x400 hadden beide een
horizontale frequentie van 31500Hz en een verticale frequentie van 70Hz. Om de
monitor nou onderscheid te laten maken tussen de twee modes werd de polariteit
omgedraaid: 720x350 had +Hsync en -Vsync en 720x400 werd met -Hsync en +Vsync
aangestuurd. Tegenwoordig gebruiken de microprocessoren in monitoren dit ook
wel om bepaalde standaard modes te herkennen.
<H2><A NAME="s3">3. Terminologie</A></H2>

<P>Waar moet je nu op letten bij het instellen van een monitor. Welnu, er
zijn vier verwarrende gegevens over monitoren: resolutie, refreshrate
(ook wel "verticale frequentie" of "raster" genoemd), horizontale
frequentie (lijnfrequentie) en videobandbreedte.
<P>
<UL>
<LI><B>resolutie</B>: het aantal pixels of beeldpunten op het scherm.
Verhouding 4:3 (bijv 1024x768), 5:4 komt ook voor (1280x1024) Dit heeft te maken
met de breedte-hoogte verhouding van de beeldbuis (4:3).</LI>
<LI><B>refreshrate</B>: het aantal beelden per seconde. 50 beelden flikkert
erg, 60 beelden gaat wel, 70 beelden staat al redelijk stil. Dit hangt ook af
van de nagloeitijd van de beeldbuis. Veel hoger is nauwelijks nodig, je ziet
namelijk geen verschil tussen een niet-flikkerend beeld en een niet-flikkerend
beeld. Te hoge refreshrates vergen snellere video-versterkers en daarom gaat
een te hoge refreshrate onnodig ten koste van de beeldkwaliteit.</LI>
<LI><B>horizontale frequentie</B>: het aantal lijnen dat een monitor per
seconde op het scherm kan toveren. Ook lijnfrequentie genoemd.</LI>
<LI><B>videobandbreedte</B>: het aantal pixels dat door de videoversterker
verwerkt kan worden. Wordt aangegeven in MHz (1.000.000 Hz).</LI>
</UL>
<P>Een van de meest populaire hiervan is de "refreshrate". Helaas is dit tevens
de minst belangrijke. Door bijvoorbeeld Microsoft wordt dit deze erg
gepropageerd, maar dat is eigenlijk voornamelijk verkoop-praat en getuigt
slechts van foldertjeskennis. Technisch gezien zijn er twee dingen namelijk
<B>echt</B> belangrijk: de horizontale frequenties van de monitor en de
videobandbreedte.  De verticale trap van een monitor hobbelt wel vrolijk
achter de andere aan en wordt ook bepaald door die andere grootheden. Wat de
refreshrate wel vertelt is hoeveel beelden er per seconde getoond worden en
als deze te laag is flikkert het beeld. In de diverse versies van Microsofts
Windows stelt men de refreshrate in, terwijl men zich daarna verder niets meer
afvraagt. Maar iemand die weet wat hij uitspookt stelt eerst vast welke
refreshrate hij minimaal wil en gaat dan kijken of dat er ook uit te halen
valt. Dit doet hij, omdat de haalbare refreshrate afhangt van de gewenste
resolutie, of de monitor de daarbij horende horizontale frequentie aankan en
last but not least of de videoversterker van de monitor het daardoor
aangeboden video-signaal wel verwerken kan.
<H2><A NAME="s4">4. Practische Voorbeelden</A></H2>

<H2>4.1 Ik heb een monitor van merk X en daarvan heb ik de volgendebelangrijke gegevens:</H2>

<P>
<PRE>
Video bandwidth 90MHz.
max horizontal frequency 64kHz
</PRE>
<P>Wat kan ik daar nou mee? Ik zou graag het volgende willen: 1280x1024 op 75Hz.
We gaan eens even rekenen of dit kan met deze monitor. 75 beelden per seconde
met 1024 lijnen. We hebben ook nog te maken met een onder- en bovenmarge en
tellen er dus 8% bij op (3% tot 8%, een vuistregeltje voor de onder- en
bovenmarge) dat geeft dus 1106 lijnen per beeld en dat 75 maal per seconde.
Dat geeft een lijnfrequentie van 75 x 1106 = 82950 Hz oftewel bijna 83 kHz.
Dat ligt ruim boven de opgegeven 64kHz en deze mode kunnen we dus met deze
monitor wel vergeten. Als we het toch doen lopen we het risico dat de monitor
defect raakt. Vandaar dat er in XF86Config een regel is waarin staat wat de
monitor maximaal aankan, dan wordt zo'n modeline die te hoog is automatisch
genegeerd.
<P>Deze regels zien er bijvoorbeeld zo uit:
<P>
<PRE>
HorizSync   31.5 - 64.3

VertRefresh 50-90
</PRE>
<P>Hierdoor zal bijvoorbeeld een modeline met een horizontale frequentie
van 86kHz worden gedelete omdat de opgegeven maximale frequentie 64.3kHz
bedraagt. Hetzelfde geldt uiteraard voor het verticale bereik (vertical
refresh), komt er een verticale frequentie van 95Hz in een modeline
voor, dan zal deze modeline als niet-geldig voor de opgegeven monitor
worden genoteerd. Als deze parameters goed zijn ingegeven is de monitor
enigzins beschermd tegen al te wilde frequenties, bijvoorbeeld als
gevolg van rekenfouten tijdens het editten van een modeline.
<P>
<P>Maar als de eisen wat naar beneden gesteld worden qua refreshrate gaat het
misschien wel, dus laten we eens 60Hz nemen. 60 beelden per seconde met 1024
lijnen. We hebben ook nog te maken met een onder- en bovenmarge en tellen er
dus weer 8% bij op en dat geeft dus 1106 lijnen per beeld en dat 60 maal per
seconde. Dat geeft een lijnfrequentie van 66360 Hz oftewel 66.3 kHz. Hmmm, dat
begint erop te lijken. We kunnen twee dingen doen om die 66.3kHz naar beneden
te krijgen. Of we accepteren een nog lagere refreshrate (58Hz) of we brengen
de marges omlaag naar 3%. Nu komt de horizontale frequentie uit op ongeveer
64kHz en we weten nu dus zeker dat horizontale trap van de monitor dit kan
verwerken.
<P>Maar er was nog een belangrijk gegeven: de video bandbreedte. Die was namelijk
90MHz. We gaan weer even rekenen: op 1 lijn staan 1280 pixels plus nog wat
(33%) zwarte pixels voor de linker- en rechtermarge. Die marge is nu geen 8%
maar 25 tot 33% (vuistregel voor linker- en rechtermarge). En waarom hier 33%
en geen 25%? Hoe hoger de horizontale frequentie, hoe hoger de marge. Dat is
omdat een monitor altijd dezelfde tijd nodig heeft om de lijn van rechts naar
links te brengen, en hoe hoger de horizontale frequentie, hoe groter het
aandeel "terugslagtijd", zoals dat van rechts naar links terugbrengen heet.
Er zijn 64000 lijnen per seconde, dat hadden we net bepaald, en dat geeft dus
1712 pixels per lijn en dat 64000 keer per seconde, dat geeft 110 miljoen
pixels per seconde, oftewel 110 MHz. Dat past *net* niet in de
videoversterker.
<B>Let op</B>: Het werkt echter wel, de monitor gaat hier niet stuk van,
alleen wordt het beeld wat waaierig en vegerig.
<P>We zullen dus op zoek moeten gaan naar een lagere resolutie, die 1280x1024 is
te hoog gegrepen en we proberen de volgende veelvoorkomende resolutie:
1152x864 bij 60Hz. Opnieuw rekenen geeft: 60 beelden x (864 + 8%) geeft een
horizontale frequentie van 55987Hz. Dat is dus binnen het bereik van onze
monitor. Nu nog de videobandbreedte: (1152 pixels + 33%) * 55987 lijnen geeft
86MHz pixelfrequentie en past dus goed door de videoversterker. Vanzelfsprekend
kan deze monitor ook de lagere resoluties aan. 
<H2>4.2 Ik heb een oude monitor en maar een paar gegevens... </H2>

<P>Ik neem een oude analoge 14" monitor waarvan op de doos staat: 1024x768 @
60Hz. Wat staat daar nou, want ik heb zojuist gelezen dat ik de horizontale
frequentie moet weten en de videobandbreedte en ik weet nu alleen maar de twee
minst belangrijke: de resolutie en de refresrate. Even grofweg gerekend: 60Hz
= 60 beelden per seconde. Er staan 768 lijnen per beeld op. Plus nog wat extra
voor de marges onder en boven, zeg 60 lijnen erbij (8%) is 828 lijnen. En dat
60 keer per seconde geeft 49680 lijnen per seconde. De maximale horizontale
frequentie (lijnfrequentie) van deze monitor moet dus ongeveer 48-50kHz zijn.
Op <B>een</B> lijn staan 1024 pixels, plus nog wat extra voor de marges (33%),
1365 pixels dus per lijn. 1365 maal 49680 pixels per seconde, dat is een
video-bandbreedte van 67813200 Hz. De videoversterker moet dus minimaal 68MHz
kunnen verstouwen, alhoewel het bij de meeste oudere monitoren wel ophoudt bij
50MHz.
<H2>4.3 Ik weet helemaal niets van mijn monitor.... </H2>

<P>In principe kan vrijwel iedere VGA-monitor de basisfrequentie van
31500Hz aan, ook de allereerste monitoren van zo rond 1988/1989. Die
konden de resolutie 640x480 aan. Daar is later (1990) nog de SVGA
mode bijgekomen (800x600) met als extra optie 1024x768 interlaced,
IBM8514 mode ook wel genoemd. Deze monitoren konden op twee
frequenties draaien, namelijk 31500 en 35550 Hz. Pas zo rond
1992/1993 kwamen de monitoren in zwang die 1024x768
non-interlaced aankonden bij 60Hz. Deze monitoren konden buiten
31500 en 35500 ook 48000 Hz aan, vaak worden deze ook aangeduid
met XGA. 
Pas zo rond 1995 kwamen er monitoren op de markt die hogere
frequenties aankonden maar wil men veilig experimenteren dan is aan
de hand van het jaartal misschien te zeggen welke lijnfrequentie de
monitor aankan, maar 640x480 op 31500Hz *moet* iedere
VGA-monitor zondermeer aankunnen. Als die werkt dan is 35500Hz te
proberen. 
<H2><A NAME="s5">5. Tips en wetenswaardigheden</A></H2>

<H2>5.1 Ik heb een fixed-frequency monitor.... </H2>

<P>Dan ben je bij Linux aan het goede adres. Met behulp van de gegevens
van de monitor en het editten van de modelines kan de aansturing van
de monitor goed geregeld worden. Bij een fixed-frequency monitoren
heb je meestal maar *een* modeline nodig, alhoewel er monitoren zijn
die toch niet helemaal fixed-frequency zijn en een bepaald bereik
hebben en dus ook meerdere modelines kunnen hebben en waarmee je in
X met <EM>CTRL</EM> <EM>ALT</EM> <EM>+</EM> of <EM>CTRL</EM> <EM>ALT</EM> <EM>-</EM> kunt schakelen.
Als je de horizontale frequentie weet en eventueel de videobandbreedte kan je
met een fixed-frequency monitor en deze howto hopelijk een eind komen. 
<H2>5.2 Er zit S.O.G. (sync-on-green) op mijn (meestal fixed-frequency)monitor...</H2>

<P>S.O.G. is een techniek waarbij de synchronisatiesignalen zijn gesuperponeerd op
het groene video-signaal. Alleen handige elektronica knutselaars kunnen dit
eruit slopen en er gewone sync-ingangen van maken of een schakeling bouwen om de
standaard VGA-kaart sync-signalen op het groene signaal te proppen. Soms zit er
een schakelaartje achterop de monitor om dit uit te schakelen en zo een
`normale' sync-ingang te krijgen. En alhoewel het beter is het een VGA-kaart te
gebruiken waar dit S.O.G. op zit, is het wel weer de vraag is of er voor Linux
een geschikte server voor geschreven is (Wet van Behoud van Ellende). Wellicht
zijn er kastjes te koop die van een normaal VGA signaal een S.O.G. signaal
maken. Even zoeken dus op het net...
Van Michel Roelofs kreeg ik de tip om te wijzen op het feit dat sommige
kaarten van Matrox SOG ondersteunen. Informatie is te verkrijgen op de
website van XFree86, bij de Matrox beschrijving.
Realiseer je wel dat SOG een van de manieren is om de sync-signalen de
monitor in te krijgen en dat SOG op zich geen software aangelegenheid is
maar een zuiver hardwarematig (hardware-matig :-) geheel om de sync op
het groen-signaal te moduleren. In de SOG-monitor wordt diezelfde sync
vervolgens weer van het groen-signaal geplukt. Dus de XF86Config
aansturing zal het een worst zijn of het via SOG, TTL, via Parijs of
Londen loopt.
<H2>5.3 Interlaced of non-interlaced</H2>

<P>Interlaced is een techniek om het flikkeren van het beeld tegen te gaan en onze
aloude televisie is een apparaat dat interlaced wordt aangestuurd. De TV is een
mooi voorbeeld omdat een TV-zender eigenlijk maar 25 beelden per seconde
uitzendt en dat zou een ontzettend flikkerend beeld geven als niet de
interlace-techniek toegepast werd. Wat er namelijk gebeurt is dat het beeld niet
25 maar 50 keer ververst wordt, echter niet iedere keer met de volledige
beeldinhoud maar met de helft. In bijvoorbeeld beeld 1a worden de oneven
beeldlijnen geschreven en in beeld 1b komen de even beeldlijnen aan de beurt. De
flikkering wordt nu een stuk gereduceerd. Een groot nadeel van interlacing is
dat de lichtopbrengst op de beeldbuis een stuk lager ligt dat bij een
non-interlaced beeld. Enfin, het heeft eigenlijk geen zin om er nog verder op
door te gaan omdat de interlace techniek tegenwoordig nogal achterhaald is. Dit
omdat de refreshrates van de huidige monitoren de flikkeringsproblemen zonder
interlacing te lijf kunnen gaan. 
<P>Dat monitoren interlaced danwel non-interlaced waren is trouwens ook weer zo'n
staaltje van marketingstrategie waarbij de makers van de slogans niet geplaagd
werden door enige kennis van zaken. Het zal de monitor namelijk een worst zijn
of het aangeboden signaal interlaced of niet is, alleen de VGA-kaart werd wel
of niet interlaced aangestuurd.  Een interlaced monitor bestaat domweg niet al
doen sommige monitordozen en docs anders geloven.
<H2>5.4 horizontale frequenties: neem niet zomaar een frequentie </H2>

<P>In de doc van een monitor staat vaak het frequentiebereik, bijvoorbeeld 31k5 -
64k, oftewel 31500Hz tot 64000Hz. Nu is het bij de meeste monitoren zo dat het
bereik niet continu is maar dat de monitor wordt omgeschakeld naar een
frequentiebereik zonder dat de gebruiker er erg in heeft. Ik ga niet in op de
technische redenen, maar bij het bepalen van de horizontale frequentie is het
verstandig om uit te gaan van de volgende frequenties en geen tussenfrequenties
te gebruiken: 31500, 35500, 38000, 48000, 56000 en 64000 Hz, op voorwaarde dat
de monitor het aankan en een 5% marge is over het algemeen wel te doen.  Daar
moet trouwens ook op gelet worden bij het gebruik van xvidtune, bij sommige
instellingen verandert de horizontale frequentie doodleuk, waardoor je al gauw
op zo'n tussenfrequentie komt te zitten.
<H2>5.5 Mijn monitor geeft alleen maar horizontale strepen of geeft een 2, 3, 4, 5, of nog meer -voudig beeld na editten van een modeline....</H2>

<P>Dat betekent dat de monitor de horizontale frequentie niet aankan die is
opgegeven. Het is verstandig de monitor niet te lang aan te laten staan in deze
mode.
<H2><A NAME="s6">6. Aanvullende informatie</A></H2>

<H2>6.1 De signalen rood, groen, en blauw.</H2>

<P>Waarom zijn er nou eigenlijk die vreemde signalen rood, groen en blauw?
Als je die kleuren verf doorelkaar gooit blijft er waarschijnlijk een
vieze bruine kledder over. Maar ik zie wel helder wit en geel op mijn
scherm en dat kan natuurlijk nooit met die donkere kleuren gemaakt
worden!
Fout dus, het helderste wit wordt juist met deze drie kleuren gemaakt.
Wat is er nou eigenlijk aan de hand? Met het verfmengen is er sprake van
subtractieve kleurmenging (aftrekken), bij een beeldbuis is er sprake
van additieve kleurmenging (optellen). Aangezien ik geen theoretisch
natuurkundige ben ga ik er maar niet verder op in omdat ik er gewoon
niet meer van kan zeggen dan het bovenstaande. Wat het in de praktijk
inhoudt is dat een kleurenbeeldbuis bestaat uit drie beeldbuizen in een.
Een rode, een groene en een blauwe. En door die additieve kleurmenging
krijg je het volgende:
<P>
<PRE>
   groen  rood   blauw
0  uit    uit    uit    zwart
1  uit    uit    aan    blauw
2  uit    aan    uit    rood
3  uit    aan    aan    paars
4  aan    uit    uit    groen
5  aan    uit    aan    cyaan (lichtblauw)
6  aan    aan    uit    geel
7  aan    aan    aan    wit
</PRE>
<P>Weleens naar een televisie testbeeld gekeken? Komt die kleurenvolgorde
dan niet bekend voor? Het enige dat zo'n testbeeldgenerator doet is
domweg de elektronenkanonnen van de beeldbuis aan- en uitschakelen, meer
niet. Vroeger bij CGA en EGA gebruikte je ook die omschakelingen, dat
gaf dan 8 kleuren. En dan zat er ook nog een intensiteitsbit bij, die de
kleuren op halve kracht deden werken en zo kon men 16 kleuren op het
scherm toveren. En bij de hele luxe kaarten ware er zelfs 64 kleuren
mogelijk door de drie basiskleuren rood, groen en blauw alle drie een
intensiteitsbit mee te geven. Maar dat is al weer lang geleden.
Tegenwoordig werken we met het analoge VGA. Dit werkt ook met dezelfde
drie basiskleuren, echter analoog bestuurbaar, wat inhoudt dat iedere
basiskleur met alle mogelijke intensiteitsschakeringen kunnen worden
aangestuurd. En dat is nou leuk, want met deze drie analoog bestuurde
basiskleuren zijn alle, ja ALLE kleuren te maken. Bij KDE kun je
bijvoorbeeld de kleur van de achtergrond regelen door met de intensiteit
van de drie basiskleuren te spelen.
Voorbeeld: een geheel geel scherm. Makkelijk, haal al het blauw weg en
zet rood en groen maximaal: zie daar een geheel geel beeld. Hou je niet
van deze kleur geel maar van oranje, verlaag dan de intensiteit van het
groen maar eens, en nog verder verlagen van de groene kleur verandert
het oranje in rood. En als je een pasteltint van hetzelfde geel wilt,
voeg er dan eens (flink) wat blauw aan toe.
<H2>6.2 Een hele speciale kleur: grijs.</H2>

<P>Een speciale kleur bij kleurenmonitoren (en ook televisies) is de kleur
grijs. Wat is dat nou voor onzin zou je op het eerste gezicht zeggen,
maar niets is minder waar. Als ik een kleurentelevisie koop of een
monitor bekijk, dan interesseert mij eigenlijk maar een ding: een
grijs-gradatiebalk. (en natuurlijk de scherpte, maar dat is een ander
verhaal). Zoals we daarnet gezien hebben wordt de kleur zwart gemaakt
door alle drie de basiskleuren uit te zetten en de kleur wit door alle
drie juist aan te zetten. Alle intensiteiten daartussen geven een grijs
beeld, met andere woorden: indien de drie basiskleuren even sterk
aanwezig zijn geeft dat een zuiver grijs beeld, althans zou moeten
geven. En vandaar de belangrijkheid van het grijze beeld en vooral de
grijs-gradatiebalk: zij verraden onmiddellijk een verlopen beeldbuis of
een slecht ingestelde video-uitgangstrap in het toestel. Een
grijs-gradatie balk is bij een goede beeldbuis en bij een goed ingesteld
apparaat echt grijs, van donker naar licht en toont geen verkleuringen,
hoe klein ook.
<P>Voorbeeld van een afwijking: zwart is wat blauwig en wit is wat gelig.
De grijs-gradatiebalk verraad dit ogenblikkelijk. Men zegt dan dat de
lineariteit tussen de drie elektronenkanonnen niet goed is. Het blauwe
deel werkt nog een beetje als hij uit zou moeten zijn (vandaar het
blauwige zwart) en als hij juist vol gas moet geven zoals bij wit, laat
hij het een beetje afweten. Vaak kan dit soort afwijkingen bijgesteld
worden door een monitor technicus, maar soms is het niet meer te regelen
en dan is het tijd de beeldbuis eens naar de schroothoop te begeleiden.
Let wel: alleen de ervaren kenner ziet het verschil tussen een verlopen
beeldbuis en een slecht ingesteld apparaat, dus ga alsjeblieft niet zelf
zitten schroeven in het apparaat! Bovendien is er een vaste volgorde van
dit soort dingen instellen, doe je het verkeerd om, dan krijg je het
nooit meer goed!
<H2>6.3 8-bits, 16-bits, 24-bits en 32-bits kleuren.</H2>

<P>Zoveel bits kleuren, wat zegt het nu eigenlijk? Wel, dat heeft alles met
de VGA-kaart te maken en niets met de monitor. Het zijn gewoon het
aantal kleurcombinaties dat je D/A omzetter op je VGA-kaart aankan. D/A
staat voor Digitaal/Analoog. De kleuren komen digitaal uit je computer
en moeten omgezet worden naar een analoog VGA-signaal voor de monitor.
Dat doet die D/A-converter dus. En de monitor zal het worst wezen
hoeveel kleuren hij krijgt aangeboden, de VGA-monitor is een analoog
ding en heeft daardoor een oneindig aantal kleuren!
<H2><A NAME="s7">7. Referenties</A></H2>

<P>Op 
<A HREF="http://www.hercules.com/monitors/mdb.htm">deze plek</A> staan
gegevens van verschillende monitoren.
</BODY>
</HTML>
