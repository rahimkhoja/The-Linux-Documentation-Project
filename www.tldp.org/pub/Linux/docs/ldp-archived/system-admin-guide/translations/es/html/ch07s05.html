<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>

Alocando espacio de swap.</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Guía Para Administradores de Sistemas GNU/Linux"><link rel="up" href="ch07.html" title="Capítulo 7. Administración de
Memoria"><link rel="prev" href="ch07s04.html" title="  

Compartiendo el área de swap con otro sistema operativo"><link rel="next" href="ch07s06.html" title="

El Buffer Cache"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">

Alocando espacio de swap.</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s04.html">Anterior</a> </td><th width="60%" align="center">Capítulo 7. Administración de
Memoria</th><td width="20%" align="right"> <a accesskey="n" href="ch07s06.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="swap-allocation"></a>

Alocando espacio de swap.</h2></div></div></div><p>

Muchas personas consideran que se debe alocar el doble de memoria física para
espacio swap. Pero esta es una regla equivocada. Aquí se explica como se deberá
estimar el tamaño de swap correctamente: </p><div class="itemizedlist"><ul type="disc"><li><p> Estimar el total de memoria necesaria. Esto es la mayor cantidad
	de memoria que se necesitará usar en un momento dado, y que estará dado
	por la suma de las memorias requeridas por todos los programas que se
	puedan ejecutar al mismo tiempo. Esto puede ser calculado ejecutando al
	mismo tiempo todos los programas que se utilicen habitualmente.
	</p><p>
        
    Por ejemplo, si se requiere ejecutar el servidor X, se deberá alocar
    alrededor de 8 MB para este, gcc requiere algunos pocos megabytes (algunos
    archivos pueden necesitar una inusual cantidad de memoria, hasta 10 MB, pero
    generalmente alrededor de 4 megabytes debería funcionar), y así
    sucesivamente.  El kernel usará alrededor de un megabyte para si mismo, y un
    shell común y otros pequeños utilitarios talvéz unos pocos cientos de
    kilobytes (digamos un megabyte todos juntos). No es necesario que el cálculo
    sea exacto, una estimación aproximada estará bien,  pero es posible que se
    quiera hacer una estimación pesimista poniendo todos los valores como
    máximos. </p><p>
        
    Recordar que si hay varios usuarios usando el sistema al mismo tiempo,
    estarán todos consumiendo memoria. A pesar de esto si dos usuarios están
    ejecutando el mismo programa al mismo tiempo, el total de memoria consumida
    no suele ser el doble, ya que cada página de código y librería compartida
    reside solo una vez en memoria.</p><p>
    
    Los comandos <span><strong class="command">free</strong></span> y <span><strong class="command">ps</strong></span> son útiles para
    estimar la memoria necesaria.</p></li><li><p>
    
   Agregar un margen de seguridad a los estimado en el paso 1. Esto es porque el
   tamaño estimado para los programas será probablemente erróneo, ya que habrán
   algunos programas que se querrán ejecutar, y seguramente no fueron tenidos en
   cuenta. Para salvar esto, se deberá tener algún espacio extra. Un par de
   megabytes deberá ser suficiente. (Es preferible alocar espacio de más que de
   menos, pero no hay necesidad tampoco de sobrepasarse y alocar todo el disco
   entero, el espacio swap no usado es espacio malgastado; ver mas adelante a
   cerca de agregar mas swap). También, es mejor tratar de que sea un número
   par, se podrá redondear hacia arriba para llegar al próximo número entero de
   megabytes.</p></li><li><p>
    
   Basados en los cálculos anteriores, se puede saber cuanta memoria se necesita
   en total. Por lo tanto, para alocar el espacio de swap, solo se necesita
   restar el tamaño de memoria física del total de memoria necesaria.  (En
   algunas versiones de Unix, se necesita alocar tanto espacio como para una
   imagen de la memoria física, entonces la cantidad calculada en el punto dos
   será lo que se necesita, y no se deberá realizar la resta)</p></li><li><p>
    
   Si el espacio calculado de swap es mucho mayor que la memoria física (Mas del
   doble), probablemente se deberá invertir en más memoria física, sino la
   performances del sistema será muy lento.</p></li></ul></div><p> </p><p>
    
Es una buena idea tener por lo menos un área de swap, aún cuando los cálculos
indiquen que no se necesita. Linux usa el espacio de swap en forma agresiva,
tanto, que trata de mantener la mayor cantidad de memoria física libre. Linux
swapeará las páginas de memoria que no han sido usadas, aun si la memoria no es
solicitada por ningún proceso. Esto evita las esperas por swapeo cuando ella es
necesaria: El pasaje a swap puede ser hecho mucho más fácilmente cuando el disco
está desocupado.    </p><p>

El espacio de swap puede ser dividido entre varios discos. Esto puede en algunas
ocasiones mejorar el rendimiento, dependiendo de las velocidades relativas de
los discos y del tipo de acceso. Se puede experimentar con algunos esquemas,
pero es importante tener en cuenta que hacer esto apropiadamente puede ser muy
complejo. No se debe creer que un esquema puede ser mejor que otro, antes de
verificar su real aplicabilidad.	</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s04.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s06.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">  

Compartiendo el área de swap con otro sistema operativo </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 

El Buffer Cache</td></tr></table></div></body></html>
