<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Usando un área de swap</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Guía Para Administradores de Sistemas GNU/Linux"><link rel="up" href="ch07.html" title="Capítulo 7. Administración de
Memoria"><link rel="prev" href="ch07s02.html" title="Creando un espacio swap"><link rel="next" href="ch07s04.html" title="  

Compartiendo el área de swap con otro sistema operativo"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Usando un área de swap</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s02.html">Anterior</a> </td><th width="60%" align="center">Capítulo 7. Administración de
Memoria</th><td width="20%" align="right"> <a accesskey="n" href="ch07s04.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2549375"></a>Usando un área de swap</h2></div></div></div><p>

El área de swap es activada con el comando <span><strong class="command">swapon</strong></span>. Este
comando le informa al kernel que el espacio de swap ya puede ser utilizado. La
ruta del área de swap es pasada como argumento, por lo tanto para comenzar a
paginar sobre un archivo de swap temporario, se podría ejecutar el comando de la
siguiente forma: 

</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>swapon /extra-swap</code></strong>
<code class="prompt">$</code> </pre><p>

Las áreas de swap pueden ser utilizadas automáticamente, incluyendo a ellas en
el archivo <code class="filename">/etc/fstab</code>: 

</p><pre class="screen">
/dev/hda8        none swap        sw     0     0 /swapfile        none        swap        sw     0 0
</pre><p>

Los scripts de arranques ejecutarán el comando <span><strong class="command">swapon -a</strong></span>, el
cual dará inicio al proceso de paginación de todos los espacios de swaps
listados en el archivo <span><strong class="command">/etc/fstab</strong></span>, de otro modo el comando
<span><strong class="command">swapon</strong></span> es usualmente usado solo cuando un espacio extra de
swap es necesario.</p><p>

Puede ser monitoreado el uso del área de swap con el comando
<span><strong class="command">free</strong></span>. Éste indicará el tamaño total de espacio swap
utilizado.  

</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>free</code></strong>
<code class="computeroutput">
total       used       free     shared   buffers
Mem:         15152      14896        256      12404       2528
-/+ buffers: 12368       2784
Swap:        32452       6684      25768
</code>
<code class="prompt">$</code> </pre><p>

La primera linea de la salida
(<code class="literal">Mem:</code>) muestra la memoria física. La columna "total" muestra
la memoria física usada por el kernel, el cual usualmente está cerca de un
megabyte. La columna "used" muestra el tamaño de memoria usado. La columna
"free" muestra la cantidad de memoria que no está siendo usada. La columna
"shared" muestra la cantidad de memoria que está siendo compartida entre varios
procesos; la mayor y la menor. La columna "buffer" muestra el tamaño actual del
cache de buffer en disco.</p><p>T

La última linea (<code class="literal">Swap:</code>) muestra la misma información para el
espacio de swap.  Si esta linea son todos ceros, el espacio de swap no está
activado.</p><p>T

La misma información está disponible a través del comando
<span><strong class="command">top</strong></span>, o usando el archivo <code class="filename">/proc/meminfo</code>
del sistema de archivos proc. Este es en realidad difícil de leer si se quiere
información sobre el uso de una determinada área de swap.</p><p>

Un área de swap puede ser desactivada con el comando <span><strong class="command">swapoff</strong></span>.
Generalmente esto no es necesario, excepto para las áreas de swap temporales.
Cualquier página que están haciendo uso del área de swap, son llevadas primero a
la memoria. Si no hay suficiente memoria física para alojarlas, serán movidas
entonces a otra área de swap. Si no hay suficiente memoria virtual para
almacenar todas estas páginas el sistema Linux sufrirá una degradación de
desempeño, durante la cual estará inestable durante un tiempo hasta que logre
recuperarse. Por este motivo se deberá chequear (ej. con
<span><strong class="command">free</strong></span>) que haya suficiente memoria disponible antes de remover
un área de swap.</p><p>

Todas las áreas de swap que fueron activadas automáticamente con el comando
<span><strong class="command">swapon -a</strong></span> pueden ser removidas con el comando
<span><strong class="command">swapoff -a</strong></span>; este busca en el archivo
<code class="filename">/etc/fstab</code> para encontrar cuales son las áreas a remover.
Cualquier espacio de swap activado manualmente permanecerá aun en uso.</p><p>

En muchas ocasiones una gran porción de espacio swap puede estar ocupado a pesar
de que hay una gran cantidad de memoria física libre. Esto suele ocurrir en
situaciones en la que fue necesario paginar una porción de memoria al área de
swap, pero en otro instante un proceso que ocupa mucha memoria física finaliza y
libera dicha memoria. Los datos que están en el área de swap no son llevados
automáticamente a memoria hasta que esto no sea necesario, por lo tanto la
memoria puede seguir libre durante un largo tiempo. No hay motivos para
preocuparse por esta situación pero es bueno saber que esto puede ocurrir.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s02.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s04.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Creando un espacio swap </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top">   

Compartiendo el área de swap con otro sistema operativo</td></tr></table></div></body></html>
