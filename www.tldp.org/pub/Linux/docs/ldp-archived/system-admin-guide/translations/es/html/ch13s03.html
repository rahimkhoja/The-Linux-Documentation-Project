<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Configurar y visualizar la hora</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Guía Para Administradores de Sistemas GNU/Linux"><link rel="up" href="ch13.html" title="Capítulo 13. Manteniendo La Hora"><link rel="prev" href="ch13s02.html" title="Los relojes de software y hardware"><link rel="next" href="ch13s04.html" title="Cuando el reloj es erróneo"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Configurar y visualizar la hora</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s02.html">Anterior</a> </td><th width="60%" align="center">Capítulo 13. Manteniendo La Hora</th><td width="20%" align="right"> <a accesskey="n" href="ch13s04.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2562208"></a>Configurar y visualizar la hora</h2></div></div></div><p>
En Linux, la zona horaria del sistema es determinada por <code class="filename">/etc/localtime</code> (algunas veces
es un enlace simbólico). Si es un enlace, entonces apunta a un archivo de datos de zona horaria
que describe la zona horaria local. Los archivos de datos de zonas horarias están ubicados en
<code class="filename">/usr/lib/zoneinfo</code> o <code class="filename">/usr/share/zoneinfo</code>. (Otras distribuciones de Linux pueden llegar
a determinar la zona horaria del sistema de manera diferente.)
</p><p>
Por ejemplo, en un sistema SuSE ubicado en New Jersey, <code class="filename">/etc/localtime</code> apuntaría a <code class="filename">/usr/share/zoneinfo/US/Eastern</code>.
</p><p>
Si no encuentra el directorio <code class="filename">zoneinfo</code> en <code class="filename">/usr/lib</code> o en <code class="filename">/usr/share</code>, intente encontrarlo ejecutando
<span><strong class="command">find /usr -type d -name zoneinfo</strong></span>, o consulte la documentación de su distribución Linux.
</p><p>
¿Qué sucede cuando existen usuarios utilizando el mismo sistema pero se encuentran ubicados en
zonas horarias diferentes?
Un usuario puede cambiar su zona horaria privada definiendo la variable del ambiente TZ.
Si TZ no se encuentra definida, entonces la zona horaria del sistema es la utilizada.
La sintaxis de la variable TZ se encuentra descripta en la página de manual de <span><strong class="command">tzset</strong></span>.
</p><p>
El comando <span><strong class="command">date</strong></span> muestra la hora y fecha actuales. Por ejemplo:

		<sup>[<a name="id2561886" href="#ftn.id2561886">54</a>]</sup>

	For example:

</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>date</code></strong>
<code class="computeroutput">Sun Jul 14 21:53:41 EET DST 1996</code>
<code class="prompt">$</code>
</pre><p>

Domingo, 14 de julio de 1996, alrededor de las 10 menos 10 de la noche, en la zona horaria llamada &#8220;<span class="quote">"EET DST"</span>&#8221;
(la cual puede ser el "horario de verano" del Día del Este de Europa).
<span><strong class="command">date</strong></span> puede también mostrar la hora en forma universal:


</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>date -u</code></strong>
<code class="computeroutput">Sun Jul 14 18:53:42 UTC 1996</code>
<code class="prompt">$</code>
</pre><p>

	<span><strong class="command">date</strong></span> también se utiliza para establecer la hora del reloj del kernel:
	

</p><pre class="screen">
<code class="prompt">#</code> <strong class="userinput"><code>date 07142157</code></strong>
<code class="computeroutput">Sun Jul 14 21:57:00 EET DST 1996</code>
<code class="prompt">#</code> <strong class="userinput"><code>date</code></strong>
<code class="computeroutput">Sun Jul 14 21:57:02 EET DST 1996</code>
<code class="prompt">#</code>
</pre><p>

Lea la página de manual de <span><strong class="command">date</strong></span> si desea conocer mayores detalles; ya que la sintaxis es un poco complicada.
Solo el usuario root puede modificar la fecha y/u hora. Aunque cada usuario puede definir su propia zona horaria,
el reloj es el mismo para todos.
</p><p>
<span><strong class="command">Date</strong></span> solo muestra o modifica el reloj de software. El comando <span><strong class="command">clock</strong></span> sincroniza los relojes de hardware y software.
Cuando el sistema inicia, el comando clock es utilizado para leer el reloj de hardware y actualizar
el reloj de software. Si necesita modificar ambos relojes, primero debe modificar el reloj de software con <span><strong class="command">date</strong></span>,
y luego sincronizar la hora del reloj por hardware con el comando <span><strong class="command">clock -w</strong></span>.
</p><p>
La opción <code class="option">-u</code> en el comando <span><strong class="command">lock</strong></span> le indica a clock que la fecha y hora (mostrada o definida)
se encuentra en formato de hora universal. <span class="emphasis"><em>Debe</em></span> utilizar la opción <code class="option">-u</code> correctamente, en
caso contrario, la computadora puede estar confundida sobre cual es la fecha y hora correcta.
</p><p>
Los relojes deben modificarse con cuidado y precisión.
Muchas partes de un sistema UNIX requieren que los relojes trabajen correctamente.
Por ejemplo, el demonio <span><strong class="command">cron</strong></span> ejecuta comandos periódicamente. Si cambia el reloj, el sistema puede
estar confundido en cuanto a la necesidad o no de ejecutar determinado comando.
Hubo una vez, en un sistema UNIX antiguo, en donde alguien adelantó el reloj 20 años en el futuro, y
entonces <span><strong class="command">cron</strong></span> quiso ejecutar
los comandos periódicos de veinte años, todos de una sola vez.
Las versiones actuales de <span><strong class="command">cron</strong></span> no tienen este problema, pero aún así debe ser cuidadoso con estos
detalles (pueden existir otros programas actuales que trabajen similarmente mal como "ese" viejo cron).
Grandes saltos en el tiempo (hacia el futuro o el pasado) son mas peligrosos que pequeñas diferencias.
</p><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.id2561886" href="#id2561886">54</a>] </sup>Tenga cuidado con el comando <span><strong class="command">time</strong></span>,
		ya que no muestra la fecha y hora del sistema.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s02.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch13s04.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Los relojes de software y hardware </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Cuando el reloj es erróneo</td></tr></table></div></body></html>
