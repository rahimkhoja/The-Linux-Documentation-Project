<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
 <META NAME="GENERATOR" CONTENT="lfparser_2.50">
 <META NAME="LFCATEGORY" CONTENT="Hardware">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf359, Hardware: Fn-F12: Hibernacja na laptopie IBM Thinkpad T20</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Jan Alonzo
 =LF=CAT___: Hardware
 =LF=TITLE_: Fn-F12: Hibernacja na laptopie IBM Thinkpad T20
 =LF=NUMBER: 359
 =LF=ANAME_: article359.shtml
 =LF=PARSER: 2.50
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">Mapa Serwisu</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">Indeks</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.html"><FONT color=
                 "#DDDDDD" size="2">Szukaj</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.html"><FONT color=
           "#FFFFFF">Nowo¶ci</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/"><FONT color=
           "#FFFFFF">Archiwum</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.html"><FONT color=
           "#FFFFFF">Linki</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">O Nas</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">Ten dokument jest dostêpny w nastêpuj±cych jêzykach: <A href="../../English/December2004/article359.shtml">English</a> &nbsp;<A href="../../ChineseGB/December2004/article359.shtml">ChineseGB</a> &nbsp;<A href="../../Deutsch/December2004/article359.shtml">Deutsch</a> &nbsp;<A href="../../Francais/December2004/article359.shtml">Francais</a> &nbsp;<A href="../../Polish/December2004/article359.shtml">Polish</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images2/JanAlonzo.jpg" alt="[Photo of the Author]" height="155" width="150">
<BR>   Jan Alonzo <a href="http://www.unpluggable.com/"><font size="1">(homepage)</font></a>
<BR><BR>
<I>O Autorze:</I><BR>
<!-- aboutauthor_start -->
<p>Jan u¿ywa Debiana na swoim IBM T20</p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO pl -->
<BR><BR><I>Tlumaczenie na jezyk polski:</I><BR>
Artur R. Sierp <small>&lt;artursp(malpa)o2.pl&gt;</small>
<br>
<!--
 =LF=TRANSTO=pl: Artur R. Sierp
-->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>Zawarto¶æ</i>:
<UL>
  <LI><A HREF="#359lfindex0">Wymagane oprogramowanie</A></LI>
  <LI><A HREF="#359lfindex1">Tworzymy partycje DOS</A></LI>
  <LI><A HREF="#359lfindex2">Formatowanie partycji</A></LI>
  <LI><A HREF="#359lfindex3">Tworzymy plik hibernacyjny</A></LI>
  <LI><A HREF="#359lfindex4">Dzwiêk</A></LI>
  <LI><A HREF="#359lfindex5">Testowanie</A></LI>
  <LI><A HREF="#359lfindex6">Najczê¶ciej pojawiaj±ce siê problemy</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=359">Dyskusja dotycz±ca tego artyku³u</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<H2>Fn-F12: Hibernacja na laptopie IBM Thinkpad T20</H2>
 <img src="../../common/images2/article359/t20.jpg" alt="t20" height="111" hspace="10" width="200">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>Notka</i>:
<P>
<!-- articleabstract_start -->


   	Artyku³ ten opisuje jak przeprowadziæ Hibernacje na dysk u¿ywaj±c IBM Thinkpada T20.
		Rozwi±zanie tutaj zaprezentowane mo¿e równie zadzia³aæ na innych Thinkpadach z zainstalowanym
    	biosem Phoenix, ale ja testowa³em to tylko na T20.

    
<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->


    <A NAME="359lfindex0">&nbsp;</A>
<H2>Wymagane oprogramowanie</H2>


    <p>Bêdziesz potrzebowa³(a) nastêpuj±cego oprogramowania do przeprowadzenia hibernacji:</p>

<table><tbody><tr><td>
    <ul>
      <li><b>fdisk</b> lub <b>cfdisk</b> do spartycjonowania dysku.</li>
    	<li><b>dosfstools</b> do stworzenia systemu plików FAT16 </li>
      <li><a href="http://samba.org/ftp/unpacked/junkcode/tphdisk.c">tphdisk.c
      (z samba.org)</a> do utworzenia pliku <em>hibernacji</em> (lokalna kopia: <a href="../../common/src2/article359/tphdisk.tar.gz">tphdisk.tar.gz</a>)</li>
    </ul>
</td></tr></tbody></table>

    <p><b>fdisk</b> zazwyczaj znajduje siê w domy¶lnej w ka¿dej instalacji Linuksa. Natomiast <b>cfdisk</b> jest
	domy¶lnie instalowany w dystrybucji <a href="http://www.debian.org">Debiana</a>. <b>tphdisk</b> by³ pisany
	przez Andrew Tridgell`a specjalnie pod jego Thinkpada T20.</p>
    <A NAME="359lfindex1">&nbsp;</A>
<H2>Tworzymy partycje DOS</H2>


    <p>Na pocz±tku musisz byæ pewny(a), ¿e posiadasz woln± partycje <em>PRIMARY</em> (przyp. t³.: mo¿e ich byæ 				maksymalnie 4) na swoim dysku.
    To jest bardzo wa¿ne, gdy¿ Thinkpad mo¿e przej¶æ w stan hibernacji tylko na partycje PRIMARY.
    Niestety nie mo¿e to byæ partycja rozszerzona <em>EXTENDED</em>.</p>

    <p>Zasada co do wielko¶ci tej partycji jest taka: "ilo¶æ pamiêci RAM + ilo¶æ pamiêci na karcie graficznej + dodatkowe MB dla bezpieczeñstwa".
    Je¿eli planujesz wkrótce dokupiæ RAMu to we¼ to pod uwage, gdy¿ pó¼niej bedziesz musia³(a) tworzyæ partycje od nowa.</p>

    <p>Jak ju¿ utworzy³e(a)¶ partycje, to ustaw jej typ na "Hidden Win95 (FAT16) LBA - "Ukryta Win95 (FAT16) LBA".
    Kod tej partycji to "1E".</p>
<pre class="code">RAM:     128 MB
VGA RAM:   8 MB

Wielko¶æ parycji: 150 MB ( dla bezpieczeñstwa)
</pre>

    <p>Od Ciebie zale¿y jak wiele dodasz dodakowych MB. Jak masz problemy to poszukaj ich rozwi±zania w sekcji:
    <strong> Najczê¶ciej pojawiaj±ce sie problemy</strong>.</p>

    <p>Teraz uruchom "grzyba" ;-) od nowa.</p>

    <A NAME="359lfindex2">&nbsp;</A>
<H2>Formatowanie partycji</H2>

	<p>mkdosfs jest czê¶ci± pakietu dosfstools</p>
<pre class="code">Jako root:

$ mkdosfs /dev/hdaX
</pre>
    <p>... gdzie hdaX jest partycj± któr± wcze¶niej utworzy³e(a)¶</p>

    <p>Teraz zamontuj partycje:</p>
<pre class="code">$ mount /dev/hdaX /mnt/hibernate
</pre>

    <A NAME="359lfindex3">&nbsp;</A>
<H2>Tworzymy plik hibernacyjny</H2>


    <ol>
  	<li>Pobierz tphdisk z <a href="http://samba.org/ftp/unpacked/junkcode/tphdisk.c">http://samba.org/ftp/unpacked/		junkcode/tphdisk.c</a> lub lokalnie:
	<a href="../../common/src2/article359/tphdisk.tar.gz">tphdisk.tar.gz</a></li>

      <li>Skompiluj tphdisk.</li>
      <li>Nastêpnie stwórz plik "save2dsk.bin". <strong>save2dsk.bin</strong> jest w³a¶nie tym plikiem hibernacyjnym, jego nazwa musi byæ taka i nie wymy¶laj innej.</li>
    </ol>
<pre class="code">$ gcc -o tphdisk tphdisk.c
$ ./tphdisk N &gt; /mnt/hibernate/save2dsk.bin

</pre>

    <p>... gdzie:</p>

    <p><strong>N</strong> = wielko¶æ pliku. Przypomnij sobie ustalanie wielko¶ci partycji.</p>

    <p>Uruchom on nowa laptopa.</p>

    <A NAME="359lfindex4">&nbsp;</A>
<H2>Dzwiêk</H2>

    Znane s± problemy ze sterownikami do karty dzwiêkowej cs45xx na T20 , które po przej¶ciu w stan zawieszenia "suspend" albo z powrotu po hibernacji, nie ustawiaj± poprawnie rejestrów sprzêtowych.
    Linuks bêdzie funkcjonowa³ ca³kowicie poprawnie, poza oczywi¶cie tym, ¿e nie us³yszysz ¿adnych dzwiêków.
    Jednym z rozwi±zañ jest rêczne uruchomienie "/etc/init.d/alsasound restart" je¿eli bardzo zale¿y Ci na dzwiêku.
    <br>
    Skocz do  <a href="http://panopticon.csustan.edu/thood/tp600lnx.htm#secsnd">http://panopticon.csustan.edu/thood/tp600lnx.htm#secsnd</a>
    po wiêcej informacji jak rozwi±zaæ problem  "cichego dzwiêku".

    <A NAME="359lfindex5">&nbsp;</A>
<H2>Testowanie</H2>


    <ul>
      <li>Naci¶nij <strong>Fn-F12</strong>.</li>
    </ul>

    <p>
    Ekran powiniej byæ teraz pusty a nastêpnie po kilku sekundach narzêdzie do hibernacji (zawarte w biosie) uruchomi sie i zacznie zrzucaæ zawarto¶æ RAMu na nowo utworzony plik hibernacyjny:
    <br>
    </p>

    <center>
      <img src="../../common/images2/article359/t20-hibernate.jpg" alt="Phoenix BIOS hibernate" height="299" width="320">
    </center>
    <br>
    <br>


    <A NAME="359lfindex6">&nbsp;</A>
<H2>Najczê¶ciej pojawiaj±ce siê problemy</H2>


    <ol>
      <li>Podczas tworzenia pliku hibernacyjnego pojawia mi siê komunikat: "Write Failed !" - "B³±d zapisu !"</li>

    <ul>
   	<li>Sprawdz czy masz wystarczaj±c± ilo¶æ miejsca na partycji. Spróbuj j± powiekszyæ i zobacz czy tym razem 				wszystko jest ok.</li>

      <li>Twoj Thinkpad powinien u¿ywaæ Phoenix BIOS.<br>
      </li>
    </ul>
     	<li>Kiedy uruchamiam stan hibernacji - to system "wisi"</li>

    <ul>

      <li>Upewnij sie ¿e prawid³owo zamontowa³e(a)¶ partycje do hibernacji</li>

      <li>Mo¿e gdzie¶ po drodze pope³ni³e(a)¶ b³±d. Sprawd¼ wszysko po kolei i upewnij sie ¿e jest tak, jak Ci opisywa³em</li>
    </ul>

    <li>"System is invalid"!</li>

    <ul>
      <li>Sformatowa³e(a)¶ partycje w innym systemie plików (spojrz na <em>Tworzymy partycje DOS</em> )</li>
    	<li>Mo¿e to jest partycja rozszerzona "EXTENDED" - a pamietasz jak mówi³em, ¿e musi to byæ parycja "PRIMARY"</li>
    </ul>
    </ol>
  

<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>Dyskusja dotycz±ca tego artyku³u</h2>
Komentarze do dyskusji:
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=359">&nbsp;Strona talkback&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF Strona G³ówna</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Go to the index of this issue</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">Strona prowadzona przez redakcjê LinuxFocus </A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Jan Alonzo</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>t³umaczenie:</font>
<TABLE summary="translators">
  <tr><td><font size="2">en --&gt; -- : Jan Alonzo (<a href="http://www.unpluggable.com/"><font size="1">homepage</font></a>)</font></td></tr>
  <tr><td><font size="2">en --&gt; pl: Artur R. Sierp &lt;artursp(malpa)o2.pl&gt;</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2004-12-07, generated by lfparser version 2.50</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
