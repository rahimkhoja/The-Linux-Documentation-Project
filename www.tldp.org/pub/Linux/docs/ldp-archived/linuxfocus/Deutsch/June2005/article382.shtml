<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <META NAME="GENERATOR" CONTENT="lfparser_2.52">
 <META NAME="LFCATEGORY" CONTENT="Applications">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf382, Applications: Werkzeuge f&uuml;r die Umwandlung von Papier nach HTML</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Iznogood
 =LF=CAT___: Applications
 =LF=TITLE_: Werkzeuge f&uuml;r die Umwandlung von Papier nach HTML
 =LF=NUMBER: 382
 =LF=ANAME_: article382.shtml
 =LF=PARSER: 2.52
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">Plan</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">Index</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.html"><FONT color=
                 "#DDDDDD" size="2">Suchen</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.shtml"><FONT color=
           "#FFFFFF">Nachrichten</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/index.html"><FONT color=
           "#FFFFFF">Archiv</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.shtml"><FONT color=
           "#FFFFFF">Links</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">&Uuml;ber uns</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">Dieses Dokument ist verf&uuml;bar auf: <A href="../../English/June2005/article382.shtml">English</a> &nbsp;<A href="../../Deutsch/June2005/article382.shtml">Deutsch</a> &nbsp;<A href="../../Francais/June2005/article382.shtml">Francais</a> &nbsp;<A href="../../Turkce/June2005/article382.shtml">Turkce</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images2/iznoT2.png" alt="[Photo of the Author]" height="100" width="100">
<BR>von  Iznogood <br> <small>&lt;iznogood/at/iznogood-factory.org&gt;</small>
<BR><BR>
<I>&Uuml;ber den Autor:</I><BR>
<!-- aboutauthor_start -->
<p>Schon seit einiger Zeit mit GNU/Linux befasst, benutze ich nun ein Debian-System. Trotz elektronischer Studien habe ich &uuml;berwiegend &Uuml;bersetzungsarbeiten f&uuml;r die GNU/Linux-Gemeinschaft gemacht.
</p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO de -->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>Inhalt</i>:
<UL>
  <LI><A HREF="#382lfindex0">Einf&uuml;hrung</A></LI>
  <LI><A HREF="#382lfindex1">Hardware</A></LI>
  <LI><A HREF="#382lfindex2">Software</A></LI>
  <LI><A HREF="#382lfindex3">Bash-Skript</A></LI>
  <LI><A HREF="#382lfindex4">Schlussfolgerung</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=382">Talkback f&uuml;r diesen Artikel</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfPdf ver 0.1 -->
<TABLE style="border-style:outset; border-width:1px" align="right" bgcolor="#ff9616" cellspacing="1"><TR><TD bgcolor="#ff9616">
        <a href="../Archives/lf-2005_06-0382.pdf"><small>PDF</small></a>
        </TD></TR></TABLE>
         

<H2>Werkzeuge f&uuml;r die Umwandlung von Papier nach HTML</H2>
 <img src="../../common/images2/article382/logo.png" alt="[Illustration]" height="100" hspace="10" width="100">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>Zusammenfassung</i>:
<P>
<!-- articleabstract_start -->

Hier geht es um eine Werkzeugkette zur Umwandlung eines herk&ouml;mmlichen Papiermagazins in HTML. Ich werde den Prozess vom Scannen bis zur HTMLifizierung erl&auml;utern.


<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->


<A NAME="382lfindex0">&nbsp;</A>
<H2>Einf&uuml;hrung</H2>


<p>Ich habe gelesen, das einige US-Universit&auml;ten es Google erlauben und dabei helfen, ihre Bibliothek in numerischer Form zu digitalisieren. Ich bin nicht Google und ich verf&uuml;ge nicht &uuml;ber eine Universit&auml;tsbibliothek, aber ich besitze einige alte Papermagazine &uuml;ber Elektronik. Die Papierqualit&auml;t war nicht die beste: Seiten l&ouml;sen sich, das Papier graut ...<br>
Daher habe ich mich entschlossen, es zu digitalisieren, denn obwohl die Ausgaben vor 10 Jahren stoppten, sind einige Artikel immer noch aktuell!</p>

<A NAME="382lfindex1">&nbsp;</A>
<H2>Hardware</H2>



<p>Am Anfang musste ich die Daten in den Computer bringen. Ein Scanner erm&ouml;glicht mir dies: nach einigen Kompatabilit&auml;tspr&uuml;fungen kaufte ich einen alten gebrauchten, aber billigen ScanJet 4300C, und nach einiger Internetnavigation fand ich die erforderlichen Einstellungen zur Konfiguration.
<br>

Unter Debian installierte ich sane, xsane, gocr und gtk-ocr ganz normal mit:

</p><pre class="code">apt-get install sane xsane gocr gtk-ocr
</pre>

als root.<br>
<br>
Sane und xsane sind die Scanner-Werkzeuge, die mein HP zum Arbeiten ben&ouml;tigt.<br>
Gocr und gtk-ocr sind Werkzeuge, um ein Bild in einen Text zu wandeln.<br>

<br>
Der Scanner ist ein USB-Scanner:

<pre class="code">sane-find-scanner
</pre>

dann wechselte ich nach /etc/sane.d/, um einige Dateien zu editieren:<br>
in dll.conf aktivierte ich<br>
<pre class="code">hp
niash
</pre>

und alles andere wurde auskommentiert.<br>
<br>
In hp.conf und niash.conf trug ich folgendes ein:<br>
<pre class="code">/dev/usb/scanner0
option connect-device
</pre>
und alles andere wurde auskommentiert.<br>
<br>
Ich ver&auml;nderte die Gruppenzugeh&ouml;rigkeit der Ger&auml;tedatei /dev/usb/scanner mit <br>

<pre class="code">chgrp scanner scanner0
</pre>

und f&uuml;gte iznogood als Anwender hinzu, um mir die Benutzung des Scanners zu erm&ouml;glichen, ohne root zu sein:<br>

<pre class="code">adduser iznogood scanner
</pre>

Nach einem Reboot war alles erledigt!<br>

<br>
Zum Speichern von Bildern sind DVD-Brenner billig genug, z. B. ein NEC 3520.
Ich benutze einen alten Kernel (2.4.18), daher benutzte der IDE-Brenner die SCSI-Schnittstelle:
<br>

Mittels modconf lade ich ide-scsi<br>
<br>
und erweiterte /etc/lilo.conf um:<br>
<pre class="code">append="hdb=ide-scsi ignore hdb"<br>
</pre>
dann ein Aufruf von
<pre class="code"> lilo
</pre>
um es zu aktualisieren.
<br>
In /etc/fstab f&uuml;gte ich<br>
<pre class="code">/dev/sdc0    /dvdrom     iso9660    user, noauto     0  0
</pre>hinzu.

Dann &auml;nderte ich die Gruppe scd0 auf cdrom<br>

<pre class="code">chgrp cdrom scd0
</pre>

Recht einfach.
<p></p>

<A NAME="382lfindex2">&nbsp;</A>
<H2>Software</H2>



<p>Zur Fortsetzung des Prozesses ben&ouml;tige ich einige Software:<br>

sane, xsane, gimp, gocr, gtk-ocr, einen Text-Editor, einen HTML-Editor und etwas Plattenplatz.<br>
<br>
Sane ist das Scan-Programm und xsane ist die grafische Oberfl&auml;che.<br>
Meine Vorstellung war, die maximale Aufl&ouml;sung beizubehalten und damit eine 50 MB-Datei f&uuml;r eine Seite zu erhalten, sie zur weiteren Verarbeitung auf Platte zu speichern und nach der Fertigstellung auf
eine DVD-ROM zu brennen.<br>

Ich setzte die Aufl&ouml;sung auf 600 dpi, etwas mehr Helligkeit und startete die Umwandlung. Da dies auf einem sehr altem Rechner (PII 350 MHz) lief, dauerte es etwas, aber ich erhielt ein gutes und
pr&auml;zises Bild. Ich speicherte es im png-Format.
<br>
Warum solch eine Aufl&ouml;sung und eine 50 MB-Datei? Ich wollte eine maximale Aufl&ouml;sung f&uuml;r das Archiv und f&uuml;r weitere digitale Verarbeitung. <br>
Mittels Gimp schnitt ich die Seite in grafische Bilder und Bilder, die nur den eingescannten Text enthielten.
<br>
Die Grafiken wurden mit einer reduzierten Gr&ouml;&szlig;e in png gespeichert, damit sie auf eine HTML-Seite passen und die Textabbilder wurden nicht reduziert, aber von Farbe auf Grauwerte ge&auml;ndert (Werkzeuge, Farbwerkzeuge, Schwellwert und OK) und f&uuml;r die weitere Verarbeitung mit der OCR-Software unter der .pcx-Erweiterung gespeichert.
<br>

<center><img alt="" src="../../common/images2/article382/pageexplod.png"  width="600" height="547">
</center><br>
<br>
Sie k&ouml;nnen das vollst&auml;ndig gescannte Bild oben rechts und die ausgeschnittenen Teile auf der linken Seite sehen.<br>

Wenn Sie die Bilder ausschneiden, k&ouml;nnen Sie Titel entfernen, da sie zuviel Platz wegnehmen und von gocr nicht erkannt werden.

<br>
Ich erstellte ein Unterverzeichnis ima f&uuml;r die Bilder und trennte es von den .pcx-Dateien.<br>
<br>
Nun kommt gtk-ocr ins Spiel, die Oberfl&auml;che zu gocr. gocr ist eine Software f&uuml;r optische Zeichenerkennung. Es ist recht einfach zu benutzen: Ich musste nur die Dateien ausw&auml;hlen und gtk-ocr verwaltet alles. Ich erhielt eine .txt-Datei f&uuml;r jede bearbeitete .pcx-Datei.
<br>
<br>
<center><img alt="" src="../../common/images2/article382/gtk-ocr.png" height="317" width="399"><br>
</center><br>
<br>
Mit einem einfachen

<pre class="code"> cat *.txt &gt; test.txt
</pre>

erhalte ich eine Datei test.txt und kann mit einem Texteditor einige Anpassungen vornehmen (nicht franz&ouml;sische Zeichen entfernt, Worte korrigiert ...).<br>
 <br>
Kopieren/Einf&uuml;gen in den HTML-Editor (f&uuml;r mich Mozilla Composer) und ich konnte mit der HTML-Erstellung beginnen (achten Sie darauf, nur relative Links zu benutzen, wenn Sie einige Bilder hinzuf&uuml;gen).
<br>
 <center><img alt="" src="../../common/images2/article382/visumoz.png" height="375" width="500"><br>
</center><br>
<p></p>



<A NAME="382lfindex3">&nbsp;</A>
<H2>Bash-Skript</H2>


<p>
Ich erinnere mich an einen Mathe-Lehrer, der mir, als ich jung wahr, folgende Maxime erz&auml;hlte:<br>
<br>
"Um faul zu sein, muss man intelligent sein". <br>
<br>
Ok, ich wurde faul!!!! ;-)<br>
Es gibt einige manuelle Aufgaben, die nicht leicht zu automatisieren sind (Verzeichnis-Erstellung, Scannen, Gimp-Ausschnitte und Dateierstellung). Der Rest kann automatisiert werden.
<br>
Es gibt ein fabelhaftes englisches Tutorial &uuml;ber Bash-Skripting, ABS (Advanced Bash Scripting Guide),
und ich fand eine franz&ouml;sische &Uuml;bersetzung. <br>
Sie finden die englische Version unter <a href="http://www.tldp.org/LDP/abs/html/">www.tldp.org</a>.
<br>
Dieses Handbuch erm&ouml;glichte mir das Schreiben eines kleinen Programmes. Hier ist das Skript:

</p><pre class="code">
#!/bin/bash

REPERTOIRE=$(pwd)
cd $REPERTOIRE
mkdir ../ima
mv *.png ../ima/
for i in `ls *`
do
 gocr -f UTF8 -i $i -o $i.txt
done
cd ..
mv ima/ $REPERTOIRE
cd $REPERTOIRE
cat *.txt | sed -e 's/_//g'  -e 's/(PICTURE)//g' -e 's/&igrave;/i/g' \
-e 's/&iacute;/i/g' -e 's/F/r/g' -e 's/&icirc;/i/g' &gt; test.txt
</pre>

<br>
Die Datei wurde ausf&uuml;hrbar gemacht und unter root-Berechtigung als ocr-rp nach /usr/local/bin kopiert. <br>
<br>
Damit es funktioniert, m&uuml;ssen wir uns in dem Verzeichnis befinden, das verarbeitet werden soll und folgendes eingeben:<br>
<pre class="code">ocr-rp
</pre>
pwd &uuml;bergibt den Verzeichnispfad an das Skript, dann wird ima ausserhalb des Verzeichnisses angelegt und alle .png-Dateien dorthin verschoben.
Alle Textdateien werden aufgelistet, mit gocr bearbeitet, in test.txt zusammengefasst und zur Anpassung franz&ouml;sischer Zeichen bearbeitet.
<br>
<br>
Und wir machen mit dem gleichen Prozess wie vorher weiter:
Kopieren/Einf&uuml;gen in Mozilla Composer.<br>
Die faulste L&ouml;sung w&uuml;rde es sein, dass das Skript der Textdatei einige Kopf- und Fusszeilen hinzuf&uuml;gt, es speichert und Mozilla Composer direkt &ouml;ffnet, aber ich bin zu faul. Das werde ich morgen machen!!!! ;-)
<p></p>

<A NAME="382lfindex4">&nbsp;</A>
<H2>Schlussfolgerung</H2>


Dies war nur ein &Uuml;berblick &uuml;ber Digitalisierungswerkzeuge und es gibt offensichtlich mehr als einen Weg und sicherlich auch bessere. Aber es gibt eine Konstante in der GNU/Linux-Welt: die Hardware-Werkzeuge werden von Jahr zu Jahr besser unterst&uuml;tzt und sind leichter zu benutzen. <br>
Z. B. benutzte ich einen DVD-Brenner zum Speichern meiner 50 MB-Bilder. Die Installation dauerte 10 Minuten und er funktionierte ohne Probleme mit k3b (Ich musste nur "apt-get install dvdrtools dvd+rwtools" aufrufen).<br>
Aber mit einem alten PII 350, 192MB RAM, einem billigen Scanner, DVD-Brenner und etwas Plattenplatz haben Sie ein Digitalisierungs-Werkzeug, das gut genug ist, um einem alten Elektronik-Papiermagazin "Unsterblichkeit" zu verleihen.
Hier sind die Webseiten der Hilfmittel, die ich f&uuml;r die Digitalisierung benutzte:
<br>
<ul>
<li>
Scanner ist ein HP ScanJet 4300C<br>
sane, <a href="http://www.sane-project.org/">www.sane-project.org</a><br>

xsane, <a href="http://www.xsane.org/">www.xsane.org</a><br>
</li><li>gimp, <a href="http://www.gimp.org/">www.gimp.org</a><br>
</li><li>gocr, gtk-ocr <a href="http://jocr.sourceforge.net/">jocr.sourceforge.net</a><br>
</li><li>ABS findet sich unter <a href="http://www.tldp.org/LDP/abs/html/">www.tldp.org</a><br>
</li><li>DVD-Brenner: NEC 3520<br>
</li><li>k3b <a href="http://www.k3b.org/">www.k3b.org</a><br>
</li></ul>



<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>Talkback f&uuml;r diesen Artikel</h2>
Jeder Artikel hat seine eigene Seite f&uuml;r Kommentare und R&uuml;ckmeldungen. Auf dieser Seite kann jeder eigene Kommentare abgeben und die Kommentare anderer Leser sehen:
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=382">&nbsp;Talkback Seite&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF Home</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Zum index dieser Ausgabe</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">Der LinuxFocus Redaktion schreiben</A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Iznogood</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>Autoren und &Uuml;bersetzer:</font>
<TABLE summary="translators">
  <tr><td><font size="2">en --&gt; -- : Iznogood <small>&lt;iznogood/at/iznogood-factory.org&gt;</small></font></td></tr>
  <tr><td><font size="2">en --&gt; fr: Iznogood &lt;iznogood/at/iznogood-factory.org&gt;</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2005-07-21, generated by lfparser version 2.52</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
