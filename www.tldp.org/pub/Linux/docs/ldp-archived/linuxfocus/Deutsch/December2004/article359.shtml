<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <META NAME="GENERATOR" CONTENT="lfparser_2.51">
 <META NAME="LFCATEGORY" CONTENT="Hardware">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf359, Hardware: Fn-F12: Energiesparfunktionen auf einem IBM Thinkpad T20 Laptop einrichten</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Jan Alonzo
 =LF=CAT___: Hardware
 =LF=TITLE_: Fn-F12: Energiesparfunktionen auf einem IBM Thinkpad T20 Laptop einrichten
 =LF=NUMBER: 359
 =LF=ANAME_: article359.shtml
 =LF=PARSER: 2.51
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">Plan</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">Index</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.html"><FONT color=
                 "#DDDDDD" size="2">Suchen</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.shtml"><FONT color=
           "#FFFFFF">Nachrichten</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/index.html"><FONT color=
           "#FFFFFF">Archiv</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.shtml"><FONT color=
           "#FFFFFF">Links</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">&Uuml;ber uns</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">Dieses Dokument ist verf&uuml;bar auf: <A href="../../English/December2004/article359.shtml">English</a> &nbsp;<A href="../../ChineseGB/December2004/article359.shtml">ChineseGB</a> &nbsp;<A href="../../Deutsch/December2004/article359.shtml">Deutsch</a> &nbsp;<A href="../../Francais/December2004/article359.shtml">Francais</a> &nbsp;<A href="../../Polish/December2004/article359.shtml">Polish</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images2/JanAlonzo.jpg" alt="[Photo of the Author]" height="155" width="150">
<BR>von  Jan Alonzo <a href="http://www.unpluggable.com/"><font size="1">(homepage)</font></a>
<BR><BR>
<I>&Uuml;ber den Autor:</I><BR>
<!-- aboutauthor_start -->
<p>Jan betreibt sein IBM T20 mit Debian GNU/Linux.</p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO de -->
<BR><BR><I>&Uuml;bersetzt ins Deutsche von:</I><BR>
Mario M. Knopf (<a href="http://www.neo5k.de/"><font size="1">homepage</font></a>)
<br>
<!--
 =LF=TRANSTO=de: Mario M. Knopf
-->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>Inhalt</i>:
<UL>
  <LI><A HREF="#359lfindex0">Software-Voraussetzungen</A></LI>
  <LI><A HREF="#359lfindex1">Erstellen der DOS-Partition</A></LI>
  <LI><A HREF="#359lfindex2">Formatieren der Partition</A></LI>
  <LI><A HREF="#359lfindex3">Erstellung der STD-Datei</A></LI>
  <LI><A HREF="#359lfindex4">Sound</A></LI>
  <LI><A HREF="#359lfindex5">Testphase</A></LI>
  <LI><A HREF="#359lfindex6">Fehlerbehandlung</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=359">Talkback f&uuml;r diesen Artikel</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<H2>Fn-F12: Energiesparfunktionen auf einem IBM Thinkpad T20 Laptop einrichten</H2>
 <img src="../../common/images2/article359/t20.jpg" alt="t20" height="111" hspace="10" width="200">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>Zusammenfassung</i>:
<P>
<!-- articleabstract_start -->

	Dieser Artikel erkl&auml;rt, wie man ein IBM Thinkpad T20 dazu bringt, mit <i>Suspend to disk (STD)</i> umzugehen. Die hier vorgestellte L&ouml;sung k&ouml;nnte auch auf anderen Thinkpads mit einem Phoenix-BIOS funktionieren, wurde von mir aber nur mit dem Modell T20 getestet.

    
<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->


    <A NAME="359lfindex0">&nbsp;</A>
<H2>Software-Voraussetzungen</H2>


    <p>Um die Energiesparfunktion <i>STD</i> einzurichten, m&uuml;ssen die folgenden Programme installiert sein:</p>

<table><tbody><tr><td>
    <ul>
      <li>fdisk oder cfdisk zur Partitionierung der Festplatte.</li>

      <li>dosfstools zur Erstellung des FAT16-Dateisystems.</li>

      <li><a href="http://samba.org/ftp/unpacked/junkcode/tphdisk.c">tphdisk.c
      (von samba.org)</a> zur Erstellung der <i>STD</i>-Datei
      (lokale Kopie: <a href="../../common/src2/article359/tphdisk.tar.gz">tphdisk.tar.gz</a>).</li>
    </ul>
</td></tr></tbody></table>

    <p>F&uuml;r gew&ouml;hnlich ist fdisk unter Linux bereits vorinstalliert. Dies trifft auch f&uuml;r cfdisk unter Debian GNU/Linux zu. tphdisk wurde von Andrew Tridgell f&uuml;r sein Thinkpad T20 geschrieben.</p>

    <A NAME="359lfindex1">&nbsp;</A>
<H2>Erstellen der DOS-Partition</H2>


    <p>Zuerst sollte man sich vergewissern, da&szlig; man &uuml;ber eine freie Prim&auml;rpartition verf&uuml;gt. Dies ist wichtig, da <i>Suspend to disk</i> auf IBM Thinkpads nur mit Prim&auml;rpartitionen funktioniert.</p>

    <p>Die Daumenregel lautet: "Gr&ouml;&szlig;e des Arbeitsspeicher + Gr&ouml;&szlig;e des Grafikkartenspeicher + zus&auml;tzliche Megabyte zur Sicherheit". Falls der Arbeitsspeicher des Systems in naher Zukunft erweitert wird, sollte die Gesamtkapazit&auml;t des zuk&uuml;nftigen Speichers ber&uuml;cksichtigt werden, da die Partition ansonsten neu erstellt werden mu&szlig;.</p>

    <p>Sofern die Partition erstellt wurde, wird ihr der Typ "Hidden Win95 (FAT16) LBA" zugewiesen. Der Partitions-Code dazu lautet "1E".</p>
<pre class="code">RAM:     128 MB
VGA RAM:   8 MB

Hibernation partion: 150 MB (for safety)
</pre>

    <p>Die Gr&ouml;&szlig;e der Partition h&auml;ngt von den eigenen Pr&auml;ferenzen ab und kann auch nach selbigen erweitert werden. Falls Probleme auftreten, sollte ein Blick in den Abschnitt <strong>Fehlerbehandlung</strong> geworfen werden.</p>

    <p>Wurde die Partition nun erfolgreich erstellt, mu&szlig; der Laptop neu gestartet werden.</p>

    <A NAME="359lfindex2">&nbsp;</A>
<H2>Formatieren der Partition</H2>


    <p>mkdosfs ist ein Bestandteil des dosfstools-Pakets.</p>
<pre class="code">As root:

$ mkdosfs /dev/hdaX
</pre>

    <p>... wobei hdaX die eben im Abschnitt <strong>Erstellen der DOS-Partition</strong> erzeugte Partition darstellt.</p>

    <p>Nun wird die Partition gemountet:</p>
<pre class="code">$ mount /dev/hdaX /mnt/hibernate
</pre>

    <A NAME="359lfindex3">&nbsp;</A>
<H2>Erstellung der STD-Datei</H2>


    <ol>
      <li>Herunterladen von tphdisk bei <a href="http://samba.org/ftp/unpacked/junkcode/tphdisk.c">http://samba.org/ftp/unpacked/junkcode/tphdisk.c</a>
      oder die lokale Kopie: <a href="../../common/src2/article359/tphdisk.tar.gz">tphdisk.tar.gz</a></li>

      <li>Kompilieren von tphdisk</li>

      <li>Erstellen der Datei "save2dsk.bin". <strong>save2dsk.bin</strong> ist der Dateiname der <i>STD</i>-Datei und kann nicht beliebig gew&auml;hlt werden.</li>
    </ol>
<pre class="code">$ gcc -o tphdisk tphdisk.c
$ ./tphdisk N &gt; /mnt/hibernate/save2dsk.bin

</pre>

    <p>... wobei f&uuml;r <strong>N</strong> gilt:</p>

    <p><strong>N</strong> = Gesamtgr&ouml;&szlig;e der Datei, welche mit der oben genannten Daumenregel errechnet werden kann. Danach erfolgt ein weiterer Neustart des Laptops.</p>

    <A NAME="359lfindex4">&nbsp;</A>
<H2>Sound</H2>

	Es ist ein bekanntes Problem, da&szlig; der Soundkartentreiber "cs46xx" sich nach dem Aufwachen aus dem Energiesparmodus (<i>STD</i>) nicht wieder initialisiert. Dies &auml;u&szlig;erst sich in der Tatsache, da&szlig; Linux nach dem Beenden des Energiesparmodus zwar wie gewohnt weiterarbeitet, aber keinerlei akustisches Signal mehr von sich gibt. Abhilfe schafft hier das manuelle Neustarten des Soundsystems mittels "/etc/init.d/alsasound restart". Weitere Ratschl&auml;ge zur L&ouml;sung dieses Problems lassen sich unter <a href="http://panopticon.csustan.edu/thood/tp600lnx.htm#secsnd">http://panopticon.csustan.edu/thood/tp600lnx.htm#secsnd</a> finden.

    <A NAME="359lfindex5">&nbsp;</A>
<H2>Testphase</H2>


    <ul>
      <li>Dr&uuml;cken der Tastenkombination <strong>Fn-F12</strong>.</li>
    </ul>

    <p>Der Monitor zeigt zun&auml;chst noch nichts an, jedoch sollte das Phoenix-BIOS durch den Energiesparmodus nach wenigen Sekunden in der Lage sein, den aktuellen Inhalt des Arbeitsspeichers auf die neu erstellte Partition zu schreiben.</p>

    <center>
      <img src="../../common/images2/article359/t20-hibernate.jpg" alt="Phoenix-BIOS hibernate" height="299" width="320">
    </center>
    <br>
    <br>


    <A NAME="359lfindex6">&nbsp;</A>
<H2>Fehlerbehandlung</H2>


    <ol>
      <li>W&auml;hrend der Erstellung der <i>STD</i>-Datei erhalte ich die Fehlermeldung "Write Failed"!</li>
    </ol>

    <ul>
      <li>Wurde die gew&uuml;nschte Partitionsgr&ouml;&szlig;e richtig angegeben? Zur L&ouml;sung des Problems besteht die M&ouml;glichkeit, die Partition zu vergr&ouml;&szlig;ern.</li>
      <li>Das Thinkpad-Modell sollte ein Phoenix-BIOS benutzen.<br>
      </li>
    </ul>

    <ol>
      <li>Wenn sich mein Laptop in den Energiesparmodus schaltet, h&auml;ngt sich das System auf!</li>
    </ol>

    <ul>
      <li>Wurde die Partition richtig beziehungsweise &uuml;berhaupt gemountet?</li>
      <li>Weiterhin besteht die M&ouml;glichkeit, da&szlig; etwas falsch gemacht wurde. In diesem Fall sollte noch einmal von Anfang an &uuml;berpr&uuml;ft werden, ob jeder der genannten Schritte korrekt nachvollzogen wurde.</li>
    </ul>

    <ol>
      <li>"System is invalid"!</li>
    </ol>

    <ul>
      <li>Die Partition wurde mit dem falschen Dateisystem formatiert. Dies wurde bereits im Abschnitt <strong>Erstellen der DOS-Partition</strong> besprochen.</li>
      <li>Es handelt sich um eine logische (innerhalb einer erweiterten) Partition. <i>Suspend to Disk</i> funktioniert in diesem Fall jedoch nur mit Prim&auml;rpartitionen.</li>
    </ul>
  

<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>Talkback f&uuml;r diesen Artikel</h2>
Jeder Artikel hat seine eigene Seite f&uuml;r Kommentare und R&uuml;ckmeldungen. Auf dieser Seite kann jeder eigene Kommentare abgeben und die Kommentare anderer Leser sehen:
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=359">&nbsp;Talkback Seite&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF Home</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Zum index dieser Ausgabe</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">Der LinuxFocus Redaktion schreiben</A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Jan Alonzo</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>Autoren und &Uuml;bersetzer:</font>
<TABLE summary="translators">
  <tr><td><font size="2">en --&gt; -- : Jan Alonzo (<a href="http://www.unpluggable.com/"><font size="1">homepage</font></a>)</font></td></tr>
  <tr><td><font size="2">en --&gt; de: Mario M. Knopf (<a href="http://www.neo5k.de/"><font size="1">homepage</font></a>)</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2004-12-18, generated by lfparser version 2.51</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
