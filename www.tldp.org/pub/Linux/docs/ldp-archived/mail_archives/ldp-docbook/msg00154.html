<!-- MHonArc v2.5.0b2 -->
<!--X-Subject: Re: TOCs in articles? -->
<!--X-From-R13: Rna Kbex <qlbexNyvahkpner.pbz> -->
<!--X-Date: Mon, 17 Jul 2000 09:08:51 &#45;0400 (EDT) -->
<!--X-Message-Id: 397304F8.A6B89724@linuxcare.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3972F512.E218D55D@linuxcare.com -->
<!--X-Reference: 200007171212.OAA22528@penthesilea.sfs.nphil.uni&#45;tuebingen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: TOCs in articles?</title>
<link rev="made" href="mailto:dyork@linuxcare.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00153.html">Date Prev</a>][<a href="msg00155.html">Date Next</a>][<a href="msg00153.html">Thread Prev</a>][<a href="msg00156.html">Thread Next</a>][<a href="maillist.html#00154">Date Index</a>][<a href="threads.html#00154">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: TOCs in articles?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: ldp-docbook &lt;<A HREF="mailto:ldp-docbook@lists.linuxdoc.org">ldp-docbook@lists.linuxdoc.org</A>&gt;</li>
<li><em>Subject</em>: Re: TOCs in articles?</li>
<li><em>From</em>: Dan York &lt;<A HREF="mailto:dyork@linuxcare.com">dyork@linuxcare.com</A>&gt;</li>
<li><em>Date</em>: Mon, 17 Jul 2000 09:07:04 -0400</li>
<li><em>Organization</em>: Linuxcare</li>
<li><em>References</em>: &lt;<a href="msg00153.html">3972F512.E218D55D@linuxcare.com</a>&gt; &lt;200007171212.OAA22528@penthesilea.sfs.nphil.uni-tuebingen.de&gt;</li>
<li><em>Resent-date</em>: Mon, 17 Jul 2000 09:08:51 -0400 (EDT)</li>
<li><em>Resent-from</em>: <A HREF="mailto:ldp-docbook@lists.debian.org">ldp-docbook@lists.debian.org</A></li>
<li><em>Resent-message-id</em>: &lt;FmlDBB.A.4oE.wVwc5@murphy&gt;</li>
<li><em>Resent-sender</em>: <A HREF="mailto:ldp-docbook-request@lists.debian.org">ldp-docbook-request@lists.debian.org</A></li>
<li><em>Sender</em>: <A HREF="mailto:dyork@mercury.mv.net">dyork@mercury.mv.net</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
ldp-docbook,

Frederik Fouvry from the KDE DocBook Team solved my problem. The relevant
part of his message is below.

Frederik Fouvry wrote:
&gt;
&gt; | When I used &lt;book&gt;... &lt;/book&gt; as the overrall element, I simply put
&gt; | a &lt;toc&gt;&lt;/toc&gt; at the point where I wanted the TOC and it was very nicely
&gt; | generated.
&gt; 
&gt; There are two variables in the style sheets (forgot which ones, but
&gt; they should be in the dbparam.dsl file), one for book and one for
&gt; article.  Just set the one for articles to t and run the conversion.

He was right on target. There's a variable there called
'%generate-article-toc%' that is set to &quot;f&quot; by default in the Norman
Walsh DocBook DSSSL files.  I changed it to &quot;t&quot;, re-ran openjade, and
my TOC appeared there perfectly fine. (and without a &lt;toc&gt;&lt;/toc&gt; tag set
which Frederik tells me is only for manual TOC creation)

Interestingly, I looked in the &quot;ldp.dsl&quot; file that I downloaded from the LDP
site and found that in that file &quot;%generate-article-toc%&quot; is set to &quot;t&quot;
also.  However, before I changed &quot;dbparams.dsl&quot;, I did try running openjade
with 'ldp.dsl' and found that it looked pretty much identical to when I ran
openjade with 'docbook.dsl' - and did not have a TOC.  After I changed the
dbparams.dsl file, using openjade with either ldp.dsl or docbook.dsl seemed
to generate the same output - and both with a TOC.

However, the TOC was only one-level deep and I thought one of the things the
LDP stylesheet was to do was to make the TOC deeper. And from how I read it,
I would have expected the ldp.dsl file to override the dbparams.dsl file.

Is it possible that I don't have the &quot;ldp.dsl&quot; stylesheet installed correctly?

I just put it in the directory where the Norman Walsh stylesheets are (on my
system, /usr/lib/sgml/stylesheets/docbook/html and .../docbook/print). I called
it with:

 openjade -d /usr/lib/sgml/stylesheets/docbook/html/ldp.dsl -t sgml
NIS-HOWTO.sgml

Thanks to Frederik I now have a TOC.  If someone can tell me if I have the LDP
stylesheet installed wrong, that might solve future problems.

Thanks,
Dan


--
Dan York,  Linuxcare, Inc.
dyork@linuxcare.com    <A  HREF="http://www.linuxcare.com/">http://www.linuxcare.com/</A>
1-603-264-0129 mobile, 603-268-0691 tel, 603-268-0103 fax
Linuxcare.  Support for the revolution.


--  
To UNSUBSCRIBE, email to ldp-docbook-request@lists.debian.org
with a subject of &quot;unsubscribe&quot;. Trouble? Contact listmaster@lists.debian.org

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00156" href="msg00156.html">Dan apologizes, and then rants... (Was Re: TOCs in articles?)</a></strong>
<ul><li><em>From:</em> Dan York &lt;dyork@linuxcare.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00153" href="msg00153.html">TOCs in articles?</a></strong>
<ul><li><em>From:</em> Dan York &lt;dyork@linuxcare.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00153.html">TOCs in articles?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00155.html">Re: TOCs in articles?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00153.html">TOCs in articles?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00156.html">Dan apologizes, and then rants... (Was Re: TOCs in articles?)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00154"><strong>Date</strong></a></li>
<li><a href="threads.html#00154"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
