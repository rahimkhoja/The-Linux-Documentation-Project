<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Linux Ext2fs Undeletion mini-HOWTO: Preparing to change inodes directly</TITLE>
 <LINK HREF="Ext2fs-Undeletion-7.html" REL=next>
 <LINK HREF="Ext2fs-Undeletion-5.html" REL=previous>
 <LINK HREF="Ext2fs-Undeletion.html#toc6" REL=contents>
</HEAD>
<BODY>
<A HREF="Ext2fs-Undeletion-7.html">Next</A>
<A HREF="Ext2fs-Undeletion-5.html">Previous</A>
<A HREF="Ext2fs-Undeletion.html#toc6">Contents</A>
<HR>
<H2><A NAME="sec-prep-chg"></A> <A NAME="s6">6. Preparing to change inodes directly</A></H2>

<P>My advice?  Don't do it this way.  I really don't think it's wise to play
with a file system at a low enough level for this to work.  This method also
has problems in that you can only reliably recover the first 12 blocks of
each file.  So if you have any long files to recover, you'll normally have
to use the other method anyway.  (Although see section
<A HREF="Ext2fs-Undeletion-12.html#sec-easier">Will this get easier in future?</A> for additional
information.)
<P>If you feel you must do it this way, my advice is to copy the raw partition
data to an image on a different partition, and then mount this using loopback:
<P>
<BLOCKQUOTE><CODE>
<PRE>
# cp /dev/hda5 /root/working
# mount -t ext2 -o loop /root/working /mnt
</PRE>
</CODE></BLOCKQUOTE>
<P>(Note that obsolete versions of <CODE>mount</CODE> may have problems with this.  If
your <CODE>mount</CODE> doesn't work, I strongly suggest you get the latest version,
or at least version 2.7, as some very old versions have severe security
bugs.)
<P>Using loopback means that if and when you completely destroy the file
system, all you have to do is copy the raw partition back and start over.
<P>
<P>
<HR>
<A HREF="Ext2fs-Undeletion-7.html">Next</A>
<A HREF="Ext2fs-Undeletion-5.html">Previous</A>
<A HREF="Ext2fs-Undeletion.html#toc6">Contents</A>
</BODY>
</HTML>
