<HTML
><HEAD
><TITLE
>Setting up international keyboard in X Window System with Xmodmap and XKB</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="How to setup international keyboard in X Window with Xmodmap and XKB"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Introduction"
HREF="x9.html"><LINK
REL="NEXT"
TITLE="How to do it: this experimental solution is a legacy issue - do not read it if you use newer systems"
HREF="x89.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>How to setup international keyboard in X Window with Xmodmap and XKB</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x9.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x89.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN53"
></A
>2. Setting up international keyboard in X Window System with Xmodmap and XKB</H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN55"
></A
>2.1. Quick start</H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN57"
></A
>2.1.1. Xmodmap</H3
><P
>Make your own .Xmodmap file according to information in this file.</P
><P
>  
Write the following to your .bash_profile in your home directory:</P
><P
>export LANG=language</P
><P
>where "language" is the language you want to use. The languages can be
found in the file locale.alias in /usr/X11R6/lib/X11/locale.
NOTE: some programs, like Mozilla, don't care about these user's locale settings.
Run "exit" command on the console and log in again for Bash to read
the statement from its .bash_profile. </P
><P
>Install fonts (best are ISO8859-2 Type1 fonts for Eastern Europe, Czech 
or Slovak), put them in your font path in the /etc/X11/XF86Config file
(on some newer systems this is not necessary). Start X Server (startx). 
If you use GDM or XDM and your X server is already running, restart X server.  
Run the command "xmodmap  /.Xmodmap" from the X terminal window to force
the system to read the .Xmodmap file. The dot does not have to be there. Name
the xmodmap keyboard map whatever way you want. Switch keyboard by pressing
a key (it is usually right Alt, Scroll Lock, it depends on how switching is
defined in the xmodmap file). That's all. NOTE: This HOWTO is for the X Window 
System, use of national keyboards on the console is not explained here. If 
you are desperate, try to issue the commands like: </P
><P
>setfont LatArCyrHeb-14 -m 8859-2  </P
><P
>followed by </P
><P
>loadkeys sk </P
><P
>("sk" stands for the Slovak language). Most Linuxes have their own utilities 
to set up console keyboards). </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN68"
></A
>2.1.2. XKB</H3
><P
>Provided you have your fonts installed, just open the X terminal window
and issue a command: setxkbmap kb, where "kb" is the keyboard layout you
want to use, for example:</P
><P
>setxkbmap si</P
><P
>for the Slovenian language</P
><P
>setxkbmap de</P
><P
>for the German language</P
><P
>All the language names you may use are located in /usr/X11R6/lib/X11/xkb/symbols
directory. </P
><P
>Alternatively, if you are using KDE 2.0, open the KDE Start button, click 
on Preferences, Personalization, Country &#38; Language and choose ISO8859-2 
charset. Note that this may be slightly different depending on the Linux or 
KDE distribution. In newer Linux distributions you don't have to do this 
anymore; in Slackware Linux 8.1, RedHat 8.0 or Mandrake 9 with KDE 3.0, 
for example, just open Preferences, Peripherals, Keyboard - choose your keyboard 
layout and everything should work fine (if you have the fonts pertinent for the
language of your choice installed, obviously).</P
><P
>You will see a language icon on the KDE panel. Switch the keyboard 
(NOTE: this is for XKB, my xmodmap definition uses Scroll Lock for switching, 
other xmodmap files use Right Alt) and enjoy.</P
><P
>You may alternatively edit the /etc/X11/Xf86Config file as explained in 
the Danish Howto, or issue this command in an X terminal window for 
the Slovak keyboard:</P
><P
>setxkbmap -model pc102 -symbols 'czsk(us_sk_qwertz)'
setxkbmap cs -option grp:shift_toggle</P
><P
>In RedHat 7.2 and Mandrake 8.1, it is enough to run the following 
setxkbmap command from an X Terminal Window (assuming you have correct
fonts installed):</P
><P
>setxkbmap sk</P
><P
>setxkbmap si</P
><P
>setxkbmap de</P
><P
>qwerty or qwertz means that the letter z Z and y Y are swapped. </P
><P
>To see a variety of language maps (symbols), look in the file symbols.dir
in /usr/X11R6/lib/X11/xkb directory. </P
><P
>Some X Window managers override .Xmodmap setting. If .Xmodmap isn't
read by X automatically after starting the X Window System, a good way 
is to force the system to read it from your root (home) directory. 
You will do this by issuing the following command from an X terminal window:</P
><P
>xmodmap  /.Xmodmap</P
><P
>After I installed the Slovak keyboard in KDE with Xmodmap file that used
definitions for ISO8859-2 keycode entities (lcaron, scaron, etc.), some changes
had to be done in the system in relation to a Linux or XFree distribution. The
changes mostly pertained to dead keys that did not work. </P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x9.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x89.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Introduction</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>How to do it: this experimental solution is a legacy issue - do not read it if you use newer systems</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>