<HTML
><HEAD
><TITLE
>Procedure</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Linux + Windows HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Overview"
HREF="overview.html"><LINK
REL="NEXT"
TITLE="Choices"
HREF="choices.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux + Windows HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="overview.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="choices.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="PROCEDURE"
></A
>2. Procedure</H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="REFERENCE"
></A
>2.1. Reference</H2
><P
></P
><OL
TYPE="1"
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
Backup your software and data</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Oscar.gif"></SPAN
>
Compile a catalog of hardware component models and software versions.</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Oscar.gif"></SPAN
>
Attach new disks.</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
Compact the existing software and data.</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
Repartition the disk.</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
Format the new partitions.</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
Load the new operating systems.</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
Install the boot manager (uc).</P
></LI
><LI
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Oscar.gif"></SPAN
>
Cross mount the devices.</P
></LI
></OL
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="BACKUP"
></A
>2.1.1. Backup</H3
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
	Installing linux on Nancy system will involve repartitioning.  Any time you repartition a hard disk you run a significant risk of losing data on the disk.  More precisely repartitioning does not actually cause data loss, but does tend to discover data that was lost piror.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Tom warned Nancy that she should backup everything before starting.  Familiar with pluming repair, Tom knew that whey you shut off the water for 10min to replace a dripping faucet, you often find that the pipes in the floor were rusted and leaking.  Nancy knew nothiing of plumbing, but she had a good book collection and had moved several times.  She knew that bookshelves often break when you move them.</P
><P
>	Since Lisa is buying a new computer, she has nothing yet to backup.  When Oscar asked for the backups of the crashed computer he was met with the usual blank expressions.  His job is essentially ot make a backup of the otherwise lost data.</P
><P
>	This version of this HOWTO does not detail how to backup.  If you wish to see more information on backing up or if you wish to provide information please contact the maintainer.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="CATALOG"
></A
>2.1.2. Catalog</H3
><P
>	During installation, the size of disks, and other accurate specifications will be necessary.  Entry of slightly wrong values will result in subtle problems that may not show up immediately but will often be chronic, frustratingly difficult to diagnose, and maybe impossible to fix.</P
><P
>	Windows and your linux distribution may not support the same hardware.  You should see the Hardware Compatibility HOWTO for a list of what is known to be compatible or incompatible.</P
><P
>	In general Windows is the more restrictive with exception of WinModems/WinPrinters/....  Any hardware supported by Windows will usually be supported by linux, though not necessarily included in your distribution.  Much hardware, especially the old and the cutting edge, may be supported by linux but not by Windows.  If not included in your distribution, you can usually download linux drivers and or modules from the Internet.</P
><P
>	Winmodems, Winprinters, Winscanners, etc. are not supportable under linux.  These devices are actually firmware that depend on proprietary Windows software.  In the United States it is illegal to sell a linux distribution that supports these devices.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
	Lisa has dealt with software long enough to know the value of specifications.  Even before purchasing a computer, Lisa has already created a log.  For each computer being considered from each prospective vendor, Lisa has a list of each component, its model and capabilities.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Tom knows that one of the least expensive means to support reliability in any complex system (computer, airplane, car, etc.) is by keeping accurate maintenance records.  Many (if not most) of the compatiblity problems reported by Tom's students would be prevented if accurate records were kept and consulted.</P
><P
>	Tom usually recommends avoiding WinModems, etc. because their performance limitations are too severe for most people..</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Oscar.gif"></SPAN
>
	Oscar's company keeps records on the hardware components of each  computer.  Before trying to fix any problem, Oscar examines the log and often finds that intractible problems becomre easily solved when you know the model details.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="ATTACH"
></A
>2.1.3. Attach</H3
><P
>	One of the useful features of linux is the wide range of diagnostic and repair tools that it supports.  The easy ability to write scripts also makes it easy to write worms and do other recovery operations.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Oscar.gif"></SPAN
>
	Oscar has easy access to a spare hard drive.  He checked the Hardware Compatibility HOWTO to select a hard drive model.</P
><P
></P
><UL
><LI
><P
>Oscar grounds himself with a wrist strap to avoid accidental electrostatic damage.</P
></LI
><LI
><P
>He opens the case according to the service manual.</P
></LI
><LI
><P
>He slides the disk into the secondary drive slot and attaches an IDE cable.</P
></LI
><LI
><P
>Oscar closes the case and ungrounds himself.</P
></LI
></UL
><P
>This version of this HOWTO does not detail how to attach new drives.  If you wish to see more information on attaching or if you wish to provide information please contact the maintainer.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="COMPACT"
></A
>2.1.4. Compact</H3
><P
>	Most new computers preloaded with Windows are delivered with a single FAT32 partition that occupies the entire disk.  Before loading a second operating system on a shared disk, it must be split into at least two partitions, since Windows and some linux distributions will not tolerate another operating system on the same partition.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Software is normally stored distributed across the disk partition.  Before splitting a partition, all the data must be moved to the start of the partition, so that when the partition is split, the old software and data won't be lost.   Tom warns Lisa, Nancy, and especially Oscar that compacting is not reversible.  If the partition is error-free, no active files will be lost, but disconnected (deleted) files may be lost.  If the partition has errors, tools exist that can often (but not always) recover disconnected files before compaction.  After compacting , the disconnected files are probably unrecoverable.</P
><P
>	The fips included in tomsrtbt-1.6.335 is 0.9e and Tom has used it directly with Windows 95.  Windows98 requires fips-2.0 or later which (at press time) was not included in the archived tomsrtbt distributions.</P
><P
>	Nancy is unafamiliar with open source code and the Internet, so Tom offers to create her fips disk.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Download fips-2.0 and expand in the directory $FIPSROOT</P
><P
>(This may require privelege depending on Tom's linux configuration)</P
><P
>(The address will probably change by the time you read this.)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; FIPSROOT=/opt/packages/fips-2.0
bash&#62; mkdir -p $FIPSROOT/original
bash&#62; cd $FIPSROOT/original
bash&#62; wget ftp://sunsite.icm.edu.pl/pub/Linux/sunsite.unc.edu/system/installl/fips-2.0.zip
bash&#62; cd $PIPSROOT
bash&#62; unzip -d oritinal/fips-2.0.zip
			</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Insert and mount the startup disk from Nancy.</P
><P
>(This may require priveleges depending on Tom's linux configuration)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; mkdir -p /floppy
bash&#62; mount -t vfat /dev/fd0 /floppy
			</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Follow the instructions for fips.  At press time, this means copy 3 files to the startup disk.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; cp restorrb.exe fips.exe errors.txt /floppy
			</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Unmoun the floppy and return it to Nancy.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; umount /floppy
			</PRE
></FONT
></TD
></TR
></TABLE
></LI
></OL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
Nancy's new machine was delivered preloaded with Windows 98 on a single partition occupying the entire disk.  The installation was already compact, but Nancy used scandisk and defrag anyway just to be safe.   When splitting the partition with fips, it warns that the physical partition length does not equal the logical partitin length.  Tom explains that this is expected since her disk has more than 1024 cylinders.  Tom suggests that Nancy record the current partition info in case it is needed to recover from a disaster.  Following Tom's suggestion, Nancy reduces the first partition to approximately 30% of the total disk size.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Create a statup disk and give it to Tom.</P
><P
>		<SPAN
CLASS="GUIMENU"
>[Start]</SPAN
><SPAN
CLASS="GUISUBMENU"
>[Settings...\Control Panel] [[Add/Remove Programs] [Startup Disk] [Create Disk ...]</SPAN
>
		</P
></LI
><LI
><P
>Verify that the disk has no detectible errors.</P
><P
>(There may still be hiddent errors.)</P
><P
>		<SPAN
CLASS="GUIICON"
>[My Computer] </SPAN
><SPAN
CLASS="GUIICON"
>{(C:\)} </SPAN
><SPAN
CLASS="GUIMENU"
>[Properties ...] [Tools] [Error-checking status\Check now ...] [Type of test\Thorough] [Start]</SPAN
>
		</P
></LI
><LI
><P
>Fis any errors reported.</P
></LI
><LI
><P
>Defragment the disk to remove blank areas and deleted files.</P
><P
>		<SPAN
CLASS="GUIICON"
>[My computer] </SPAN
><SPAN
CLASS="GUIICON"
>{(C:\)} </SPAN
><SPAN
CLASS="GUIMENU"
>[Properties ...] [Tools] [Defragmentation status\Defragment now ...]</SPAN
>
		</P
></LI
><LI
><P
>Insert the fips startup disk from Tom and restart the computer.</P
><P
>		<SPAN
CLASS="GUIMENU"
>[Start] </SPAN
><SPAN
CLASS="GUISUBMENU"
>[Shutdown...] [Restart] [OK]</SPAN
>
		</P
></LI
><LI
><P
>When the computer reboots, split the partition.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>A:\&#62; fips
Save current partition info: yes
New partition start: 501
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
></OL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="REPARTITION"
></A
>2.1.5. Repartition</H3
><P
>	A normal linux installation requires at least two partitions.  It usually improves performance to more partitions.  Most bioses support no more than 4 primary partitions.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Tom recommends that the disk be divided into 4 partitions.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>~33% Windows bootable</P
><P
>Windows requires residency on the first primary partition</P
></LI
><LI
><P
>~33% linux bootable</P
><P
>On most computers, bootable partitions must reside entirely below 1024 cylinders.</P
></LI
><LI
><P
>~64M swap</P
><P
>A filesystem optimized for memory caching improves performance.</P
></LI
><LI
><P
>~33% data</P
><P
>The last partition may be used by either or both operating systems if is compartible.</P
></LI
></OL
><P
>	The Windows bootable partition must be one of the filesystems supported by Windows.  Likewise the linux bootable partition must be one of the filesystems supported by linux.  The swap partition must have a filesystem supported by the operating system that will use it.  The last partition will be used for data, and can have any filesystm.</P
><P
>	At press time, the above division is safe for most computers.</P
><P
>	Nancy is unfamiliar with open source and the Internet, so Tom lends her one of his diagnostic disks with tomsrtbt..</P
><P
>	tomsrtbt is a small distribution of linux on a single floppy disk that loads into RAM.  Since it does not occupy nor run on the hard disk it is superb for situations where the hard disk will be modified (e.g. repartitioning).</P
><P
>	Tom stresses that repartitioning is simple but must be done with meticulous care, since everything else depends on it.  Like ignoring a crack in the foundation of a house, partition table errors may not become apparent for a long time, when it will be difficult or impossible to correct.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
	Nancy will be using her system primarily with Windows, so Tom recommends that her data partition use FAT32   From the compoent catalog that Tom prepared for her computer, Nancy knows that her hard disk has 1661 cylinders.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>0001-0501 Windows FAT32 bootable</P
></LI
><LI
><P
>0502-1002 linux ext2 bootable</P
></LI
><LI
><P
>1003-1011 linux swap</P
></LI
><LI
><P
>1012-1661 data FAT32</P
></LI
></OL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
	Lisa will be using her system primarily with linux, so her data partition will use ext2   The data partition will then be unavailable to Windows, but will be more easily used from linux.  Lisa's hard disk has 787 cylinders.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>0001-0262 Windows FAT32 bootable</P
></LI
><LI
><P
>0263-0525 linux ext2 bootable</P
></LI
><LI
><P
>0526-0779 linux swap</P
></LI
><LI
><P
>0780-0787 data ext2</P
></LI
></OL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
	Nancy uses the tomsrtbt disk provided by Tom and fdisk on it to edit her partition table.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Insert the tomsrtbt disk and restart the computer.</P
></LI
><LI
><P
>Read the fdisk instructions and list of known partition types</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; /bin/fdisk
fdisk&#62; m
fdisk&#62; l
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Read and record the partition table</P
><P
>(After fips, her disk has two partitions.)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; p
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Since her disk has more than 1024 cylinders, update the cylinder count known to fdisk with an advanced command</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; x
fdisk expert&#62; c 1661
fdisk expert&#62; r
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Delete the 2nd partition which was created by fips.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; d
... partition[1-2]? 2
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Add the new 2nd partition for linux</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; n
... partition ...? 2
... extended ... primary ... type? p
... start ...? 502
... end ...? 1002
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Add the new 3rd partition for swap</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; n
... partition ...? 3
... extended ... primary ... type? p
... start ...? 1003
... end ...? 1011
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Add the new 4th partition for data</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; n
... partition ...? 4
... extended ... primary ... type? p
... start ...? 1012
... end ...? 1661
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Reprint the partition table and check carefully for errors.</P
><P
>(delete and add the partitions if there are any errors)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; p
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Set the type (filesystem to be used) on each partition.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; t
... partition ...? 2
... type ...? 83
fdisk&#62; t
... partition ...? 3
... type ...? 82
fdisk&#62; t
... partition ...? 4
... type ...? 0c
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Record and repriint the partition table and check carefully for errors.</P
><P
>If unsatisfied quit.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; q
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>If satisfied, write the partition table.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fdisk&#62; w
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
></OL
><P
>	Nancy records the new partition table in her computer log.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>Disk /dev/hda: 255 heads, 63 sectors, 1661 cylinders
Units = cylinders of 16085 * 512 bytes

   Drive  Boot  Start  End   Blocks  Id  System
/dev/hda1 *        1   501   402451+ 0c  Win95 FAT32 (LBA)
/dev/hda2        502  1002   402482  83  Linux Native
/dev/hda3       1003  1011    72292  82  Linux Swap
/dev/hda4       1012  1661  5221125  83  Linux Native</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="FORMAT"
></A
>2.1.6. Format</H3
><P
>	In order to use any hard disk effectively, it must be formatted.  After formating, whther successful or not, all the old data in that partition is lost (the cost of recovery goes up 10-100x).</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Tom warns that Formatting is the only operation that is neither idempotent nor reversible.  The tool provided by the intended operating system should be used to format the partitions intended for that partition.  Use format under Windows to format FAT32 partitions.  Use</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
	Nancy formats the data partition under Windows.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Restart the computer in Windows</P
></LI
><LI
><P
>Format the partition</P
><P
>		<SPAN
CLASS="GUIMENU"
>			[[My Computer]] {(D:)} [Format ...] [Format type\Full] [Start] Nancy uses the tomsrtbt disk provided by Tom to format the linux and swap partitions under linux.
		</SPAN
>
		</P
></LI
><LI
><P
>Insert the tomsrtbt disk and restart</P
></LI
><LI
><P
>Check for bad blocks and format the linux partition.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; mke2fs -c /dev/hda2
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check the filesystem</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; e2fsck /dev/hda2
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check for bad blocks and make the swap file system</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; mkswap -c /dev/hda3
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
></OL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
	(untested) Lisa formats only linux partitions using tomsrtbt in the same manner as Nancy.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Insert the tomsrtbt disk and restart</P
></LI
><LI
><P
>Check for bad blocks and format the linux partition.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; mke2fs -c /dev/hda2
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check the filesystem</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; e2fsck /dev/hda2
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check for bad blocks and make the swap file system</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; mkswap -c /dev/hda3
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check for bad blocks and make the data partition</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; mke2fs -c /dev/hda4
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check the filesystem</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bash&#62; e2fsck /dev/hda2
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
></OL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="IPLOAD"
></A
>2.1.7. Initial Program Load</H3
><P
>	Now is when the operating system(s) becomes a part ot the computer.  All prior steps laid the foundation.  This is the first time when the detail and accuracy of the catalog will be especially useful.  Follow the installation instructions provided with your distribution.   This HOWTO does not detail how to load the distribution because the distribution instructions will provide the best instructions.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Though linux is available at no cost, Tom recommends purchasing a distribution with hardcopy instructions and support tools..  The price of a good distribution is well worth it.  In Tom's opinion, asking friends is the best way to choose a linux distribution.  A distribution that satisfies your friends with similar interests will probably satisfy you.</P
><P
>	Tom knows that Nancy got a newly released graphics card with which he has no experience.  He warns Nancy that the X configuration may not work.  When she calls him, he uses the expert options of yast which tell him that though her card is not listed by manufacturer and model it used the mach64 X server.  Now familiar with yast, Nancy installs the mach64 x server and removes the svga X server.  Tom stays to talk Nancy through X installation.  Nancy's monitor is not named in the configuration list, but with the model known from the catalog, a quick visit to the manufacturer's website provides the scan rate limits.</P
><P
>	Tom knows that the configurability of linux frightens many new users and so he has often recommended RedHat to first-time users because of its commercial technical support and default configuration settings.  He lets Nancy know that though she should try to consider each question before answering, she need fear a mistake because she can reverse almost any configuration decision later.   Most packages managment tools offer to load and save configurations files (e.g. /etc/linuxrc).</P
><P
></P
><UL
><LI
><P
>Keep a list of the configuration questions and each answer to them.</P
></LI
><LI
><P
>When in doubt, add a package to linux, and note that it was in doubt.</P
></LI
><LI
><P
>A month after installation, go back and remove any packages that you haven't used, and log the removal.</P
></LI
><LI
><P
>Expect to discover some linux configuration errors by loss.</P
></LI
><LI
><P
>Change the linux configuration when you find that it is different from your desires.</P
></LI
><LI
><P
>When in doubt, do not add a package to Windows.</P
></LI
></UL
><P
>	Tom knows that some differences between Windows and linux force some compromises.</P
><P
></P
><UL
><LI
><P
>Set the hardware clock to local time.</P
><P
>Windows displays time, timestamps file operations, and synchronizes with the netowrk from the same clock.</P
><P
>Linux uses separate clocks for each of these.  On a linux only system, the hardware clock is usually set to UTC (Universal Time Coordinate), the network standard.  The network and file operations clock are usually just views of the hardware clock by linux.  For display, linux usually shifts the hardware clock according to the timezone and date.</P
><P
>Since Windows supports only one clock, you must decide (unless you live in Greenwich England) whether to set the hardware clock to local time or UTC.</P
><P
>If you use UTC, you will have to mentally convert the time displayed by Windows to local time.</P
><P
>If you use local time, some network activity may become confused.  International email problems are most commonly reported.  Mail sent from Berlin at 1300 local time may be stored a second later in New York at 1200 UTC where it awaits a channel to its San Francisco destination.  To save space, the New York host may delete mail that could not be sent in a reasonable time of 30min.  If the Berlin mail was unclear that ti was sent at 1300 Berlin time, or if the New York host is unwilling to do the conversion, the email may be lost as undliverable after 1 hour (1300 - 1200).</P
></LI
></UL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
	Since Nancy is an accountant, Tom recommends that she use the SuSE distribution.  SuSE comes with the ApplixWare suite of office software.  Nancy has already read the installation chapters of the book that accompanied her SuSE distribution.   yast from SuSE lets her store her configuration choices in a file which she includes in her computer log.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Nancy makes sure she has the catalog (and Tom's phone number) handy.</P
></LI
><LI
><P
>She inserts the SuSE  CDROM and reboots the computer.</P
></LI
><LI
><P
>She selects installation options (English, Color, ...)</P
></LI
><LI
><P
>She examines the hardware detected for her system and confirms that it matches her own catalog.</P
><P
>Both the hard disk and CD-RW were detected.</P
><P
>Both the sound and graphics cards were detected.</P
><P
>Both the PCI and USB buses were detected.</P
></LI
><LI
><P
>Following the instructions from SuSE, she starts YaST, the system configuration tool.</P
></LI
><LI
><P
>Already partitions, Nancy declines YaST's offer to repartition her disk.</P
></LI
><LI
><P
>Already formatted by Windows, Nancy declines YaST's offer to format her Window's partitions.</P
></LI
><LI
><P
>Though already formatted, Nancy accepts the offer to reformat her swap and linux partitions.</P
></LI
><LI
><P
>Set the mount points for the partitions.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>[CREATING FILESYSTEMS]
/dev/hda1     no    vfat /WinC Win95 FAT32
/dev/hda2 ... check ext2 /     Linux
/dev/hda4     no    vfat /WinD Win95 FAT32
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Nancy now selects the packages she wants.</P
><P
>Nancy includes the nonstandard packages that she knows she wants (e.g. CD writing).</P
><P
>Nancy excludes the standard packages that she knows she doesn't want (e.g. tape drive support).</P
><P
>Nancy selects packagas for her specific hardware (e.g. X server) using her catalog.</P
><P
>She indicates that the hardware clock is set to local time.</P
><P
>Nancy saves a copy of her configuration and puts in her log.</P
></LI
></OL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
	(This subsection of this HOWTO is not yet written.)</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="BMLOAD"
></A
>2.1.8. Boot Manager Load</H3
><P
>	If you have two or more operating systems on a computer, you must have a means of selecting which operating system is loaded.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Tom.gif"></SPAN
>
	Before installing a boot manager, Tom recommends that Nancy and Lisa make a boot disk (and master boot record backup).  He also recommends that each test their boot disks before installing the boot manager.  This is done so that the computer can be booted and the master boot record restored to the hard disk if the boot manager installation fails</P
><P
>	Because of its configurability and robustness, Tom recommends lilo to most users..  Most linux distributions support multiple linux versions on the same partition.  This means that you can install and test an upgrade to the operating system without the trouble of a lengthy reinstallation.  When  the upgrade is satisfactory (or not) you can remove versions no longer useful.</P
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
	During installation, SuSE offers to make a boot disk, and master boot record backup, before installing lilo.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Create a rescue floppy.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>[CREATE A BOOT DISK?/YES]
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Nancy write-protects the disk and puts in her log.</P
></LI
><LI
><P
>Nancy installs lilo</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>[LILO INSTALLATION ...]
Windows /dev/hda1
SuSE    /dev/hda2 /boot/vmlinuz
		</PRE
></FONT
></TD
></TR
></TABLE
></LI
></OL
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
Windows installation overwrites the master boot record with one that loads Windows.  After installing Windows, Lisa must reinstall lilo.  To make this easier she uses loalin under Windows to load her existing linux and then uses linus to configure and install lilo..</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="MOUNT"
></A
>2.1.9. Mount</H3
><P
><SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Oscar.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Nancy.gif"></SPAN
>
<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="Lisa.gif"></SPAN
>
   (This subsection of this HOWTO is not yet written.)</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="overview.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="choices.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Overview</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Choices</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>