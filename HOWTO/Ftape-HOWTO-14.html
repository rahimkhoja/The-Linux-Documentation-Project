<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Ftape-HOWTO: Debugging the ftape driver</TITLE>
 <LINK HREF="Ftape-HOWTO-15.html" REL=next>
 <LINK HREF="Ftape-HOWTO-13.html" REL=previous>
 <LINK HREF="Ftape-HOWTO.html#toc14" REL=contents>
</HEAD>
<BODY>
<A HREF="Ftape-HOWTO-15.html">Next</A>
<A HREF="Ftape-HOWTO-13.html">Previous</A>
<A HREF="Ftape-HOWTO.html#toc14">Contents</A>
<HR>
<H2><A NAME="s14">14. Debugging the <CODE>ftape</CODE> driver</A></H2>

<P>
<P>
<P>
<H2><A NAME="ss14.1">14.1 The kernel/<CODE>ftape</CODE> crashes on me when I do `...' - is that a bug?</A>
</H2>

<P>
<P>No, that is a feature <CODE>&semi;&hyphen;&rpar;</CODE>
<P>Seriously, reliable software do not crash.  Especially kernels do not
or rather <B>should</B> not crash.  If the kernel crashes upon you
when you are running <CODE>ftape</CODE>, and you can show that it is
<CODE>ftape</CODE> that is messing things up, regard it as a Bug That Should
Be Fixed.  Mail the details to the maintainer
(<CODE>&lt;heine@math1.rwth-aachen.de&gt;</CODE>) and to the tape list.
<P>
<P>
<H2><A NAME="ss14.2">14.2 OK, it's a bug ...ehhh... feature - How do I submit a report?</A>
</H2>

<P>
<P>First, make sure you can reproduce the problem.  Spurious errors are a
pain in the ass, since they are just about impossible to hunt down
<CODE>:-/</CODE> This is a quick check list:
<P>
<UL>
<LI> Kernel version, and patches applied</LI>
<LI> <CODE>ftape</CODE> version</LI>
<LI> tape drive model / manufacturer</LI>
<LI> Expansion bus type (EISA, ISA, PCI, or VL-bus)</LI>
<LI> What you did to expose the problem</LI>
<LI> What went wrong on your system.</LI>
<LI> Do not delete the kernel and the <CODE>ftape.o</CODE> file. I might want
you run try some patches out or run a different test on your system.
</LI>
</UL>
<P>Increase the tracing level to 4 or 5 and run the command that caused
problems again (don't do it if your fear that you loose data or damage
your hardware, there is absolutely no warranty for neither data loss
nor hardware damage caused by <CODE>ftape</CODE>, remember this). Increasing
the trace level beyond 5 probably doesn't make any sense as it affects
the timing of the driver in a way that it doesn't work well any
more. Get the tracing data from the kernel log or <CODE>/proc/kmsg</CODE>,
depending on where you harvest your error messages.  Try to look at
what <CODE>ftape</CODE> spews out at you.  It may look in-comprehensible to
you at first, but you can get valuable information from the logfile.
Most messages have a function name prepended, to make it easier to
locate the problem.  Look through the source, don't just cry
``WOLF!'', without giving it a try.  If your version of the kernel (or
<CODE>ftape</CODE> for that matter), is ``old'', when compared to the newest
version of the kernel, try to get a newer (or even the newest) kernel
and see if the problem goes away under the new kernel.  When you post
your problem report, include the information about ftape version,
kernel version, expansion bus type (ISA, VL-bus, PCI or EISA), bus
speed, floppy controller, and tape drive.  State exactly what you did,
and what happened on your system.  Some people have experienced that
<CODE>ftape</CODE> would not run in a PCI based box, but ran flawlessly in a
normal ISA based 386DX machine (see section 
<A HREF="Ftape-HOWTO-6.html#pci-boxes">Getting PCI motherboards to work with &lt;tt/ftape/</A> on PCI
machines above)
<P>Also, please think of the poor souls who actually <EM>pay</EM> the
their Internet access (like me): avoid posting a (huge) log from the
<CODE>ftape</CODE> run, without reason.  Instead, you could describe the
problem, and offer to send the log to the interested parties.
<P>Send your bug report to <CODE>&lt;linux-tape@vger.rutgers.edu&gt;</CODE>. You
might also want to mail the bug to
<CODE>&lt;heine@math1.rwth-aachen.de&gt;</CODE>.
<P>
<P>
<HR>
<A HREF="Ftape-HOWTO-15.html">Next</A>
<A HREF="Ftape-HOWTO-13.html">Previous</A>
<A HREF="Ftape-HOWTO.html#toc14">Contents</A>
</BODY>
</HTML>
