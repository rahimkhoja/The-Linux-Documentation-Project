<HTML
><HEAD
><TITLE
>Getting the user space tools</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Cryptoloop HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Configuring the kernel"
HREF="kernel-configuration.html"><LINK
REL="NEXT"
TITLE="Setting up the loop device"
HREF="loopdevice-setup.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Cryptoloop HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="kernel-configuration.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="loopdevice-setup.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="userspace-tools"
></A
>4. Getting the user space tools</H1
><P
>&#13;    The Cryptoloop driver requires updated userspace tools to actually create and mount the encrypted
    file system. An updated util-linux package is needed and can be obtained from <A
HREF="http://ftp.cwi.nl/aeb/util-linux/util-linux-2.12.tar.gz"
TARGET="_top"
>http://ftp.cwi.nl/aeb/util-linux/util-linux-2.12.tar.gz</A
>.
    The most current version is 2.12. There will be new versions out soon that will probably introduce major changes, so make sure you check this
    HOWTO for updates before upgrading to a newer version.
    Unfortunately there are many patches for util-linux out there. There are differences in the way how encrypted partitions are created
    and mounted. In order to use util-linux 2.12 with a 2.6 kernel at least the following two patches need to be applied:
    <P
></P
><OL
TYPE="1"
><LI
><A
HREF="http://www.stwing.org/~sluskyb/util-linux/losetup-combined.patch"
TARGET="_top"
>Combined losetup patch</A
></LI
><LI
><A
HREF="http://www.ece.cmu.edu/~rholzer/cryptoloop/util-linux-2.12-kernel-2.6.patch"
TARGET="_top"
>Util-linux 2.6 patch</A
></LI
></OL
>
    </P
><P
>&#13;    Download the util-linux package and the two patches above.
    First extract the util-linux package and then apply the two patches:
    </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;     tar xvfz util-linux-2.12.tar.gz

     cd util-linux-2.12

     patch -p1 &#60; /path_to_patchfile/losetup-combined.patch

     patch -p1 &#60; /path_to_patchfile/util-linux-2.12-kernel-2.6.patch
     </PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;    After applying the patches, compile and install util-linux according to the instructions in the INSTALL file.
    </P
><P
>&#13;    I recommend to use <A
HREF="http://gentoo.org"
TARGET="_top"
>Gentoo Linux</A
>, which automatically applies these patches when emerging the util-linux patches.
    Other distributions may have versions of util-linux available, that have these patches aleady applied as well.
    
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="kernel-configuration.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="loopdevice-setup.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Configuring the kernel</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Setting up the loop device</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>