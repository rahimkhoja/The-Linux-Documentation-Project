<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> Linux DPT Hardware RAID HOWTO : Features in the EATA DMA driver</TITLE>
 <LINK HREF="DPT-Hardware-RAID-HOWTO-7.html" REL=next>
 <LINK HREF="DPT-Hardware-RAID-HOWTO-5.html" REL=previous>
 <LINK HREF="DPT-Hardware-RAID-HOWTO.html#toc6" REL=contents>
</HEAD>
<BODY>
<A HREF="DPT-Hardware-RAID-HOWTO-7.html">Next</A>
<A HREF="DPT-Hardware-RAID-HOWTO-5.html">Previous</A>
<A HREF="DPT-Hardware-RAID-HOWTO.html#toc6">Contents</A>
<HR>
<H2><A NAME="s6">6. Features in the EATA DMA driver</A></H2>

<P> This section describes some of the commands available under Linux
to check on the RAID configuration.  Again, while references to the
eata_dma driver is made, this can be used to check up on any
driver. 
<P> To see the configuration for your driver, type: 
<P>
<BLOCKQUOTE><CODE>
<PRE>
% cat /proc/scsi/eata_dma/N
</PRE>
</CODE></BLOCKQUOTE>
<P>where N is the host id for the controller.  You should see something
like this:
<P>
<BLOCKQUOTE><CODE>
<PRE>
EATA (Extended Attachment) driver version: 2.59b
queued commands:         353969
processed interrupts:    353969

scsi0 : HBA PM2144UW
Firmware revision: v07L.Y
Hardware Configuration:
IRQ: 11, level triggered
DMA: BUSMASTER
CPU: MC68020 20MHz
Base IO : 0xef90
Host Bus: PCI
SCSI Bus: WIDE Speed: 10MB/sec.
SCSI channel expansion Module: not present
SmartRAID hardware: present.
    Type: integrated
    Max array groups:              7
    Max drives per RAID 0 array:   7
    Max drives per RAID 3/5 array: 7
Cache Module: present.
</PRE>
</CODE></BLOCKQUOTE>

<BLOCKQUOTE><CODE>
<PRE>
    Type: 0
    Bank0: 16MB without ECC
    Bank1: 0MB without ECC
    Bank2: 0MB without ECC
    Bank3: 0MB without ECC
Timer Mod.: present
NVRAM     : present
SmartROM  : enabled
Alarm     : on
Host&lt;-&gt;Disk command statistics:
         Reads:      Writes:
    1k:           0            0
    2k:           0            0
    4k:           0            0
    8k:           0            0
   16k:           0            0
   32k:           0            0
   64k:           0            0
  128k:           0            0
  256k:           0            0
  512k:           0            0
 1024k:           0            0
&gt;1024k:           0            0
Sum   :           0            0
</PRE>
</CODE></BLOCKQUOTE>
<P> To get advanced command statistics, type: 
<P>
<BLOCKQUOTE><CODE>
<PRE>
% echo "eata_dma latency" > /proc/scsi/eata_dma/N
</PRE>
</CODE></BLOCKQUOTE>
<P> Then you can do a:
<P>
<BLOCKQUOTE><CODE>
<PRE>
% cat /proc/scsi/eata_dma/N
</PRE>
</CODE></BLOCKQUOTE>
<P>to get more detailed statistics. 
<P> To turn off advanced command statistics, type: 
<P>
<BLOCKQUOTE><CODE>
<PRE>
% echo "eata_dma nolatency" > /proc/scsi/eata_dma/N
</PRE>
</CODE></BLOCKQUOTE>
<HR>
<A HREF="DPT-Hardware-RAID-HOWTO-7.html">Next</A>
<A HREF="DPT-Hardware-RAID-HOWTO-5.html">Previous</A>
<A HREF="DPT-Hardware-RAID-HOWTO.html#toc6">Contents</A>
</BODY>
</HTML>
