<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Testing internal MASQ client to MASQ server connectivity</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Linux IP Masquerade HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Testing IP Masquerade "
HREF="testing.html"><LINK
REL="PREVIOUS"
TITLE="Testing internal MASQ client PC connectivity"
HREF="testing-the-masqed-pc.html"><LINK
REL="NEXT"
TITLE="Testing internal MASQ server connectivity"
HREF="testing-masq-server-internal.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux IP Masquerade HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="testing-the-masqed-pc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Testing IP Masquerade</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="testing-masq-server-internal.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="TESTING-MASQED-PC-TO-MASQ-SERVER"
></A
>5.3. Testing internal MASQ client to MASQ server connectivity</H1
><P
><P
></P
><UL
><LI
><P
><STRONG
>Step Three: Testing internal MASQ client to MASQ server 
connectivity</STRONG
>  </P
><P
>Next, from the same internal MASQed computer, try pinging the the IP address of 
the Linux MASQ server's INTERNAL interface (i.e. <STRONG
>ping 
192.168.0.1 </STRONG
>).  This will verify that TCP/IP is correctly working 
on both the local and Linux MASQ machine.  Almost ALL modern operating systems 
have built-in support for the "ping" command.  If this ping doesn't work, make 
sure that TCP/IP is correctly configured on the MASQed Server as described 
by the various Network HOWTOs (URLs can be found in the requirements section
for your 
2.4.x kernel in <A
HREF="kernel-2.4.x-requirements.html"
>Section 2.6</A
>, 
2.2.x kernel in <A
HREF="kernel-2.2.x-requirements.html"
>Section 2.7</A
>, or 
2.0.x kernel in <A
HREF="kernel-2.0.x-requirements.html"
>Section 2.8</A
>).  
The output should 
look something like the following (hit Control-C to abort the ping):</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>------------------------------------
masq-client# ping 192.168.0.1 
PING 192.168.0.1 (192.168.0.1): 56 data bytes
64 bytes from 192.168.0.1: icmp_seq=0 ttl=255 time=0.8 ms
64 bytes from 192.168.0.1: icmp_seq=1 ttl=255 time=0.4 ms
64 bytes from 192.168.0.1: icmp_seq=2 ttl=255 time=0.4 ms
64 bytes from 192.168.0.1: icmp_seq=3 ttl=255 time=0.5 ms
^C

--- 192.168.0.1 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max = 0.4/0.5/0.8 ms
------------------------------------</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>If the ping failed, check the network connection between the MASQ server and 
the PC.  If it's a DIRECT Ethernet connection (no hub or switch), you MUST 
have a "Ethernet cross-over cable".  These cables are common and can be
found at any computer store.  Without this cable, the NICs (network cards) 
will not give you a "LINK" light.  If you are using a hub or switch, make 
sure the ports connected to the MASQ server and MASQed client machine have a 
LINK light.  If they do and the pings STILL don't work or there is a lot of
packet loss, try different ports on the hub/switch (it not all that uncommon 
to have hub/switch ports die).  Finally, if things still don't work perfectly, 
try replacing each of the NICs in the machines.  You would be surprised how
many people I've helped have found that their NIC cards were going bad and
caused them all kinds of grief.</P
></LI
></UL
>&#13;</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="testing-the-masqed-pc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="testing-masq-server-internal.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Testing internal MASQ client PC connectivity</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="testing.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Testing internal MASQ server connectivity</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>