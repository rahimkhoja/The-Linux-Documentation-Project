<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>BOOT_ADMIN</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="PA-RISC/Linux Boot HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Preparing to boot"
HREF="preparation.html"><LINK
REL="PREVIOUS"
TITLE="Preparing to boot"
HREF="preparation.html"><LINK
REL="NEXT"
TITLE="Consoles"
HREF="consoles.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PA-RISC/Linux Boot HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="preparation.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 2. Preparing to boot</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="consoles.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="bootadmin"
></A
>2.1. <B
CLASS="command"
>BOOT_ADMIN</B
></H1
><DIV
CLASS="highlights"
><A
NAME="AEN205"
></A
><P
>First of all, you must learn what is and how to use <B
CLASS="command"
>BOOT_ADMIN</B
> on your
				PA-RISC box, before thinking about doing anything with it.</P
></DIV
><P
><B
CLASS="command"
>BOOT_ADMIN</B
> is a <EM
>firmware</EM
> application,
				used to manage a PA-RISC machine at an early boot stage,
				<EM
>i.e.</EM
> when the box has not yet started its
				<EM
>Operating System</EM
>. It is also known as the
				<A
HREF="gloss.html#glossbch"
><I
CLASS="glossterm"
>Boot Console Handler (<SPAN
CLASS="acronym"
>BCH</SPAN
>)</I
></A
>. Those familiar with the x86 world
				will probably see it as a kind of <EM
>BIOS</EM
>,
				whilst PPC fans might think of it as an equivalent for
				<EM
>Open Firmware</EM
>.</P
><P
>We named it <B
CLASS="command"
>BOOT_ADMIN</B
>
				throughout this document since it is the name it is the most common prompt it
				will display on
				most PA-RISC machines. You will see through this HOWTO that there
				are many references to it, therefore it's worth
				saying that minimalistic <B
CLASS="command"
>BOOT_ADMIN</B
> skills are mandatory!</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="enterbootadmin"
></A
>2.1.1. Entering the <B
CLASS="command"
>BOOT_ADMIN</B
> interface</H2
><P
>Entering the <B
CLASS="command"
>BOOT_ADMIN</B
> management tool isn't that awful:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Turn your PA-RISC box on.</P
></LI
><LI
><P
>During the boot process, the following message will appear
							on the current <EM
>console</EM
> (see <A
HREF="consoles.html"
>Section 2.2</A
>):
							<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
><TT
CLASS="computeroutput"
>&#13;Searching for Potential Boot Devices.
To terminate search, press and hold the ESCAPE key.
							</TT
></PRE
></FONT
></TD
></TR
></TABLE
>
							When this message is displayed, press and hold the <B
CLASS="keycap"
>Esc</B
> key
							until an option menu appears. This can take a while, be patient. On recent
							machines, pressing any key interrupts the boot process as well.</P
></LI
><LI
><P
>By default, you should enter the <B
CLASS="command"
>BOOT_ADMIN</B
> console.
							Though on some 715s and 725s, an option menu looking like this may be shown:
							<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
><TT
CLASS="computeroutput"
>&#13;b)    Boot from specified device
s)    Search for bootable devices
a)    Enter Boot Administration mode
x)    Exit and continue boot sequence
?)    Help

Select from menu:
							</TT
></PRE
></FONT
></TD
></TR
></TABLE
>
							Type '<B
CLASS="keycap"
>a</B
>' and hit <B
CLASS="keycap"
>Enter</B
> to enter
							Boot Administration mode. This will bring up a
							'<TT
CLASS="computeroutput"
>BOOT_ADMIN&#62;</TT
>' prompt.</P
></LI
></OL
><P
>Once you have the '<TT
CLASS="computeroutput"
>BOOT_ADMIN&#62;</TT
>'
					prompt, you can pat yourself on the back: you are in <B
CLASS="command"
>BOOT_ADMIN</B
> mode!</P
><P
>As it has been said before, the prompt can differ between machines. On recent ones,
					for instance, it looks like that:
					<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
><TT
CLASS="computeroutput"
>&#13;Main Menu: Enter command or menu &#62;
					</TT
></PRE
></FONT
></TD
></TR
></TABLE
>
				</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="bootadminhelp"
></A
>2.1.2. <B
CLASS="command"
>BOOT_ADMIN</B
> commands</H2
><P
><B
CLASS="command"
>BOOT_ADMIN</B
> is an early boot subsystem (a Boot Console Handler, as said before)
					where you can execute a limited set of commands. You should find here everything
					you need to know about them.</P
><P
>All HP-PA systems have a <SPAN
CLASS="acronym"
>BCH</SPAN
>. The display can be different but the idea remains the same.
					That's why the following list is not complete but consistent enough.
					Another important thing is that for each command, you have a shorter way
					to invoke it. You can see the shortcut shown as uppercase letters in
					the command name. Full names will be used in this section.</P
><DIV
CLASS="caution"
><P
></P
><TABLE
CLASS="caution"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/caution.gif"
HSPACE="5"
ALT="Caution"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Be cautious when dealing with the <SPAN
CLASS="acronym"
>BCH</SPAN
>, you can harm your system.</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Some commands may appear in several different menus, and all commands listed
						here may not necessarily be available on your particular system, this is normal.</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN260"
></A
>2.1.2.1. The <TT
CLASS="literal"
>main</TT
> commands</H3
><P
>These commands are the basic ones.</P
><P
></P
><UL
><LI
><P
><B
CLASS="command"
>boot</B
> may be followed by an argument
							which indicates the path you want to boot. The path should be
							the definition of a device like for example
							<TT
CLASS="computeroutput"
>FWSCSI.6.0</TT
> or
							<TT
CLASS="computeroutput"
>PRI</TT
> if you have set this
							variable correctly. Usually defaults to <TT
CLASS="computeroutput"
>PRI</TT
>.</P
></LI
><LI
><P
><B
CLASS="command"
>path</B
> displays or sets the current paths.
							Invoked with only one argument it will display the current path of the
							entity passed as argument: <B
CLASS="command"
>path alt</B
> will display the
							current alternative boot path. <B
CLASS="command"
>path pri fwscsi.6.0</B
> will
							setup the primary boot path as the device attached to Fast and Wide SCSI
							controller with ID 6 and LUN 0. You can also set and display the paths
							of console (graphics/serial) and keyboard (ps2/hil/usb).</P
></LI
><LI
><P
><B
CLASS="command"
>search</B
> is a very useful command.
							It automagically checks all possible boot devices and displays
							these bootable paths. In several firmware versions, it links them
							to a shortcut (like <TT
CLASS="computeroutput"
>P0</TT
>). It can even search
							the LAN, if the box is able to boot it. Some firmware revisions allow you
							to restrain the search path like: <B
CLASS="command"
>search lan</B
> or
							<B
CLASS="command"
>search disk</B
>.</P
></LI
><LI
><P
><B
CLASS="command"
>display</B
> redisplays the current menu.</P
></LI
><LI
><P
><B
CLASS="command"
>help</B
> gives you an overview of the
							available commands and their action. <B
CLASS="command"
>help <TT
CLASS="parameter"
><I
>name</I
></TT
>
							</B
> will give you details on command <TT
CLASS="parameter"
><I
>name</I
></TT
>.
							By default, you can list all <TT
CLASS="literal"
>main</TT
> commands by
							typing <B
CLASS="command"
>help main</B
>.</P
></LI
><LI
><P
><B
CLASS="command"
>main</B
> will bring you back to the
							<TT
CLASS="literal"
>main</TT
> menu, whatever menu you might be currently
							browsing.</P
></LI
><LI
><P
>On almost every systems, there is a
							<B
CLASS="command"
>reset</B
> instruction. It restarts the machine with
							the latest parameters you have set.</P
></LI
></UL
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN300"
></A
>2.1.2.2. The <TT
CLASS="literal"
>configuration</TT
> commands</H3
><P
>These commands are available in the
						<TT
CLASS="computeroutput"
>configuration</TT
> menu. So, in order to use
						them, you must enter this menu by typing <B
CLASS="command"
>configuration</B
>
						at the '<TT
CLASS="computeroutput"
>BOOT_ADMIN&#62;</TT
>' prompt.</P
><P
></P
><UL
><LI
><P
><B
CLASS="command"
>auto</B
> will tell you if the box will automatically
							start booting when switched on, or will do a search for boot devices, depending
		      		on the first argument passed to the command (<TT
CLASS="parameter"
><I
>boot</I
></TT
>,
		      		<TT
CLASS="parameter"
><I
>search</I
></TT
>, <TT
CLASS="parameter"
><I
>start</I
></TT
>). You can modify this
		      		parameter with the keywords <TT
CLASS="parameter"
><I
>ON</I
></TT
> and <TT
CLASS="parameter"
><I
>OFF</I
></TT
>.</P
></LI
><LI
><P
><B
CLASS="command"
>default</B
> sets back the factory defaults.</P
></LI
><LI
><P
><B
CLASS="command"
>monitor</B
> (only in <A
HREF="consoles.html#graphicsconsole"
>graphic
							console</A
>) sets your display configuration by typing <B
CLASS="command"
>monitor
			      	<TT
CLASS="replaceable"
><I
>&#60;path&#62;</I
></TT
> <TT
CLASS="replaceable"
><I
>&#60;type&#62;</I
></TT
></B
>
			      	which indicates your console path and type. You can list the available modes by typing
			      	<B
CLASS="command"
>monitor list</B
>.</P
></LI
><LI
><P
><B
CLASS="command"
>fastboot</B
> displays or sets the boot tests execution.</P
></LI
></UL
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="bootadminfo"
></A
>2.1.2.3. The <TT
CLASS="literal"
>information</TT
> commands</H3
><P
>They give you access to global information about your system.
						Going into this menu is done by asking for <B
CLASS="command"
>information</B
>.</P
><P
></P
><UL
><LI
><P
><B
CLASS="command"
>all</B
> should display everything.</P
></LI
><LI
><P
><B
CLASS="command"
>bootinfo</B
> lists all the boot parameters of the system.</P
></LI
><LI
><P
><B
CLASS="command"
>fwrversion</B
> gives your firmware revision.
							You can check if your firmware is up-to-date at
							<A
HREF="ftp://us-ffs.external.hp.com/firmware_patches/hp/cpu/catalog"
TARGET="_top"
>this
							webpage</A
>.</P
></LI
><LI
><P
><B
CLASS="command"
>lanaddress</B
> shows the MAC (Ethernet) address of the system.
							On some boxes (especially 712s), two different addresses may appear. The one you are
							looking for is the first.</P
></LI
></UL
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN349"
></A
>2.1.2.4. The <TT
CLASS="literal"
>service</TT
> commands</H3
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/warning.gif"
HSPACE="5"
ALT="Warning"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>It is a PA-RISC guru menu.</P
></TD
></TR
></TABLE
></DIV
><P
>You will find nothing really interesting for an end-user here.
						We recommend you not to play with it unless you <EM
>really</EM
>
						know what you are doing.</P
><P
></P
><UL
><LI
><P
><B
CLASS="command"
>pim [&#60;proc&#62;] [HPMC|LPMC|TOC]</B
> displays the content
								of a <A
HREF="gloss.html#glosspim"
><I
CLASS="glossterm"
>Processor Internal Memory (<SPAN
CLASS="acronym"
>PIM</SPAN
>)</I
></A
> and Error Log. It is very useful after a
								<A
HREF="gloss.html#glosstoc"
><I
CLASS="glossterm"
>Transfer Of Control (<SPAN
CLASS="acronym"
>TOC</SPAN
>)</I
></A
> to collect debugging information.</P
></LI
><LI
><P
><B
CLASS="command"
>clearpim</B
> clears <A
HREF="gloss.html#glosspim"
><I
CLASS="glossterm"
>Processor Internal Memory (<SPAN
CLASS="acronym"
>PIM</SPAN
>)</I
></A
> data.</P
></LI
><LI
><P
><B
CLASS="command"
>scroll</B
> enables or disables the scrolling mode in <B
CLASS="command"
>BOOT_ADMIN</B
>
			      		on recent boxes.</P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="preparation.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="consoles.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Preparing to boot</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="preparation.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Consoles</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>