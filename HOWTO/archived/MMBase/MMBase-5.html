<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>MMBase Mini-HOWTO: Installation on Debian Woody: Configuration files</TITLE>
 <LINK HREF="MMBase-6.html" REL=next>
 <LINK HREF="MMBase-4.html" REL=previous>
 <LINK HREF="MMBase.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="MMBase-6.html">Next</A>
<A HREF="MMBase-4.html">Previous</A>
<A HREF="MMBase.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Configuration files</A></H2>

<P>There are various configuration files that need some adjustment or have to be created.
<P>
<H2><A NAME="ss5.1">5.1 apache</A>
</H2>

<P>In my setup, I created a virtual host to handle all MMBase request, but using a few <EM>Alias</EM> directors
it cannot be too hard to include MMBase somewhere in your normal web tree.
<P>
<P>That was for my last setup (HOWTO version 0.1 covering MMBase 1.4).
<P>Using the newest version of Tomcat and Apache, I have troubles getting the
two working together. As soon as I find out how to use libapache-mod-webapp
or libapache-mod-jk with tomcat4, I will update this HOWTO.
<P>
<P>One posible solution is compiling mod-webapp yourself, because the version
that comes with Debian seems to be non-standard. This is beyond the scope and intention of this
HOWTO.
<P>
<P>This also means that by default MMBase will run on port 8180 (directly from
the stand-alone Tomcat server. You can change this port in
/etc/tomcat4/server.xml
<P>
<H2><A NAME="ss5.2">5.2 MMBase</A>
</H2>

<P>Although many things have to be configured on MMBase itself, I have added a few subjects to this mini-HOWTO.
<P>The database access should be set in WEB-INF/config/modules/jdbc.xml :
<P> 
<P>
<BLOCKQUOTE><CODE>
<PRE>
        &lt;property name="url">jdbc:mysql://$HOST:$PORT/$DBM?user=mmbaseuser&amp;password=secret&lt;//property>
        &lt;property name="user">url&lt;//property>
        &lt;property name="password">url&lt;//property>
        &lt;property name="database">MMBase&lt;//property>
        &lt;property name="driver">org.gjt.mm.mysql.Driver&lt;//property>
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>And one more line to change to get the mysql connection working. In WEB-INF/config/modules/mmbaseroot.xml
make sure you have this setting:
<P>
<BLOCKQUOTE><CODE>
<PRE>
        &lt;property name="database">mysql&lt;//property>
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
<P>The builder for images contains a path to convert that is not Debian-compliant. Change 
WEB-INF/config/builders/images.xml
<P>
<BLOCKQUOTE><CODE>
<PRE>
        &lt;properties>
                &lt;property name="ImageConvert.ConverterCommand">bin/convert&lt;/property>
                &lt;property name="ImageConvert.ConverterRoot">/usr/&lt;/property>
                &lt;property name="ImageConvertClass">org.mmbase.module.builders.ConvertImageMagick&lt;/property>
        &lt;/properties>
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
<P>
<HR>
<A HREF="MMBase-6.html">Next</A>
<A HREF="MMBase-4.html">Previous</A>
<A HREF="MMBase.html#toc5">Contents</A>
</BODY>
</HTML>
