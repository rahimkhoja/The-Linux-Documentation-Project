<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Setting Up Your New Domain Mini-HOWTO.: Obtaining Your Connection</TITLE>
 <LINK HREF="Domain-5.html" REL=next>
 <LINK HREF="Domain-3.html" REL=previous>
 <LINK HREF="Domain.html#toc4" REL=contents>
</HEAD>
<BODY>
<A HREF="Domain-5.html">Next</A>
<A HREF="Domain-3.html">Previous</A>
<A HREF="Domain.html#toc4">Contents</A>
<HR>
<H2><A NAME="obtain-conn"></A> <A NAME="s4">4. Obtaining Your Connection</A></H2>

<P>
<H2><A NAME="choose-provider"></A> <A NAME="ss4.1">4.1 Choosing Your Provider</A>
</H2>

<P>As with anything, shop around. Determine which services are available
in your area, as well as the costs associated with those services. Not
all locations are wired to accept DSL, and some locations may not be
suitable for wireless connections due to constraints of the landscape,
architecture, or environment. Be prepared to provide the street
address of the location where your hookup will be installed, as DSL
speeds are strongly dependent on your distance from the switch, and
ask specifically about such details as bandwidth between your machine
and the provider, what has to be done to install the connection, and
what hardware is provided in the quoted monthly rate. Also, you should
have some idea of how many IP numbers you need for your own machines
(remember that not all IP numbers in the block you get from the
provider will be available for attaching your computers).  Ask the
provider what their total bandwidth is out to the outside world, as
the quoted speed is only between your site and theirs. If the provider
has insufficient bandwidth to the outside, the customers will suffer
bottlenecks within the provider's network.
<P>
<P>Once you have narrowed down a list of candidates, ask around, see if
anybody can provide you with recommendations for the services you're
considering. Ask them what sort of bandwidth they get to unloaded
sites. Also, if you intend to have fast connections between the new
domain and local ISP accounts from home, for telecommuting, or just
remote administration, it is essential that you do a
<EM>traceroute</EM> from your home ISP account to a host operating on
the service you're considering. This will tell you how many hops, and
how much latency you should expect, between home and the new
domain. Latencies much above 100 to 200 milliseconds can be difficult
to use for extended periods of time. The <EM>traceroute</EM> should be
run around the time of day that you expect to make use of the network
connection between home and the new domain.
<P>
<P>
<H2><A NAME="prepare-hw"></A> <A NAME="ss4.2">4.2 Preparing For Hardware Installation</A>
</H2>

<P>After you have chosen the provider and service type for the new
domain, ask about installation details. You may require service calls
from the telephone company as well as from the ISP in order to install
the service, and the technicians may need access to controlled areas
of your building, so inform the building engineer of the installation
requirements.
<P>
<P>Before the ISP technician arrives, ask for the network parameters,
specifically the IP number, netmask, broadcast address, gateway
routing address, DNS server address, and also what cabling you need to
connect to the hardware delivered by the technician
(i.e. straight-through or crossover RJ45 cabling, etc.).
<P>
<P>Have one machine available for testing, and put it close to where the
network connection hardware will be installed. If possible, configure
it before the service technician arrives, setting the IP number and
netmask, and have the appropriate cabling ready so that the
installation and testing can be done quickly.
<P>
<P>
<H2><A NAME="test-conn"></A> <A NAME="ss4.3">4.3 Testing The Connection</A>
</H2>

<P>With your test machine attached to the ISP's hardware, make sure that
you can ping sites beyond the ISP. If not, a <EM>traceroute</EM> to
the outside can help to show where the connection is failing. If
traceroute shows no successful hops it indicates that your test
machine's network configuration (default route, interface address, NIC
drivers, DNS, etc.) is incorrectly set. If it shows one hop, that could
mean that your router is not correctly configured to communicate with
the ISP. If it shows several hops before failing, the problem is
almost certainly in the ISP or in the outside world, and beyond your
immediate control.
<P>
<P>
<H2><A NAME="dynamic-ip"></A> <A NAME="ss4.4">4.4 Using A Dynamic IP</A>
</H2>

<P>The benefits of a corporate connection, with a static IP block and
various hosted services, comes with a cost. It can be more than ten
times as expensive as a high speed home connection on DSL or cable
modem. If the budget can't support a corporate connection, or if no
such connections are available in your area, you might want to try to
set up a domain on a dynamic IP. Instead of a range of IP numbers, you
typically get exactly one, which means that your private network
gateway machine will also have to host any incoming services from the
outside. 
<P>
<P>First, you might want to check the legality of it. Many companies'
user agreements explicitly forbid setting up externally-accessible
servers on personal accounts. They may enforce this with packet
filters blocking incoming connections on the http and FTP ports. You
should also be aware that the quoted connection speed for personal
accounts such as home DSL or cable modem are the downlink speeds, and
that the uplink speeds might be much slower. The uplink speed is what
is important for serving up FTP or web content.
<P>
<P>If you have a dynamic IP, and you want to have incoming connections,
you will have to subscribe to a dynamic IP hosting service, such as
one of those listed at 
<A HREF="http://www.technopagan.org/dynamic/">Dynamic DNS Providers</A>. These services typically work by running
software on your machine which passes your current IP number on to the
company's servers. When your current IP number arrives at the servers,
their DNS tables are updated to reflect the new value. You can either
get a domain name under their domain name, such as
``example.dynip.com'' or ``example.dynhost.com'', or you can register
your own domain and set the primary DNS authority to point to
the company providing this service (usually at a higher cost).
<P>
<P>There is also a free hosting service, at 
<A HREF="http://www.dhs.org/">Domain Host Services</A>. They seem
fairly new, and there are few details on their web site at the moment,
but you might find it worth a look.
<P>
<P>If you have set up a dynamic IP, and subscribed to one of these
services, it will affect some of the decisions you make in section
<A HREF="Domain-6.html#which-servs">Deciding Which Domain Services You Will Host</A>. In particular, there is little point subscribing to a dynamic
IP hosting service if you do not plan to host at least one of web or
FTP services. You will have to set primary DNS authority to point to
the company you've chosen. You should not have a <EM>named</EM> daemon
answering requests from outside your private network. Other details,
such as handling of email, will depend on the specifics of the service
you've subscribed to, and can best be answered by the support staff of
that company.
<P>
<P>One final note: if you want to have remote access to a machine with a
dynamic IP, but don't need it for hosting other services, the
inexpensive solution is to create a ``drop box'' on a publicly
accessible machine with a static IP, and have your dynamic IP host
send its IP number there, either in email or simply by writing it into
a file on a shell account. When you want to access your machine
remotely, first extract the current IP number from the drop box, then
use <EM>slogin</EM> to attach directly to that IP number. This is,
after all, really all that a dynamic IP hosting service does, they
just do it automatically over standard services, saving you some
steps.
<P>
<P>
<HR>
<A HREF="Domain-5.html">Next</A>
<A HREF="Domain-3.html">Previous</A>
<A HREF="Domain.html#toc4">Contents</A>
</BODY>
</HTML>
