<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>the userspace-tools</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="The openMosix HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Administrating openMosix"
HREF="admin.html"><LINK
REL="PREVIOUS"
TITLE="Configuration"
HREF="x576.html"><LINK
REL="NEXT"
TITLE="Cluster Mask"
HREF="x861.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The openMosix HOWTO: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x576.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 8. Administrating openMosix</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x861.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN739"
></A
>8.3. the userspace-tools</H1
><P
>&#13;These following tools are providing easy administration to openMosix 
clusters.

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>migrate -send a migrate request to a process
                syntax: 
                        migrate [PID] [openMosix_ID]</PRE
></FONT
></TD
></TR
></TABLE
>
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>&#13;
mon             -is a ncurses-based terminal monitor
                 several informations about the current status are displayed in bar-charts</PRE
></FONT
></TD
></TR
></TABLE
>
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>&#13;mosctl          -is the openMosix main configuration utility
                syntax:
                        mosctl  [stay|nostay]
                                [lstay|nolstay]
                                [block|noblock]
                                [quiet|noquiet]
                                [nomfs|mfs]
                                [expel|bring]
                                [gettune|getyard|getdecay]

                        mosctl  whois   [openMosix_ID|IP-address|hostname]

                        mosctl  [getload|getspeed|status|isup|getmem|getfree|getutil]   [openMosix_ID]

                        mosctl  setyard [Processor-Type|openMosix_ID||this]

                        mosctl  setspeed        interger-value

                        mosctl  setdecay interval       [slow fast]</PRE
></FONT
></TD
></TR
></TABLE
>

<DIV
CLASS="TABLE"
><A
NAME="AEN745"
></A
><P
><B
>Table 8-6. more detailed</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&#13;
stay            </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>no automatic process migration</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>&#13;nostay          </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>automatic process migration (default)</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>lstay           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>local processes should stay</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>nolstay         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>local processes could migrate</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>block           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>block arriving of guest processes</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>noblock         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>allow arriving of guest processes</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>quiet           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>disable gathering of load-balancing informations</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>noquiet         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>enable gathering of load-balancing informations</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>nomfs           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>disables MFS</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>mfs             </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>enables MFS</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>expel           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>send away guest processes</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>bring           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>bring all migrated processes home</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>gettune         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>shows the current overhead parameter</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getyard         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>shows the current used Yardstick</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getdecay        </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>shows the current decay parameter</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>whois           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>resolves openMosix-ID, ip-addresses and hostnames of the cluster</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getload         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>display the (openMosix-) load</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getspeed        </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>shows the (openMosix-) speed</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>status          </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>displays the current status and configuration</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>isup            </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>is a node up or down (openMosix kind of ping)</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getmem          </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>shows logical free memory</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getfree         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>shows physical free mem</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>getutil         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>display utilization</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>setyard         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>sets a new Yardstick-value</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>setspeed        </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>sets a new (openMosix-) speed value</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>setdecay        </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>sets a new decay-interval</TD
></TR
></TBODY
></TABLE
></DIV
>



<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>&#13;mosrun          -run a special configured command on a chosen node
                syntax:
                        mosrun  [-h|openMosix_ID| list_of_openMosix_IDs] command [arguments]</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>The mosrun command can be executed with several more commandline options. 
To ease this up there are several preconfigured run-scripts for executing 
jobs with a special (openMosix) configuration.</P
><DIV
CLASS="TABLE"
><A
NAME="AEN829"
></A
><P
><B
>Table 8-7. extra options for mosrun</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>nomig           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>runs a command which process(es) won't migrate</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>runhome         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>executes a command locked to its home node</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>runon           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>runs a command which will be directly migrated and locked to a node</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>cpujob  	</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>tells the openMosix cluster that this is a cpu-bound process</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>iojob           </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>tells the openMosix cluster that this is a io-bound process</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>nodecay         </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>executes a command and tells the cluster not to refresh the load-balancing statistics</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>slowdecay       </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>executes a command with a slow decay interval for collecting load-balancing statistics</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>fastdecay       </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>executes a command with a fast decay interval for collecting load-balancing statistics</TD
></TR
></TBODY
></TABLE
></DIV
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>&#13;setpe           -manual node configuration utility
                syntax:
                        setpe   -w -f   [hpc_map]
                        setpe   -r [-f  [hpc_map]]
                        setpe   -off

-w reads the openMosix configuration from a file (typically /etc/hpc.map)
-r writes the current openMosix configuration to a file (typically /etc/hpc.map)
-off turns the current openMosix configuration off</PRE
></FONT
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>&#13;tune            openMosix calibration and optimizations utility.
                (for further informations review the tune-man page)&#13;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Additional to the /proc interface and the commandline-openMosix utilities 
(which are using the 
/proc interface) there is a patched "ps" and "top" available (they are 
called "mps" and "mtop")
which displays also the openMosix-node ID on a column. This is useful for 
finding out where a
specific process is currently being computed.</P
><P
>This actually summarised the command line tools, but have a look at 
openMosixview which is 
a 

GUI for the most common 
administration tasks, and which ill be discussed in a future chapter.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x576.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x861.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Configuration</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="admin.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Cluster Mask</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>