<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>SPARC-HOWTO.: Working with the Openboot.</TITLE>
 <LINK HREF="SPARC-HOWTO-15.html" REL=next>
 <LINK HREF="SPARC-HOWTO-13.html" REL=previous>
 <LINK HREF="SPARC-HOWTO.html#toc14" REL=contents>
</HEAD>
<BODY>
<A HREF="SPARC-HOWTO-15.html">Next</A>
<A HREF="SPARC-HOWTO-13.html">Previous</A>
<A HREF="SPARC-HOWTO.html#toc14">Contents</A>
<HR>
<H2><A NAME="s14">14. Working with the Openboot.</A></H2>

<P>In this section, you will be given an overview of what is the OpenBoot,
and
you will be given the main commands you need to know in order to test
your hardware and to install Linux.
<H2><A NAME="ss14.1">14.1 What is the OpenBoot?</A>
</H2>

<P>
<P>If you are used to PC hardware, you are used to interact with 
its BIOS. SPARC computers have an Openboot, it may seem to be like 
your BIOS, but it is actually far more powerfull. 
The Openboot performs the following tasks:
<UL>
<LI>Testing and initializing the hardware.</LI>
<LI>Starting the operating System.</LI>
<LI>Giving you acces to a set of tools to program and to debug it.</LI>
</UL>

The programming language is FCode, if you can program the Forth
langage, you can program it.
<P>In this section, we will juste use a small set of the OpenBoot's 
capabilities, in order to test hardware and to boot the system.
First you have to enter in the OpenBoot, just hit the <CODE>stop</CODE>
and <CODE>a</CODE> keys simultaneously. Then you should see a <CODE>ok</CODE>
prompt, if instead you see the <CODE>&gt;</CODE> prompt then type
<CODE>n</CODE>. Now you can proceed to the next section.
<P>
<H2><A NAME="ss14.2">14.2 Diagnostics commands.</A>
</H2>

<P>The OpenBoot, gives you a lot of commands to test 
and to gather information about your hardware.
<UL>
<LI><CODE>.version</CODE> Displays version and date of the startup PROM.</LI>
<LI><CODE>banner</CODE> You will see the banner, that is displayed at
power-on. It is useful to gather some data about CPUs.</LI>
<LI><CODE>pcia-probe-list</CODE> Test PCI on computers that have a PCI bus.</LI>
<LI><CODE>module-info</CODE> This will display the Buses clockspeed,
and processors frequency and amount of cache. </LI>
<LI><CODE>probe-scsi</CODE> This will test all devices connected to the on board
SCSI controler. </LI>
<LI><CODE>probe-scsi-all</CODE> This will test all devices connected to all
the SCSI controlers.</LI>
<LI><CODE>show-devs</CODE> This displays all installed and probed devices.</LI>
<LI><CODE>show-sbus</CODE> Use this, if you just want to display a list of
installed and probed SBus devices.
</LI>
<LI><CODE>test-all</CODE> This will test all devices in the
system that have a self test program.</LI>
<LI><CODE>test floppy</CODE> If a floppy drive is installed, it will test it
reminding you to have a formated floppy disk inside.</LI>
<LI><CODE>test-memory</CODE> If the system <CODE>diag-switch?</CODE> is set to 
<CODE>true</CODE>, this will test the memory.</LI>
<LI><CODE>test net</CODE> This will test the network interfaces </LI>
<LI><CODE>watch-aui</CODE> This will test the AUI ethernet link.
You will see '.' for good packets and 'X" for bad ones. Strike any key 
to abort.</LI>
<LI><CODE>watch-clock</CODE> This will test the real time clock chip, it
will tick once a second. To stop this test strike any key.</LI>
<LI><CODE>watch-net</CODE> This will check the network connection ( both
AUI and TP ). You will see '.' for good packets and 'X" for bad
ones. Strike any key to abort.</LI>
<LI><CODE>watch-net-all</CODE> This will test all Ethernet interfaces.
You will see '.' for good packets and 'X" for bad ones. Strike any key 
to abort. When you abort one, it will test the next one.</LI>
<LI><CODE>watch-tpe</CODE> This will check the TPE ethernet interface.
You will see '.' for good packets and 'X" for bad ones. Strike any key 
to abort.</LI>
</UL>
 
<P>
<H2><A NAME="ss14.3">14.3 Boot commands.</A>
</H2>

<P>The OpenBoot allows you to boot from various devices, the command
you are the more likely to enter are below.
<UL>
<LI><CODE>boot</CODE> Boot kernel from default device.</LI>
<LI><CODE>boot cdrom</CODE> Boot kernel from CDROM drive.</LI>
<LI><CODE>boot net-tpe</CODE> Boot kernel from network urnel from CDROM drive, this is the
command you are the more likely to type when installing Linux.</LI>
<LI><CODE>boot net</CODE> Boot kernel from network using auto-selected
interface.</LI>
<LI><CODE>boot net-aui</CODE> Boot kernel from network using AUI
interface.</LI>
<LI><CODE>boot net-tpe</CODE> Boot kernel from network using TPE
interface.</LI>
<LI><CODE>boot tape</CODE> Boot default file from tape.</LI>
</UL>
<P>
<P>
<H2><A NAME="ss14.4">14.4 Misc commands.</A>
</H2>

<P>
<P>
<UL>
<LI><CODE>eject-floppy</CODE> Ejects the floppy.</LI>
<LI><CODE>power-off</CODE> Poweroff the computer.</LI>
</UL>

You can  poweroff your computer, when you are working with the 
OpenBoot : just type <CODE>power-off</CODE>
<P>For more informations on the OpenBoot you can read this FAQ at
<A HREF="http://www.itworld.com/AppDev/616/UIR951001openboot/">http://www.itworld.com/AppDev/616/UIR951001openboot/</A><HR>
<A HREF="SPARC-HOWTO-15.html">Next</A>
<A HREF="SPARC-HOWTO-13.html">Previous</A>
<A HREF="SPARC-HOWTO.html#toc14">Contents</A>
</BODY>
</HTML>
