<HTML
><HEAD
><TITLE
>Patch the Source</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Mozilla Optimization Mini-HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Get the Source"
HREF="usethesource.html"><LINK
REL="NEXT"
TITLE="Configure the Source"
HREF="configure.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Mozilla Optimization Mini-HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="usethesource.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="configure.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="patch"
></A
>4. Patch the Source</H1
><P
>&#13;Unpatched Mozilla is not a very good X citizen.  For example, it does not allow one to specify X and Y geometry position as a command-line option.  This is not a big problem on a typical end-user desktop, but in a corporate or public computing environment, it is a killer.  In order to fix this, we need to apply a patch to the C++ source code at <TT
CLASS="filename"
>embedding/components/windowwatcher/src/nsWindowWatcher.cpp</TT
>.  The first step is to obtain and apply the <A
HREF="http://www.willamette.edu/~speralta/mozilla.kludge.txt"
TARGET="_top"
>patch</A
> written by Robert Riches.  This patch has been tested in Mozilla versions 1.0 through 1.2.1.
</P
><P
>&#13;To apply the patch, simply paste it into <TT
CLASS="filename"
>embedding/components/windowwatcher/src/nsWindowWatcher.cpp</TT
>, in your Mozilla source tree.  The notation uses <SPAN
CLASS="QUOTE"
>"+"</SPAN
> symbols to denote the code that needs insertion.  Those symbols need to be removed before saving the <TT
CLASS="filename"
>nsWindowWatcher.cpp</TT
> text file.
</P
><P
>&#13;To use the patch, set an environment variable called <TT
CLASS="envar"
>MOZILLA_SCREEN_POS</TT
> with the proper coordinates.   For example, in Bash, type <B
CLASS="command"
>export MOZILLA_SCREEN_POS='screenx=1,screeny=1'</B
> will set the top left corner of your browser to the top left corner of your screen.
</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="usethesource.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="configure.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Get the Source</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Configure the Source</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>