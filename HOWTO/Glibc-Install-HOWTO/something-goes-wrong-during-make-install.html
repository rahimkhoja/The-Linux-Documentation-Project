<HTML
><HEAD
><TITLE
>Something goes wrong during make install</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Glibc Installation HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Troubleshooting&#8212;if something goes wrong... "
HREF="troubleshooting.html"><LINK
REL="PREVIOUS"
TITLE="Errors with configure or make 
while trying to compile glibc"
HREF="errors-with-configure-or-make-while-trying-to-compile-the-glibc.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Glibc Installation HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="errors-with-configure-or-make-while-trying-to-compile-the-glibc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Troubleshooting&#8212;if something goes wrong...</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
>&nbsp;</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="something-goes-wrong-during-make-install"
></A
>5.2. Something goes wrong during <B
CLASS="command"
>make install</B
></H1
><P
>The most common mistake is not to have a set of basic, static tools; 
in this case you can only use the command <B
CLASS="command"
>cd</B
>,
but nothing else. This is the reason why in this HOWTO I have described
in detail how to make those tools static.</P
><P
>The only tool not static is <B
CLASS="command"
>mount</B
> and, for good 
reason in my opinion, it is included in the package of
linux-utils, which also contains <B
CLASS="command"
>login</B
>, 
<B
CLASS="command"
>passwd</B
>, etc.  Since you are
not able to use statically-linked versions in combination with PAM or
other security-related software, it would be unwise to
compile them statically under all circumstances. Of course you are free to do so if you are really sure about what you are doing.</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="going-back-to-a-working-configuration"
></A
>5.2.1. Going back to a working configuration</H2
><P
>The way back to a working configuration is quite simple if you
have the static tools:  go to the directory 
<TT
CLASS="filename"
>/usr/local/lib/</TT
>
and move all the newly installed files into another location (eg.
<TT
CLASS="filename"
>/usr/local/lib/storedaway</TT
>). You may identify them by
looking at their version number, which should be the same as the one from
your glibc installation (in my example all files fitted to
the scheme lib*-2.2.4), and of course by the creation date and
time. It is quite uncommon that two different libraries have the
same version number at the same time&#8212;I, myself, have never
experienced such a thing&#8212;but just to be sure you do not delete
something important to your system, check the date and
time of creation. A very useful tool in this case is the Midnight
Commander, if you have it installed.</P
><P
>You could try to remove the files <TT
CLASS="filename"
>ld-2.2.4.so</TT
> and
<TT
CLASS="filename"
>libc-2.2.4.so</TT
> and run <B
CLASS="command"
>ldconfig -v</B
> afterwards, before
removing all the crashed files.  This will enable you to use at
least most of your programs and in every case you will be able
to run the Midnight Commander.</P
><P
>Do not forget to do at least one <B
CLASS="command"
>ldconfig -v</B
> after you have removed all the files.</P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="removing-the-causes-for-the-crashing-of-the-installation"
></A
>5.2.1.1. Removing the causes for the crashing of the installation</H3
><P
>A common cause for problems is that your distribution has stored
all the library files in a different location than the newly-installed
routine will use, thus it often happens that there are two
versions running simultaneously, disturbing each other. In my case,
lots of trouble was caused by a second copy of <TT
CLASS="filename"
>libc6.so</TT
> 
lying around in <TT
CLASS="filename"
>/lib</TT
>, a symbolic link from this file to
the corresponding one in <TT
CLASS="filename"
>/usr/local/lib</TT
> fixes this problem.
</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="errors-with-configure-or-make-while-trying-to-compile-the-glibc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Errors with <B
CLASS="command"
>configure</B
> or <B
CLASS="command"
>make</B
> 
while trying to compile glibc</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="troubleshooting.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>