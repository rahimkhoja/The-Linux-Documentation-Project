<HTML
><HEAD
><TITLE
>Common Problems</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Bridging mini-HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Setup"
HREF="x23.html"><LINK
REL="NEXT"
TITLE="Copyright"
HREF="x149.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Bridging mini-HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x23.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x149.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN72">2. Common Problems</H1
><DIV
CLASS="QANDASET"
><DL
><DT
>Q: <A
HREF="x72.html#AEN76"
>I get the message <SPAN
CLASS="ERRORNAME"
>ioctl(SIOCGIFBR) failed: Package not installed
        </SPAN
>.  What does this mean?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN83"
>Machines on one side cannot ping the other side!</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN99"
>I cannot <SPAN
CLASS="APPLICATION"
>telnet</SPAN
>/<SPAN
CLASS="APPLICATION"
>ftp</SPAN
> from the bridge! Why?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN106"
>What do I need to set up in the way of routing?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN113"
>The bridge appears to work, but why doesn't <SPAN
CLASS="APPLICATION"
>traceroute</SPAN
> show the bridge as a part of the path?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN120"
>Is it necessary to compile <TT
CLASS="ENVAR"
>IP_FORWARD</TT
> into the kernel?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN127"
>Why are the physical ethernet addresses for port 1 and port 2 the
        same according to the <SPAN
CLASS="APPLICATION"
>brcfg</SPAN
> program?
        Shouldn't they be different?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN133"
>Bridging does not appear to be an option when performing a make
        config on the kernel.  How does one enable it?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN140"
>Too many hubs (4 or more) are chained one after another in series, 
        cause timing problems on an ethernet.  What effect does a bridge
        have in a subnet that is layered with hubs?</A
></DT
><DT
>Q: <A
HREF="x72.html#AEN145"
>Can a bridge interface to both 10Mb and 100Mb ethernet segments?
        Will such a configuration slow down the rest of the traffic on the
        high speed side?</A
></DT
></DL
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN76"><B
>Q: </B
>I get the message <SPAN
CLASS="ERRORNAME"
>ioctl(SIOCGIFBR) failed: Package not installed
        </SPAN
>.  What does this mean?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>You don't have bridging capability in your kernel.
        Get a 2.0 or greater kernel,
        and recompile with the <TT
CLASS="ENVAR"
>BRIDGING</TT
> option enabled.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN83"><B
>Q: </B
>Machines on one side cannot ping the other side!</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
><LI
><SPAN
>Did you enable bridging using <SPAN
CLASS="APPLICATION"
>brcfg -ena</SPAN
>? (<SPAN
CLASS="APPLICATION"
>brcfg</SPAN
> should say <SPAN
CLASS="RETURNVALUE"
>bridging is ENABLED</SPAN
>)</SPAN
></LI
><LI
><SPAN
>Did you put the interfaces into promiscuous mode?
                (issue the <SPAN
CLASS="APPLICATION"
>ifconfig</SPAN
> command.
                 The <SPAN
CLASS="PROPERTY"
>PROMISC</SPAN
> flag should be on for
                 both interfaces.)</SPAN
></LI
><LI
><SPAN
>If using multiple-media interface adapters,
                make sure that the correct one is enabled.
                You may need to use the config/setup program that
                came with the network interface card.</SPAN
></LI
></P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN99"><B
>Q: </B
>I cannot <SPAN
CLASS="APPLICATION"
>telnet</SPAN
>/<SPAN
CLASS="APPLICATION"
>ftp</SPAN
> from the bridge! Why?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>This is because there is no IP address bound to any of bridge
        interfaces.  A bridge is to be a transparent part of a network.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN106"><B
>Q: </B
>What do I need to set up in the way of routing?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>Nothing!
        All routing intelligence is handled by
        the bridging code in the kernel.
        To see the ethernet addresses as they are learned by the bridge,
        use the <SPAN
CLASS="APPLICATION"
>brcfg</SPAN
> program in debug mode:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>brcfg -deb
        </PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN113"><B
>Q: </B
>The bridge appears to work, but why doesn't <SPAN
CLASS="APPLICATION"
>traceroute</SPAN
> show the bridge as a part of the path?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>Due to the nature of a bridge, a <SPAN
CLASS="APPLICATION"
>traceroute</SPAN
> should NOT show the bridge as a part of the path. A bridge is to be a transparent component of the network.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN120"><B
>Q: </B
>Is it necessary to compile <TT
CLASS="ENVAR"
>IP_FORWARD</TT
> into the kernel?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>No. The bridging code in the kernel takes care of the packet
        transport.
        <TT
CLASS="ENVAR"
>IP_FORWARD</TT
> is for a gateway that has IP addresses
        bound to its interfaces.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN127"><B
>Q: </B
>Why are the physical ethernet addresses for port 1 and port 2 the
        same according to the <SPAN
CLASS="APPLICATION"
>brcfg</SPAN
> program?
        Shouldn't they be different?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>No. Every port on a bridge intentionally is assigned the same
        physical ethernet address by the bridging code.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN133"><B
>Q: </B
>Bridging does not appear to be an option when performing a make
        config on the kernel.  How does one enable it?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>During the kernel config, answer <SPAN
CLASS="QUOTE"
>"Y"</SPAN
> to the question, <TT
CLASS="PROMPT"
>Prompt for
        development and/or incomplete code/drivers (CONFIG_EXPERIMENTAL) [Y/n/?]</TT
>.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN140"><B
>Q: </B
>Too many hubs (4 or more) are chained one after another in series, 
        cause timing problems on an ethernet.  What effect does a bridge
        have in a subnet that is layered with hubs?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>A bridge resets the 3/4/5 hubs rule.  A bridge does not deal with
        packets the way a hub does, and is therefore not a contributor to
        timing problems on a network.</P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><A
NAME="AEN145"><B
>Q: </B
>Can a bridge interface to both 10Mb and 100Mb ethernet segments?
        Will such a configuration slow down the rest of the traffic on the
        high speed side?</P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>Yes, a bridge can tie together a 10Mb segment with a 100Mb segment.
        As long as the network card on the fast network is 100Mb capable,
        TCP takes care of the rest.  While it's true that the
        packets from a host in the 100Mb network communicating to a host
        in the 10Mb network are moving at only 10Mb/s, the rest of the
        traffic on the fast ethernet is not slowed down.</P
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x23.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x149.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Setup</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Copyright</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>