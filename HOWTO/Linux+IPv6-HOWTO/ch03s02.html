<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Network part, also known as prefix</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Linux IPv6 HOWTO (en)"><link rel="up" href="ch03.html" title="Chapter 3. Address types"><link rel="prev" href="ch03s01.html" title="1. Addresses without a special prefix"><link rel="next" href="ch03s03.html" title="3. Address types (host part)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Network part, also known as prefix</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s01.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Address types</th><td width="20%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp50469008"></a>2. Network part, also known as prefix</h2></div></div></div><p>Designers defined some address types and left a lot of scope for future definitions as currently unknown requirements arise. <a class="ulink" href="http://www.faqs.org/rfcs/rfc4291.html" target="_top">RFC 4291 / IP Version 6 Addressing Architecture</a> defines the current addressing scheme.
</p><p>Now lets take a look at the different types of prefixes (and therefore address types):</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50471040"></a>2.1. Link local address type</h3></div></div></div><p>These are special addresses which will only be valid on a link of an interface. Using this address as destination the packet would never pass through a router. It's used for link communications such as:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>anyone else here on this link?</p></li><li class="listitem"><p>anyone here with a special address (e.g. looking for a router)?</p></li></ul></div><p>They begin with ( where <span class="emphasis"><em>&#8221;x&#8221;</em></span> is any hex character, normally <span class="emphasis"><em>&#8221;0</em></span>&#8221;)</p><pre class="screen">
fe8x:  &lt;- currently the only one in use
fe9x:
feax:
febx:
</pre><p>An address with this prefix is found on each IPv6-enabled interface after stateless auto-configuration (which is normally always the case).</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50475440"></a>2.2. Site local address type</h3></div></div></div><p>These are addresses similar to the <a class="ulink" href="http://www.faqs.org/rfcs/rfc1918.html" target="_top">RFC 1918 / Address Allocation for Private Internets</a> in IPv4 today, with the added advantage that everyone who use this address type has the capability to use the given 16 bits for a maximum number of 65536 subnets. Comparable with the 10.0.0.0/8 in IPv4 today.</p><p>Another advantage: because it's possible to assign more than one address to an interface with IPv6, you can also assign such a site local address in addition to a global one.</p><p>It begins with: </p><pre class="screen">
fecx:  &lt;- most commonly used
fedx:
feex:
fefx:

</pre><p>(where<span class="emphasis"><em> &#8221;x&#8221;</em></span> is any hex character, normally <span class="emphasis"><em>&#8221;0</em></span>&#8221;) </p><p>This address type is now deprecated <a class="ulink" href="http://www.faqs.org/rfcs/rfc3879.html" target="_top">RFC 3879 / Deprecating Site Local Addresses</a>, but for a test in a lab, such addresses are still a good choice in my humble opinion.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50480768"></a>2.3. Unique Local IPv6 Unicast Addresses</h3></div></div></div><p>Because the original defined site local addresses are not unique, this can lead to major problems, if two former independend networks would be connected later (overlapping of subnets). This and other issues lead to a new address type named <a class="ulink" href="http://www.faqs.org/rfcs/rfc4193.html" target="_top">RFC 4193 / Unique Local IPv6 Unicast Addresses</a>. 
</p><p>It begins with: </p><pre class="screen">
fcxx:
fdxx:  &lt;- currently the only one in use
</pre><p>A part of the prefix (40 bits) are generated using a pseudo-random algorithm and it's improbable, that two generated ones are equal.</p><p>Example for a prefix (generated using a web-based tool: <a class="ulink" href="http://www.goebel-consult.de/ipv6/createLULA" target="_top">Goebel Consult / createLULA</a>):</p><pre class="screen">
fd0f:8b72:ac90::/48
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50485632"></a>2.4. Global address type "(Aggregatable) global unicast"</h3></div></div></div><p>Today, there is one global address type defined (the first design, called "provider based," was thrown away some years ago <a class="ulink" href="http://www.faqs.org/rfcs/rfc1884.html" target="_top">RFC 1884 / IP Version 6 Addressing Architecture [obsolete]</a>, you will find some remains in older Linux kernel sources).</p><p>It begins with (<span class="emphasis"><em>x</em></span> are hex characters)</p><pre class="screen">
2xxx: 
3xxx:
</pre><p>Note: the prefix &#8221;aggregatable&#8221; is thrown away in current drafts.
There are some further subtypes defined, see below:</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50489232"></a>2.4.1. 6bone test addresses</h4></div></div></div><p>These were the first global addresses which were defined and in use. They all start with </p><pre class="screen">
3ffe:
</pre><p>Example:</p><pre class="screen">
3ffe:ffff:100:f102::1
</pre><p>A special 6bone test address which will never be globally unique begins with </p><pre class="screen">
3ffe:ffff: 
</pre><p>and is mostly shown in older examples. The reason for this is, if real addresses are are shown, it's possible for someone to do a copy &amp; paste to their configuration files, thus inadvertently causing duplicates on a globally unique address. This would cause serious problems for the original host (e.g. getting answer packets for request that were never sent).
Because IPv6 is now in production, this prefix is no longer be delegated and is removed from routing after 6.6.2006 (see <a class="ulink" href="http://www.faqs.org/rfcs/rfc3701.html" target="_top">RFC 3701 / 6bone Phaseout</a> for more).</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50494224"></a>2.4.2. 6to4 addresses</h4></div></div></div><p>These addresses, designed for a special tunneling mechanism [<a class="ulink" href="http://www.faqs.org/rfcs/rfc3056.html" target="_top">RFC 3056 / Connection of IPv6 Domains via IPv4 Clouds</a> and <a class="ulink" href="http://www.faqs.org/rfcs/rfc2893.html" target="_top">RFC 2893 / Transition Mechanisms for IPv6 Hosts and Routers</a>], encode a given IPv4 address and a possible subnet and begin with </p><pre class="screen">
2002:
</pre><p>For example, representing 192.168.1.1/5:</p><pre class="screen">
2002:c0a8:0101:5::1
</pre><p>A small shell command line can help you generating such address out of a given IPv4 one:</p><pre class="screen">
ipv4="1.2.3.4"; sla="5"; printf "2002:%02x%02x:%02x%02x:%04x::1" `echo $ipv4
¬ | tr "." " "` $sla
</pre><p>See also <a class="link" href="ch09s01.html#tunneling-6to4." title="1.3. 6to4-Tunneling">tunneling using 6to4</a> and <a class="link" href="ch25s03.html#information-joinipv6-6to4-tunneling" title="3.1.4. 6to4">information about 6to4 relay routers</a>.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50500528"></a>2.4.3. Assigned by provider for hierarchical routing</h4></div></div></div><p>These addresses are delegated to Internet service providers (ISP) and begin currently with</p><pre class="screen">
2001:
</pre><p>Prefixes to major (backbone owning) ISPs (also known as LIRs) are delegated by <a class="link" href="ch25s03.html#information-majorregionregistries" title="3.1.2. Major regional registries">local registries</a> and currently have a prefix with length 32 assigned.</p><p>Any ISP customer can get a prefix with length 48.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50503392"></a>2.4.4. Addresses reserved for examples and documentation</h4></div></div></div><p>Currently, two address ranges are reserved for examples and documentation <a class="ulink" href="http://www.faqs.org/rfcs/rfc3849.html" target="_top">RFC 3849 / IPv6 Address Prefix Reserved for Documentation</a>:</p><pre class="screen">
3fff:ffff::/32
2001:0DB8::/32   EXAMPLENET-WF
</pre><p>These address ranges should be filtered based on source addresses and should NOT be routed on border routers to the internet, if possible.</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50506144"></a>2.5. Multicast addresses</h3></div></div></div><p>Multicast addresses are used for related services. </p><p>They alway start with (<span class="emphasis"><em>xx</em></span> is the scope value)</p><pre class="screen">
ffxy:
</pre><p>They are split into scopes and types:</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50508560"></a>2.5.1. Multicast scopes</h4></div></div></div><p>Multicast scope is a parameter to specify the maximum distance a multicast packet can travel from the sending entity.</p><p>Currently, the following regions (scopes) are defined:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ffx1: node-local, packets never leave the node.</p></li><li class="listitem"><p>ffx2: link-local, packets are never forwarded by routers, so they never leave the specified link.</p></li><li class="listitem"><p>ffx5: site-local, packets never leave the site.</p></li><li class="listitem"><p>ffx8: organization-local, packets never leave the organization (not so easy to implement, must be covered by routing protocol).</p></li><li class="listitem"><p>ffxe: global scope.</p></li><li class="listitem"><p>others are reserved</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50512672"></a>2.5.2. Multicast types</h4></div></div></div><p>There are many types already defined/reserved (see <a class="ulink" href="http://www.faqs.org/rfcs/rfc4291.html" target="_top">RFC 4291 / IP Version 6 Addressing Architecture</a> for details). Some examples are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>All Nodes Address: ID = 1h, addresses all hosts on the local node (ff01:0:0:0:0:0:0:1) or the connected link (ff02:0:0:0:0:0:0:1).</p></li><li class="listitem"><p>All Routers Address: ID = 2h, addresses all routers on the local node (ff01:0:0:0:0:0:0:2), on the connected link (ff02:0:0:0:0:0:0:2), or on the local site (ff05:0:0:0:0:0:0:2)</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50515552"></a>2.5.3. Solicited node link-local multicast address</h4></div></div></div><p>Special multicast address used as destination address in neighborhood discovery, because unlike in IPv4, ARP no longer exists in IPv6.</p><p>An example of this address looks like</p><pre class="screen">
ff02::1:ff00:1234
</pre><p>Used prefix shows that this is a link-local multicast address. The suffix is generated from the destination address. In this example, a packet should be sent to address &#8220;fe80::1234&#8221;, but the network stack doesn't know the current layer 2 MAC address. It replaces the upper 104 bits with &#8220;ff02:0:0:0:0:1:ff00::/104&#8221; and leaves the lower 24 bits untouched. This address is now used `on-link' to find the corresponding node which has to send a reply containing its layer 2 MAC address.</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50518800"></a>2.6. Anycast addresses</h3></div></div></div><p>Anycast addresses are special addresses and are used to cover things like nearest DNS server, nearest DHCP server, or similar dynamic groups. Addresses are taken out of the unicast address space (aggregatable global or site-local at the moment). The anycast mechanism (client view) will be handled by dynamic routing protocols.</p><p>Note: Anycast addresses cannot be used as source addresses, they are only used as destination addresses.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idp50520544"></a>2.6.1. Subnet-router anycast address</h4></div></div></div><p>A simple example for an anycast address is the subnet-router anycast address. Assuming that a node has the following global assigned IPv6 address:</p><pre class="screen">
2001:db8:100:f101:210:a4ff:fee3:9566/64  &lt;- Node's address
</pre><p>The subnet-router anycast address will be created blanking the suffix (least significant 64 bits) completely:</p><pre class="screen">
2001:db8:100:f101::/64  &lt;- subnet-router anycast address
</pre></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Addresses without a special prefix </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Address types (host part)</td></tr></table></div></body></html>
