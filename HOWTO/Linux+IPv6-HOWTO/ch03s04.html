<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>4. Prefix lengths for routing</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Linux IPv6 HOWTO (en)"><link rel="up" href="ch03.html" title="Chapter 3. Address types"><link rel="prev" href="ch03s03.html" title="3. Address types (host part)"><link rel="next" href="ch04.html" title="Chapter 4. IPv6-ready system check"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. Prefix lengths for routing</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s03.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Address types</th><td width="20%" align="right"> <a accesskey="n" href="ch04.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp50535072"></a>4. Prefix lengths for routing</h2></div></div></div><p>In the early design phase it was planned to use a fully hierarchical routing approach to reduce the size of the routing tables maximally. The reasons behind this approach were the number of current IPv4 routing entries in core routers (&gt; 400 thousand in 2013), reducing the need of memory in hardware routers (ASIC &#8221;Application Specified Integrated Circuit&#8221; driven) to hold the routing table and increase speed (fewer entries hopefully result in faster lookups).
</p><p>Todays view is that routing will be mostly hierarchically designed for networks with only one service provider. With more than one ISP connections, this is not possible, and subject to an issue named multi-homing (infos on multi-homing: <a class="ulink" href="http://www.ietf.org/ids.by.wg/multi6.html" target="_top">drafts-ietf-multi6-*</a>,<a class="ulink" href="http://arneill-py.sacramento.ca.us/ipv6mh/" target="_top">IPv6 Multihoming Solutions</a>).</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50538240"></a>4.1. Prefix lengths (also known as "netmasks")</h3></div></div></div><p>Similar to IPv4, the routable network path for routing to take place. Because standard netmask notation for 128 bits doesn't look nice, designers employed the IPv4 Classless Inter Domain Routing (CIDR, <a class="ulink" href="http://www.faqs.org/rfcs/rfc1519.html" target="_top">RFC 1519 / Classless Inter-Domain Routing</a>) scheme, which specifies the number of bits of the IP address to be used for routing. It is also called the "slash" notation.</p><p>An example: </p><pre class="screen">
2001:0db8:100:1:2:3:4:5/48
</pre><p>This notation will be expanded:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Network: </p></li></ul></div><pre class="screen">
2001:0db8:0100:0000:0000:0000:0000:0000
</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Netmask: </p></li></ul></div><pre class="screen">
ffff:ffff:ffff:0000:0000:0000:0000:0000
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idp50543920"></a>4.2. Matching a route</h3></div></div></div><p>Under normal circumstances (no QoS), a lookup in a routing table results in the route with the most significant number of address bits being selected. In other words, the route with the biggest prefix length matches first.</p><p>For example if a routing table shows following entries (list is not complete):</p><pre class="screen">
2001:0db8:100::/48     ::            U  1 0 0 sit1 
2000::/3               ::192.88.99.1 UG 1 0 0 tun6to4
</pre><p>Shown destination addresses of IPv6 packets will be routed through shown device</p><pre class="screen">
2001:0db8:100:1:2:3:4:5/48  -&gt;  routed through device sit1
2001:0db8:200:1:2:3:4:5/48  -&gt;  routed through device tun6to4
</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3. Address types (host part) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 4. IPv6-ready system check</td></tr></table></div></body></html>
