<HTML
><HEAD
><TITLE
>Introduction</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Upgrading Your linux Distribution mini-HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Changes since version 1.1"
HREF="x22.html"><LINK
REL="NEXT"
TITLE="Write down everything you do."
HREF="x58.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Upgrading Your linux Distribution mini-HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x22.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x58.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN36">3. Introduction</H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN38">3.1. How to slay and reincarnate your linux box!</H2
><P
>The purpose of this document is to offer tips to help you through the
destruction and reinstallation of a linux system.  It's not a
foolproof cookbook by any means, but I hope it will serve as some
indication of what you need to think about, and of the order in which
to do things.  It would have been a help to me, if someone else had
written something like this before I did my first upgrade; so I hope 
it will be a help to you, if you have a linux machine to rebuild.
      </P
><P
>Don't take it as gospel, though: your mileage will almost certainly
vary.  Even the directory names in this document may be different from
the ones you need to use; some people have /usr/home instead of /home,
for example; others call it /u, and some (delicate shudder :) even put
all their users directly under /usr itself!  I can't be specific about
your system, so I've just used the names the way they are in mine.
      </P
><P
>You'll also notice that I use Slackware distributions, and that I
assume you've enough RAM and hard disk space to install linux kernel
source and build your own kernel.  If your system is different, some
of my recommendations won't apply; but I hope you'll still find the
general outline to be of assistance in your rebuild project.
      </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN43">3.2. Why would anyone want to do that?</H2
><P
>Good question!  If it can possibly be avoided, don't do it!  (That's
the single most important recommendation in this whole guide!!!)  When
this guide was first written, not many people had hard disks big enough
to accomodate two whole Linux installations; these days, that's by no
means uncommon.  If you possibly can, build your new system in a
separate partition (or group of partitions), keeping the old one intact
till you're satisfied that the new one is just the way you want it.  If
you can avoid destroying the old system to make room for the new, by
all means avoid it!  But there are times when you may have no choice.
      </P
><P
>(These examples are a bit dated, but they serve to illustrate my
point:)
      </P
><P
>For example, I installed a 4Gb hard disk and then found out that
Slackware 2.0 vintage linux didn't know a hard disk could have more
than 2Gb, and it got horribly confused.  So I had to upgrade to the
then-current Slackware 2.3.  That upgrade was a gruelling experience,
and it's part of the reason I'm writing these notes.  I did just about
everything wrong, and only good luck and the fact that I had another
running linux box beside me saved me from disaster.
      </P
><P
>As another example, I found that I just couldn't succeed in building a
working a.out linux kernel in the 1.3 series, using an out-of-the-box
Slackware 2.3 installation (another machine, not the one I botched
before).  I took the plunge, bought Slackware 3.0 on CDROM and
converted to ELF.  This time the reinstallation went better, thanks in
part to the previous bitter experience, and it served as the source of
most of the ideas I'm offering you here.
      </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN49">3.3. Do you have to ``destroy and reinstall?''</H2
><P
>See above.  If you can build your new system in otherwise empty disk
space, do it!  For the rest of this document, however, I'll assume that
this is one of those times when that option isn't available; you either
have to reinstall "in place," over top of the existing system, or you
have to bite the bullet and rebuild from scratch.
      </P
><P
>The latter is safer, oddly enough.  If you install over top of an
existing linux system, chances are you'll have a mixture of old and new
binaries, old and new configuration files, and generally a mess to try
to administer.  Wiping the system clean, and then putting back only
what you know you need, is a drastic but effective way to get a clean
result.  (Of course we're talking about installing a whole new linux
distribution here, not about upgrading one or two packages!  The best
way to avoid having to do a full reinstallation is, precisely, to keep
the individual bits -- especially gcc and its libraries, and binutils
-- current.  If the stuff you use is reasonably up-to-date, and you
can keep it so by bringing in, and if need be compiling, new code from
time to time, then there's no need for a mass upgrade.)
      </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN53">3.4. How long will it take?</H2
><P
>Depends, of course, on how complex your system is.  But I figure that,
for the successful upgrade (the other one? -- don't ask! :) I spent
about ten hours making backups, six hours rebuilding the system to the
point where I could enable logins, and another half day or thereabouts
restoring the less-crucial stuff.  As time passes I keep discovering
little things that still aren't exactly as I want them -- I fix these
as they're encountered -- but in the main, twenty hours' work should
suffice for a reasonably complex rebuilding job.  Maybe less if you're
reinstalling from hard disk (I used CDROM) or more if you need to
install from floppies.  Maybe less if you've got a fast Pentium, more
if it's a 386.  You get the idea.
      </P
><P
>Those were the bad old days.  Now, with faster disks and faster
machines and CD writers, things go better.  My notebook was stolen in
December, 2002, and when the new one came, I was up and pretty near
complete -- despite having lost the old system without the chance to
save the latest changes -- after about seven hours of effort.
      </P
><P
>So much for the introduction.  Here's how to set about it, once you've
decided it must be done.  Arm yourself with fortitude and Jolt or
whatever, and:
      </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x22.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x58.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Changes since version 1.1</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Write down everything you do.</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>