
                    The Linux Public Web Browser mini-HOWTO

par Donald B. Marti Jr., dmarti@best.com
Adaptation française : Pierre-Charles David david@essi.fr

   v0.3, 5 Janvier 1998
     _________________________________________________________________

   _L'idée de base ici est de rendre le web accessible à des visiteurs,
   tout en limitant leurs possibilités de causer des dégats._
     _________________________________________________________________

1. Copyright et mise en garde

   Copyright 1997 Donald B. Marti Jr. Ce document peut être redistribué
   sous les termes de la licence du Projet de Documentation de Linux
   (LDP).

   Ce document ne couvre pour l'instant que Netscape Navigator, mais je
   projette d'ajouter des notes pour d'autres navigateur dès que j'aurais
   les informations nécessaires. Si vous essayez ceci avec un autre
   navigateur, faites le moi savoir.

2. Introduction

   L'idée de base ici est de rendre le web accessible à des visiteurs,
   tout en limitant leurs possibilités de causer des dégats.

   Cette configuration était au départ destinée à des stands
   d'expositions, mais elle devrait être applicable dans d'autres
   circonstances où vous voulez faire tourner un navigateur web sans
   avoir à vous occuper de l'ordinateur.

   Suivre ces instructions ne rend en aucun cas votre système immunisé
   contre les attaques ou les erreurs idiotes.

3. Avant de commencer

3.1 Vous avez besoin d'un navigateur graphique

   Ce document présuppose que vous ayez déjà un navigateur web graphique
   fonctionnant, tel que Netscape Navigator, sur votre système. Vous
   devez avoir l'autorisation d'utiliser votre navigateur. Si vous voulez
   utilisez Netscape Navigator dans un contexte commercial, vous pouvez
   en acheter une copie avec la licence appropriée auprès de Caldera.

3.2 Vous devez avoir la permission d'ajouter un compte utilisateur

   Si vous n'avez pas le droit d'être root, demandez à l'administrateur
   système d'ajouter le compte guest et de vous rendre propriétaire du
   répertoire personnel de guest. Sauter à la section ``Créer ou éditer
   les fichiers suivants'' ( Créer ou éditer les fichiers suivants dans
   /home/guest) lorsqu'il ou elle l'a fait.

3.3 Vous avez besoin de httpd pour une station de navigation web autonome

   Si vous mettez en place une station de navigation web autonome, sans
   connexion réseau, vous devez avoir un httpd fonctionnant correctement
   et les documents webs installés. Pour savoir si c'est le cas, tapez :

lynx -dump http://localhost/

   Vous devez obtenir le texte de la page d'accueil sur votre système.

4. Ajouter un compte guest

   En tant que root, lancez adduser pour ajouter un utilisateur nommé
   guest. Entrez alors

passwd guest

   pour positionner le mot de passe de l'utilisateur guest. Cela doit
   être quelque chose de simple à se souvenir, comme ``guest''. Vous
   communiquerez ce mot de passe aux utilisateurs. Ne mettez pas votre
   propre mot de passe.

   Rendez-vous ensuite propriétaire du répertoire personnel de guest.
   Entrez

       chown moi.mongroupe /home/guest

   Remplacez ``moi'' par votre nom d'utilisateur normal et ``mongroupe''
   avec votre nom de groupe. (Sur Red Hat Linux, les deux seront
   identiques.)

   Vous devez maintenant tapez exit et effectuer le reste des
   manipulations sous votre compte normal, pas en tant que _root_.

5. Créer ou éditer les fichiers suivants dans /home/guest

5.1 Fichier .bash_login
       ______________________________________________________________

       exec startx
       ______________________________________________________________

   Cela signifie que lorsque guest entre sur le système, le shell de
   login lancera tout de suite le système X Window.

5.2 Fichier .Xclients
       ______________________________________________________________

netscape
       ______________________________________________________________

   Cela signifie que lorsque X démarre, guest obtient seulement le
   navigateur web, sans gestionnaire de fenêtres. Si vous préférez un
   autre navigateur web, mettez quelque chose d'autre.

   Le fichier .Xclients doit être exécutable par guest. Entrez pour cela

chmod 755 /home/guest/.Xclients

5.3 Fichier .xsession
       ______________________________________________________________

#!/bin/sh
netscape
       ______________________________________________________________

   Si vous utilisez xdm(1) pour loguer les gens sur le système, ce
   fichier doit faire en sorte que guest obtienne le navigateur de la
   même manière que s'il s'était logé normalement. Le fichier .xsession
   doit être exécutable par guest. Entrez pour cela

chmod 755 /home/guest/.xsession

5.4 Fichier .Xdefaults
       ______________________________________________________________

! Désactive la sélection à la souris
*hysteresis:                            3000

! Rend tous les liens, visités ou non, de la même couleur par défaut
*linkForeground:                        #0000EE
*vlinkForeground:                       #0000EE

Netscape.Navigator.geometry: =NETSCAPE_GEOMETRY

! Désactive les commandes clavier
*globalTranslations:

! Fait en sorte que tous les boutons de souris aient le même effet
*drawingArea.translations:              #replace                        \
<Btn1Down>:                     ArmLink()                       \n\
<Btn2Down>:                     ArmLink()                       \n\
<Btn3Down>:                     ArmLink()                       \n\
~Shift<Btn1Up>:                 ActivateLink()                  \
                                DisarmLink()                    \n\
~Shift<Btn2Up>:                 ActivateLink()                  \
                                DisarmLink()                    \n\
~Shift<Btn3Up>:                 ActivateLink()                  \
                                DisarmLink()                    \n\
Shift<Btn1Up>:                  ActivateLink()                  \
                                DisarmLink()                    \n\
Shift<Btn2Up>:                  ActivateLink()                  \
                                DisarmLink()                    \n\
Shift<Btn3Up>:                  ActivateLink()                  \
                                DisarmLink()                    \n\
<Btn1Motion>:                   DisarmLinkIfMoved()             \n\
<Btn2Motion>:                   DisarmLinkIfMoved()             \n\
<Btn3Motion>:                   DisarmLinkIfMoved()             \n\
<Motion>:                       DescribeLink()                  \n\
       ______________________________________________________________

   Ce fichier désactive le clignotement de texte, la sélection à la
   souris, et certains raccourcis claviers. Il fait aussi en sorte que
   tous les boutons de souris fassent la même chose, cache la barre de
   menu, et rend les liens, visités ou non, de la même couleur, pour que
   chaque utilisateur aie de jolis liens bleus et pas ceux que d'autres
   personnes ont visité en violet.

   Dans, ce fichier, vous devez remplacer NETSCAPE_GEOMETRY par une
   spécification de géométrie X du genre : XxY+0-0, où X est la largeur
   de votre écran, et Y sa hauteur + 32. Cela positionnera la barre de
   titre de la fenêtre Netscape en dehors de l'écran pour ne pas
   distraire l'utilisateur. Par exemple, si votre écran est en 800x600,
   la spécification de géométrie doit être 800x632+0-0.

6. Créer un répertoire .netscape pour guest

   Entrez

mkdir /home/guest/.netscape
chmod 777 /home/guest/.netscape

   pour créer le répertoire .netscape de guest et le rendre lisible par
   tout le monde.

7. L'essayer

   Déloguez vous, puis loguez vous en tant que guest.

8. Modifier les préférences

   Puisque vous ne pourrez pas utiliser la barre de menu en tant que
   guest, vous devez éditer les préférences de guest manuellement si vous
   devez les modifier, ou bien changer vos propre préférences et recopier
   votre fichier de préférences sur celui de guest.
