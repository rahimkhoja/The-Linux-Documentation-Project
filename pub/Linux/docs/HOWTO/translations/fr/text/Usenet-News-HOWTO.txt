
                                  News-Howto

Vince Shakan, vince@halcyon.com;
Version Française par Arnaud Launay, asl@launay.org

   v1.4, 29 Novembre 1995
     _________________________________________________________________

   _Ce document décrit la mise en place, la maintenance et l'entretien de
   News USENET sous Linux. Vous devez le lire si vous projetez de lire ou
   de poster des News USENET, soit localement sur votre site, soit entre
   votre site et d'autres sites. Vous n'aurez probablement pas à lire ce
   document si vous ne pensez pas distribuer les News USENET sur votre
   système._
     _________________________________________________________________

1. Introduction

   L'intention de ce document est de répondre à quelques unes des
   questions et commentaires qui semblent correspondre à la définition de
   "Frequently Asked Questions" à propos des logiciels de News sous Linux
   en général, et la version de la distribution SlackWare en particulier.

   Ce document et les documents correspondant Mail et UUCP HOWTO
   remplacent collectivement la FAQ UUCP-NEWS-MAIL qui a été précédemment
   postée à comp.os.linux.announce .

1.1 Nouvelles Versions de ce Document

   Les nouvelles versions de ce document seront régulièrement postées sur
   comp.os.linux.announce, comp.answers, et news.answers . Elles seront
   également ajoutées sur divers sites ftp anonymes qui archivent de
   telles informations, comme ftp://sunsite.unc.edu:/pub/Linux/docs/HOWTO
   (NdT: ou ftp://ftp.traduc.org/pub/HOWTO pour la version française.)

   De plus, vous devriez généralement trouver ce document sur la "Linux
   WorldWideWeb home page" à http://sunsite.unc.edu/mdw/linux.html.

1.2 Echos, Réactions

   Je suis interessé par tout commentaire, positif ou négatif, à propos
   du contenu de ce document via e-mail. Contactez moi précisément si
   vous trouvez des erreurs ou des omissions.

   Je lis, mais ne répond pas nécessairement, à tous les e-mails que je
   reçois. Les demandes d'ajouts seront considérées et effectuées
   uniquement lorsque la combinaison journalière du temps libre, du
   mérite de la demande, et de la pression sanguine du jour seront
   réunies :-)

   Les flames iront tranquillement dans /dev/null, donc ne vous en
   inquiétez pas.

   En particulier, le système de fichiers standard de Linux pour les
   pathnames est en évolution. Ce qu'il y a dans ce document est
   uniquement à titre d'illustration, basé simplement sur le standard
   actuel à l'époque de l'écriture des parties de ce document, et dans
   les chemins utilisés dans les distributions ou 'kits' que j'ai
   personnellement vu. Veuillez consulter votre propre distribution de
   Linux pour connaître les différents chemins utilisés.

   Les réactions concernant le format actuel de ce document doivent être
   adressées au coordinateur des HOWTOs - Greg Hankins (
   greg@sunsite.unc.edu).

1.3 Informations sur le Copyright

   Le News-HOWTO est (c) 1994, Vince Shakan.

   Une copie exacte peut être reproduite ou distribuée sur tout media
   physique ou électronique sans accord de l'auteur. Les traductions sont
   également permises sans permission expresse si une notice sur le
   traducteur est incluse (NdT: ben heu, faut voir :) ).
   De courtes citations peuvent être utilisées sans le consentement
   préalable de l'auteur.
   Les travaux dérivés et les distributions partielles du News-HOWTO
   doivent être accompagnées soit d'une copie texto de ce fichier, soit
   d'un pointeur vers une copie identique.

   Les redistributions commerciales sont autorisées et encouragées;
   cependant, l'auteur (NdT: et le traducteur s'il s'agit de la
   traduction) apprécierait d'être prévenu d'une telle distribution (en
   tant que courtoisie).

   En bref, nous désirons promouvoir la dissémination de ces informations
   sur le maximum de canaux. Cependant, nous désirons conserver le
   Copyright des documents HOWTO.

   Nous espérons que TOUTES les informations présentées dans les HOWTOs
   seront diffusées. Si vous avez des questions, contactez Greg Hankins,
   le coordinateur des Linux Howtos, à gregh@sunsite.unc.edu.

1.4 Responsabilité standard

   Bien entendu, je désavoue tout risque potentiel du contenu du
   document. L'utilisation des concepts, exemples, et/ou du reste du
   document est à votre entière responsabilité.

1.5 Autres sources d'informations

  USENET

     * news.admin.misc : Questions générales sur l'administration d'un
       réseau de news
     * news.admin.policy : Politique d'USENET
     * news.admin.technical : Maintenance d'un réseau de news (modéré)
     * news.software.b : Discussion sur les logiciels compatibles B-news
     * news.software.nn : Discussion sur le paquetage de lecture de news
       'nn'
     * news.software.nntp : Protocole: Network News Transfer Protocol
     * news.software.readers : Logiciels utilisés pour lire les news
     * news.sysadmin : Commentaires orientés vers les administrateurs
       systèmes
     * news.announce.newusers : Messages d'explications pour les nouveaux
       utilisateurs (modéré)
     * news.newusers.questions : Questions et réponses pour les nouveaux
       utilisateurs d'Usenet

  Livres

   Ce qui suit est un ensemble non-exclusif de livres pouvant aider:
     * "Managing UUCP and USENET" publié par O'Reilly+Associates est à
       mon avis le meilleur livre existant pour comprendre les programmes
       et les protocoles utilisés par un site USENET;
     * "Unix Communications" publié par The Waite Group contient une
       description sympathique de tous les outils (et bien plus) et
       comment ils s'accordent entre eux;
     * "Practical Unix Security" publié par O'Reilly+Associates comporte
       une discussion agréable sur la sécurisation d'UUCP en général;
     * "The Internet Complete Reference" d'Osborne est une référence
       précieuse qui explique les divers services disponibles sur
       l'Internet et est une grosse source d'informations sur les news,
       le mail et diverses autres ressources de l'Internet;
     * "The Linux Networking Administrators' Guide" d'Olaf Kirch du Linux
       DOC Project est disponible sur le net et est également publié (au
       moins) par O'Reilly et SSC. Il constitue un achat utile pour
       apprendre tout ce que vous n'avez jamais imaginé à propos du
       travail en réseau sous Unix.

1.6 Où ne PAS chercher de l'aide

   Il n'y a rien de très spécial sur la configuration et le lancement de
   news USENET sous Linux (pas plus). Par conséquence, vous n'aurez
   certainement *PAS* à poster des questions génériques relatives aux
   news sur les newsgroups comp.os.linux.* .

   A moins que votre envoi ne soit vraiment spécifique à Linux (càd "svp
   dites moi quels patches sont nécessaires pour utiliser INN avec bash
   1.12 sous SLS v1.03"), vous devrez poster vos questions dans les
   newsgroups mentionnés ci-dessus.

   Laissez moi répéter cela.

   Il n'y a virtuellement aucune raison de poster quoi que ce soit de
   relatif aux news dans la hiérarchie comp.os.linux. Il existe des
   newsgroups dans la hiérarchie news.* pour répondre à *TOUTES* vos
   questions.

   SI VOUS POSTEZ DES QUESTIONS NON SPECIFIQUES A LINUX DANS
   COMP.OS.LINUX.*, VOUS CHERCHEZ DE L'AIDE AU MAUVAIS ENDROIT. LES
   EXPERTS DES NEWS USENET REPONDENT DANS LES GROUPES INDIQUES CI-DESSUS
   ET NE TOURNENT GENERALEMENT PAS SOUS LINUX.

   POSTER DANS LA HIERARCHIE LINUX DES QUESTIONS NON SPECIFIQUES A LINUX
   VOUS FAIT PERDRE VOTRE TEMPS ET CELUI D'AUTRES PERSONNES, ET AUGMENTE
   FREQUEMMENT LES DELAIS POUR OBTENIR UNE REPONSE.

2. Matériel nécessaire

   Il n'y a pas de matériel spécifiquement nécessaire pour les News
   USENET sous Linux. La seule condition requise est d'avoir suffisamment
   de place sur le disque dur pour installer les logiciels, les banques
   de données de discussion, et la quantité de news que vous désirez
   conserver sur le serveur. Il faut un minimum de 10 Méga pour le début.

3. Obtenir les logiciels de News USENET

   Tous les logiciels référencés dans ce "HOWTO" sont disponibles sur les
   sites ftp anonymes classiques.

   Regarder dans /networking/news sur ftp.uu.net est généralement un bon
   moyen de débuter.

   La distribution newspak-2.4.tar.z contient les fichiers de
   configuration et de documentation relatifs à la construction de
   logiciels uucp, mail et news sous Linux à partir des sources gratuites
   disponibles. Il peut généralement être trouvé sur sunsite.unc.edu,
   dans le répertoire /pub/Linux/system/Mail/news . Si vous ne pouvez le
   trouver sur sunsite, envoyez moi un mail et je m'assurerai que vous en
   obtiendrez une copie.

4. Logiciels de transport de News

   Il y a deux principaux jeux de logiciels de "transport" de News de nos
   jours, Cnews et INN. Les anciennes "BNews" ont été officiellement
   déclarées abandonnées et non supportées par leurs auteurs.

   Le "transport" de News est défini ici comme étant le logiciel qui
   travail en sous-main pour poster et propager les articles des news
   tout en rendant ces mêmes articles disponibles à l'accès par les
   lecteurs de news.

   Vous pouvez définir n'importe quoi comme chemin, tant que UUCP a le
   chemin général vers rnews dans le fichier des Permissions et tant que
   vos lecteurs de news sont configurés de façon à pouvoir trouver
   "inews" et "mail".

   Important - vous aurez des ennuis si vous utilisez à la fois Cnews et
   INN. Prenez l'un ou l'autre. Il est toutefois possible d'ajouter le
   "NNTP Reference Release" dans Cnews depuis qu'ils sont prévus d'être
   utilisés de concert.

4.1 Cnews Cleanup Release

   Le standard courant en tant que logiciel de News est Cnews. Il existe
   depuis un certain nombre d'années, je l'ai vu pour la première fois en
   1988. La version courante lors de l'écriture de ce Howto est appellée
   "Cnews CleanUp Release, avec le patch CR.G".

   Le point fort de Cnews est sa maturité. Il tourne sur tout système
   *nix que vous pouvez trouver et il y a littéralement des milliers de
   système tournant dessous de par le monde.

   Son principal désavantage est qu'il semble être conçu pour des
   connexions uucp-par-modem entre sites, et comme tel il requiert
   l'ajout d'une couche NNTP pour permettre la lecture et l'écriture dans
   les news directement sur l'Internet.

   Néanmoins, l'administrateur Usenet débutant devra probablement
   commencer par lancer Cnews car il est très stable, bien documenté, et
   dispose de plusieurs milliers d'administrateurs expérimentés qui
   peuvent répondre aux questions.

   La 'CleanUp Release' déclare que "le support de vue globale a été
   pleinement intégré et est plus rapide qu'il ne l'était autrefois". Le
   résultat est que vous pouvez par exemple utiliser le support Cnews NOV
   plutôt que de lancer des générateurs de listes pour lecteurs de News
   tels nn, tin, et trn.

   Je n'ai pas encore cherché comment implémenter cette partie, car j'ai
   depuis longtemps opté pour INN à la maison. Si quelqu'un attend de moi
   de compléter ce document, envoyez-moi un mot par e-mail.

   La distribution newspak sur sunsite contient des fichiers de
   configuration utilisables par la Cnews Cleanup Release sous Linux
   ainsi que quelques patchs nécessaires pour faire un "doexplode" pour
   se jouer de certains problèmes sous bash 1.12.

   Basiquement, vous lancerez le nouveau script "quiz" et utiliserez les
   défauts. Vous devrez vous référez à votre arbre /usr/include pour
   répondre à un certain nombre de questions, mais ceci est plutôt
   contraignant.

  Installer Cnews

   L'installation de la Cleanup Release de Cnews est absolument un projet
   "rtfm". Prenez simplement les sources, décompactez les et suivez les
   instructions.

   Le quiz.def du newspak est généré en lançant "quiz" la première fois,
   et pour répondre aux questions vous n'aurez qu'à regarder les fichiers
   du /usr/include.

   Vous devrez avoir une version récente de bash pour que Cnews passe ses
   tests. Essayez 'bash -version' pour savoir quelle version vous avez.
   La version 1.14.2 est définitivement hors du coup. La version courante
   (lors de l'écriture de ce howto) est la 1.14.5, qui semble meilleure.

   Steve Robbins a également déterminé que la récente 'cleanup release'
   de Cnews a trouvé un bug dans le join du shellutils 1.9 de GNU. Il y a
   quelques patchs nécessaires pour que "join" puisse néanmoins
   fonctionner. Si je me rappelle bien, Steve les a placé sur sunsite.

  Configurer Cnews

   Tout d'abord, vous devrez éditer ou tout au moins jeter un oeil aux
   fichiers suivants qui doivent tous être dans /usr/local/lib/news:
       ______________________________________________________________

  active             - le fichier actif
  batchparms         - les paramètres de lancement
  explist            - contrôle de l'expiration des articles
  mailname           - nom dans l'entête pour les retours par mail
  mailpaths          - path où envoyer les articles pour groupes modérés
  organization       - votre "org"
  sys                - controlez ce que vous prenez et enregistrez
  whoami             - votre hostname pour la ligne Path:
       ______________________________________________________________

  Maintenir un site Cnews

   Tout d'abord, il ne faut pas modifier à la main les fichiers qui
   possèdent des utilitaires permettant de les configurer. En particulier
   ne cherchez pas à configurer newsfeed manuellement (lancez "addfeed")
   et le fichier "active" (lancez addgroup). Si vous avez un doute, lisez
   et relisez les docs des sources.

   Tout peut être fait par cron. Mon crontab pour les "news" ressemble au
   suivant:
       ______________________________________________________________

          # Récupère les batchs compressés provenant d'autres systèmes
          # aussi, poste localement les articles
          20 *       * * * /usenet/sw/news/bin/input/newsrun

          # Automatise l'envoi
          0 *        * * * /usenet/sw/news/bin/batch/sendbatches myfeedsite

          # expire C-news
          59 0       * * * /usenet/sw/news/bin/expire/doexpire

          # Rapports si nécessaire
          10 5       * * * /usenet/sw/news/bin/newsdaily
          00 5       * * * /usenet/sw/new/bin/newswatch

          # Arrête l'arrivée des news de 6:30AM à 4:00 PM
          30 6       * * * /usenet/sw/news/bin/input/newsrunning off
          00 16      * * * /usenet/sw/news/bin/input/newsrunning on
       ______________________________________________________________

4.2 InterNetNews (INN)

   INN est le nouveau-venu de la scène, mais il gagne en popularité en
   mûrissant. Son principal intérêt est sa rapidité et le fait qu'il
   contient un paquage nntp intégré. Son principal défaut est qu'il est
   nouveau et son installation et exécution sur l'un des nombreux "*nix
   standard" peut être périlleuse. De plus, il opère par un daemon (innd)
   toujours présent et un daemon supplémentaire pour réaliser
   l'indentation. Le marché semble donc être la mémoire contre la
   vitesse.

   J'ai fait tourner l'arrivée de news jusqu'à 5 Mb par nuit avec INN au
   travers d'UUCP sur un 386 à 33 MHz avec 8 Mb de RAM (normalement sans
   XWindows) avec un modem 14.4 sans aucun problème.

   Les nouveaux administrateurs Usenet ne devraient probablement pas
   essayer INN jusqu'à ce qu'ils aient de l'expérience avec B-News ou
   Cnews. Puisqu'il est rapide et sûr sous Linux, il est sous-documenté
   pour l'administrateur news débutant (cependant en pratique il est
   simple à faire tourner dès que vous avez compris).

   INN est très particulier avec les permissions. Ne vous en inquiétez
   pas.

   INN est également très particulier sur la "qualité" du TCP/IP avec
   lequel il doit marcher. Linux n'est pas forcément présent à ce moment
   là, il est donc recommandé que vous preniez une distribution
   spécifique à Linux à partir de l'un des sites archive Linux classique.

  Installer INN

   ( par Arjan de Vet - devet@info.win.tue.nl )

   J'ai écrit un patch et un kit de configuration pour avoir INN 1.4
   tournant sous Linux. Ils peuvent être trouvés sur:
   ftp.win.tue.nl:/pub/linux/ports/inn-1.4-linux.tar.gz.

   INN dépend fortement d'un bon substitut pour /bin/sh . J'utilise une
   version bêta de bash 1.13 qui est dorénavant accessible pour Linux
   dans les sites classiques. bash 1.12 a quelques problèmes avec les
   newsgroups qui ne sont pas proprement récupérés (il y a peut-être
   d'autres problèmes, je ne me rappelle plus).

  Configurer INN

   Suivez les indications d'Arjan et vous devriez réussir. Voici le
   résumé de ce qu'il y a à faire:
     * Dans le fichier config.data, vérifiez que vous avez
       "HAVE_UNIX_DOMAIN DONT";
     * Ajoutez le hostname du système sur lequel tourne innd à hosts.nntp
       . Pour un site basé uniquement sur uucp, il s'agit du nom de votre
       site;
     * Vérifiez que vous n'avez PAS de ligne pour nntp dans
       /etc/inetd.conf;
     * Vérifiez que vous avez une variable pour le shell de inn qui donne
       "HAVE_UUSTAT DO" plutôt que le "DONT" de cet exemple, si vous avez
       installé uustat du paquetage Taylor UUCP. Si vous avez mal défini
       cela, il en résultera que les news ne seront pas envoyées
       automatiquement;
     * Si vous utilisez INN, définissez définitivement le syslogd
       recommandé car c'est très, très utile !

   Il y a une FAQ spectaculaire (!!!!) sur INN qui est postée
   mensuellement. Regardez sur
   rtfm.mit.edu:/pub/usenet-by-hierarchy/news. Vous en serez heureux.

  Maintenir un site INN

   J'ai trouvé qu'il n'y avait rien d'autre à faire pour maintenir un
   site INN sous Linux qu'avoir un cron fonctionnel. Vous devez
   simplement avoir une crontab qui ressemble à la suivante:
       ______________________________________________________________

          # maintenance quotidienne, fait également expirer les données
          # et les articles du .overview
          1 0 * * * /usenet/sw/inn/bin/news.daily expireover delayrm < /dev/nul
l

          # pour envoyer en dehors
          5 * * * * /usenet/sw/inn/lib/send-uucp
       ______________________________________________________________

   (si vous changez pour batch 1.13, le "< /dev/null" n'est pas
   nécessaire)

4.3 Autres outils de transport de News

   Ce qui suit est une liste non-exclusive des autres logiciels de
   transport de news connus pour tourner sous linux:
     * dynafeed
     * nntp1.5.11
     * slurp1.05

5. Lecteurs de News

   Il n'y a pas de "vrai lecteur de news". En conséquence, il y a de
   nombreux lecteurs de news très connus qui peuvent être facilement
   portés sous Linux. Au moment où j'écris ces lignes, "tin", "trn", et
   "nn" sont les plus communs disponibles dans les distributions de Linux
   et le newspak.

   Lorsque vous choisissez un lecteur de news, vous désirez
   principalement quelque chose de facile à utiliser, très configurable
   par l'utilisateur, avec indentation et fichiers de suppression (pour
   sélectionner les articles intéressants et faire disparaître ceux qui
   ne le sont pas).

   Vous pouvez configurer vos chemins pour ce que vous voulez, tant que
   le lecteur de news peut trouver "inews" de votre installation de Cnews
   ou INN et un programme "mail" pour envoyer des réponses aux articles.

   Cette section traitera brièvement de quelques uns des plus populaires.
   Avant que vous ne posiez la question, j'utilise "nn" pour beaucoup de
   raisons :-)

5.1 Tin

   Tin est un lecteur de news indenté généralement décrit comme facile
   d'utilisation pour les nouveaux utilisateurs. Il supporte les fichiers
   de suppression et l'indentation NOV. Si vous utilisez INN, il lira par
   défaut les fichiers NOV .overview et n'écrira pas de fichiers d'index.

   Pour compiler tin sous linux, vous devrez juste éditer le makefile
   pour configurer l'emplacement des logiciels (principalement celle de
   inews) et taper"make linux". Tin ne requiert pas de patch pour tourner
   sous linux.

   Pour l'indentation, vous devrez juste mettre "tin -u" pour mettre à
   jour les fichiers d'index.

   Pour activer la possibilité de lecture via NNTP, compilez le avec
   "NNTP_ABLE" défini. Il en résultera un fichier nommé "tin" pour la
   lecture locale et un fichier nommé "rtin" pour la lecture via NNTP.
   "tin -r" donnera aussi le même effet que "rtin".

   Iain Lea recommande l'entrée suivante dans la crontab et ajoute que
   vous devrez faire un "make daemon" pour compiler "tind".
       ______________________________________________________________

          # indexe la base de données
          35 * * * * /usenet/bin/tind -u
       ______________________________________________________________

   J'ai lancé tin au travers d'une liaison SLIP comme lecteur de news par
   NNTP. Si vous êtes connecté à un système comprenant tous les
   newsgroups, vous deviendrez extrêmement vieux en attendant le
   chargement du fichier "active".

5.2 Trn/Mthreads

   "Trn" est un dérivé en index du lecteur "rn". Trn 3.2 et plus récents
   ont la sympathique capacité de choisir entre les indexations
   "mthreads" (le paquetage d'indexation de trn) ou "NOV" (indexation par
   INN).

   Pour le compiler, lancez juste le script Configure et prenez les
   options par défaut. Vous devrez avoir au moins la libc 4.4.1 et bash
   1.1.13 pour lancer sans problèmes Configure.

   La distribution newspak sur sunsite contient des fichiers de
   configuration effectifs pour trn sous linux.

   Il est probablement indésirable d'essayer d'éditer le script de
   configuration à la main à moins que ce ne soit pour changer quelque
   chose de *TRES* simple, comme changer les chemins pour indiquer vos
   préférences. Si vous faites cela, vous devrez lancer un "Configure -S"
   avant de faire "make depend", "make" et "make install".

   Alors que "Configure" plante avec Linux sous bash 1.12, "Configure -S"
   marche correctement, donc si vous prenez le config.sh de newspak comme
   point de départ, vous serez très tranquille.

   Pour compiler pour une lecture par NNTP, il suffit de répondre "yes"
   lorsque Configure vous demande si vous désirez cette option (en
   supposant que Configure tourne sur votre système). Une prochaine mise
   à jour du newspak devrait inclure un config.sh pour la lecture NNTP
   comme celui pour la lecture locale, pour tous ceux d'entre nous qui
   sont encore avec un "bash impair" :-)

   J'ai lancé trn au travers d'une liaison SLIP comme lecteur de news par
   NNTP. Si vous êtes connecté à un système comprenant tous les
   newsgroups, vous deviendrez extrêmement vieux en attendant le
   chargement du fichier "active" et pour l'indexation des articles.

   Il y a des douzaines d'options en lignes pour obtenir toutes sortes de
   contextes. Lisez la man page "trn" pour plus de détails. J'utilise un
   truc sympa pour configurer toutes les options facilement:
     * Créer un fichier  /.trnrc
     * ajouter export TRNINIT=" /.trnrc"

   La version actuelle de newspak contient une copie de mon .trnrc à
   titre d'exemple.

   trn 3.2 et suivants ont le support pour l'indexation NOV ou mthreads
   sélectionnable par l'utilisateur. Ainsi, je recommande de compiler le
   logiciel avec les deux sortes d'indentation (c'est une question dans
   Configure). Pour en sélectionner un au lancement, essayez "trn -Zo"
   pour NOV et "trn -Zt" pour mthreads.

   Pour construire la base de données mthreads, essayez quelque chose
   comme ceci dans le "news" crontab:
       ______________________________________________________________

          # indexe la base de donnees trn
          35 * * * * /usenet/bin/mthreads all
       ______________________________________________________________

5.3 NN

   La distribution newspak de sunsite contient des fichiers de
   configuration valables pour linux pour nn 6.4.18, vous pouvez donc les
   mettre en place et taper "make". Ils fonctionnent aussi pour la beta
   6.5b3 de la prochaine nn 6.5.

   La compilation terminée, vous devrez faire ceci:
     * lancer le programme "inst" pour tout installer
     * initialiser la base de données
     * rendre actif nnmaster

   Voyez la doc de nn pour les détails. Compiler, configurer, et faire
   tourner nn sous Linux n'est pas différent de le lancer sous un autre
   *nix, avec l'exception que vous devrez lancer nnmaster en tant
   qu'entrée cron plutôt qu'en tant que daemon. Si vous le lancez en tant
   que daemon sous linux, il peut agir imparfaitement (l'effet réseau est
   de toutes façons le même en le lançant par cron).

   Le support de _nn_ se fait par l'entrée suivante dans la crontab:
       ______________________________________________________________

          # lance nnmaster pour récupérer le travail d'nn
          # (inutile si vous utilisez NOV d'INN de nn-6.5beta3)
          25 * * * * /usenet/sw/nn/lib/nnmaster

          # Rend obsolète la base de données de nn
          # (inutile si vous utilisez NOV d'INN de nn-6.5beta3)
          0  4       * * * /usenet/sw/nn/bin/nnadmin =EYW

          # prépare une copie du fichier active pour "nngoback" et
          # conserve les 7 derniers
          0 3 * * * /usenet/sw/nn/lib/back_act 7
       ______________________________________________________________

   J'ai quelque peu essayé de lancer nn en tant que lecteur de news NNTP
   au travers d'une connexion SLIP. Dans ce cas, vous devrez éditer
   précisément le fichier config.h . Voyez les commentaires dans le
   fichier pour avoir des détails. Lorsque vous lancez nn en tant que
   lecteur NNTP, celui-ci lance une copie locale de nnmaster pour
   conserver l'index sur le système local, en sorte que la sélection des
   articles est très rapide (vous devrez cependant évidemment attendre un
   peu pour recevoir le texte de l'article si vous utilisez SLIP par
   modem).

   La nouvelle version (6.5.x) de nn a le support des bases de données
   NOV d'INN qui rendent inutile le lancement d'nnmaster pour vous. Cette
   configuration est très recommandée, puisqu'en résultat vous n'aurez
   pas à utiliser de temps processeur pour lancer nnmaster, et vous
   n'aurez pas de base de donnée et d'articles news hors d'atteinte.

5.4 Autres lecteurs de news

   Ce qui suit est une liste incomplète de lecteurs de news dit pouvoir
   être installés et lancés sous Linux:
     * tass
     * xrn
     * gnus
     * (NdT: on peut rajouter Netscape)

6. Remerciements

   Les personnes suivantes m'ont aidé à rassembler les informations (et
   l'expérience) qui ont rendu possible l'existence de ce document:

   Ed Carp, Steve Robbins, Ian Taylor, Greg Naber, Matt Welsh, Iain Lea,
   Arjan de Vet.

   Si j'ai oublié quelqu'un, je m'en excuse.

7. FAQ sur USENET (du moins sur c.o.l.* )

7.1 Pourquoi ne puis-je pas poster dans les groupes modérés ?

   Probablement parce que le lecteur de news essaye d'appeler /bin/mail
   pour envoyer le mail et il n'apprécie pas. Remplacez le /bin/mail des
   vieilles versions de SLS avec le port de mailx-5.5 d'une slackware
   récente et utilisez l'outil pkgtool pour installer le kit et tout sera
   configuré.

   Une autre possibilité est que vous auriez un groupe modéré configuré
   comme un groupe non-modéré et quelque chose supprime tranquillement
   l'article du flux. Vérifiez en lançant un _checkgroups_ dès maintenant
   et que les articles des news passent en news.admin pour quelques
   semaines.

7.2 Pourquoi semble-t-il y avoir des problèmes de permissions ?

   Parce qu'il y en a :-)

   Vérifiez que vous avez les bonnes permissions et que vous avez un
   utilisateur et un groupe news dans /etc/passwd et /etc/group qui
   correspondent à la distribution binaire que vous avez prise. Il
   semblerait ne pas y avoir de standard pour les comptes couramment
   disponibles sous Linux.

   Tout ce qui se trouve dans /usr/local/lib/news doit être placé
   news.news sauf /usr/local/lib/news/setnewsids qui doit être indiqué
   root.

   Vous pouvez utiliser ce que vous voulez comme UID et GID pour news.

7.3 Pourquoi puis-je poster des articles localement, mais qu'ils n'apparaissent
pas ou disparaissent dans les flux ?

   Probablement parce que vous n'appelez pas newsrun par cron. Peut-être
   parce que vous avez mal édité le fichier système. Peut-être parce que
   vous n'avez pas d'arbre /usr/spool/news/out.going ou approchant.
   Peut-être parce que vous avez pris les distributions 'Performance' ou
   'Cleanup' de Cnews, qui automatisent certaines tâches et nécessitent
   'newsrun' lancé par la crontab pour récupérer les news d'autres sites
   et pour les voir localement.

   Ne créez pas de newsgroups en éditant les fichiers active ou sys.
   Utilisez les outils de /usr/local/lib/news/bin/maint pour le faire.

7.4 Pourquoi ma distribution binaire ne dispose pas de nntp ?

   Parce que ceci est supposé être plug-and-play sous Linux et parce que
   je ne veux pas rendre la distribution SLS deux fois plus grosse
   qu'elle n'est déjà en ayant à maintenir les versions nntp et non-nntp
   des programmes de lecture et de transport des news. Egalement, parce
   qu'il est compilé avec des informations localisées qui ne sont pas
   rouvrables au lancement via un fichier de config.

7.5 Pourquoi doexpire (ou relaynews ou..) me dit "severe space shortage" alors
qu'il y a beaucoup de place ?

   Parce qu'il ne peut lire /etc/mtab. Mettez le en mode 644. Ceci arrive
   quand vous 'umount'-ez un système de fichiers monté par
   l'administrateur avec un umask ne permettant pas la lecture par toute
   personne de fichiers possédés par l'administrateur.

7.6 Pourquoi, alors que tout semble normal, l'envoi ne se fait pas ?

   Les vieilles versions de Linux ont un sed "cassé" qui rendait Cnews
   étrange. En particulier, si vous avez installé une vieille SLS,
   vérifiez dans /bin et /usr/bin que vous avez seulement une copie de
   sed et que celle-ci est récente.

   A cause de la 'Performance Release' aux alentours de février 1993,
   vous devrez avoir newsrun lancé périodiquement par cron pour que les
   choses se déroulent normalement. C'est un état qui surprend
   apparemment beaucoup de monde.

7.7 Puis-je utiliser le New News Overview (NOV) de tin/trn/nn pour remplacer
les diverses bases ?

   Oui. trn , tin, et la bêta de nn le supportent maintenant.

   Vous pouvez utiliser celle des Releases 'CleanUp' et 'Performance' de
   Cnews, ainsi que celle d'autres lecteurs.

7.8 Pourquoi ne peut-on avoir de distribution binaire de NNTP ?

   Car certaines informations sont uniquement locales et sont inclues
   dans la compilation, et ne peuvent être déterminées "magiquement" au
   lancement.
