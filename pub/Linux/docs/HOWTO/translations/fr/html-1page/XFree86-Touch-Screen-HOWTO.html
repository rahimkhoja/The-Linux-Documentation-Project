<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Guide pratique des &eacute;crans tactiles sous Linux</title><link href="style.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.69.1" name="generator"><meta name="description" content="

  Ce guide pratique explique comment utiliser un &eacute;cran tactile comme
  p&eacute;riph&eacute;rique d'entr&eacute;e sous XFree86. Il se concentre sur les &eacute;crans
  tactiles EloTouch et MicroTouch, que l'auteur a eu l'occasion
  d'utiliser. Les exemples sont bas&eacute;s sur des p&eacute;riph&eacute;riques connect&eacute;s
  via le port s&eacute;rie (/dev/ttyS0, et c&aelig;tera).
          

"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="fr"><div class="titlepage"><div><div><h1 class="title"><a name="N10001"></a>Guide pratique des &eacute;crans tactiles sous Linux</h1></div><div><h3 class="subtitle"><i>
    
    Version fran&ccedil;aise du guide pratique <span class="foreignphrase" lang="en"><em class="foreignphrase">Linux
    Touch Screen HOWTO</em></span>

</i></h3></div><div><div class="author"><h3 class="author"><span class="firstname">Christoph</span> <span class="surname">Baumann</span></h3><code class="email">&lt;<a href="mailto:cgb CHEZ debian POINT org">cgb CHEZ debian POINT org</a>&gt;</code></div></div><div><p class="othercredit"><span class="contrib">Adaptation fran&ccedil;aise</span>: <span class="firstname">&Eacute;ric</span> <span class="surname">Madesclair</span></p></div><div><p class="othercredit"><span class="contrib">Relecture de la version fran&ccedil;aise</span>: <span class="firstname">Jean-Philippe</span> <span class="surname">Gu&eacute;rard</span></p></div><div><p class="othercredit"><span class="contrib">Pr&eacute;paration de la publication de la v.f.</span>: <span class="firstname">Jean-Philippe</span> <span class="surname">Gu&eacute;rard</span></p></div><div><p class="releaseinfo">Version&nbsp;: 3.3.fr.1.0</p></div><div><div class="legalnotice"><a name="N10010"></a><p>

  &copy; 2002 Christoph Baumann,

  <code class="email">&lt;<a href="mailto:cgb CHEZ debian POINT org">cgb CHEZ debian POINT org</a>&gt;</code>

</p><p>

  &copy; 2005 &Eacute;ric Madesclair et Jean-Philippe Gu&eacute;rard pour la version
  fran&ccedil;aise

</p><p>

    <span class="foreignphrase" lang="en"><em class="foreignphrase">The GNU Free Documentation License applies
    to this document.</em></span> Ce document est distribu&eacute; selon 
    les termes de la Licence de documentation Libre GNU (GFDL).

</p></div></div><div><p class="pubdate">28 f&eacute;vrier 2005</p></div><div><p class="pubdate">
</p></div><div><div class="revhistory"><table summary="Revision history" width="100%" border="1"><tr><th colspan="3" valign="top" align="left"><b>Historique des versions</b></th></tr><tr><td align="left">Version 3.3.fr.1.0</td><td align="left">2005-02-28</td><td align="left">EM,JPG</td></tr><tr><td colspan="3" align="left">Premi&egrave;re traduction fran&ccedil;aise</td></tr><tr><td align="left">Version 3.3</td><td align="left">2004-10-07</td><td align="left">CB</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>R&eacute;sum&eacute;</b></p><p>

  Ce guide pratique explique comment utiliser un &eacute;cran tactile comme
  p&eacute;riph&eacute;rique d'entr&eacute;e sous XFree86. Il se concentre sur les &eacute;crans
  tactiles EloTouch et MicroTouch, que l'auteur a eu l'occasion
  d'utiliser. Les exemples sont bas&eacute;s sur des p&eacute;riph&eacute;riques connect&eacute;s
  via le port s&eacute;rie (/dev/ttyS0, et c&aelig;tera).
          

</p></div></div></div><div></div><hr></div><div class="toc"><p><b>Table des mati&egrave;res</b></p><dl><dt><span class="sect1"><a href="#N1006A">1. Introduction</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N10071">1.1. 
      Commentaires et corrections
  </a></span></dt><dt><span class="sect2"><a href="#N10079">1.2. 
      Nouvelles versions de ce document
  </a></span></dt></dl></dd><dt><span class="sect1"><a href="#N10086">2. Comment configurer le p&eacute;riph&eacute;rique</a></span></dt><dt><span class="sect1"><a href="#N100D8">3. 
Activer le p&eacute;riph&eacute;rique
</a></span></dt><dt><span class="sect1"><a href="#N10102">4. 
Utiliser en parall&egrave;le un &eacute;cran tactile et une souris
</a></span></dt><dt><span class="sect1"><a href="#N10118">5. 
Configuration sous XFree86 version 4
</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N10146">5.1. Un autre exemple de param&eacute;trage (pour la gamme SMT3 de 
Microtouch)</a></span></dt><dt><span class="sect2"><a href="#N1015F">5.2. Compl&eacute;ment</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N10167">6. 

&Eacute;crans tactiles des portables LifeBook de Fujitsu

</a></span></dt><dt><span class="sect1"><a href="#N10181">7. Lectures conseill&eacute;es</a></span></dt></dl></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1006A"></a>1.&nbsp;Introduction</h2></div></div><div></div></div><p>

Ce guide pratique explique comment utiliser un &eacute;cran tactile comme
p&eacute;riph&eacute;rique d'entr&eacute;e sous XFree86. Il se concentre sur les &eacute;crans
tactiles EloTouch et MicroTouch, que l'auteur a eu l'occasion
d'utiliser.

</p><p>

Les exemples sont bas&eacute;s sur des p&eacute;riph&eacute;riques connect&eacute;s via le port
s&eacute;rie (/dev/ttyS0, et c&aelig;tera). &mdash; N'h&eacute;sitez pas &agrave; faire parvenir en
anglais des informations relatives aux p&eacute;riph&eacute;riques USB &agrave; l'auteur de
ce document&nbsp;!

</p><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="N10071"></a>1.1.&nbsp;
      Commentaires et corrections
  </h3></div></div><div></div></div><p>

      N'h&eacute;sitez pas &agrave; faire parvenir tout commentaire relatif &agrave;
      la version fran&ccedil;aise de ce document &agrave;

      <code class="email">&lt;<a href="mailto:commentaires CHEZ traduc POINT org">commentaires CHEZ traduc POINT org</a>&gt;</code>

      en pr&eacute;cisant son titre, sa date et sa version.

  </p></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="N10079"></a>1.2.&nbsp;
      Nouvelles versions de ce document
  </h3></div></div><div></div></div><p>

      Vous trouverez la plus r&eacute;cente version fran&ccedil;aise de ce document &agrave;
      l'adresse&nbsp;: <a href="http://www.traduc.org/docs/howto/lecture/XFree86-Touch-Screen-HOWTO.html" target="_top">http://www.traduc.org/docs/howto/lecture/XFree86-Touch-Screen-HOWTO.html</a>.

  </p><p>
      
      La plus r&eacute;cente version originale de ce document est disponible &agrave;
      l'adresse&nbsp;: <a href="http://www.tldp.org/HOWTO/XFree86-Touch-Screen-HOWTO.html" target="_top">http://www.tldp.org/HOWTO/XFree86-Touch-Screen-HOWTO.html</a>.
  
  </p></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10086"></a>2.&nbsp;Comment configurer le p&eacute;riph&eacute;rique</h2></div></div><div></div></div><p>

Les &eacute;crans tactiles sont param&eacute;tr&eacute;s dans l'une des sections
&laquo;&nbsp;<span class="quote">Xinput</span>&nbsp;&raquo; du fichier de configuration de XFree86 (ce fichier
se nomme en g&eacute;n&eacute;ral <code class="filename">/etc/X11/XF86Config</code> ou
<code class="filename">/etc/XF86Config</code>). V&eacute;rifiez pour commencer que le
module correspondant au p&eacute;riph&eacute;rique est bien pr&eacute;sent. Les modules se
trouvent dans le r&eacute;pertoire <code class="filename">/usr/X11R6/lib/modules</code> (les &eacute;crans EloTouch
et MicroTouch correspondent respectivement aux modules
<code class="filename">xf86Elo.so</code> et <code class="filename">xf86MuTouch.so</code>).
Regardez ensuite dans le fichier <code class="filename">XF86Config</code>, vous
devriez trouver une section ressemblant &agrave; ceci&nbsp;:

</p><pre class="screen">
Section "Files"
...
ModulePath "/usr/X11R6/lib/modules"
...
EndSection
</pre><p>

Pour que le module soit charg&eacute; par le serveur X, vous devrez avoir une
section ressemblant &agrave; ceci&nbsp;:

</p><pre class="screen">
Section "Module"
Load "xf86Elo.so"
EndSection
</pre><p>

Maintenant, la partie la plus d&eacute;licate. Le serveur X a besoin de
conna&icirc;tre certains param&egrave;tres du p&eacute;riph&eacute;rique. La section correspondante
doit ressembler &agrave; la section ci-dessous &mdash; reportez-vous &agrave; la page
de manuel de

<span class="citerefentry"><span class="refentrytitle">XF86Config</span>(7)</span>

pour plus d'informations&nbsp;:

</p><pre class="screen">
Section "Xinput"

 # Utilisez &laquo;&nbsp;SubSection "MicrotouchFinger"&nbsp;&raquo; pour un &eacute;cran MicroTouch

 SubSection "Elographics"  

  Port "/dev/ttyS1"         # Pour un p&eacute;riph&eacute;rique branch&eacute; sur le 
                            # deuxi&egrave;me port s&eacute;rie
                           
  DeviceName "EcranTactile" # N'importe quel nom non ambigu convient

  MinimumXPosition  300
  MaximumXPosition 3700
  MinimumYPosition  300
  MaximumYPosition 3700
  UntouchDelay       10     # non reconnu par le pilote MuTouch
  ReportDelay        10     # non reconnu par le pilote MuTouch
  AlwaysCore                # active le p&eacute;riph&eacute;rique au d&eacute;marrage
  
 EndSubSection
 
EndSection
</pre><p>

Les valeurs des entr&eacute;es <code class="literal">MinimumXPosition</code>, et c&aelig;tera
sont bien entendu sp&eacute;cifique &agrave; la configuration de votre mat&eacute;riel (ils
d&eacute;pendent de la position de l'&eacute;cran tactile par rapport au moniteur).
Ces valeurs d&eacute;finissent &agrave; quels points de l'&eacute;cran tactile correspondent
les points (0,0) et (x<sub>max</sub>,
y<sub>max</sub>) de votre moniteur
(x<sub>max</sub> et y<sub>max</sub> d&eacute;pendent de
la r&eacute;solution choisie pour votre serveur X, par exemple 1024x768). Le
pilote lit ces valeurs et en d&eacute;duit les autres coordonn&eacute;es par
interpolation. Le sch&eacute;ma suivant illustre cette mise en
correspondance&nbsp;:

</p><pre class="screen">
 --------- surface de l'&eacute;cran tactile -----------
 I                                              I
 I  ####### surface visible du moniteur ######  I
 I  #x                                       #  I
 I  # (0,0)                                  #  I
 I  # (MinimumXPosition,MinimumYPosition)    #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #                                        #  I
 I  #    (MaximumXPosition,MaximumYPosition) #  I
 I  #                            (xmax,ymax) #  I
 I  #                                       x#  I
 I  ##########################################  I
 I                                              I
 ------------------------------------------------
</pre><p>

Trouver la bonne correspondance demandera soit un certain nombre
d'essais, soit de lire la sortie brute de ce p&eacute;riph&eacute;rique (ce qui
demande une certaine connaissance de la programmation des ports
s&eacute;rie&nbsp;: consultez le guide pratique de <a href="http://www.traduc.org/docs/howto/lecture/Serial-Programming-HOWTO.html" target="_top">Programmation des
entr&eacute;es-sorties s&eacute;rie</a> pour en savoir plus). Pour les &eacute;crans
tactiles EloTouch et MicroTouch, il existe un outil rudimentaire de
calibration (&eacute;crit par l'auteur de ce guide pratique), disponible &agrave;
l'adresse suivante&nbsp;: <a href="http://www.sgoc.de/touchcal.html" target="_top">http://www.sgoc.de/touchcal.html</a>.

</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N100D8"></a>3.&nbsp;
Activer le p&eacute;riph&eacute;rique
</h2></div></div><div></div></div><p>

Apr&egrave;s le d&eacute;marrage du serveur X, lancez la commande suivante dans un 
terminal&nbsp;:

</p><pre class="screen">
xsetpointer <em class="replaceable"><code>nom_du_p&eacute;riph&eacute;rique</code></em>
</pre><p>

O&ugrave; <em class="replaceable"><code>nom_du_p&eacute;riph&eacute;rique</code></em> est le nom d&eacute;fini dans
le fichier <code class="filename">XF86Config</code> &agrave; la ligne&nbsp;:

</p><pre class="screen">
...
DeviceName "<em class="replaceable"><code>...</code></em>"
...
</pre><p>

Dans l'exemple pr&eacute;sent&eacute; plus haut, il s'agissait
d'<code class="literal">EcranTactile</code>.

</p><p>

Pour que le p&eacute;riph&eacute;rique soit g&eacute;r&eacute; au d&eacute;marrage, ajoutez l'option
<code class="literal">AlwaysCore</code> dans la section de param&eacute;trage de l'&eacute;cran
tactile du fichier <code class="filename">XF86Config</code> (voir ci-dessus).

</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10102"></a>4.&nbsp;
Utiliser en parall&egrave;le un &eacute;cran tactile et une souris
</h2></div></div><div></div></div><p>

Pour utiliser en parall&egrave;le un &eacute;cran tactile et une souris, vous devrez
d&eacute;finir la souris dans la section <code class="literal">Xinput</code>. Cette
d&eacute;finition devrait &ecirc;tre la m&ecirc;me que la d&eacute;finition de la section
<code class="literal">Pointer</code>. Par exemple, pour une souris utilisant le
protocole PS/2&nbsp;:

</p><pre class="screen">
Section "Xinput" 
...
   SubSection "Mouse" 
      Protocol "PS/2" 
      Port "/dev/mouse"   # Ou /dev/psaux 
      DeviceName "Mouse" 
      AlwaysCore 
   EndSubSection
...
EndSection 
</pre><p>

Plusieurs personnes m'ont signal&eacute; ceci et notamment l'utilisation de
l'option <code class="literal">AlwaysCore</code>. Merci &agrave; eux.

</p></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10118"></a>5.&nbsp;
Configuration sous XFree86 version 4
</h2></div><div><h3 class="subtitle">

sugg&eacute;r&eacute;e par Lee Monamy

</h3></div></div><div></div></div><p>

Voici un exemple de param&eacute;trage du fichier
<code class="filename">XF86Config-4</code> pour un &eacute;cran tactile ELO&nbsp;:

</p><pre class="screen">
Section "InputDevice"
        Identifier "Ecran tactile ELO"
        Driver     "elographics"
        Option     "Device"            "/dev/ttyS0"
        Option     "MinimumXPosition"         "300"
        Option     "MaximumXPosition"        "3700"
        Option     "MinimumYPosition"         "300"
        Option     "MaximumYPosition"        "3700"
        Option     "UntouchDelay"              "10"
        Option     "ReportDelay"               "10"
        Option     "SendCoreEvents"           "yes"
EndSection
</pre><p>

Diff&eacute;rence notable entre le param&eacute;trage de cette version et celui de la
version&nbsp;3, vous devez indiquer <code class="literal">Device</code> &agrave; la
place de <code class="literal">Port</code>, sinon vous obtiendrez une erreur. De
plus, le param&egrave;tre <code class="literal">AlwaysCore</code> de la version&nbsp;3 a &eacute;t&eacute;
remplac&eacute; par <code class="literal">SendCoreEvents</code>.

</p><p>

Vous devez aussi ajouter une entr&eacute;e correspondant &agrave; l'&eacute;cran tactile dans
la section <code class="literal">ServerLayout</code>. Ceci, m&ecirc;me si le serveur X
vous indique qu'il a bien ajout&eacute; votre &eacute;cran tactile&nbsp;:
&laquo;&nbsp;<span class="quote"><code class="literal">(II) XINPUT: Adding extended input device "ECRANTACTILE"
(type: Elographics Touch Screen)</code></span>&nbsp;&raquo;.

</p><pre class="screen">
Section "ServerLayout"
        Identifier      "Default Layout"
        Screen          "Default Screen"
        InputDevice     "Generic Keyboard"
...
        InputDevice     "Ecran tactile ELO"
EndSection
</pre><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="N10146"></a>5.1.&nbsp;Un autre exemple de param&eacute;trage (pour la gamme SMT3 de 
Microtouch)</h3></div><div><h4 class="subtitle">
par Dirk Mueller
</h4></div></div><div></div></div><pre class="screen">
Section "InputDevice"
        Identifier  "MicroTouchFinger"
        Driver      "mutouch"
        Option      "Type"             "finger"
        Option      "Device"           "/dev/ttyS0"
        Option      "ScreenNo"         "0"
        Option      "MinimumXPosition" "0"
        Option      "MaximumXPosition" "16383"
        Option      "MinimumYPosition" "0"
        Option      "MaximumYPosition" "16383"
EndSection
</pre><p>

L'option <code class="literal">Type</code> peut avoir pour valeur
<code class="literal">finger</code> ou <code class="literal">stylus</code>. Depuis que
Microtouch a &eacute;t&eacute; rachet&eacute; par 3M-Touch, vous trouverez les ressources
relatives &agrave; ces produits &agrave; l'adresse suivante&nbsp;: <a href="http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux" target="_top">http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux</a>

</p></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="N1015F"></a>5.2.&nbsp;Compl&eacute;ment</h3></div></div><div></div></div><p>

D'apr&egrave;s Wong Yeow Sen, les noms des options de configuration ont &eacute;t&eacute;
modifi&eacute;s dans XFree86 version&nbsp;4.2 (au moins pour la distribution
Red Hat&nbsp;7.3). Si vous constatez que les valeurs de calibration que
vous avez d&eacute;fini ne sont pas utilis&eacute;es, essayez d'utiliser les options
suivantes&nbsp;:

</p><pre class="screen">
...
        Option  "MinX"    "100"
        Option  "MaxX"   "4000"
        Option  "MinY"    "100"
        Option  "MaxY"   "4000"
...
</pre></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10167"></a>6.&nbsp;

&Eacute;crans tactiles des portables LifeBook de Fujitsu

</h2></div><div><h3 class="subtitle">
par Joerg Hau
</h3></div></div><div></div></div><p>

Les adresses qui suivent contiennent des informations sur ces
p&eacute;riph&eacute;riques&nbsp;:

</p><div class="blockquote"><blockquote class="blockquote"><p>

Le pilote Linux de Harald Hoyer pour les &eacute;crans tactiles des portables
LifeBook B112, B142 et B2130&nbsp;: <a href="http://parzelle.de/Linux/Lifebook/" target="_top">http://parzelle.de/Linux/Lifebook/</a>. Malheureusement, ce pilote
n'est utilisable qu'avec la version 3 de XFree et apparemment, la page
n'est plus mise &agrave; jour.

</p><p>

Le pilote de Kenan Esau pour les &eacute;crans tactiles des portables Lifebook
de la gamme &laquo;&nbsp;<span class="quote">B</span>&nbsp;&raquo;&nbsp;: <a href="http://www.conan.de/lifebook/lifebook.html" target="_top">http://www.conan.de/lifebook/lifebook.html</a>. Il s'agit d'une
adaptation &agrave; XFree version&nbsp;4 du pilote de Harald Hoyer.

</p><p>

J'ai utilis&eacute; avec mon Fujitsu LifeBook B142 le pilote de Kenan Esau (d&eacute;crit
&agrave; l'adresse&nbsp;: <a href="http://www.mysunrise.ch/users/joerg.hau/linux/b142.htm" target="_top">http://www.mysunrise.ch/users/joerg.hau/linux/b142.htm</a>). Il
fonctionne correctement.

</p></blockquote></div></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10181"></a>7.&nbsp;Lectures conseill&eacute;es</h2></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
    La page de manuel de
    <span class="citerefentry"><span class="refentrytitle">XF86Config</span>(7)</span>
</p></li><li><p>
    <a href="http://www.elotouch.com/support/linux.asp" target="_top">http://www.elotouch.com/support/linux.asp</a>
</p></li><li><p>
    <a href="http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux" target="_top">http://www.3M.com/3MTouchSystems/downloads/legacy.jhtml#Linux</a>
</p></li><li><p>
    <a href="http://freshmeat.net/projects/xf86elousb" target="_top">http://freshmeat.net/projects/xf86elousb</a> (Pilote
    iTouch USB)
</p></li><li><p>
    Le manuel de votre &eacute;cran tactile :-)
</p></li></ul></div></div></div></body></html>