<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
 <TITLE>Mini HOWTO terminal X NCD</TITLE>
</HEAD>
<BODY>
<H1>Mini HOWTO terminal X NCD</H1>

<H2>Ian Hodge, <CODE>ian@permedia.ca</CODE> </H2>v1.07, 30 Novembre 1999
<HR>
<EM>Ce document explique comment connecter
un terminal X NCD à une machine hôte UNIX
(traduction : Michel Billaud, <CODE>billaud@labri.u-bordeaux.fr</CODE>).</EM>
<HR>
<H2><A NAME="s1">1. Copyright</A></H2>

<P>Le <EM>NCD X terminal mini HOWTO</EM> est copyright (C) 1998 par Ian Hodge.
Les documents <EM>HOWTO</EM> de Linux peuvent être reproduits et diffusés
en tout ou partie, par tout moyen physique ou électronique, du moment que 
cette notice de copyright figure sur toutes les copies.</P>

<H2><A NAME="s2">2. Introduction</A></H2>

<P>Ce document explique comment connecter un terminal X fabriqué par NCD 
(Network Computing Devices) à une machine hôte fonctionnant sous UNIX,
en utilisant le protocole <EM>BootP</EM> (<EM>Boot Protocol</EM>). 
De nombreux terminaux peuvent également démarrrer par RARP, NFS, ou 
depuis une carte PCMCIA ou une liaison  série (directe ou par modem).</P>
<P>Bien que le matériau de ce document soit basé sur l'expérience d'un seul 
type de terminal X, une grande partie des informations qui y figurent
s'appliquent également à d'autres modèles.
Il existe également un <EM>Linux X Terminal mini HOWTO</EM> (qui est
actuellement déclaré obsolète par les responsables des HOWTO, et n'est donc
peut-être pas disponible avec toutes les distributions de Linux) qui recoupe 
en  partie ce document. Celui-ci contient davantage d'informations sur
les terminaux X.</P>

<H2><A NAME="ss2.1">2.1 Étapes</A>
</H2>

<P>La connexion d'un terminal X à un réseau Unix se résume aux étapes suivantes :</P>
<P>
<UL>
<LI>Relier physiquement le terminal X au réseau.</LI>
<LI>Configurer la <EM>machine hôte</EM> UNIX qui servira au <EM>boot</EM>
(démarrage) du terminal X.</LI>
<LI>Paramétrer la procédure de boot du terminal X.</LI>
<LI>Démarrer le terminal X.</LI>
<LI>Se connecter sur le réseau.</LI>
</UL>
</P>


<H2><A NAME="s3">3. Préliminaires</A></H2>

<H2><A NAME="ss3.1">3.1 Le terminal X</A>
</H2>

<P>Un terminal X est un appareil capable d'afficher et de communiquer sur
un réseau, en utilisant le système de fenêtrage pour réseaux
distribués connu sous le nom de X.  Typiquement, le logiciel du
terminal X (ce qu'on appelle le <EM>serveur X</EM>) est chargé depuis le réseau
au démarrage du terminal. Les programmes autres que le  serveur X 
(programmes <EM>clients X</EM>) ne sont pas
exécutés localement (à part quelques exceptions) par le terminal
X, qui affiche des programmes qui tournent sur d'autres machines du
réseau. Le terminal X est donc un genre de <EM>network computer</EM>
qui utilise le protocole X pour accéder aux ressources du réseau.</P>

<H2><A NAME="ss3.2">3.2 Connexion physique</A>
</H2>

<P> Le terminal X NCD (nous avons utilisé le modèle <EM>Xncd19r</EM> pour la 
préparation de ce document) possède une prise RJ-45 (paire torsadée)
pour Ethernet 10 Base T.  Il faut un répèteur multiport (<EM>hub</EM>)
pour relier plus de
deux appareils en paire torsadée. Si le
terminal X et la machine hôte sont les seules machines de votre réseau,
vous pouvez les connecter par un câble croisé qui est décrit dans le
<EM>Linux Ethernet HOWTO</EM>.</P>

<H2><A NAME="ss3.3">3.3 Logiciel serveur X de NCD</A>
</H2>

<P>Le fichier qui contient le logiciel serveur X du terminal est
disponible auprès du constructeur, qui le fournit en principe avec le
terminal.  Ce fichier va résider sur la machine hôte, d'où il sera
téléchargé au démarrage du terminal X. Il est spécifique du
modèle du terminal, mais indépendant du type de la machine hôte.  Le
terminal peut démarrer depuis n'importe quelle machine qui supporte le
protocole de communication <EM>BootP</EM> (expliqué plus loin).  En plus du
serveur, le logiciel X peut contenir des applications, comme un
gestionnaire de fenêtres, qui s'exécuteront localement sur le
terminal X.</P>

<H2><A NAME="s4">4. Configuration de la machine hôte UNIX</A></H2>

<P>Au démarrage, le terminal X va chercher ses fichiers (y compris le
serveur X) sur une machine du réseau. Une fois démarré, le serveur X
contrôlera les entrées (clavier, souris), l'affichage, les clients
locaux et la communication par le protocole X.  Le serveur X s'exécute
sur le terminal X, et n'a donc besoin d'aucune compatibilité
logicielle avec la machine hôte.</P>



<H2><A NAME="ss4.1">4.1 TFTP et BootP</A>
</H2>


<P>Les protocoles TFTP (<EM>Trivial File Transfer Protocol</EM>,
protocole élémentaire de transfert de fichiers) et BootP (<EM>boot
protocol</EM>, protocole d'amorçage) sont utilisés ensemble sur la
machine hôte pour permettre au terminal X de récupérer le serveur X
et les fichiers de configuration à travers le réseau. Ces deux services
sont habituellement démarrés par <EM>inetd</EM> (Internet Daemon).</P>
<P>Lorsque le terminal X est mis sous tension, si il est configuré pour
un démarrage par le réseau, il émet un appel général
(<EM>broadcast</EM>) sur le réseau en utilisant le protocole <EM>BootP</EM>
(protocole d'amorçage TCP/IP).  Ce message d'appel contient l'adresse matérielle
(Ethernet) du terminal X, adresse qui sera utilisée par la machine hôte pour répondre à la "demande de boot".</P>
<P>Lorsque la machine hôte reçoit une demande de boot, <EM>inetd</EM>
(qui surveille un port désigné dans <CODE>/etc/services</CODE>) démarre le
démon <EM>BootP</EM> spécifié dans <CODE>/etc/inetd.conf</CODE>.</P>

<P>Dans le fichier <CODE>inetd.conf</CODE>, ajoutez ou dé-commentez les lignes qui
concernent TFTP ou BootP. Dans l'exemple qui suit, le dernier
paramètre de la ligne de TFTP indique le répertoire qui contient 
les fichiers pour le terminal X.  Bien que les noms de répertoires ne soient
pas obligatoires, pour des raisons de sécurité il faut toujours les mettre,
de façon à restreindre l'accès TFTP à ces seuls répertoires.</P>

<P>Exemple de fichier <CODE>/etc/inetd.conf</CODE> (extrait) :
<BLOCKQUOTE><CODE>
<PRE>
# Le service TFTP sert principalement au boot. La plupart des sites
# ne font tourner ceci que sur les machines qui sont des "serveurs de boot".
tftp   dgram udp wait root /usr/sbin/tcpd /usr/sbin/in.tftpd /usr/X11/lib/X11/ncd/
bootps dgram udp wait root /usr/sbin/tcpd /usr/sbin/in.bootpd
</PRE>
</CODE></BLOCKQUOTE>
</P>

<P>Lors de son activation, le démon du serveur BootP lit son fichier de données
<CODE>/etc/bootptab</CODE>. Une description de ce terminal X doit s'y trouver.
Chaque description contient un ensemble d'éléments séparés par des deux-points 
":". Le premier élément est le nom du terminal.</P>

<P>Éléments utiles du fichier <CODE>bootptab</CODE> :
<DL>
<DT><B><B>hd</B></B><DD><P>(<EM>home directory</EM>) Répertoire contenant
le fichier de boot du terminal X (ici <CODE>/usr/X11/lib/X11/ncd/</CODE>).</P>

<DT><B><B>ip</B></B><DD><P>Addresse IP du terminal X (dans notre exemple <CODE>10.0.0.1</CODE>).</P>

<DT><B><B>sm</B>(<EM>subnet mask</EM>) </B><DD><P>masque de sous-réseau
(ici <CODE>255.0.0.0</CODE>).  Pour comprendre l'usage des masques de
sous-réseau et autres principes des réseaux IP, consultez le <EM>Linux
NET-3 HOWTO</EM>.</P>

<DT><B><B>gw</B>(<EM>gateway</EM>)</B><DD><P>adresse IP de la passerelle
(ici <CODE>10.0.0.1</CODE>).</P>

<DT><B><B>ht</B>(<EM>hardware type</EM>) </B><DD><P>Type de
matériel. C'est <CODE>ethernet</CODE> dans cet exemple.</P>

<DT><B><B>ha</B>(<EM>hardware address</EM>)</B><DD><P>Adresse matérielle du terminal X (adresse Ethernet sur 6 octets).
D'après la page <EM>bootptab</EM> du manuel UNIX, l'élément
"<B>ht</B>" doit précéder le "<B>ha</B>". L'adresse Ethernet
s'affiche à la mise sous tension du terminal X, sous forme d'une série
de 6 nombres à deux chiffres hexadécimaux, séparés par des
deux-points. Par exemple 
<PRE>
00:00:A7:12:26:19
</PRE>
</P>

<DT><B><B>tc</B>(<EM>table continuation</EM>)</B><DD><P>Suite d'une autre description du fichier <EM>bootptab</EM>. Voir l'exemple ci-dessous.</P>

<DT><B><B>ds</B>(<EM>domain name server</EM>) </B><DD><P>Adresse IP du serveur de
noms (par exemple <CODE>10.0.0.3</CODE>). Inutile si la résolution d'adresse
n'utilise pas de serveur de noms (DNS).</P>


<DT><B><B>bf</B>(<EM>boot file</EM>) </B><DD><P>Nom du fichier contenant le serveur du
terminal X (d'habitude le nom du fichier est celui du modèle du
terminal X, ici <CODE>Xncd19r</CODE>).</P>
</DL>
</P>

<P> Ce qui suit est un exemple de fichier <CODE>/etc/bootptab</CODE>.
Le caractère "\" sert à neutraliser les fins de ligne.</P>
<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
# Ceci est une description, appelée ici ``default'', avec
# des informations communes à tous les clients BootP

default:hd=/usr/X11/lib/X11/ncd/:\
        ds=10.0.0.3:\
        sm=255.0.0.0:\
        gw=10.0.0.1:

# Le terminal X s'appelle ``myxterm''. Remarquez l'élément
# ``tc'' qui fait référence à la description ``default''.

myxterm:ht=ethernet:\
        ha=0x0000a7122619:\
        ip=10.0.0.2:\
        tc=default:\
        bf=Xncd19r:
</PRE>
<HR>
</CODE></BLOCKQUOTE>
</P>
<P>Lorsque le démon <CODE>bootpd</CODE> trouve (dans le fichier <CODE>bootptab</CODE>) une
description qui correspond à l'adresse matérielle contenue dans une requête
de boot, il envoie une réponse à l'adresse IP correspondante. Le transfert
de fichiers peut alors se faire par TFTP au dessus de IP.</P>

<P>On attribue un nom au terminal X en ajoutant une description dans le
fichier <CODE>/etc/hosts</CODE> de la machine hôte. Ce fichier sert à
établir une correspondance entre noms de machines et adresses IP.
Dans l'exemple ci-dessous, le terminal X (d'adresse <CODE>10.0.0.2</CODE>)
est nommé "myxterm" :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
10.0.0.1        linuxhost       # La machine hôte (serveur de boot)
10.0.0.2        myxterm         # terminal X
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H2><A NAME="s5">5. Configurer la procédure de démarrage du terminal X</A></H2>

<P>Lorsqu'il est mis sous tension, le terminal X tente de
<EM>booter</EM>, c'est-à-dire de charger le logiciel serveur X en
mémoire et de l'exécuter.  Si le terminal X ne peut pas booter, la
chaîne d'invite "&gt;" du moniteur (<EM>Boot Monitor</EM>) apparaît.  Le
Boot Monitor est un programme enregistré dans les mémoires mortes
(<EM>PROM = programmable read-only memory</EM>) du terminal.  À l'aide du
moniteur, il est possible de configurer le terminal X pour qu'il aille
chercher le serveur X sur la machine hôte au démarrage. Utilisez 
"<CODE>?</CODE>"
pour avoir la liste des commandes du moniteur.</P>


<P>Les paramètres de configuration que vous modifiez grâce au moniteur
sont stockés dans une mémoire non volatile (NVRAM = non-volatile random access
memory), et sont conservés lorsque le terminal est mis hors-tension.</P>


<P> Pour booter le terminal depuis le moniteur, on a le choix entre la
commande "<CODE>bt</CODE>" et un système de menus.  Les deux
méthodes permettent en gros de faire la même chose, mais les menus
donnent accès à davantage de paramètres.</P>


<H2><A NAME="ss5.1">5.1 Syntaxe des commandes du <EM>Boot Monitor</EM></A>
</H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
> bt fichier IP_terminal IP_hôte IP_passerelle masque_sous-réseau
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>
<DL>
<DT><B><B>fichier</B></B><DD><P>Le nom du fichier, sur la machine hôte, qui contient le logiciel du serveur X
pour le terminal (dans notre exemple "<CODE>Xncd19r</CODE>").
Vérifiez que c'est le même nom que celui indiqué dans le fichier 
<CODE>bootptab</CODE>
(expliqué dans la section précédente) pour ce terminal X.</P>

<DT><B><B>IP_terminal</B></B><DD><P>L'adresse IP affectée au terminal X (ici <CODE>10.0.0.2</CODE>). Pareillement,
cette adresse doit être celle indiquée dans <CODE>bootptab</CODE>.</P>


<DT><B><B>IP_hôte</B></B><DD><P>L'adresse IP de la machine hôte (<CODE>10.0.0.1</CODE>).</P>

<DT><B><B>IP_passerelle</B></B><DD><P>L'adresse IP de la passerelle du sous-réseau
(par exemple <CODE>10.0.0.1</CODE>).</P>

<DT><B><B>masque_sous-réseau</B></B><DD><P>Le masque de sous-réseau, en notation IP
décimale ou hexadécimale (par exemple <CODE>255.0.0.0</CODE> ou
<CODE>ff000000</CODE>).  </P>
</DL>
</P>

<H2><A NAME="ss5.2">5.2 Menu de configuration "setup" du moniteur</A>
</H2>

<P>Les menus de configuration sont appelés par la touche "Setup" ou
en tapant la commande "<CODE>se</CODE>" après l'invite '&gt;' du moniteur.</P>
<P>
<DL>

<DT><B><B>Get IP Addresses From</B></B><DD><P>Normalement, l'adresse IP du
terminal devrait être obtenue depuis la configuration stockée dans la
NVRAM. Ne selectionnez 'Network' que si vous utilisez RARP
(<EM>reverse ARP</EM>) pour déterminer l'adresse IP du terminal X
depuis la machine hôte.</P>


<DT><B><B>Terminal IP Address</B></B><DD><P>L'adresse IP affectée au terminal X
(par exemple <CODE>10.0.0.2</CODE>). C'est la même chose que le paramètre 'IP_terminal'
vu précédemment.</P>


<DT><B><B>First Boot Host IP Address</B></B><DD><P>L'adresse IP de la machine hôte
(ici  <CODE>10.0.0.1</CODE>). Même chose que le paramètre 'IP_hôte'.</P>

<DT><B><B>Gateway IP Address</B></B><DD><P>L'adresse IP de la passerelle de sous-réseau.
Correspond à "IP_passerelle".</P>

<DT><B><B>Subnet Mask</B></B><DD><P>Le masque de sous-réseau, en notation IP décimale
(voir variable "masque_sous-réseau" plus haut).</P>

<DT><B><B>Broadcast IP Address</B></B><DD><P>L'adresse IP pour la diffusion vers
le sous-réseau (par exemple <CODE>10.255.255.255</CODE>).</P>

<DT><B><B>Boot File</B></B><DD><P>Le nom du fichier qui, sur la machine hôte,
contient le logiciel serveur X du terminal (exemple
"<CODE>Xncd19r</CODE>"). Même chose que le paramètre
"fichier" décrit plus haut.</P>


<DT><B><B>TFTP Boot Directory</B></B><DD><P>Le nom du répertoire, sur la machine hôte, qui contient le logiciel serveur
(par exemple "<CODE>/usr/X11/lib/X11/ncd/</CODE>" ou "<CODE>/tftpboot/</CODE>").</P>

<DT><B><B>Config file</B></B><DD><P>Le nom du fichier de configuration du terminal X sur la machine hôte
(voir plus loin).</P>

<DT><B><B>UNIX Config Directory</B></B><DD><P>Le nom du répertoire qui contient le fichier de configuration
(exemple  "<CODE>/usr/X11/lib/X11/ncd/</CODE>").</P>

<DT><B><B>TFTP Order, NFS Order, Local Order</B></B><DD><P>Mettez
"<CODE>1</CODE>" pour la méthode de démarrage que vous préférez,
c'est-à-dire TFTP si vous démarrez par BootP depuis une machine hôte.</P>
</DL>
</P>

<H2><A NAME="ss5.3">5.3 Fichiers de configuration du terminal X</A>
</H2>


<P>Pendant la procédure de boot, le terminal X va essayer d'aller chercher des
fichiers depuis la machine hôte.  Si un fichier manque, le terminal utilisera
des options par défaut.</P>
<P>Voici les fichiers transférés pendant le démarrage du terminal X :</P>
<P>
<UL>
<LI>Le fichier de configuration  (par exemple <CODE>ncd.conf</CODE>) 
qui contient les paramètres du terminal X.</LI>
<LI>Le fichier des couleurs (par exemple <CODE>rgb.txt</CODE>).</LI>
<LI>La base de données des symboles des touches (par exemple <CODE>XKeysymDB</CODE>).</LI>
<LI>Les fichiers catalogues des polices (exemple <CODE>font.dir</CODE>, 
<CODE>font.alias</CODE>).</LI>
</UL>
</P>

<P>Après un démarrage réussi, la fenêtre console du terminal X doit
apparaître avec une barre de menus. La touche "Setup" du clavier fait
apparaître/disparaître cette fenêtre. Le menu déroulant "setup" permet
de voir et changer les paramètres du terminal X, et de les sauver sur
la machine hôte, dans un fichier de configuration qui pourra être
réutilisé plus tard.</P>
<P>Si le transfert de fichiers se fait par TFTP, le fichier doit être
accessible en lecture pour tous. De la même façon, pour pouvoir sauver
un fichier de configuration sur la machine hôte, le fichier doit
exister préalablement et être accessible en écriture pour tout le
monde. Si vous utilisez TFTP sécurisé (ce qui est recommandé pour des
raisons de sécurité), l'accès aux fichiers ne pourra se faire  que dans
des répertoires déterminés.</P>

<P><B>Note :</B> le terminal peut rater son démarrage si il était configuré
pour fonctionner avec d'autres hôtes ou avec des paramètres différents.
Le problème peut être résolu en réinitialisant la NVRAM pour supprimer
les paramètres mémorisés.</P>

<P>Pour réinitialiser la NVRAM depuis le <EM>boot monitor</EM>, tapez la
commande "<CODE>nv</CODE>". Depuis ce sous-menu choisissez
"<CODE>l</CODE>" pour charger les valeurs par défaut, 
"<CODE>s</CODE>" pour sauver et enfin
"<CODE>q</CODE>" pour quitter.  Relancez la procédure de démarrage
décrite plus haut.</P>





<H2><A NAME="ss5.4">5.4 Connexion sur une machine du réseau</A>
</H2>

<P> Depuis la barre de menu de la console X, selectionnez le menu
déroulant "Terminals" et choisissez l'option "New
Telnet...". Lorsque la fenêtre telnet apparaît, tapez l'adresse
d'une machine du réseau dans le champ "service" et cliquez sur
"OK". La bannière du site choisi devrait apparaître alors.  Une
fois connecté, on peut lancer des programmes X, y compris un
gestionnaire de fenêtres, depuis la fenêtre telnet.</P>


<H2><A NAME="s6">6. Le terminal X et les polices</A></H2>

<P> 
Le terminal X possède quelques polices internes, appelées
"<CODE>built-ins</CODE>" dans les menus et fichiers de
configuration. Le terminal peut fonctionner avec ces seules polices,
mais, en général, on préfère en avoir davantage.  On peut ajouter des
polices en indiquant des chemins d'accès dans les menus de
configuration de la console X, dans les fichiers de configuration, ou
par la commande <CODE>xset</CODE>.  </P>
<P> Lorsque le logiciel serveur X s'exécute sur
le terminal, cette commande <CODE>xset</CODE> permet de modifier ou consulter la
liste de chemins d'accès des polices.  </P>
<P>Pour interroger le serveur X : <CODE>xset -q </CODE></P>
<P>Pour ajouter des chemins d'accès : <CODE>xset +fp</CODE> <I>chemin</I></P>
<P> Pour enlever des chemins d'accès : <CODE>xset -fp</CODE> <I>chemin</I></P>

<H2><A NAME="ss6.1">6.1 Le serveur de polices</A>
</H2>


<P>Le serveur de polices (xfs : <EM>X Font Server</EM>) tourne sur une des machines du
réseau, et fournit des polices au terminal X et aux autres clients du réseau.
L'emploi d'un serveur de polices permet d'utiliser une grande variété 
de polices, parce que le logiciel du serveur X ne traite que des polices
<EM>bitmap</EM>.  Lors d'un chargement de police, le serveur de polices
peut décompresser, ajuster et convertir des polices pour le serveur X, et
peut aider à simplifier la gestion des polices pour des groupes de
terminaux et de clients réseau.
Le serveur de polices est fourni avec de 
nombreuses distributions Linux, et a également été incorporé dans le logiciel
du consortium X disponible sur 
<A HREF="ftp://ftp.x.org">ftp.x.org</A>.</P>

<P>Pour indiquer l'utilisation d'un serveur de polices, on met une référence 
à un service TCP à la place d'un chemin d'accès dans les menus ou fichiers de 
configuration du terminal X.</P>

<P>Format des références à des services TCP : 
<BLOCKQUOTE><CODE>
<PRE>
tcp/&lt;adresse IP du serveur de polices>:&lt;port utilisé>
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Exemple:
<BLOCKQUOTE><CODE>
<PRE>
tcp/10.0.0.1:7100
</PRE>
</CODE></BLOCKQUOTE>
</P>

<P>Voici un exemple extrait du fichier de configuration d'un terminal X :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
xserver-default-font-path = {
        { "tcp/10.0.0.1:7100" }
        { "built-ins" }
}
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>La commande <CODE>xset</CODE> permet d'ajouter un serveur de polices dans la liste des
chemins d'accès :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
xset +fp tcp/10.0.0.1:7100
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>AVERTISSEMENT : Certaines versions de NCDWare (logiciel serveur) exigent que
le serveur de polices soit indiqué en premier avant les polices prédéfinies
"built-ins". Ceci est en contradiction avec la documentation NCD 
"System Administrator's Guide for UNIX Systems".</P>
<P>Faites des essais, et vérifiez le résultat avec la commande
"<CODE>xset q</CODE>".</P>

<P>Sur la machine hôte, le serveur de polices <CODE>xfs</CODE> est lancé au démarrage
par le script <CODE>rc.local</CODE>, par la commande suivante :</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
xfs -config &lt;fichier de configuration> -port &lt;numéro de port>
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Le numéro de port standard pour le serveur de polices est <CODE>7100</CODE>.
Exemple:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
xfs -config /usr/X11/lib/X11/fs/config -port 7100
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Exemple de fichier de configuration du serveur de polices :</P>
<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
# Fichier de configuration du serveur de polices

# On autorise au plus 10 clients a se connecter à ce serveur de polices.
client-limit = 10

# lorsqu'un serveur de polices atteint le nombre maximum de client,
# on en démarre un autre.
clone-self = on

# On utilise le syslog d'UNIX pour noter les erreurs.
use-syslog = on

# liste des répertoires de polices
catalog = /usr/X11R6/lib/X11/fonts/misc/,
   /usr/X11R6/lib/X11/fonts/Speedo/,
   /usr/X11R6/lib/X11/fonts/Type1/,
   /usr/X11R6/lib/X11/fonts/75dpi/,
   /usr/X11R6/lib/X11/fonts/100dpi/

# fichier pour noter les erreurs si syslog n'est pas employé
error-file = /usr/X11R6/lib/X11/fs/fs-errors

# 12 points en  decipoints
default-point-size = 120

# 100 x 100 et 75 x 75
default-resolutions = 75,75,100,100
</PRE>
<HR>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="s7">7. Divers</A></H2>



<H2><A NAME="ss7.1">7.1 Terminaux supportés</A>
</H2>


<P>On m'a dit que les procédures décrites dans ce document fonctionnaient
(plus ou moins) pour les terminaux suivants :
<EM>NCD 19r, NCD 19c, NCD 15b</EM> et <EM>NCD MCX</EM>.</P>

<H2><A NAME="ss7.2">7.2 Références</A>
</H2>


<P>
<UL>
<LI>Pages de manuel UNIX :
<EM>bootpd</EM>(8), <EM>tftpd</EM>(8), <EM>bootptab</EM>(5), <EM>xdm</EM>(1x), <EM>xfs</EM>(1), <EM>fsinfo</EM>(1), <EM>xset</EM>(1), 
<EM>inetd</EM>(8),
</LI>
<LI>HOWTOs : <EM>Linux Ethernet HOWTO</EM>,
<EM>Linux Net-3 (Networking) HOWTO</EM>,
</LI>
<LI>
<A HREF="ftp://ftp.ncd.com/pub/ncd/Archive/NCD-Articles/index.html">NCD Techtips Archive</A>,
</LI>
<LI>
<A HREF="http://wsspinfo.cern.ch/file/NCD-Articles/">NCD Techtips Archive Mirror at CERN</A>,
</LI>
<LI>Depuis la  sortie de la première version de ce <EM>mini HOWTO</EM>,
j'ai découvert un document de NCD qui rend le mien presque inutile.
Le 
<A HREF="http://www.ncd.com/doc/ncdware50ref/front.htm">NCDware Reference Manual</A> couvre en détail presque tous
les points de la configuration.

</LI>
<LI><EM>NCDware System Administrator's Guide for UNIX Systems</EM>,</LI>
</UL>
</P>

<H2><A NAME="ss7.3">7.3 Matériel utilisé pour la préparation de ce document</A>
</H2>


<P>
<UL>
<LI>Terminal X : NCD modèle <CODE>NCD19r</CODE> avec écran monochrome 19
pouces 1280x1024, 8Mo de RAM.</LI>
<LI>Logiciel serveur X :  NCDware  V3.2.CV 19r_s</LI>
<LI>Machines-hôtes : IBM Cyrix 686 P150+ distribution Slackware (noyau Linux version 2.0.31), 
IBM Cyrix M2 200 MMX distribution Red Hat 5.0
(noyau version 2.0.32).</LI>
<LI>Carte réseau : carte Ethernet 10 base T (clone NE 2000) et répèteur multiport
8 voies.</LI>
<LI>Serveur de polices version 2, release 6300.</LI>
</UL>
</P>

<H2><A NAME="ss7.4">7.4 Remerciements</A>
</H2>

<P>Je voudrais remercier 
Michael de Lind van Wijngaarden, Jamal Hadi-Salim et
Dwight Hodge pour l'aide apportée pour la préparation de ce document.</P>
<H2><A NAME="ss7.5">7.5 Problèmes restants </A>
</H2>

<P>
<UL>
<LI>Est il possible (et raisonnable) de démarrer le serveur de polices
par <EM>inetd</EM> ?
</LI>
<LI>Si la machine sur laquelle tourne le serveur de polices est
arrêtée, puis redémarrée et le serveur de polices réactivé, il arrive
que le terminal X n'arrive pas à accéder aux polices. Il faut redonner
la liste des chemins d'accès des polices avec les menus de la console
ou par <CODE>xset</CODE>. Pourquoi ?

</LI>
<LI>Les procédures sont-elles les mêmes pour d'autres modèles de
terminaux X ?
</LI>
<LI> Quelle est la procédure pour démarrer le terminal X en utilisant 
NFS (Nework File System) ou  RARP (Reverse Address Resolution Protocol)?
</LI>
<LI>Les messages suivants apparaissent dans la fenêtre console du
terminal X. Je suspecte qu'ils sont causés par des extensions
<EM>XFree86</EM> qui ne font pas partie du serveur X. Quelqu'un
peut-il infirmer ou confirmer&nbsp;?

<BLOCKQUOTE><CODE>
<PRE>
%XSERVER-I-NEWCLIENT, host "localhost" connected with blank authorization
%XSERVER-W-NOEXTENSION, client attempted to use non-existent extension "BIG-REQUESTS"
%XSERVER-W-NOEXTENSION, client attempted to use non-existent extension "XKEYBOARD"
%XSERVER-W-NOEXTENSION, client attempted to use non-existent extension "XFree86-Misc"
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Verrons-nous un portage de Linux sur les terminaux X ? Cela
semble improbable, mais Linux existe déjà sur d'autres plateformes
improbables.
</LI>
</UL>
</P>

<H2><A NAME="ss7.6">7.6 Contact</A>
</H2>


<P>Vous pouvez m'écrire à <CODE>ian@permedia.ca</CODE> pour tous commentaires,
suggestions ou contributions.</P>

</BODY>
</HTML>
