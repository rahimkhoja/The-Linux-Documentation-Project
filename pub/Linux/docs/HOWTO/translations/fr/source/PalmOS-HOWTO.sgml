<!doctype linuxdoc system>

<article>
<title>Bureau Palm OS</title>
<author>par David H. Silber <tt/palm@orbits.com/<newline>
(traduction : Frank Pavageau, <tt/pavageau@imaginet.fr/)
</author>
<date>v1.0.0, 20 septembre 1998</date>

<abstract>
Ce document HOWTO explique comment utiliser votre appareil sous
Palm OS avec votre système Linux. Bien que les documents HOWTO
concernent le travail avec le système d'exploitation Linux, celui-ci
ne dépend pas de la version d'Unix utilisée.
</abstract>

<toc>

<sect>Introduction<p>

Palm Computing Devices a successivement proposé plusieurs modèles de
ses produits&nbsp;: le Pilot, puis le PalmPilot, et enfin le Palm III.
IBM vend sa propre version du PalmPilot Professional qu'ils
appellent le WorkPad. Que sont ces gadgets&nbsp;? Ce sont des assistants
personnels numériques (Personal Digital Assistants ou PDA), parfois
appelés ordinateurs de paume (palm-top computers). Ils sont vendus
comme un équivalent électronique à la fois du carnet d'adresses, du
répertoire téléphonique et du bloc-notes, alors qu'il s'agit en fait
d'ordinateurs à part entière capables de faire fonctionner 
des applications de tous genres. Reste à trouver les applications Palm
OS correspondant à vos besoins et à être capable de partager vos
données avec votre système Linux. Les appareils Palm OS
contiennent un logiciel permettant de synchroniser leurs données avec
des programmes fonctionnant sur une autre machine. L'appareil est
généralement fourni avec ce type de logiciel pour Windows 95. Une
version MacOS existe aussi. Si l'autre machine fonctionne sous un
autre système d'exploitation, vous devez trouver auprès d'autres
sources des logiciels pouvant travailler avec votre appareil Palm
OS. Ce document décrit de tels logiciels disponibles pour les systèmes
Linux ou Unix.

<sect1>A propos de ce document<p>

La version anglaise la plus récente de ce document peut être obtenue à 
<url url="http://www.orbits.com/Palm/PalmOS-HOWTO.html"> et fait
partie du Projet de Documentation Linux (Linux Documentation Project
ou LDP). Ce document remplace la précédente version, appelée le Pilot
HOWTO. Reportez-vous à <url url="http://metalab.unc.edu/LDP/"> (ou
<url url="http://www.freenix.fr/linux/HOWTO/"> pour les versions
françaises) pour plus d'informations sur les autres documents HOWTO.

Si vous trouvez quoi que ce soit dans ce document qui nécessite une
correction ou une explication approfondie, merci de m'envoyer un
courrier électronique à l'adresse indiquée ci-dessus en précisant à
quelle version du document vous faites référence.

Ce document est Copyright &copy; 1997, 1998 par David H. Silber. Il
est disponible selon les termes de la licence du document LDP HOWTO-INDEX.

<sect1>A voir aussi<p>

Le document <url
url="http://www.orbits.com/Palm/PalmDevelompent-HOWTO.html"> explique
comment utiliser un environnement de développement à base de gcc pour
écrire des applications Palm OS.

Le document <url
url="http://www.orbits.com/Palm/PalmConduit-HOWTO.html"> explique
comment utiliser les bibliothèques pilot-link pour écrire des
programmes de transfert pour Linux fonctionnant avec des appareils
Palm OS.

<sect1>Liste de diffusion<p>

La liste de diffusion <tt/pilot-unix/ est maintenue par Matthew Cravit
<tt/pilot-unix-owner@lists.best.com/. Son but est décrit ci-dessous :

<quote>
La liste de diffusion pilot-unix est là pour permettre aux personnes
intéressées par l'utilisation de PDA US Robotics Pilot avec des
systèmes Unix de discuter et partager des idées. Cela comprend les
personnes souhaitant participer au développement d'outils permettant
au Pilot de travailler avec Unix, et éventuellement au développement
d'un SDK pour le Pilot sous Unix.
</quote>

Pour plus d'informations, y compris sur la manière de s'inscrire à la
liste de diffusion, envoyez un courrier électronique contenant le mot
"INFO" à <tt/pilot-unix-request@lists.best.com/. La ligne de sujet ne
compte pas.

<sect1>Archives de la liste de diffusion<p>

On peut trouver une archive de la liste de diffusion <tt/pilot-unix/
sur <url url="http:///www.acm.rpi.edu/~albert/pilot/">. Elle est
maintenue par Chris Stevens <tt/albert@acm.rpi.edu/.

<sect1>Site FTP<p>

Le site FTP <url url="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/">
contient une archive d'outils Palm OS fonctionnant sous Unix. Il est
maintenu par Jeff Dionne <tt/jeff@ryeham.ee.ryerson.ca/.

<sect>Informations générales<p>

<sect1>Installation du matériel<p>

Les appareils Palm OS sont fournis avec un "berceau" (station
d'accueil) pour échanger les données avec l'ordinateur de bureau. Ce
périphérique est en fait un câble série avec support adapté à
l'appareil Palm OS ainsi qu'un bouton "HotSync" intégré. Branchez
votre berceau sur un port série libre de votre machine. Quand vous
lancez l'un des programmes indépendants, vous devez placer votre
appareil Palm OS dans le berceau et appuyer sur le bouton "HotSync"
pour que celui-ci sache qu'il doit effectuer la communication. S'il
est éteint au moment où vous appuyez sur le bouton, il s'allumera
automatiquement.

Pour simplifier, créez un périphérique <file>/dev/pilot</file> comme
nom supplémentaire pour le port série sur lequel votre appareil Palm
OS est connecté. En tant qu'utilisateur <tt/root/, tapez la commande
suivante à l'invite du shell :

<verb>
	ln /dev/cua0 /dev/pilot
</verb>

Remplacez <tt/cua0/ par le nom du port sur lequel le berceau est
connecté.

<sect>Partage de données entre l'appareil Palm OS et Linux<p>

<sect1>Le logiciel pilot-link<p>

L'ensemble des outils logiciels <tt/pilot-link/ vous permet de charger
des programmes sur votre appareil Palm OS et de transférer des données
pour les différents programmes intégrés à celui-ci vers ou depuis
votre système Linux. Bien que ces programmes ne soient pas aussi
simples d'emploi que le Desktop livré avec l'appareil Palm OS, ils vous
permettent quand même de transférer des données dans les deux sens. En
général, chaque programme individuel du paquetage <tt/pilot-link/ gère
un type de données.

<sect2>Installation du logiciel pilot-link<p>

Les versions déjà empaquetées ont inévitablement un léger retard avec
la distribution principale, mais sont plus faciles à installer et ne 
nécessitent pas de configuration supplémentaire. La distribution
principale peut s'avérer plus intéressante dans les rares cas où vous
attendez une fonctionnalité ou une correction particulière.

Vous pouvez trouver la version Linux Debian (i386) de pilot-link 0.8.7 
sur <url
url="ftp://ftp.debian.org/pub/debian/dists/stable/main/binary-i386/otherosfs/pilot-link_0.8.7-2.deb">.
Si ce fichier n'existe pas, vous trouverez probablement une version
plus récente dans le même répertoire. Si ce n'est pas le cas ou si
vous cherchez une version plus récente que celle empaquetée pour
Debian, vous pouvez installer la distribution générique, comme décrit
ci-dessous. Installez ce fichier de la manière normale, et passez à la 
section <ref id="usingpilotlink" name="Utilisation du logiciel
pilot-link">.

Vous pouvez trouver la version Linux RedHat (i386) de pilot-link 0.8.9 
sur <url
url="ftp://ftp.redhat.com/pub/contrib/i386/pilot-link-0.8.9-1.i386.rpm">.
Si ce fichier n'existe pas, vous trouverez probablement une version plus
récente dans le même répertoire. Si ce n'est pas le cas ou si vous
cherchez une version plus récente que celle empaquetée pour RedHat,
vous pouvez installer la distribution générique, comme décrit
ci-dessous. Installez ce fichier de la manière normale, et passez à la 
section <ref id="usingpilotlink" name="Utilisation du logiciel
pilot-link">.

Pour d'autres versions de Linux ou Unix, ou si vous cherchez la toute
dernière version, récupérez la version 0.9.0 de <tt/pilot-link/ sur
<url
url="ftp://ryeham.ee.ryerson.ca/pub/PalmOS/pilot-link.0.9.0.tar.gz">.
Le numéro de version aura probablement changé, mais les nouvelles
versions se trouveront probablement au même endroit avec un nom
similaire.

Une fois que vous avec le logiciel, décompressez-le avec :
<verb>
	tar -xvzf pilot-link.0.9.0.tar.gz
</verb>

Si votre version de <tt/tar/ ne supporte pas l'option <tt/-z/,
décompressez l'archive avec <tt/gunzip/, comme suit :
<verb>
	gunzip pilot-link.0.9.0.tar.gz | tar -xvf -
</verb>

Cela va créer un répertoire (<file>pilot-link-0.9.0</file>) contenant
les sources.

Entrez dans ce répertoire.

Lancez <tt>./configure</tt>. Cela va chercher sur votre système les
informations nécessaires à la compilation du logiciel. <tt/configure/
prépare pour une installation dans <tt>/usr/local</tt> par défaut. Si
vous souhaitez changer le répertoire d'installation, lancez
<tt>./configure --prefix=REP</tt>, où REP est le nom du répertoire
dans lequel le logiciel sera installé.

Lancez <tt/make/. Cela compilera le logiciel. Il ne sera par contre
installé que plus tard, ce qui vous permet de l'essayer d'abord. (Si
vous remplacez une version plus ancienne, vous voulez sans doute vous
assurer que les fonctionnalités que vous utilisez marchent
toujours. En général, il n'y a pas de problème.)

En tant qu'utilisateur <tt/root/, lancez <tt/make install/. Cela va
copier le logiciel dans des répertoires situés sous
<tt>/usr/local</tt> (ou tout autre répertoire que vous avez indiqué
avec l'option <tt/--prefix/). Si vous ne pouvez pas vous loguer en
tant que <tt/root/, vous pouvez installer le logiciel dans un autre
répertoire sur lequel vous avez des droits d'écriture.

N'oubliez pas de rajouter les nouveaux répertoires contenant les
exécutables à votre chemin de recherche.

<sect2>Utilisation du logiciel pilot-link<p>
<label id="usingpilotlink">

La plupart des programmes de l'ensemble <tt/pilot-link/ font office de
"conduits", c'est-à-dire qu'ils transfèrent des données depuis ou vers
votre appareil Palm OS.

A chaque fois que vous utilisez l'un de ces programmes, appuyez sur le
bouton HotSync du berceau. Cela initialisera le transfert du côté de
l'appareil Palm OS. Attention, tous les programmes ne vous demandent
pas explicitement d'appuyer sur le bouton "HotSync", il vous faudra
donc penser à le faire.

Pour plus d'informations, ainsi que pour les autres options de ces
programmes, reportez-vous à la page de manuel correspondante. Il y a
une page de manuel de présentation appelée <tt/pilot-link/. Par
exemple, pour le programme <tt/pilot-xfer/, vous pouvez taper <tt/man
pilot-xfer/ à l'invite de votre shell Unix.

<sect3>pilot-xfer<p>

Il s'agit probablement du programme le plus utile de l'ensemble
<tt/pilot-link/, puisque <tt/pilot-xfer/ vous permet d'installer des
programmes sur votre appareil Palm OS, de faire des sauvegardes et
de les remettre en place.

Pour installer un programme :
<verb>
	pilot-xfer /dev/pilot -i program.prc
</verb>

Pour sauvegarder votre appareil Palm OS :
<verb>
	pilot-xfer /dev/pilot -b rep-sauvegarde
</verb>

Cela copiera toutes les bases de données de votre appareil Palm OS (y
compris les programmes) dans un répertoire appelé
"<tt/rep-sauvegarde/", le créant s'il n'existait pas déjà.

Pour remettre en place des données sauvegardées sur l'appareil
Palm OS :
<verb>
	pilot-xfer /dev/pilot -r rep-sauvegarde
</verb>

En général, vous n'aurez à faire cela que si votre appareil perd son
alimentation ou si vous avez dû faire une remise à zéro complète.

Pour obtenir la liste des programmes présents sur votre appareil :
<verb>
	pilot-xfer /dev/pilot -l
</verb>

<sect3>install-memo<p>

Il installe un fichier Linux sur votre appareil Palm OS en tant
que mémo.

Pour installer un mémo dans la catégorie projet (qui doit déjà
exister) :
<verb>
	install-memo /dev/pilot -c projet projet.memo
</verb>

Le nom du fichier sera inséré dans le mémo à la première ligne et
apparaîtra dans le répertoire de mémos de votre appareil.

<sect3>memos<p>

Ce programme récupère chaque mémo sur l'appareil Palm OS et
l'affiche au format mailbox standard.

Pour voir vos mémos :
<verb>
	memos /dev/pilot
</verb>

<sect3>pilot-addresses<p>

Transférez votre base de données d'adresses depuis ou vers
l'appareil Palm OS.

Pour écrire vos adresses dans un fichier Linux depuis l'appareil :
<verb>
	pilot-addresses /dev/pilot -w fichier.stockage
</verb>

Pour lire vos adresses dans un fichier Linux et les mettre sur
l'appareil :
<verb>
	pilot-addresses /dev/pilot -r fichier.stockage
</verb>

<sect1>MakeDoc<p>

Un des défauts du programme de mémos intégré des appareils Palm OS est
son incapacité à gérer correctement les gros documents. Pour y
remédier, Rick Bram <url url="mailto:rbram@concentric.net"> a écrit
Doc, un lecteur de document pour appareils Palm OS (voir <url
url="http://www.concentric.net/~rbram/doc.shtml">). Les documents
peuvent être convertis au format Doc grâce à <tt/MakeDoc/, de Pat
Beirne <url url="mailto:pat.beirne@sympatico.ca">.

<sect2>Installation de MakeDoc<p>

<tt/MakeDoc/ peut être récupéré sur <url
url="http://www.concentric.net/~rbram/makedoc7.cpp">. Compilez-le avec
votre compilateur C++ et installez l'exécutable généré en tant que
"<tt/makedoc/" dans un répertoire de votre chemin de recherche. Il
semble y avoir une petite bogue dans <tt/makedoc/ (version 0.7a) qui
fait qu'il n'y a pas de retour chariot après le dernier caractère
affiché à l'utilisateur. Cela ne semble pas être gênant pour le
document généré, mais c'est ennuyeux.

Un nouvelle version existe, mais elle nécessite Java. Jetez un oeil à
la page web MakeDoc de Pat Beirne sur <url
url="http://cpu563.adsl.sympatico.ca/MakeDocJ.htm">.

<sect2>Utilisation de MakeDoc<p>

Lancez <tt/MakeDoc/ de la manière suivante :
<verb>
	makedoc data.txt data.prc "Données à afficher avec Doc"
</verb>

Cela créera un fichier <file>data.prc</file>, qui peut être alors
installé sur votre appareil Palm OS à l'aide de
<tt/pilot-xfer/. Le texte "Données à afficher avec Doc" sera affiché
dans le répertoire des documents gérés par Doc.

MakeDoc a les syntaxes suivantes :
<verb>
	makedoc [-n] [-b] &lt;fichier-texte&gt; &lt;fichier-prc&gt; &lt;nom&gt;
</verb>
ou
<verb>
	makedoc -d [-b] &lt;fichier-prc&gt; &lt;fichier-texte&gt;
</verb>

<descrip>

<tag/&lt;fichier-texte&gt;/ Le fichier que vous voulez convertir.

<tag/&lt;fichier-prc&gt;/ Le nom du fichier généré. (Mettez <tt/.prc/
à la fin du nom.)

<tag/&lt;nom&gt;/ Le nom que vous voulez voir apparaître dans le
répertoire de documents de Doc ou Jdoc.

</descrip>

Il y a aussi des options pour décoder le fichier <tt/.prc/ généré et
utiliser différentes options de compression.

<appendix>

<sect>Personnes<p>

Kenneth Albanowski <url url="mailto:kjahds@kjahds.com"> assure la
maintenance des outils <tt/pilot-link/.

Donnie Barnes <url url="mailto:djb@redhat.com"> a empaqueté pilot-link
sous forme de fichiers RPM Red Hat.

Rick Bram <url url="mailto:rbram@concentric.net"> est l'auteur de
Doc.

Matthew Cravit <url url="mailto:pilot-unix-owner@lists.best.com"> gère
la liste de diffusion pilot-unix.

Jeff Dionne <url url="mailto:jeff@ryeham.ee.ryerson.ca"> est le
premier auteur des outils pilot-link. Il gère le site FTP pour le
projet de développement Unix Palm OS/Pilot.

Mark W. Eichin <url url="mailto:eichen@kitten.gen.ma.us"> a effectué
le portage de <tt/pilot-link/ sur Linux Debian.

David H. Silber <url url="mailto:pilot@orbits.com"> est l'auteur de ce
document.

Chris Stevens <url url="mailto:albert@acm.rpi.edu"> assure la
maintenance des archives de la liste de diffusion <tt/pilot-unix/.

<sect>Historique des appareils Palm OS<p>

Il existe deux versions du Pilot : les 1000 et 5000 qui ont
respectivement 128 et 512 Ko de mémoire vive. Ils sont fournis avec
Palm OS 1.0 en mémoire morte.

Sont alors apparus deux appareils sous le nom PalmPilot : le
PalmPilot Personal et le PalmPilot Professional qui ont respectivement 
512 Ko et 1 Mo de mémoire vive. Ils ont aussi l'écran à cristaux
liquides rétro-éclairé et la version 2.0 du système d'exploitation. La
version Professional a aussi une pile TPC/IP et quelques programmes
supplémentaires intégrés.

(IBM a sorti sa propre version du PalmPilot Professional qu'ils
appellent un WorkPad.)

On trouve maintenant le Palm III, dont le boîtier a été redessiné et
qui est équipé d'un port infrarouge, sans oublier les 2 Mo de mémoire
vive et Palm OS 3.0.

Il est possible de mettre à jour n'importe quel Pilot en changeant la
carte mémoire, qui contient à la fois la mémoire vive et la mémoire
morte. Bien sûr, cela ne vous rajoute pas le rétro-éclairage sur les
premiers modèles de Pilot.

</article>
