<!doctype linuxdoc system>

<article>

<title>The Linux Public Web Browser mini-HOWTO
<author>par Donald B. Marti Jr., <tt><htmlurl url="mailto:dmarti@best.com" name="dmarti@best.com"></tt>&nl;
        Adaptation française&nbsp;: Pierre-Charles David <tt><htmlurl url="mailto:david@essi.fr" name="david@essi.fr"></tt>
<date>v0.3, 5 Janvier 1998

<abstract>
L'idée de base ici est de rendre le web accessible à des visiteurs,
tout en limitant leurs possibilités de causer des dégats.
</abstract>

<toc>

<sect>Copyright et mise en garde
<p>
Copyright 1997 Donald B. Marti Jr. Ce document peut être redistribué
sous les termes de la licence du Projet de Documentation de Linux
(LDP).
</p>

<p>
Ce document ne couvre pour l'instant que Netscape Navigator, mais je
projette d'ajouter des notes pour d'autres navigateur dès que j'aurais
les informations nécessaires. Si vous essayez ceci avec un autre
navigateur, faites le moi savoir.
</p>

<sect>Introduction

<p>
L'idée de base ici est de rendre le web accessible à des visiteurs,
tout en limitant leurs possibilités de causer des dégats.
</p>

<p>
Cette configuration était au départ destinée à des
stands d'expositions, mais elle devrait être applicable dans d'autres
circonstances où vous voulez faire tourner un navigateur web sans
avoir à vous occuper de l'ordinateur.
</p>

<p>
Suivre ces instructions ne rend en aucun cas votre système immunisé
contre les attaques ou les erreurs idiotes.
</p>

<sect>Avant de commencer

<sect1>Vous avez besoin d'un navigateur graphique

<p>
Ce document présuppose que vous ayez déjà un navigateur web
graphique fonctionnant, tel que Netscape Navigator, sur votre système.
Vous devez avoir l'autorisation d'utiliser votre navigateur. Si vous
voulez utilisez Netscape Navigator dans un contexte commercial, vous
pouvez en acheter une copie avec la licence appropriée auprès de Caldera.
</p>

<sect1>Vous devez avoir la permission d'ajouter un compte utilisateur

<p>
Si vous n'avez pas le droit d'être root, demandez à l'administrateur
système d'ajouter le compte <tt/guest/ et de vous rendre propriétaire
du répertoire personnel de guest. Sauter à la section ``Créer ou
éditer les fichiers suivants'' (<ref id="CreerEditerFichiers"
name="Créer ou éditer les fichiers suivants dans /home/guest">)
lorsqu'il ou elle l'a fait.
</p>

<sect1>Vous avez besoin de <tt/httpd/ pour une station de navigation web
autonome

<p>
Si vous mettez en place une station de navigation web autonome, sans
connexion réseau, vous devez avoir un <tt/httpd/ fonctionnant correctement
et les documents webs installés. Pour savoir si c'est le cas, tapez&nbsp;:
<tscreen><verb>
lynx -dump http://localhost/
</verb></tscreen>
Vous devez obtenir le texte de la page d'accueil sur votre système.
</p>

<sect>Ajouter un compte guest<label id="AjouterCompteGuest">

<p>
En tant que <tt/root/, lancez <tt/adduser/ pour ajouter un utilisateur nommé
<tt/guest/. Entrez alors
<tscreen><verb>
passwd guest
</verb></tscreen>
pour positionner le mot de passe de l'utilisateur <tt/guest/. Cela
doit être quelque chose de simple à se souvenir, comme ``<tt/guest/''.
Vous communiquerez ce mot de passe aux utilisateurs. Ne mettez pas
votre propre mot de passe.
</p>

<p>
Rendez-vous ensuite propriétaire du répertoire personnel de <tt/guest/.
Entrez
<tscreen><verb>
       chown moi.mongroupe /home/guest
</verb></tscreen>
Remplacez ``<tt/moi/'' par votre nom d'utilisateur normal et
``<tt/mongroupe/'' avec votre nom de groupe. (Sur Red Hat Linux, les
deux seront identiques.)
</p>

<p>
Vous devez maintenant tapez <tt/exit/ et effectuer le reste des
manipulations sous votre compte normal, pas en tant que <bf/root/.
</p>

<sect>Créer ou éditer les fichiers suivants dans /home/guest<label id="CreerEditerFichiers">

<sect1>Fichier <tt/.bash&lowbar;login/

<p>
<tscreen><code>
       exec startx
</code></tscreen>
Cela signifie que lorsque <tt/guest/ entre sur le système, le shell de
login lancera tout de suite le système X Window.
</p>

<sect1>Fichier <tt/.Xclients/

<p>
<tscreen><code>
netscape
</code></tscreen>
Cela signifie que lorsque X démarre, <tt/guest/ obtient seulement le
navigateur web, sans gestionnaire de fenêtres. Si vous préférez un
autre navigateur web, mettez quelque chose d'autre.
</p>

<p>
Le fichier <tt/.Xclients/ doit être exécutable par <tt/guest/. Entrez
pour cela
<tscreen><verb>
chmod 755 /home/guest/.Xclients
</verb></tscreen>
</p>

<sect1>Fichier <tt/.xsession/

<p>
<tscreen><code>
#!/bin/sh
netscape
</code></tscreen>
Si vous utilisez <tt/xdm/(1) pour loguer les gens sur le système, ce
fichier doit faire en sorte que guest obtienne le navigateur de la
même manière que s'il s'était logé normalement. Le fichier <tt/.xsession/
doit être exécutable par <tt/guest/. Entrez pour cela
<tscreen><verb>
chmod 755 /home/guest/.xsession
</verb></tscreen>
</p>

<sect1>Fichier <tt/.Xdefaults/

<p>
<tscreen><code>
! Désactive la sélection à la souris
*hysteresis:                            3000

! Rend tous les liens, visités ou non, de la même couleur par défaut
*linkForeground:                        #0000EE
*vlinkForeground:                       #0000EE

Netscape.Navigator.geometry: =NETSCAPE_GEOMETRY

! Désactive les commandes clavier
*globalTranslations:

! Fait en sorte que tous les boutons de souris aient le même effet
*drawingArea.translations:              #replace                        \
<Btn1Down>:                     ArmLink()                       \n\
<Btn2Down>:                     ArmLink()                       \n\
<Btn3Down>:                     ArmLink()                       \n\
~Shift<Btn1Up>:                 ActivateLink()                  \
                                DisarmLink()                    \n\
~Shift<Btn2Up>:                 ActivateLink()                  \
                                DisarmLink()                    \n\
~Shift<Btn3Up>:                 ActivateLink()                  \
                                DisarmLink()                    \n\
Shift<Btn1Up>:                  ActivateLink()                  \
                                DisarmLink()                    \n\
Shift<Btn2Up>:                  ActivateLink()                  \
                                DisarmLink()                    \n\
Shift<Btn3Up>:                  ActivateLink()                  \
                                DisarmLink()                    \n\
<Btn1Motion>:                   DisarmLinkIfMoved()             \n\
<Btn2Motion>:                   DisarmLinkIfMoved()             \n\
<Btn3Motion>:                   DisarmLinkIfMoved()             \n\
<Motion>:                       DescribeLink()                  \n\
</code></tscreen>
Ce fichier désactive le clignotement de texte, la sélection à la
souris, et certains raccourcis claviers. Il fait aussi en sorte que
tous les boutons de souris fassent la même chose, cache la barre de
menu, et rend les liens, visités ou non, de la même couleur, pour que
chaque utilisateur aie de jolis liens bleus et pas ceux que d'autres
personnes ont visité en violet.
</p>

<p>
Dans, ce fichier, vous devez remplacer <tt/NETSCAPE&lowbar;GEOMETRY/ par une
spécification de géométrie X du genre&nbsp;: <tt/XxY+0-0/, où <tt/X/ est la
largeur de votre écran, et <tt/Y/ sa hauteur <tt/+ 32/. Cela positionnera
la barre de titre de la fenêtre Netscape en dehors de l'écran pour ne
pas distraire l'utilisateur. Par exemple, si votre écran est en
800x600, la spécification de géométrie doit être <tt/800x632+0-0/.
</p>

<sect>Créer un répertoire <tt/.netscape/ pour <tt/guest/

<p>
Entrez
<tscreen><verb>
mkdir /home/guest/.netscape
chmod 777 /home/guest/.netscape
</verb></tscreen>

pour créer le répertoire <tt/.netscape/ de <tt/guest/ et le rendre
lisible par tout le monde.
</p>

<sect>L'essayer

<p>
Déloguez vous, puis loguez vous en tant que <tt/guest/.
</p>

<sect>Modifier les préférences

<p>
Puisque vous ne pourrez pas utiliser la barre de menu en tant
que <tt/guest/, vous devez éditer les préférences de guest
manuellement si vous devez les modifier, ou bien changer vos propre
préférences et recopier votre fichier de préférences sur celui de
<tt/guest/.
</p>

</article>
