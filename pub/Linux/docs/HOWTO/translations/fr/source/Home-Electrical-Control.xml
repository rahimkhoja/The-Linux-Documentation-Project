<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
  "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd" [
<!ENTITY howto      "http://www.traduc.org/docs/howto/lecture/">
<!ENTITY guides     "http://www.traduc.org/docs/guides/lecture/">
]>

<article lang="fr">

  <articleinfo>

    <title>
    
        Contrôler les appareils électriques de votre domicile 
        (Guide pratique)
    
    </title>
    <subtitle>
    
        Traduction française du <foreignphrase>Home Electrical Device 
        Control HOWTO</foreignphrase>
    
    </subtitle>
        
    <author>
        <firstname>Rui</firstname>
        <surname>Li</surname>
        <email>ruili CHEZ worldnet POINT att POINT net</email>
    </author>

    <abstract><para>
    
        Ce guide va vous expliquer comment utiliser Linux pour contrôler
        vos appareils électriques domestiques. Grâce à un montage très
        simple, vous pourrez contrôler presque n'importe quel appareil
        électrique via un ordinateur sous Linux.

    </para></abstract>

    <pubdate>2004-05-16</pubdate>
    <releaseinfo>Version&nbsp;: 0.008.fr.1.0</releaseinfo>

    <revhistory>
      <revision>
        <revnumber>0.008.fr.1.0</revnumber>
        <date>2004-05-16</date>
        <authorinitials>JG, CT, JPG</authorinitials>
        <revremark>Première adaptation française.</revremark>
      </revision>
      <revision>
        <revnumber>0.008</revnumber>
        <date>2003-02-08</date>
        <authorinitials>Goldencat</authorinitials>
        <revremark>
            
            Conversion de la version originale du format LinuxDoc au 
            format SGML DocBook 4.1.

        </revremark>
      </revision>

      <revision>
        <revnumber>0.007</revnumber>
        <date>2002-02-12</date>
        <authorinitials>RL</authorinitials>
      </revision>

      <revision>
        <revnumber>0.006</revnumber>
        <date>2001-06-27</date>
        <authorinitials>JEY</authorinitials>
      </revision>

      <revision>
        <revnumber>0.005</revnumber>
        <date>2001-06-13</date>
        <authorinitials>RL</authorinitials>
      </revision>

      <revision>
        <revnumber>0.004</revnumber>
        <date>2001-06-12</date>
        <authorinitials>JEY</authorinitials>
      </revision>

    </revhistory>

    <othercredit role="conversion">
      <firstname>Joy</firstname>
      <surname>Yokley</surname>
      <contrib>
          Conversion au format SGML DocBook v4.1
      </contrib>
    </othercredit>

    <othercredit role="traduction">
      <firstname>Joan</firstname>
      <surname>Goutte</surname>
      <contrib>Adaptation française</contrib>
      <email>joan CHEZ fra POINT net</email>
    </othercredit>

    <othercredit role="relecture">
      <firstname>Claude</firstname>
      <surname>Thomassin</surname>
      <contrib>Relecture de la version française</contrib>
      <email>cthomassin CHEZ waika9 POINT com</email>
    </othercredit>

    <othercredit role="publication">
      <firstname>Jean-Philippe</firstname>
      <surname>Guérard</surname>
      <contrib>Préparation de la publication de la v.f.</contrib>
      <email>jean TIRET philippe POINT guerard CHEZ tigreraye POINT org</email>
    </othercredit>


  </articleinfo>

  <sect1 id="Introduction">

    <title>Introduction</title>

    <para>

       On m'a souvent demandé&nbsp;: <quote>Est-il possible de contrôler
       du matériel électrique (comme les lumières, la radio, la
       télévision&hellip;) en utilisant un ordinateur
       personnel&nbsp;?</quote> La réponse est <emphasis>oui</emphasis>.
       Le procédé permettant de le faire est très simple et tout le
       monde peut le faire.
    
    </para>

    <para>
    
      Après avoir lu le <quote>Petit guide de la machine à café</quote>
      (<foreignphrase>Coffee Machine Mini-HOWTO</foreignphrase>), j'ai
      eu l'idée d'une façon de contrôler les appareils électriques de
      mon domicile. J'ai fait quelques modifications sur le montage
      présenté dans ce petit guide et écrit un petit programme. Le
      montage peut commander de nombreux petits dispositifs électriques.
      Vous pouvez utiliser <command>crontab</command> pour allumer vos
      lumières automatiquement ou pour mettre en marche votre
      climatiseur. Je l'utilise pour contrôler mon magnétoscope et mon
      lecteur de disques vidéo (ces deux derniers nécessiteront encore
      quelques modifications). En écrivant un petit programme, vous
      pourrez tout contrôler via internet. Vous pourrez aussi vous
      connecter via telnet ou SSH et votre ligne téléphonique pour
      contrôler tous les appareils que vous avez connecté au système.
    
    </para>

    <para>
    
        Le montage est <emphasis>très simple</emphasis>. Même si vous
        n'y connaissez rien en électronique, vous pourrez réaliser ce
        montage.
    
    </para>

  </sect1>

  <sect1 id="configuration-recommandee">

    <title>Configuration recommandée</title>

    <para>
    
        Prenez n'importe quel ordinateur sous Linux et un port parallèle
        qui marche ;) J'utilise un 386DX avec 4&nbsp;Mo de RAM et
        40&nbsp;Mo de disque dur. Vous devrez récupérez gcc pour
        compiler le programme. Si vous voulez utiliser telnet ou SSH,
        vous aurez aussi besoin de <application>telnetd</application> ou
        <application>sshd</application>. Vous pouvez écrire votre propre
        programme en utilisant <application>ioperm</application> et
        <application>outb</application>. Si vous comptez utiliser mon
        programme, vous aurez besoin de g++.

    </para>

    <para>
    
        Cliquez le lien suivant pour télécharger mon programme. Vous
        aurez besoin de g++ pour le compiler&nbsp;: <ulink
        url="http://edc.sourceforge.net/paralle.tar.gz"/>.
    
    </para>

  </sect1>

  <sect1 id="circuit">

    <title>Le montage électronique</title>

    <para>
        
        La ligne de données du port parallèle peut fournir entre 0 et
        5&nbsp;Volts, nous pouvons l'utiliser pour commander un relais
        et faire contrôler un appareil électrique par ce relais.
    
    </para>

    <para>
    
        Utilisez les broches 2 à 9 pour avoir le +5&nbsp;V
    
    </para>

    <para>
    
        Utilisez les broches 18 à 25 comme terre (la masse)
    
    </para>

<literallayout class="monospaced">
           ____________________________________________________________
          /                                                            \
          \     13  12  11  10   9   8   7   6   5   4   3   2   1     /
           \                                                          /
            \     25  24  23  22  21  20  19  18  17  16  15  14     /
             \______________________________________________________/


                                          | Vcc du relais
                                          |
                                          |
                                  / ------+--------| |--------|
P données           4.7K       B /  c     | 1N4002 |_|        |-------
-----------/\/\/\/\--------+----| NPN   _____        | relais |Appareils
                           |    \   e    /_\       |-|        |électriques
                 LED       X     \        +--------| |        |-------
P Masse                    |      |       |          |--------|
---------------------------+------+-------+
Masse du relais                           |
------------------------------------------+
</literallayout>

  <para>Voici la légende du schéma ci-dessus&nbsp;:</para>

<literallayout class="monospaced">
P données        ligne de données du port parallèle (broches 2 à 9, 
                 utilisez n'importe laquelle)
P Masse          Masse du port parallèle (broches 18 à 25, utilisez 
                 n'importe laquelle)
Vcc              Dépend du type de votre relais. J'utilise du 12&nbsp;VDC
Masse du relais  La masse pour du 12VDC
4.7k             Résistance de 4.7Ke
NPN              Transistor NPN C2235
1N4002           Diode 1N4002
LED              LED ;)
relais           Relais a bobine (<foreignphrase>coil relay</foreignphrase>)
</literallayout>

    <para>
        
        Le +5&nbsp;Volts du port parallèle allume le relais. Une fois le
        relais allumé, l'appareil branché sur ce relais sera en marche.
        Quand les données du port parallèle repassent à 0, le relais
        s'éteindra et l'appareil s'arrêtera.
    
    </para>

  </sect1>

  <sect1 id="relay">

    <title>Exemples de relais</title>

    <para>
    
        Les schémas ci-dessous sont là pour expliquer comment les relais
        fonctionnent.
    
    </para>

    <para>
       
       Le relais lui-même est juste un interrupteur comme nous le voyons
       dans le schéma suivant&nbsp;:
   
   </para>

<literallayout class="monospaced">
  Relais éteint                       Relais allumé

       |3                                    |3
       |                                     |
       |                                     |
       o                                     o
        \                                    |
       o \                                   o
       |                                     |
       |                                     |
       |                                     |
       |4                                    |4

</literallayout>

    <para>
    
      Le schéma suivant montre le fonctionnement d'un relais à 4 bornes.
    
    </para>

<literallayout class="monospaced">
      _____________________________
      |                           |
  1   |                           |  3
 -----|---------s     o-----------|-------
      |  Bobine s      \  inter-  |
  2   |         s       \ rupteur |  4
 -----|---------s     o- \--------|-------
      |                           |
      |                           |
      |                           |
      |___________________________|
</literallayout>

    <para>

        Dans le schéma ci-dessus, les bornes 3 et 4 ne sont pas reliées
        par défaut. Quand vous envoyez du +12&nbsp;V entre les bornes 1
        et 2, ça déclenchera l'interrupteur, et les broches 3 et 4
        seront reliées.
        
    </para>

    <para>

        Le suivant est un relais à 5 broches&nbsp;:
    
    </para>

<literallayout class="monospaced">
           _______________________________
           |                             |
     1     |                             |       5
  ---------|---+            o------------|----------------
           |   |-----------/---- s       |
           |              /      s       |
     3     |             /       s       |
  ---------|-----------o/ Bobine s       |       4
           |                 o---s-------|----------------
           |                     |       |
           |                     |       |
     2     |                     |       |
 ----------|---------------------+       |
           |_____________________________|
</literallayout>

    <para>
    
        Dans le schéma ci-dessus la broche 3 est connectée a la broche
        5, par défaut. En envoyant +12V entre les broches 1 et 2, vous
        allumerez le commutateur. Les broches 3 et 5 seront déconnectées
        et les broches 5 et 4 seront reliées.
    
    </para>

<literallayout class="monospaced">
  Relais éteint                       Relais allumé

     |5                                  |5
     |                                   |
     |                                   |
     o                                   o
      \                                  |
     o \                                 o  o
     |  o                                |  |
     |  |                                |  |
     |  |                                |  |
    4|  |3                              4|  |3
</literallayout>



      <para>
      
          Certains relais ont plus de 5 broches. Un plus grand nombre de
          broches correspond simplement à un plus grand nombre de
          commutateurs.
      
      </para>

        <para>
        
            J'ai écris un petit programme qui peut commander 8 relais.
            Le programme est disponible a l'adresse suivante et
            nécessite g++ pour fonctionner&nbsp;: <ulink
            url="http://edc.sourceforge.net/paralle.tar.gz"/>
            
        </para>

        <para>
        
            Un montage complet peut commander jusqu'à 8 relais.
            Autrement dit, 8 appareils électriques différents. Vous
            aurez besoin d'un connecteur DB25. Pour relier cette carte
            relais à votre ordinateur, utilisez un câble parallèle pour
            commutateur. J'ai mis la carte relais dans une boite et je la
            relie à ma machine Linux avec un câble parallèle de
            commutateur (i.e. câble parallèle DB25-DB25).
        
        </para>

<literallayout class="monospaced">
Façade: LED, Interrupteur   Dos: connecteur DB25
</literallayout>

      <para>
          
          Ci-dessous un exemple de la façon de relier une carte relais a
          vos appareils électriques&nbsp;:
      
      </para>

<literallayout class="monospaced">
CARTE RELAIS CONNECTÉE

                   +-----+ Prise de courant
1 ________3        |   __|________             ||   ||
--|      |---------+  |  |       |             ||   ||
2 |relais|4           | (o) (o)  |            _||___||__
--|______|----+       |------|---|            |        |
              |              |                |        | 
              | +------------+                |        | Prise
        terre | | courant                     |        |
              | |                             |        |
            __|_|__                           |        |
            | | | |                           |________|
            | | | | Prise 
            | | | |
            |_|_|_| (Je sais que ça ne ressemble pas à une prise,
             || ||   mais c'est une prise :-) )
             || ||
</literallayout>

      <para>

          Pour brancher le système, branchez juste votre appareil
          électrique à la prise de courant. C'est tout&nbsp;! Vous
          n'avez pas besoin de bricoler votre appareil électrique. Et
          vous pouvez relier n'importe quel genre d'appareils à cette
          prise de courant. Branchez cette prise de courant sur une
          prise murale.
          
      </para>

  

    <para>

        Pour voir les photos du produit fini, allez sur les sites
        suivants&nbsp;:
        
    </para>

    <itemizedlist>
    <listitem><para>
    
        <ulink url="http://edc.sourceforge.net/p1.jpg"/>
    
    </para></listitem>

    <listitem><para>
    
        <ulink url="http://edc.sourceforge.net/p2.jpg"/>
        
    </para></listitem>

    <listitem><para>
    
        <ulink url="http://edc.sourceforge.net/p3.jpg"/>
    
    </para></listitem>

    </itemizedlist>

    <para>
    
        L'URL suivante montre un circuit électronique complet (qui
        commande 8 appareils)&nbsp;: <ulink
        url="http://edc.sourceforge.net/01.png"/>

    </para>

  </sect1>

  <sect1 id="remerciements">

    <title>Remerciements particuliers</title>

    <para>
    
        Un grand MERCI à Rufus Chang
        
        <email>rufus CHEZ chu POINT url POINT com POINT tw</email>

    </para>

    <para>
    
        Un grand MERCI à Chih-Wei Huang
        
        <email>cwhuang CHEZ linux POINT org POINT tw</email>
    
    </para>

  </sect1>

  <sect1 id="copyright">

    <title>Droits d'utilisation</title>

    <para>
        
        Copyright &copy; Rui Li 2000-2001.
    
    </para>

    <para>
        
        Copyright &copy; 2003-2004 Joan Goutte, Claude Thomassin et
        Jean-Philippe Guérard pour la version française.
    
    </para>
    
    <para>
    
        Ce document est distribué selon les termes de la Licence
        publique générale GNU (GPL), avec la condition supplémentaire
        que le nom et l'adresse électronique de l'auteur soient
        conservée sur toutes les copies. S'il vous plaît, conservez mon
        nom et mon adresse électronique lorsque vous copiez ce guide.
        
    </para>

  </sect1>

  

</article>

