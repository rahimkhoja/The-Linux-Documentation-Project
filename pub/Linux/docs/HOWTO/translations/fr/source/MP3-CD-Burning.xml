<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
  "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd" [
<!ENTITY howto      "http://www.traduc.org/docs/howto/lecture/">
<!ENTITY guides     "http://www.traduc.org/docs/guides/lecture/">
]>

<article lang="fr">
  
  <articleinfo>
    
    <title>Petit guide de gravure sur CD de fichiers MP3</title>

    <subtitle>
        
        Version française du <foreignphrase>Linux MP3 CD Burning
        mini-HOWTO</foreignphrase>
    
    </subtitle>

    <releaseinfo>Version&nbsp;: 2.0.fr.1.0</releaseinfo>
    <pubdate>2003-05-01</pubdate>
    
    <author>
      <firstname>Greg</firstname>
      <surname>Wierzchowski</surname>
      <email>greg@draxen.org</email>
    </author>
    
    <othercredit role="traduction">
      <firstname>Thibault</firstname>
      <surname>Alix</surname>
      <contrib>Traduction française</contrib>
      <email>alix CHEZ essi POINT fr</email>
    </othercredit>
    
    <othercredit role="relecture">
      <firstname>Olivier</firstname>
      <surname>Kaloudoff</surname>
      <contrib>Relecture de la version française</contrib>
      <email>kalou CHEZ kalou POINT net</email>
    </othercredit>

    <othercredit role="publication">
      <firstname>Jean-Philippe</firstname>
      <surname>Guérard</surname>
      <contrib>Préparation de la publication de la v.f.</contrib>
      <email>jean TIRET philippe POINT guerard CHEZ tigreraye POINT org</email>
    </othercredit>
                        
    <abstract><para>
    
        Ce petit guide est un mode d'emploi complet de la création de CD
        audio et de CD de données à partir de musique au format MP3.
    
    </para></abstract>
    
    <revhistory>
      <revision>
	<revnumber>2.0.fr.1.0</revnumber>
	<date>2003-05-01</date>
	<authorinitials>TA, OK, JPG</authorinitials>
	<revremark>
	    
	    Première version française, avec quelques corrections de
	    liens.
	
	</revremark>
      </revision>    

      <revision>
	<revnumber>2.0</revnumber>
	<date>2002-04-26</date>
	<authorinitials>GW</authorinitials>
	<revremark>
	
	  Séparation en deux sections&nbsp;: les informations existantes
	  dans la section «&nbsp;audio&nbsp;», et une nouvelle section
	  «&nbsp;données&nbsp;», sur les CD de données. Quelques
	  modifications diverses.
	
	</revremark>
      </revision>
      <revision>
	<revnumber>1.5</revnumber>
	<date>2001-11-19</date>
	<authorinitials>GW</authorinitials>
	<revremark>
	
	    Correction des oublis dans la section «&nbsp;gravure en mode
	    Disc-At-Once&nbsp;».
	
	</revremark>
      </revision>
      <revision>
	<revnumber>1.4</revnumber>
	<date>2001-11-17</date>
	<authorinitials>GW</authorinitials>
	<revremark>
	
	    Ajout de la section «&nbsp;gravure en mode
	    Disc-At-Once&nbsp;».
	
	</revremark>
      </revision>
      <revision>
	<revnumber>1.3</revnumber>
	<date>2001-09-02</date>
	<authorinitials>GW</authorinitials>
	<revremark>
	
	    Ajout d'un autre exemple sur le décodage de fichiers MP3
	    avec Lame.
	
	</revremark>
      </revision>
      <revision>
	<revnumber>1.2</revnumber>
	<date>2001-07-12</date>
	<authorinitials>GW</authorinitials>
	<revremark>
	
	    Quelques changements mineurs&nbsp;; ajout d'une sous-section
	    «&nbsp;Traduction&nbsp;» dans la section
	    «&nbsp;Remerciements&nbsp;».
	
	</revremark>
      </revision>
      <revision>
	<revnumber>1.1</revnumber>
	<date>2001-06-12</date>
	<authorinitials>GW</authorinitials>
	<revremark>
	
	    Modifications mineurs. Correction de l'expression
	    rationnelle dans l'exemple de conversion de nom entre MP3 et
	    WAV.
	
	</revremark>
      </revision>
      <revision>
	<revnumber>1.0</revnumber>
	<date>2001-05-29</date>
	<authorinitials>GW</authorinitials>
	<revremark>Version Initiale.</revremark>
      </revision>
    </revhistory>
    
    <keywordset>
      <keyword>MP3</keyword>
      <keyword>CD</keyword>
      <keyword>audio</keyword>
      <keyword>enregistrer</keyword>
      <keyword>graver</keyword>
      <keyword>WAV</keyword>
      <keyword>musique</keyword>
    </keywordset>
    
  </articleinfo>
  
  <section id="intro">
  
    <title>Introduction</title>
    
    <para>
    
        J'ai écrit ce petit guide pour partager mon expérience de la
        gravure de CD audio, et à cause du manque sur Internet de
        quelques informations spécifiques sur la normalisation du son. 
        Je grave en général des CD de musique en les mixant avec des
        sons provenants de sources différentes. Bien souvent, le volume
        sonore entre deux chansons varie beaucoup. C'est le premier
        obstacle.  Deuxièmement, la plupart des fichiers pris sur
        Internet ne sont pas compatible avec les CD (16 bits, stéréo,
        44100&nbsp;Hz), et doivent être convertis. Il y a beaucoup de
        programmes pour graver des CD de musique à partir de fichiers
        MP3, et beaucoup d'entre eux réalisent la conversion de façon
        transparente. Mais, aucun d'entre eux ne permet de normaliser le
        son, c'est pourquoi j'ai travaillé sur ma propre méthode de
        gravure de CD.
    
    </para>
    
    <para>Cet HOWTO traite d'une seule chose&nbsp;: mettre des MP3 sur un CD pour pouvoir les écouter. Pour des informations approfondies sur les fichiers MP3,
      voir le <emphasis>Guide du MP3 </emphasis> (<foreignphrase>Linux MP3 HOWTO</foreignphrase>) de Phil Kerr, que l'on peut trouver à l'adresse suivante&nbsp;:
      <ulink url="&howto;MP3-HOWTO.html">http://www.traduc.org/docs/HOWTO/lecture/MP3-HOWTO.html</ulink>.
      Pour des informations sur la création de CD en général, se référer au
      <emphasis>Guide de gravure de CD</emphasis> (<foreignphrase>CD-Writing-HOWTO</foreignphrase>) de Winfried Trümper, disponible sur 
      <ulink url="&howto;CD-Writing-HOWTO.html">http://www.traduc.org/docs/HOWTO/lecture/CD-Writing-HOWTO.html</ulink>.</para>
    
    <para>Je suppose que vous voulez graver des CD avec la collection de chansons que vous avez récupéré via différentes sources, avec des qualités
      différentes, mais vous voulez la meilleure qualité de son possible sur le CD. Ce petit guide détaille les étapes nécessaires pour y parvenir.</para>
    
    <section id="copyright"><title>Copyright et License</title>
      
      <para>Ce document dispose d'un copyright (c) 2001 par Greg Wierzchowski, et est publié sous les termes de la GNU Free Documentation License,
	incluse pour  référence. Envoyer vos remarques à
	<ulink url="mailto:greg.wierzchowski@usa.net"><citetitle>greg.wierzchowski@usa.net</citetitle></ulink>.</para>
    </section>
  </section>
  
  <section id="audio"><title>CD audio</title>
    
    <section id="preparation"><title>Préparation des pistes</title>
      <para>
	<note>
	  <title>Note</title>
	  <para>Toutes les commmandes sont adaptées pour Bash.</para>
	</note>
      </para>
      
      <orderedlist>
	<listitem>
	  <para>Rassembler tous les fichiers MP3 dans un répertoire.</para>
	</listitem>
	
	<listitem>
	  <para>Si vos fichiers MP3 proviennent de DOS/Windows, ils doivent avoir des extensions en majuscule.
	    Vous pouvez convertir tout le nom du fichier en minuscule, ou simplement l'extension. Pour mettre tout en minuscule, taper&nbsp;:</para>
	  <programlisting>for i in *.[Mm][Pp]3; do mv "$i" `echo $i | tr '[A-Z]' '[a-z]'`; done</programlisting>
	  
	  <para>pour convertir les extensions&nbsp;:</para>
	  <programlisting>for i in *.MP3; do mv "$i" "`basename "$i" .MP3`.mp3"; done</programlisting>
	</listitem>
	
	<listitem>
	  <para>Si quelques fichiers contiennent des espaces, les convertir en 'underscore' (_):</para>
	  <programlisting>for i in *.mp3; do mv "$i" `echo $i | tr ' ' '_'`; done</programlisting>
	</listitem>
	
	<listitem>
	  <para>Convertir ces fichiers en WAV avec la commande&nbsp;:</para>
	  <programlisting>for i in *.mp3; do mpg123 -w `basename $i .mp3`.wav $i; done</programlisting>
	  
	  <para>Quand vous décodez des fichiers MP3 échantillonnés à 22kHz, en sortie de <command>mpg123</command>, le son peut être déformé.
	    Pour remédier à cela&nbsp;:</para>
	  <programlisting>for i in *.mp3; do mpg123 --rate 44100 --stereo --buffer 3072 --resync -w `basename $i .mp3`.wav $i; done</programlisting>
	  
	  <para><citetitle>Mpg123</citetitle> doir être présent dans n'importe quelle distribution Linux, mais si vous ne le possédez pas,
	    vous pouvez l'obtenir ici&nbsp;: <ulink url="http://www.mpg123.de/">http://www.mpg123.de/</ulink>.</para>
	  
	  <para><emphasis>NOTE&nbsp;:</emphasis> J'ai remarqué qu'avec quelques fichiers MP3, mpg123 rendait un son distordu. J'ai d'abord pensé que les MP3
	    étaient de mauvaise qualité, mais je les ai testés avec un autre lecteur, et il n'y avait pas de problème. J'ai alors cherché un autre
	    lecteur de MP3 capable de les convertir en WAV, et j'ai trouvé celui-ci&nbsp;: <citetitle>MAD mp3 decoder</citetitle> disponible à
	    <ulink url="http://www.underbit.com/products/mad/">http://www.underbit.com/products/mad/</ulink>.
	    Avec <citetitle>madplayer</citetitle>, la ligne de commande est&nbsp;:</para>
	  <programlisting>for i in *.mp3; do madplay -o `basename $i .mp3`.wav $i; done</programlisting>
	  
	  <para>Il y a un autre moyen de réaliser cette conversion. Quelques fichiers MP3 décodés semblent apparement présenter des troubles aussi bien avec
	    <command>mpg123</command> que avec <command>madplay</command>. Le décodeur <command>lame</command>, qui possède un mode de décodage, semble
	    très bien gérer les cas difficiles (<command>lame</command> peut être obtenu à
	    <ulink url="http://lame.sourceforge.net">http://lame.sourceforge.net</ulink>)&nbsp;:</para>
	  <programlisting>for i in *.mp3; do lame --decode $i `basename $i .mp3`.wav; done</programlisting>
	  
	  <para><emphasis>NOTE&nbsp;:</emphasis> La commande <command>`basename $i .mp3`.wav</command> remplace les extensions MP3 en WAV. Il y a 101 façons
	    de le faire, en voici une&nbsp;: <command>`echo "$1" | sed 's/\.mp3$/.wav/'`</command></para>
	</listitem>
	
	<listitem>
	  <para>Exécuter &quot;<command>file *.wav</command>&quot; et noter les fichiers dont les caractéristiques s'affichant diffèrent de
	    16 bits, stéréo, 44100Hz</para>
	</listitem>
	
	<listitem>
	  <para>Si des fichiers présentent des caractéristiques différentes, les convertir avec les spécifications ci-dessus.
	    Par exemple, pour convertir le fichier piste01.wav afin d'obtenir une fréquence d'échantillonnage de 44,1Khz, vous pouvez utiliser&nbsp;:</para>
	  <programlisting>sox track01.wav -r 44100 piste01-new.wav resample</programlisting>
	  
	  <para>Où, si la commande ci-dessus introduit des parasites durant la conversion de fichiers mono&nbsp;:</para>
	  <programlisting>sox track01.wav -r 44100 -c 2 piste01-new.wav</programlisting>
	  
	  <para><citetitle>Sox</citetitle> est tellement populaire qu'il est certainement installé par défaut dans toutes les distributions Linux,
	    et peut être obtenu à l'adresse suivante&nbsp;: <ulink url="http://www.spies.com/Sox/">http://www.spies.com/Sox/</ulink>.
	    Cependant, les options en ligne de commande sont quelque peu hardues à comprendre pour un utilisateur débutant (moi), aussi, regarder à
	    <ulink url="http://www.spies.com/Sox/sox.tips.html">http://www.spies.com/Sox/sox.tips.html</ulink> pour des astuces sur l'utilisation.</para>
	</listitem>
	
	<listitem>
	  <para>Normaliser vos fichiers WAV afin d'éviter des différences trop importantes entre les niveaux de volume sonore.
	    J'utilise un programme de Chris Vaill (<email>cvaill@cs.columbia.edu</email>), appelé <command>normalize</command> - il peut être obtenu depuis
	    <ulink url="http://www.cs.columbia.edu/~cvaill/normalize/">http://www.cs.columbia.edu/~cvaill/normalize/</ulink>.</para>
	  
	  <para>J'utilise la syntaxe suivante (-m est utilisé pour le mode mixage pour lequel le son des fichiers doit être aussi fort que possible)&nbsp;:</para>
	  <programlisting>normalize -m *.wav</programlisting>
	</listitem>
      </orderedlist>      
    </section>
    
    <section id="gravure"><title>Graver vos CD</title>
      
      <para>On trouve beaucoup de programmes pour créer des CD à partir de fichiers WAV. J'utilise <command>cdrecord</command> pour graver en ligne de
	commande, et <command>XCDROAST</command> pour le mode graphique. Pour <command>cdrecord</command>, vous devez savoir
	quel périphérique SCSI est votre graveur. Si vous utilisez un graveur ATAPI, utilisez l'émulation SCSI (module ide-scsi du noyau). Disons que
	votre graveur ATAPI est sur le second bus IDE, en position maître. Par conséquent, il doir exister un fichier <filename>/dev/hdc</filename>.
	Pour préciser au noyau que l'on veut considérer ce périphérique comme du SCSI, ajoutez la ligne suivante dans le fichier
	<filename>/etc/lilo.conf</filename>&nbsp;:</para>
      <programlisting>append=" hdc=ide-scsi"</programlisting>
      
      <para>Aussi, si votre noyau ne charge pas automatiquement le module ide-scsi, il faut ajouter <command>insmod ide-scsi</command>
	dans votre fichier <filename>rc.local</filename> (ou un équivalent). Une fois que votre graveur est reconnu comme étant un périphérique SCSI,
	lancez <command>cdrecord --scanbus</command> pour voir quels sont les paramètres de votre périphérique. Sur ma machine, l'exécution de la commande
	m'affiche les informations suivantes&nbsp;:</para>
      <programlisting>
	scsibus1:
	1,0,0 100) 'IOMEGA ' 'ZIP 250 ' '51.G' Removable Disk
	1,1,0 101) 'HP ' 'CD-Writer+ 7100 ' '3.01' Removable CD-ROM
      </programlisting>
      
      <para>Alors, la commande <command>cdrecord</command> devra contenir <command>dev=1,1,0</command> pour spécifier quel périphérique utiliser.
	Voici la commande complète sur mon système&nbsp;:</para>
      <programlisting>cdrecord dev=1,1,0 -eject speed=2 -pad -audio *.wav</programlisting>
      
      <note>
	<title>Note</title>
	<para>L'option -pad est necessaire car toutes les pistes sur le CD audio doivent être ajustées à la valeur correcte des données,
	  ce qui n'est pas toujours le cas avec les fichiers MP3.</para>
      </note>
    </section>
    
    <section id="gravure_DAO"><title>Graver un CD en DAO</title>
      <para>DAO, (Disc-At-Once, NdT&nbsp;: cela signifie que la gravure s'effectue sans que le laser ne fasse de pause), est à l'heure actuelle la seule méthode
	pour graver un CD sans la pause de 2 secondes entre les pistes.
	C'est très utile pour réaliser des mixages pour des soirées. Le programme <command>cdrdao</command>, est disponible depuis SourceForge,
	<ulink url="http://sourceforge.net/projects/cdrdao/">http://sourceforge.net/projects/cdrdao/</ulink>.</para>
      
      <para> Le programme <command>cdrdao</command> utilise un fichier de description appelé <emphasis>TOC</emphasis> (Table Of Contents soit Table
	Des Matières).
	Il y a deux moyens de créer un tel fichier. Le premier consiste à utiliser un script shell fourni avec les sources de <command>cdrdao</command>
	dans le répertoire <filename>contrib</filename>), appelé <command>generate_toc.sh</command>. Il prend une liste de fichiers <filename>.wav</filename>
	en paramètre, et crée un fichier <filename>cd.toc</filename>. Le deuxième moyen est de créer un fichier semblable, à la main,
	avec l'éditeur de votre choix. Voici un exemple qui parle de lui-même&nbsp;:</para>
      <programlisting>
	CD_DA
	
	TRACK AUDIO
	AUDIOFILE "mix-01.wav" 0
	
	TRACK AUDIO
	AUDIOFILE "mix-02.wav" 0
	
	TRACK AUDIO
	AUDIOFILE "mix-03.wav" 0
	
	TRACK AUDIO
	AUDIOFILE "mix-04.wav" 0
	
	TRACK AUDIO
	AUDIOFILE "mix-05.wav" 0
      </programlisting>
      
      <para>Le <emphasis>0</emphasis> (zéro) après le nom des fichiers wav signifie&nbsp;: démarrer depuis le début du fichier. Il peut y avoir un second nombre
	qui indique la taille (en temps) du fichier à graver. <command>Xcdroast</command> crée le même fichier <emphasis>TOC</emphasis>, on trouve des
	exemples dans le répertoire <filename>testtocs</filename> des sources de <command>cdrdao</command>.</para>
      
      <para><command>Cdrdao</command> utilise par défaut le périhérique <filename>/dev/cdrecorder</filename>, qui doit être un lien vers le graveur.
	Si le fichier de votre périphérique est <filename>/dev/scd0</filename>, créer le lien symbolique (en tant que root) de la façon suivante&nbsp;:</para>
      <programlisting>ln -s /dev/scd0 /dev/cdrecorder</programlisting>
      
      <para>Admettons que votre fichier <emphasis>TOC</emphasis> soit nommé <filename>cd.toc</filename>, la commande pour graver le CD est simple&nbsp;:</para>
      <programlisting>cdrdao write cd.toc</programlisting>
    </section>
    
    <section id="logiciel"><title>Logiciel</title>
      
      <para>Il y a de nombreux logiciels disponibles, ils peuvent automatiser le processus de création de CD à partir de fichiers MP3. Voici une liste
	non exhaustive de programmes disponibles&nbsp;:</para>
      
      <itemizedlist>
	<listitem>
	  <para><emphasis>burnmp3</emphasis> - Programme pour automatiser la gravure en utilisant la méthode <emphasis>DAO</emphasis>.
	    <ulink url="http://gro.clinux.org/projects/burnmp3/">http://gro.clinux.org/projects/burnmp3/</ulink>.</para>
	</listitem>
	
	<listitem><para><emphasis>mp32dao</emphasis> - Un script provenant du paquet <emphasis>cdrdao</emphasis>, dans le répertoire
	    <emphasis>contrib</emphasis>. <ulink url="http://cdrdao.sourceforge.net/">http://cdrdao.sourceforge.net/</ulink>.</para>
	</listitem>
      </itemizedlist>
    </section>
  </section>
  
  <section id="donnee"><title>CD de données</title>
    
    <para>
      <note>
	<title>Note</title>
	<para>Cette section est en cours de réalisation, vous avez devant-vous une version initiale, très épurée.</para>
      </note>
    </para>
    
    <para>Avec la popularité croissante des lecteurs de CD/MP3, graver de CD de données pour les écouter devient aisé. L'avantage est sans nul doute
      d'insérer dix fois plus de temps de musique dans un CD (de façon approximative). Pour obtenir un CD de données contenant des MP3, il faut un simple
      CD standard de données (ISO9960) avec pour simple fichiers, des MP3. Tous les lecteurs de CD-MP3 que je connais acceptent des CD avec des
      répertoires à l'intérieur, et je grave en général mes CD avec l'extension Joliet (NdT&nbsp;: pour accepter les noms longs), et cela marche très bien.
      Donc, pour graver un tel CD sous Linux, vous avez besoin dans un premier temps de créer une image ISO, et de la graver sur le CD, comme décrit dans
      l'exemple ci-dessous&nbsp;:</para>
    <programlisting>
      mkisofs -J -o /tmp/mymp3s.iso /home/greg/mp3s/
      cdrecord dev=1,0,0 speed=16 /tmp/mymp3s.iso
    </programlisting>
    
    <para>Et c'est tout&nbsp;!</para>
    
    <para>Je recherche maintenant la technique pour normaliser des fichiers MP3 directement - cependant, je crois que cela nécessitera à chaque fois
      une décompression, une normalisation, et une recompression, ce qui engendrera une perte de qualité. Restez donc à l'écoute&nbsp;!</para>
  </section>
  
  <section id="credits"><title>Crédits</title>
    
    <para>Un grand merci à toutes les peronnes qui contribuent à la Communauté Linux et qui ont rendu la création de ce HOWTO possible.</para>
    
    <section id="traductions"><title>Traductions</title>
      
      <itemizedlist>
	<listitem>
	  <para>Im Eunjea - qui à traduit ce document en Coréen, le lien est
	    <ulink url="http://kltp.kldp.org/eunjea/mp3_burning/">http://kltp.kldp.org/eunjea/mp3_burning/</ulink>.</para>
	</listitem>
	
	<listitem>
	  <para>Mendel L Chan - qui à traduit ce document en Chinois, le lien est
	    <ulink url="http://www.linux.org.tw/CLDP/mini/MP3-CD-Burning/">http://www.linux.org.tw/CLDP/mini/MP3-CD-Burning/</ulink>.</para>
	</listitem>
	
	<listitem>
	  <para>Chie Nakatani - qui à traduit ce document en Japonais, le lien est
	    <ulink url="http://www.linux.or.jp/JF/JFdocs/MP3-CD-Burning/index.html">http://www.linux.or.jp/JF/JFdocs/MP3-CD-Burning/index.html</ulink>.</para>
	</listitem>
	
	<listitem>
	  <para>Alix Thibault - qui à traduit ce document en Français, et Kaloudoff Olivier qui s'est chargé de sa relecture. Le lien est
	    <ulink url="&howto;MP3-CD-Burning.html">http://www.traduc.org/docs/HOWTO/mini/lecture/MP3-CD-Burning.html</ulink>.</para>
	  
	  <para>N'hésitez pas à faire parvenir tout commentaire relatif à la version française de ce document à
	    <email>commentaires@traduc.org</email>.</para>
	</listitem>
      </itemizedlist>
    </section>
    
    <section id="autres_credits"><title>Autres Crédits</title>
      
      <itemizedlist>
	<listitem>
	  <para>Greg Ferguson - qui à initialement converti ce document HTML en SGML.</para>
	</listitem>
	
	<listitem>
	  <para>Rob Russell - qui à corrigé mes noms d'exemples concernant la conversion.</para>
	</listitem>
	
	<listitem>
	  <para>Terry Davis - qui m'a suggéré de soumettre ce HOWTO à Linuxdoc.</para>
	</listitem>
	
	<listitem>
	  <para>Chris Vaill - le créateur du programme <command>normalize</command>.</para>
	</listitem>
	
	<listitem>
	  <para>Jamie Kellogg - qui m'a soumis une solution de décodage avec <command>lame</command> pour les fichiers présentant des troubles.</para>
	</listitem>
	
	<listitem>
	  <para>Tom Panning - qui à proposé une astuce pour convertir des fichiers mono avec <command>sox</command>.</para>
	</listitem>
	
	<listitem>
	  <para>Adam Buckley  - qui à suggéré une idée pour les fichiers avec les extensions en majuscule.</para>
	</listitem>
	
	<listitem>
	  <para>Ilia Lobsanov - qui à fournit les options pour décoder les fichiers échantillonés à 22kHz avec <command>mpg123</command>.</para>
	</listitem>
      </itemizedlist>
    </section>
  </section>
</article>
