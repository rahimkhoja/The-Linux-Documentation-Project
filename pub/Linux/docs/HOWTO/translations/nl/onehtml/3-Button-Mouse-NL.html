<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>De 3-knops seri&euml;le muis mini-HOWTO</TITLE>


</HEAD>
<BODY>
<H1>De 3-knops seri&euml;le muis mini-HOWTO</H1>

<H2>Geoff Short, 
<A HREF="mailto:geoff@kipper.york.ac.uk">geoff@kipper.york.ac.uk</A>,<BR>
Vertaald door: Ellen Bokhorst 
<A HREF="mailto:bokkie@nl.linux.org">bokkie@nl.linux.org</A></H2>v1.33, 31 mei 1998
<P><HR>
<EM>Hoe een 3-knops seri&euml;le muis onder Linux juist werkend te krijgen.</EM>
<HR>
<H2><A NAME="s1">1. Disclaimer</A></H2>

<P>Het volgende document wordt in goed vertrouwen aangeboden aangezien het
alleen veilige programmering en procedures bevat. Door de auteur wordt geen
aansprakelijkheid aanvaard voor enig verlies of schade veroorzaakt op enige
wijze aan enige persoon of uitrusting, als een direct of indirect gevolg door
het opvolgen van deze instructies.
<H2><A NAME="s2">2. Introductie</A></H2>

<P>De meest recente versie van dit document is altijd te vinden op
<A HREF="http://kipper.york.ac.uk/mouse.html">http://kipper.york.ac.uk/mouse.html</A><P>Er is een Japanse vertaling te vinden op
<A HREF="http://jf.gee.kyoto-u.ac.jp/JF/JF-ftp/euc/3-Button-Mouse.euc">http://jf.gee.kyoto-u.ac.jp/JF/JF-ftp/euc/3-Button-Mouse.euc</A>;
en een Franse vertaling op
<A HREF="http://www.freenix.fr/linux/HOWTO/mini/3-Button-Mouse.html">http://www.freenix.fr/linux/HOWTO/mini/3-Button-Mouse.html</A>.
Wellicht zijn er nog andere vertalingen beschikbaar.
Kijk dit na bij je lokale LDP-mirrors.
<P>De meeste X-applicaties zijn geschreven in de veronderstelling dat de
gebruiker met een 3-knops muis zal werken. Seri&euml;le muizen zijn algemeen
in het gebruik op computers en ze zijn goedkoop aan te schaffen.
Veel van deze muizen hebben 3 knoppen en hiervan wordt beweerd dat ze 
gebruik maken van het Microsoft protocol, wat in theorie betekent dat 
ze ideaal zijn voor de X Window setup. (Het record voor de goedkoopste
werkende 3-knops muis staat thans op $1.14!)
<P>De meeste tweevoudige protocol muizen zullen in twee modi werken:
<UL>
<LI>2-knops Microsoft modus.</LI>
<LI>3-knops MouseSystems modus.</LI>
</UL>

Dit document leidt je door de verschillende stappen die nodig zijn om
je muis in deze twee verschillende modi te configureren, vooral die
stappen die nodig zijn om gebruik te maken van de nuttiger
3-knops modus.
<P>Aangezien distributies steeds eenvoudiger in te stellen zijn, 
zouden een aantal problemen eigenlijk verdwenen moeten zijn.
RedHat heeft bijvoorbeeld een <CODE>mouseconfig</CODE> programma 
om het geheel in te stellen.
Een aantal versies van RH5.0 bevatte echter een bug in <CODE>mouseconfig</CODE>,
dus zorg dat je controleert op patches.
<H2><A NAME="s3">3. Seri&euml;le Poorten</A></H2>

<P>Waar je als eerste voor moet zorgen is dat de software de muis kan
vinden. Zoek uit met welke seri&euml;le poort je muis is verbonden -
meestal is dit <CODE>/dev/ttyS0</CODE> (COM1 onder DOS) of <CODE>/dev/ttyS1</CODE>
(COM2). (<CODE>ttyS0</CODE> is gewoonlijk de 9 pin socket, <CODE>ttyS1</CODE> de
25 pin socket, maar uiteraard is hier geen regel voor waar niet van afgeweken
wordt.) Er zijn ook een equivalent aantal <CODE>/dev/cua</CODE> devices,
die vrijwel hetzelfde zijn als de <CODE>ttyS</CODE> devices, maar het gebruik ervan
wordt ontmoedigd. Maak voor het gemak een nieuwe link
<CODE>/dev/mouse</CODE> die naar deze poort verwijst. Voor bijvoorbeeld
<CODE>ttyS0</CODE>:
<P>
<BLOCKQUOTE><CODE>
ln -s /dev/ttyS0 /dev/mouse
</CODE></BLOCKQUOTE>
<H2><A NAME="switch"></A> <A NAME="s4">4. Geschakelde muizen </A></H2>

<P>Een aantal muizen, meestal niet de goedkoopste, heeft aan de onderkant een
schakelaar met de markering `2/3'. Soms is dit `PC/MS'. In dit geval staat
de instelling `2' voor de 2-knops Microsoft modus, en de `3' voor de 3-knops
MouseSystems modus. De `PC/MS' schakelaar is iets gecompliceerder. Je zult 
waarschijnlijk bemerken dat de `MS' instelling voor Microsoft is en de
`PC' voor MouseSystems.
Wellicht wordt de `PC' instelling als ps/2 modus omschreven, maar het zou
tevens als MouseSystems modus moeten werken. Als je een dergelijke muis hebt,
kun je de schakelaar instellen op `3' of `PC', de MouseSystems instellingen
in je XConfigs (zie hieronder) plaatsen en de muis zou perfect in 
3-knops modus moeten werken.
<H2><A NAME="s5">5. Gewone muizen</A></H2>

<P>Als je geen schakelaars en geen instructies hebt, zul je wat moeten
experimenteren. Het eerste wat je kunt proberen is ervan uit te gaan
dat de fabrikant van de muis de waarheid spreekt, en de muis volledig
Microsoft compatibel is. Stel Xconfigs zo in dat het uitgaat van een Microsoft
muis (zie de sectie 
<A HREF="#config">Xconfig</A>) en probeer
het uit.
<P>Als de muis in het geheel niet werkt, dan heb je &oacute;f geen Microsoft
muis, &oacute;f er doet zich een ander probleem voor. 
Probeer de andere protocollen
in de configs, de man page voor het config bestand is de beste plaats
om te zoeken. Kijk ook verderop in de sectie
<A HREF="#misc">Diverse problemen</A>.
<P>Wat je waarschijnlijk zal bemerken wanneer je onder X draait, is dat de
muis prima werkt, maar slechts de twee buitenste knoppen iets doen.
Je kunt dit uiteraard accepteren en de derde knop emuleren, (druk beide
knoppen tegelijkertijd in als vervanging voor de middelste knop) zoals je
dat met een twee-knops muis doet. Hiervoor wijzig je het Xconfig bestand
zoals aangegeven in de sectie 
<A HREF="#config">Xconfig voorbeeld</A>.
Dit kan betekenen dat je voor niks een 3-knops muis hebt gekocht, en
er beslist niets mee bent opgeschoten. Dus nu zul je naar je hardware 
moeten kijken.
<H2><A NAME="s6">6. Schakelen van een muis in de 3-knops modus</A></H2>

<P>Zelfs goedkope muizen kunnen onder het Mouse Systems protocol werken, met
alle drie de knoppen werkend. De truuk, iets wat je zelden in de instructies
terug zult vinden, bestaat hieruit de muis te laten
denken dat het een Mouse Systems muis is. 
<P>
<UL>
<LI>Voordat je de computer aanzet, houd je de linker muisknop ingedrukt
(en houd het voor de zekerheid ingedrukt totdat de computer heeft geboot).</LI>
</UL>
<P>Wanneer de muis voor het eerst van stroom wordt voorzien, en als de linkerknop
ingedrukt wordt gehouden, schakelt het over naar de Mouse Systems modus. 
Een simpel feit, maar niet altijd gepubliceerd. Merk op dat een
soft reboot van je computer wellicht de muis niet van stroom ontdoet en
het daarom misschien niet werkt. Er zijn nog een aantal andere manieren
om naar een andere modus te schakelen, die mogelijk wel of niet met je
specifieke muis werken. Er zijn een aantal methodes die minder drastisch zijn
dan het rebooten van je computer, twee ervan zijn zelfs drastischer!
<P>
<UL>
<LI>Als je computer in de buurt staat, dan kun je de verbinding van de muis 
met de computer verbreken en het weer inpluggen met de linkermuisknop ingedrukt
(alhoewel je normaal gesproken niet iets in een draaiende computer plugt, 
geeft de RS232 spec aan dat het OK is).</LI>
<LI>Mogelijk kun je de muis resetten door het intikken van
<CODE>echo "*n" > /dev/mouse</CODE>, wat hetzelfde effect zou moeten hebben
als de verbinding ervan met de computer verbreken.
Houd de linkerknop ingedrukt voor de Mouse Systems modus, niet voor
Microsoft. Je zou dit in een script kunnen plaatsen waarmee je X opstart.</LI>
<LI>Bob Nichols (rnichols@interaccess.com) heeft een klein
C-programmaatje geschreven om ditzelfde te bewerkstelligen, wat zou kunnen
werken als <CODE>echo "*n"</CODE> niet werkt (en andersom).
Een kopie van de broncode is te vinden op
<A HREF="http://kipper.york.ac.uk/src/fix-mouse.c">http://kipper.york.ac.uk/src/fix-mouse.c</A></LI>
<LI>Iemand merkte op dat de `ClearDTR' regel in Xconfig voldoende was
om zijn muis naar Mouse Systems modus te schakelen.</LI>
<LI>Als je het aandurft, open je de muis (denk er aan dat de garantie
hierdoor vervalt) om de muis van binnen te bekijken. In een aantal gevallen
heeft de muis een schakeling aan de binnenkant, om de een of andere vreemde
reden alleen bekend bij de fabrikant. Waarschijnlijker is het dat een
goedkope muis een jumper heeft die je kunt verzetten.
De schakelaar of jumper heeft mogelijk hetzelfde effect als een
`MS/PC' schakelaar zoals beschreven in de sectie 
<A HREF="#switch">Geschakelde muizen</A>.
Wellicht bemerk je dat de printplaat is ontworpen voor een schakelaar
tussen 2 &amp; 3 knoppen, maar het niet is gemonteerd. Het ziet er ongeveer
uit zoals in:
<BLOCKQUOTE><CODE>
<PRE>
         -----------
        | o | o | o |  SW1
         -----------
          1   2   3
</PRE>
</CODE></BLOCKQUOTE>

Probeer de pinnen 1-2 of 2-3 te koppelen, en kijk of dit het functioneren van
de muis verandert. Als dit zo is, kun je &oacute;f een kleine schakelaar
monteren, of solderen tegen de contacten voor een snelle en permanente
oplossing.</LI>
<LI>Een andere soldeeroplossing welke als laatste poging kan worden
gebruikt voor muizen die MouseSystems in het geheel niet begrijpen, is die
van Peter Benie 
(
<A HREF="mailto:pjb1008@chiark.chu.cam.ac.uk">pjb1008@chiark.chu.cam.ac.uk</A>).  
Als de schakelaar van de middelste knop dubbelpolig is, verbind dan de
ene kant van de schakelaar met de schakelaar van de linkerknop, en de andere
kant met de schakelaar van de rechterknop. Als het geen dubbelpolige 
schakelaar is, gebruik dan diodes in plaats van bedrading. Nu duwt de middelste
knop de linker en rechterknop bijelkaar. Selecteer
<CODE>ChordMiddle</CODE> in XF86Config en je hebt een werkende middelste knop.</LI>
<LI>De beschrijving van de ultieme bron met de soldeeroplossing werd 
me als eerste toegezonden door Brian Craft (
<A HREF="mailto:bcboy@pyramid.bio.brandeis.edu">bcboy@pyramid.bio.brandeis.edu</A>). Twee algemene muischips
zijn de 16 pin <B>Z8350</B>, en de 18 pin <B>HM8350A</B>. 
Op beide chips, bepaalt een pin als volgt de modus van de chip:
<BLOCKQUOTE><CODE>
<PRE>
Pin 3   Mode
-----   ----
Open    Standaard Microsoft. Mouse Systems als bij de systeemstart een
                knop ingedrukt wordt gebouden.
GND     Altijd Mouse Systems.
Vdd     Altijd Microsoft.
</PRE>
</CODE></BLOCKQUOTE>

(Pinnen zijn als volgt genummerd:)
<BLOCKQUOTE><CODE>
<PRE>
        ____ 
pin1  -| \/ |-
pin2  -|    |-
pin3  -|    |-
      -|    |-
      -|    |-
      -|    |-
      -|    |-
pin8  -|____|-
</PRE>
</CODE></BLOCKQUOTE>

(Deze info is afkomstig van Hans-Christoph Wirth, en Juergen Exner, die
het postte in de.comp.os.linux.hardware). Je kunt een link solderen tussen
pin 3 en gnd, wat de muis in MouseSystems modus zal corrigeren.</LI>
<LI>Peter Fredriksson (
<A HREF="mailto:peterf@lysator.liu.se">peterf@lysator.liu.se</A>)
heeft de SYSGRATION <B>SYS2005</B> chip uitgeprobeerd, en bemerkte dat
het linken van Pin 3 met Gnd de Mouse System modus forceerde.</LI>
<LI>Uli Drescher (
<A HREF="mailto:ud@digi.ruhr.de">ud@digi.ruhr.de</A>) bevestigde dat het werkt met een <B>HN8348A</B> chip; 
Ben Ketcham (
<A HREF="bketcham@anvilite.murkworks.net">bketcham@anvilite.murkworks.net</A>)
bevestigde het met de <B>HM8348A</B> (Pin 9 is Gnd). </LI>
<LI>Urban Widmark (
<A HREF="mailto:ubbe@ts.umu.se">ubbe@ts.umu.se</A>)
zegt dat hetzelfde geldt voor de <B>EC3567A1</B> chip, waar Pin 8
is geaard. Ook ik heb het geprobeerd en het werkt prima.</LI>
<LI>Timo T Metsala (
<A HREF="mailto:metsala@cc.helsinki.fi">metsala@cc.helsinki.fi</A>)
bemerkte dat op de <B>HT6510A</B> chip pin 3 is modus select, pin 9 is Gnd.
Hetzelfde geldt voor de <B>HT6513A</B> chip. Holtek fabriceerde ook 
<B>HT6513B</B> en <B>HT6513F</B> chips - hierop is pin 8 Gnd.</LI>
<LI>Robert Romanowski (
<A HREF="mailto:robin@cs.tu-berlin.de">robin@cs.tu-berlin.de</A>)
zegt dat pin 3 - pin 8 (Gnd) ook werkt met een <B>EM83701BP</B> chip.</LI>
<LI>Robert Kaiser (
<A HREF="mailto:rkaiser@sysgo.de">rkaiser@sysgo.de</A>)
bevestigt dat pin 3 - Gnd ook werkt met een <B>EC3576A1</B> chip.</LI>
<LI>Sean Cross (
<A HREF="mailto:secross@whidbey.com">secross@whidbey.com</A>)
bemerkte dat het pin 2 - pin 7 (Gnd) op een <B>HM8370GP</B> chip is.</LI>
<LI>Peter Fox (
<A HREF="fox@roestock.demon.co.uk">fox@roestock.demon.co.uk</A>)
gebruikte pin 3 - pin 8 op een <B>HM8348A</B> chip.</LI>
<LI>Jon Klein (
<A HREF="jbklein@mindspring.com">jbklein@mindspring.com</A>)
kwam erachter dat pin 3 - pin 9 de truuk deed bij een <B>UA5212S</B> chip.</LI>
<LI>Als alternatief op de hierboven beschreven soldeermethoden, 
kun je het voor elkaar krijgen dat de muis zijn eigen knop tijdens de
systeemstart ingedrukt houdt:
dit is afkomstig van
<A HREF="mailto:mkatzer@TechFak.Uni-Bielefeld.DE">Mathias Katzer</A>.
<BLOCKQUOTE><CODE>
<PRE>
         -----                       
      ---  R  ---------O------ + Supply
     |   -----   |        |                     C = 100nF capacitor
     |           | E      |                     R = 100kOhm
     |       __ /         |                     T = BC557 transistor
     |      /  \          O
     |   B | #V | T         /
     |-----|-#  |          /   Schakelaar van de linkerknop van de muis
     |     | #\ |         O
     |      \__/          |
    ---         \  C      |
    --- C        ------O----------> (ergens diep binnenin de muis)
     |
    ###  Ground
</PRE>
</CODE></BLOCKQUOTE>

De testmuis was er een zonder naam van het model MUS2S.
Of dit werkt bij andere muizen hangt af van het circuit van de muis;
als de schakelaar verbonden is met ground en niet met
+Supply, zou een npn-transistor zoals de
BC547 moeten werken; R en C moeten dan ook worden verwisseld.</LI>
</UL>
<P>Dit is het dan, de keuze is aan jou. Houd je bij de standaard Microsoft
twee-knops muis, of werk uit hoe de modus om te zetten en stel X zo in
dat je hier profijt van hebt.
<H2><A NAME="wheel"></A> <A NAME="s7">7. Wheel muizen </A></H2>

<P>In de laatste paar jaar zijn muizen met een wiel op de markt verschenen,
te beginnen met de Microsoft Intellimouse en zich verspreidend over andere
fabrikanten. Met het wiel kan als op een knop worden geklikt, 
of heen en terug worden gebladerd.
Verreweg de beste referentie voor informatie is 
<A HREF="http://www.inria.fr/koala/colas/mouse-wheel-scroll/">http://www.inria.fr/koala/colas/mouse-wheel-scroll/</A>
waar wordt beschreven hoe je heel veel X-applicaties zover kan 
krijgen dat ze de actie scrollen herkennen.
<P>In het algemeen heb je een tamelijk nieuwe Xserver nodig om gebruik te
kunnen maken van de scroll-actie, maar een aantal oudere servers zal
in ieder geval de klik-acties herkennen. De Intellimouse wordt bijvoorbeeld
door XFree 3.3.1 en latere versies herkend.
<H2><A NAME="gpm"></A> <A NAME="s8">8. Met gpm muismodi omzetten</A></H2>

<P><CODE>gpm</CODE> is het programma waarmee je de muis in console modus
kunt gebruiken. het wordt gewoonlijk in linux-distributies opgenomen, en
kan vanaf de opdrachtregel of in het opstartscript <CODE>/etc/rc.d/rc.local</CODE>
worden opgestart. Merk op dat distributies niet altijd de meest recente
versie (1.13 tijdens dit schrijven) hebben opgenomen. De laatste versie
is te vinden op mirrors van sunsite.unc.edu.
<P>De belangrijkste modi voor seri&euml;le muizen onder gpm zijn:
<BLOCKQUOTE><CODE>
<PRE>
gpm -t ms
gpm -t msc
gpm -t help
</PRE>
</CODE></BLOCKQUOTE>
<P>voor Microsoft of MouseSystems modi, of om de muis uit te proberen
en je aan te geven wat het vond.
Wellicht heb je de <CODE>-3</CODE> vlag nodig om gpm te kunnen uitvoeren
en mogelijk nog de optie DTR, met behulp van de vlag
<CODE>-o dtr</CODE>:
<P>
<BLOCKQUOTE><CODE>
gpm -3 -o dtr -t msc
</CODE></BLOCKQUOTE>
<P>Het lukt met <CODE>gpm</CODE> vaak alle drie de knoppen, zelfs in Microsoft
modus, te herkennen. En nieuwere versies (versie 1.0 en later (?)) kunnen
deze informatie aan andere programma's beschikbaar stellen.
Hiervoor moet je gpm opstarten met de -R vlag, zoals in:
<P>
<BLOCKQUOTE><CODE>
gpm -R -t ms
</CODE></BLOCKQUOTE>
<P>Dit zorgt dat gpm de muisdata naar een nieuw device, genaamd
<CODE>/dev/gpmdata</CODE>, exporteert, wat voor ieder ander programma
op een muis lijkt. Dit device maakt <B>altijd</B> gebruik van het
MouseSystems protocol. Je kunt Xconfig dan instellen dat het hier
gebruik van maakt in plaats van <CODE>/dev/mouse</CODE> zoals hieronder
wordt getoond, maar natuurlijk moet je er wel voor zorgen dat gpm
altijd draait wanneer je X gebruikt. Een aantal mensen liet weten
dat een aantal acties met de middelste knop niet correct door X
wordt ge&iuml;nterpreteerd wanneer van deze techniek gebruik wordt
gemaakt. Dit zou verholpen kunnen worden door een individuele setup
van de muis.
<P><B>Wijzigen van de knoppenindeling voor gpm en X</B>
(
<A HREF="mailto:gustafso@math.utah.edu">gustafso@math.utah.edu</A>)
<P>Wellicht merk je dat gpm een andere standaard knoppenindeling gebruikt
dan X, dus gebruik van beide systemen op dezelfde computer kan verwarrend
zijn. Om te zorgen dat X dezelfde knoppen voor de selecteer- en 
plakbewerkingen gebruikt als gpm, gebruik je de X-opdracht:
<P>
<BLOCKQUOTE><CODE>
xmodmap -e "pointer = 1 3 2"
</CODE></BLOCKQUOTE>

wat zorgt dat er met de linkerknop kan worden geselecteerd en
met de rechtermuisknop kan worden geplakt, voor zowel 2-knops als
3-knops muizen. Om gpm te dwingen gebruik te maken van de X standaard
knoppenindeling, start je het met de opdracht
<CODE>-B</CODE>, bv:
<BLOCKQUOTE><CODE>
gpm -t msc -B 132
</CODE></BLOCKQUOTE>
<H2><A NAME="s9">9. Twee muizen gebruiken</A></H2>

<P>In een aantal gevallen, zoals bijvoorbeeld bij een laptop met een
ingebouwd aanwijsapparaat, kan het zijn dat je als tweede apparaat
gebruik wenst te maken van een seri&euml;le muis. In de meeste
situaties maakt het ingebouwde apparaat gebruik van het PS/2 protocol,
en kan worden genegeerd als je het niet wenst te gebruiken.
Configureer gpm of X eenvoudigweg zo dat het net als anders 
<CODE>/dev/ttyS0</CODE> (of wat dan ook) gebruikt.
<P>Om beiden tegelijkertijd te gebruiken, kun je <CODE>gpm -M</CODE> toepassen
om de devices opnieuw te exporteren. Meer details staan in de man page
van gpm. Ook ondersteunen XFree 3.3.1 en latere versies meerdere
invoerapparaten, door gebruik te maken van het XInput mechanisme. In
automatisch gegenereerde XF86Config bestanden zouden alle benodigde
opmerkingen moeten staan.
<H2><A NAME="config"></A> <A NAME="s10">10. Voorbeelden van de bestanden XF86Config en Xconfig</A></H2>

<P>De lokatie van het configuratiebestand voor X is afhankelijk van de
specifieke uitgave en distributie van je systeem.
Waarschijnlijk is dit <CODE>/etc/Xconfig, /etc/XF86Config</CODE> of 
<CODE>/usr/X11/lib/X11/XF86Config.</CODE> Je zou moeten zien welke het is als
je X opstart - het zal naar het scherm worden gekaatst voordat alle
opties worden weergegeven. De syntax tussen XF86Config en Xconfig bestanden
verschilt iets, dus worden beiden gegeven.
<P><B>Microsoft Seri&euml;le muis</B>
<P>
<UL>
<LI>XF86config:
<BLOCKQUOTE><CODE>
<PRE>
Section "Pointer"
    Protocol "microsoft"
    Device "/dev/mouse"
EndSection
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>Xconfig:
<BLOCKQUOTE><CODE>
<PRE>
#
# Muisdefinitie en daaraan gerelateerde parameters
#
Microsoft      "/dev/mouse"
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
<P><B>Microsoft Seri&euml;le muis met drie-knops emulatie</B>
<P>
<UL>
<LI>XF86config:
<BLOCKQUOTE><CODE>
<PRE>
Section "Pointer"
    Protocol "microsoft"
    Device "/dev/mouse"
    Emulate3Buttons
EndSection
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>Xconfig:
<BLOCKQUOTE><CODE>
<PRE>
#   
# Muisdefinitie en daaraan gerelateerde parameters
#
Microsoft      "/dev/mouse"
Emulate3Buttons
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
<P><B>MouseSystems drie-knops seri&euml;le muis</B>
<P>
<UL>
<LI>XF86config:
<BLOCKQUOTE><CODE>
<PRE>
Section "Pointer"
    Protocol "mousesystems"
    Device "/dev/mouse"
    ClearDTR            #  Deze twee regels zijn waarschijnlijk niet nodig,
    ClearRTS            #  probeer het eerst zonder en dan slechts de regel
                        #  met DTR
EndSection
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>Xconfig:
<BLOCKQUOTE><CODE>
<PRE>
#
# Muisdefinitie en daaraan gerelateerde parameters
#
MouseSystems    "/dev/mouse"
ClearDTR                #  Deze twee regels zijn waarschijnlijk niet nodig,
ClearRTS                #  probeer eerst zonder de eerste en dan slechts de DTR
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
<P><B>Microsoft Seri&euml;le muis met gpm -R</B>
<P>
<UL>
<LI>XF86config:
<BLOCKQUOTE><CODE>
<PRE>
Section "Pointer"
    Protocol "MouseSystems"
    Device "/dev/gpmdata"
EndSection
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>Xconfig:
<BLOCKQUOTE><CODE>
<PRE>
#
# Muisdefinitie en daaraan gerelateerde parameters
#
MouseSystems      "/dev/gpmdata"
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</UL>
<H2><A NAME="s11">11. Kabels, uitbreidingen en adapters</A></H2>

<P>De enige bedrading die in een muiskabel nodig is: TxD en RxD voor
gegevensoverdracht, RTS en/of DTR voor stroombronnen, en aarde. Vertaald
naar pinnummers:
<P>
<BLOCKQUOTE><CODE>
<PRE>
            9-pin poort     25-pin poort
        TxD     3                2
        RxD     2                3
        RTS     7                4
        DTR     4               20
        Gnd     5                7
</PRE>
</CODE></BLOCKQUOTE>
<P>Deze tabel kan van pas komen als je adapters tussen 9- en
25-pin pluggen of uitbreidingskabels wilt maken.
<H2><A NAME="misc"></A> <A NAME="s12">12. Diverse problemen en setups </A></H2>

<P>
<UL>
<LI>Als je met je muis in X of onder console modus problemen ondervindt, 
controleer dan of je geen getty op de seri&euml;le lijn draait, of
zoiets als een modem. Controleer ook op IRQ-conflicten.</LI>
<LI>Het is mogelijk dat je de linkerknop ingedrukt moet houden wanneer
je X opstart. Het kan zijn dat een aantal systemen een soort signaal 
aan de muis doorgeeft als X wordt opgestart.</LI>
<LI>Problemen met seri&euml;le devices kunnen te wijten zijn aan een niet
correcte initialisatie tijdens het booten. Dit gebeurt door de opdracht
<CODE>setserial</CODE>, welke vanuit het opstartscript
<CODE>/etc/rc.d/rc.serial</CODE> wordt uitgevoerd. Kijk in de man page van
<CODE>setserial</CODE> en de Serial-HOWTO voor meer details.
Het kan het waard zijn wat met typen te experimenteren, probeer
bijvoorbeeld <CODE>setserial /dev/mouse uart 16550</CODE> of <CODE>16550a</CODE>
ongeacht de poort die je in werkelijkheid hebt. (Muizen vinden de
16c550AF bijvoorbeeld niet prettig).</LI>
<LI>Misschien dat de <CODE>ClearDTR</CODE> vlag op een aantal systemen
niet juist werkt, tenzij je de RTS/CTS handshaking deactiveert met de
opdracht:
<BLOCKQUOTE><CODE>
stty -crtscts &lt; /dev/mouse
</CODE></BLOCKQUOTE>

(Getest op een UART 16450/Pentium door Vladimir Geogjaev
<A HREF="mailto:geogjaev@wave.sio.rssi.ru">geogjaev@wave.sio.rssi.ru</A>)</LI>
<LI>Logitech muizen hebben misschien de regel <CODE>ChordMiddle</CODE> nodig om de
middelste van de drie knoppen werkend te krijgen. Deze regel vervangt
<CODE>Emulate3Buttons</CODE> of komt na de regel <CODE>/dev/mouse</CODE> 
in het config bestand. Misschien dat je ook nog de regels <CODE>ClearDTR</CODE> en
<CODE>ClearRTS</CODE> in Xconfig nodig hebt. Voor een aantal Logitech muizen
is de regel <CODE>ChordMiddle</CODE> niet nodig - &eacute;&eacute;n van de 
symptomen van dit
probleem is dat menu's met de muis schijnen te verplaatsen in plaats dat
ze uitklappen/naar beneden scrollen.
(Van: 
<A HREF="mailto:chang@platform.com">chang@platform.com</A>)</LI>
<LI>Knoppen omwisselen: gebruik de opdracht <CODE>xmodmap</CODE>
voor het wijzigen welke fysieke knop bij iedere muisklik wordt registreerd.
bv: <CODE> xmodmap -e "pointer = 3 2 1" </CODE> zal de knoppen voor linkshandigen
instellen. Als je slechts een twee-knops muis hebt, dan zijn het alleen de
nummers 1 &amp; 2. </LI>
<LI>Acceleratie: gebruik de opdracht <CODE>xset m</CODE> voor het wijzigen
van de muisinstellingen. <CODE>xset m 2 </CODE> stelt de acceleratie in op 2. 
Kijk in de manpage voor de volledige details.</LI>
<LI>Aanwijzer offset: Als het erop lijkt dat de klikactie links of rechts
van de cursor komt, kan het zijn dat je scherm niet is uitgelijnd.
Dit is een probleem met de S3-driver, wat je mogelijk kunt corrigeren met
xvidtune. Probeer <CODE>Invert_VCLK/InvertVCLK, of EarlySC.</CODE>
Deze info is afkomstig van Bill Lavender 
(
<A HREF="mailto:lavender@MCS.COM">lavender@MCS.COM</A>) en 
Simon Hargrave. In XF86Config ziet dit er ongeveer zo uit:
<BLOCKQUOTE><CODE>
<PRE>
Subsection "Display"
    Modes       "1024x768" "800x600" "640x480" "1280x1024"
    Invert_VCLK "*" 1
    ...
</PRE>
</CODE></BLOCKQUOTE>
</LI>
<LI>Als je bij het klikken met de muis twee klikken krijgt terwijl je
er maar &eacute;&eacute;n wilt, dan is er misschien iets mis met de muis.
Dit probleem is voor Logitech muizen opgelost door
Bob Nichols (
<A HREF="mailto:rnichols@interaccess.com">rnichols@interaccess.com</A>) 
en bestaat hieruit wat resitors en een chip in de muis te solderen.</LI>
<LI>Als een aantal gebruikers de muis niet werkend krijgt en een
aantal wel (zoals bv root), dan bestaat de mogelijkheid dat
de gebruikers niet exact hetzelfde draaien - zoals bv een andere versie
van X of een andere Xconfig. Controleer voor de zekerheid zorgvuldig de
opstartberichten van X.</LI>
<LI>Als je bemerkt dat de muisaanwijzer dingen van het scherm verwijdert,
dan heb je een server config probleem. Probeer de optie <CODE>linear</CODE>,
of misschien <CODE>nolinear</CODE> aan de graphics card sectie toe te voegen.
of als het een PCI-kaart is, de opties
<CODE>tgui_pci_write_off</CODE> en <CODE>tgui_pci_read_off</CODE>.
(Dit schijnt een probleem te zijn bij Trident kaarten).</LI>
<LI>Als de muiscursor niet op het scherm verschijnt, maar op andere wijze
wel schijnt te werken, probeer dan de optie <CODE>"sw_cursor"</CODE> in de
Device sectie van het config bestand.</LI>
<LI>Als je muis het niet meer doet wanneer het zonnig weer is of 
wanneer je het licht aan doet, kan het zijn dat de sensors
overstelpt worden door het licht dat door de behuizing heen komt.
Je zou kunnen proberen de binnenkant van de behuizing zwart te
schilderen of er aan de binnenkant een of andere kaart in te doen.</LI>
<LI>Muizen van het merk Microsoft zijn vaak de oorzaak van problemen. 
Van de nieuwste ``Microsoft Serial Mouse 2.1A'' is gemeld dat ze
op veel systemen niet werkt, alhoewel het uit- en weer inpluggen
zou kunnen helpen.
<CODE>gpm</CODE> versie 1.13 en nieuwere versies zouden ook 2.1.A
muizen moeten ondersteunen, door gebruik te maken van het muistype
<CODE>pnp</CODE>. (Zie  
<A HREF="#gpm">gpm section</A> 
hoe dit opnieuw te exporteren). Ook de
``Microsoft Intellimouse'' veroorzaakt problemen, alhoewel deze nu
door XFree versie 3.3 en latere versies zou moeten worden ondersteund.</LI>
</UL>
<H2><A NAME="s13">13. Geteste modellen</A></H2>

<P>Er zijn heel wat verschillende muizen, en ik kan eerlijkheidshalve niet
aangeven dat je bij aanschaf de ene boven de andere zou moeten verkiezen.
Wat ik wel kan doen, is je een lijst geven met wat ik denk dat deze
muizen doen, gebaseerd op ervaring en van horen zeggen.
Zelfs met deze informatie zou je een beetje voorzichtig moeten zijn -
we hadden op kantoor twee computers met op beide computers een identieke
muis, wat met de ene muis werkte, werkte niet met de andere muis!
Alle aanvullingen op deze lijst zijn van harte welkom.
<P><B>Mouse Systems optische muis, seri&euml;le versie</B><BR>
Werkt goed (zoals je mag verwachten gezien de naam!) zonder
ClearDTR of ClearRTS in config.<BR>
<B>WiN mouse, als verkocht door Office World voor acht quid.</B><BR>
Standaard tweevoudige-modus Microsoft/MouseSystems.<BR>
<B>Agiler Mouse 2900</B><BR>
Standaard tweevoudige-modus Microsoft/MouseSystems. SYSGRATION SYS2005
chip is soldeerbaar.<BR>
<B>Sicos muis,</B><BR>
Werkt ok, benodigd ClearDTR &amp; Clear RTS in config.<BR>
<B>Index verkoopt een muis voor 10 quid,</B><BR>
Werkt in 3-knops modus, maar zonder prettige instructies geleverd:-)<BR>
<B>Artec muis</B><BR>
Gebruikelijke tweevoudige-protocol muis, benodigd `ClearDTR' ingesteld
in config, GEEN `ClearRTS'<BR>
<B>DynaPoint 3-knops seri&euml;le muis.</B><BR>
Gebruikelijke tweevoudige-protocol muis, benodigd `ClearDTR' EN `ClearRTS' 
in Xconfig.<BR>
<B>Genius Easymouse 3-knops muis</B><BR>
Werkt prima met Mouseman protocol zonder de ChordMiddle parameter
ingesteld.
Van Roderick Johnstone (
<A HREF="mailto:rmj@ast.cam.ac.uk">rmj@ast.cam.ac.uk</A>)<BR>
<B>Truemouse, gefabriceerd in Taiwan</B><BR>
Werkt OK, benodigd `ClearDTR' in config. (Van
<A HREF="http://ccn.cs.dal.ca/~ae721/Profile.html">Tim MacEachern</A>)<BR>
<B>Champ merk muis</B><BR>
Moet zijn geschakeld in PC modus, wat tevens het MouseSystems protocol
activeert. (Van tnugent@gucis.cit.gu.edu.au)<BR>
<B>MicroSpeed muis</B><BR>
Gebruikelijke tweevoudige-protocol muis.<BR>
<B>Venus brand ($7)</B><BR>
Heeft binnenin een jumper om te schakelen tussen 2- en 3-knops modus.
(Van 
<A HREF="mailto:mhoward@mth.com">mhoward@mth.com </A>)<BR>
<B>Saturn</B><BR>
Te schakelen muis, werkt OK als MouseSystems in 3-knops positie.
(Van 
<A HREF="mailto:grant@oj.rsmas.miami.edu">grant@oj.rsmas.miami.edu </A>.)<BR>
<B>Manhattan muis.</B><BR>
Schakelaar voor `MS AM' / `PC AT' modi, MS modus werkt prima met 
de methode <CODE>gpm -R</CODE>. (Van
<A HREF="mailto:komanec@umel.fee.vutbr.cz">komanec@umel.fee.vutbr.cz</A>).<BR>
<B>Inland mouse.</B><BR>
Schakelaar voor `PC/MS' modi, werkt prima. (Van
<A HREF="http://ptsg.eecs.berkeley.edu/~venkates/">http://ptsg.eecs.berkeley.edu/~venkates</A>).<BR>
<B>qMouse (3-knops), FCC ID E6qmouse X31.</B><BR>
Wordt in de USA verkocht voor ongeveer $10. Werkt met
`gpm -t msc -r 20'. Geen jumpers of schakelaars voor
MouseSystems 3-knops modus. Onbetrouwbaar onder X.
Reageert niet op <CODE>echo "*n" > /dev/mouse</CODE>.<BR>
<B>Mitsumi Mouse (2-knops), FCC ID EW4ECM-S3101.</B><BR>
Wordt in de USA verkocht voor ongeveer $12. 
Betrouwbaar onder X en onder gpm, soepele twee-knops muis.
(Deze twee komen van 
<A HREF="mailto:gustafso@math.utah.edu">gustafso@math.utah.edu</A>)<BR>
<B>PC Accessories muis die ik kreeg van CompUSA voor minder dan
$10.</B><BR>. Heeft aan de onderkant een PC/MS schakelaar.
Werkt OK. (Van
<A HREF="mailto:steveb@communique.net">steveb@communique.net</A>)<BR>
<B>First Mouse - behoorlijk goedkoop voor 7.79 pounds bij Tempo.</B><BR>
Dual Microsoft/MouseSystems, modus in te stellen door het indrukken van
de knop tijdens de systeemstart. Geen schakelingen, geen koppelingen.
Vier stroomdraadsverbinding, echo '*n' werkt niet.
`gpm -R' werkt als een speer. (Van 
<A HREF="mailto:peterk@henhouse.demon.co.uk">peterk@henhouse.demon.co.uk</A>)<BR>
<B>Trust 3-knops muis.</B><BR>
Tweevoudige modus met schakelaar, werkt OK als MouseSystems in `PC'
modus. gpm vindt de Microsoft modus maar niks.<BR>
<B>Chic 410</B><BR>
Werkt perfect in ms modus en het gebruikt wordt met de opdracht
gpm -R.
Van Stephen M. Weiss
(
<A HREF="mailto:steve@esc.ie.lehigh.edu">steve@esc.ie.lehigh.edu</A>)<BR>
<B>KeyMouse 3-knops muis.</B><BR>
Werkt OK met ClearDTR en ClearRTS in Xconfig;
`-o dtr' nodig voor gpm. (Van 
<A HREF="mailto:EZ4PHIL@aol.com">EZ4PHIL@aol.com</A>)<BR>
<B>Qtronix keyboard `Scorpio 60'</B><BR>
Alle drie de knoppen werken in MouseSystems protocol.  (Van
<A HREF="mailto:hwe@uebemc.siemens.de">hwe@uebemc.siemens.de</A>)<BR>
<B>Tecra 720 laptop</B><BR>
De glidepoint is op /dev/cua0; de stick op /dev/psaux.
(Van 
<A HREF="mailto:apollo@anl.gov">apollo@anl.gov</A>)<BR>
<B>Anubis muis</B><BR>
Werkt prima, linkerknop ingedrukt houden wanneer wordt overgeschakeld
naar de X virtuele console.
(Van 
<A HREF="mailto:Joel.Crisp@bristol.ac.uk">Joel Crisp</A>)<BR>
<B>Yakumo No.1900 muis</B><BR>
Werkt met <CODE>gpm -R -t ms</CODE> exporterend naar X.
(Van 
<A HREF="mailto:flinx.nbg.sub.org!oli@flinx.nbg.sub.org">Oliver Schwank</A>)<BR>
<B>Genius `Easy Trak' Trackball</B><BR>
Is <B>niet</B> Microsoft compatibel, gebruik <CODE>Mouseman</CODE>
in Xconfig en het zal prima werken. (Van
<A HREF="mailto:VTanger@aol.com">VTanger@aol.com</A>.)<BR>
<B>Highscreen Mouse Pro</B><BR>
`Werkt prima' zegt 
<A HREF="mailto:alfonso@univaq.it">alfonso@univaq.it</A>.<BR>
<B>Logitech CA series</B><BR>
Werkt in X met het MMseries protocol, op 2400 Baud, 150 SampleRate.
(Zou ook moeten gelden voor de Logitech CC, CE, C7 &amp; C9 muizen). (Van 
<A HREF="mailto:vkochend@nyx.net">vkochend@nyx.net</A>.)<BR>
<B>A4-Tech muis</B><BR>
Werkt OK, <CODE>DTR</CODE> regel nodig voor zowel X als gpm.
(Van 
<A HREF="mailto:deane@gooroos.com">deane@gooroos.com</A>)<BR>
<B>Vertech muis</B><BR>
Normaal Microsoft/Mousesystems functioneren, kan worden gesoldeerd
voor een blijvende correctie.
(Van 
<A HREF="mailto:duncan@fs3.ph.man.ac.uk">duncan@fs3.ph.man.ac.uk</A>.) <BR>
<B>Boeder M-7 ``Bit Star'' (en andere M series buiten M13)</B><BR>
Schakelt over naar het Mousesystems protocol door &eacute;&eacute;n van de 
knoppen ingedrukt te houden bij het aanzetten van de computer.
(Van 
<A HREF="mailto:sjt@tappin.force9.co.uk">mailto:sjt@tappin.force9.co.uk</A>.) <BR>
<B>Mouse Systems ``Scroll'' Muis (vier knoppen en een wheel/knop)</B><BR>
Heeft een 2/3 schakelaar - functioneert in modus 3 als een drie-knops MouseSystems muis,
negeert extra knop &amp; wheel. <CODE>ClearRTS/DTR</CODE> niet nodig.
(Van 
<A HREF="mailto:parker1@airmail.net">parker1@airmail.net</A>.)<BR>
<B>Radio Shack 3-knops Seri&euml;le muis</B><BR>
Model 26-8432, beschikbaar in Tandy voor ongeveer 20 quid. Werkt als
Mousesystems met ClearDTR.
(Van 
<A HREF="mailto:Sherilyn@sidaway.demon.co.uk">Sherilyn@sidaway.demon.co.uk</A>.)<BR>
<B>Dexxa seri&euml;le muis</B><BR>
Werkt prima met het Microsoft protocol in Xconfig, geen ChordMiddle of 
iets anders nodig.
(Van 
<A HREF="mailto:slevy@ncsa.uiuc.edu">mailto:slevy@ncsa.uiuc.edu</A>.)<BR>
<B>Belkin 3-knops muis</B><BR>
Als aangeschaft bij Sears (\$10), benodigd <CODE>-o rts</CODE> onder gpm
(een vermoedelijk <CODE>ClearRTS</CODE> onder X) in PC modus.
(Van 
<A HREF="mailto:mmicek@csz.com">mailto:mmicek@csz.com</A>.)
<H2><A NAME="s14">14. Verdere informatie</A></H2>

<P>
<UL>
<LI>Mouse Systems heeft een website op 
<A HREF="http://www.mousesystems.com/">http://www.mousesystems.com/</A>.  
Ze hebben een Windows driver mocht je die nodig hebben.</LI>
<LI>De Linux Serial HOWTO is beschikbaar vanaf mirrors van sunsite over
de gehele wereld. Als je niet weet waar de dichtsbijzijnde mirror is, begin dan
op
<A HREF="http://sunsite.unc.edu/mdw/linux.html">http://sunsite.unc.edu/mdw/linux.html</A></LI>
<LI>Er is een zeer goede uitleg over de werking van de muis op
<A HREF="http://www.4QD.co.uk/faq/meece.html">http://www.4QD.co.uk/faq/meece.html</A>.</LI>
<LI>Vollediger details over de Xconfig en XF86Config bestanden zijn te
vinden in de relevante man pages, en in de documentatie betreft het installeren
van X windows, zoals de Xfree86 HOWTO. Zie ook de XFree86 FAQ op een mirror
van 
<A HREF="http://www.XFree86.org/">http://www.XFree86.org/</A>.</LI>
<LI>Informatie over gpm is te vinden in de man page, probeer ook de
webpagina van Darin Ernst op
<A HREF="http://www.castle.net/X-notebook/mouse.txt">http://www.castle.net/X-notebook/mouse.txt</A>.</LI>
<LI>Heel veel informatie over hard- en software voor de muis is te vinden op
<A HREF="http://www.hut.fi/Misc/Electronics/pc/interface.html#mouse">http://www.hut.fi/Misc/Electronics/pc/interface.html#mouse</A></LI>
</UL>
<H2><A NAME="s15">15. Muisstaartje</A></H2>

<P>Veel van de informatie voor dit document is bijeen vergaard uit de diverse
linux nieuwsgroepen. Het spijt me dat ik niet heb bijgehouden wie
hier indirect aan hebben bijgedragen, heel veel dank allemaal.
<P>Dus samengevat:
<P>
<UL>
<LI>Zelfs goedkope 3-knops Microsoft muizen zijn werkend te krijgen.</LI>
<LI>Configureer je kopie van X zo dat het uitgaat van een Mouse Systems muis.</LI>
<LI>Houd de linkermuisknop tijdens de systeemstart ingedrukt om de muis over
te laten schakelen naar MouseSystems modus.</LI>
<LI>Wellicht dat je de linkerknop ingedrukt moet houden bij het opstarten
van X.</LI>
<LI>Muizen zijn intelligenter dan je denkt.</LI>
</UL>
</BODY>
</HTML>
