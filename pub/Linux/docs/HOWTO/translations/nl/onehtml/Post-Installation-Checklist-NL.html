<HTML
><HEAD
><TITLE
>GNU/Linux Post-Installation Checklist</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>GNU/Linux Post-Installation Checklist</H1
><H2
CLASS="SUBTITLE"
>Defying Murphy's Laws</H2
><H3
CLASS="AUTHOR"
><A
NAME="AEN5"
> </A
></H3
><DIV
CLASS="AFFILIATION"
><SPAN
CLASS="ORGNAME"
>                                <A
HREF="http://members.tripod.com/~algolog/index.htm"
TARGET="_top"
>Algologic Research &#38; Solutions</A
>
                                <BR></SPAN
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:algolog (at) hd1.vsnl.net.in"
>algolog (at) hd1.vsnl.net.in</A
>&#62;</TT
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P
></DIV
></DIV
><H3
CLASS="AUTHOR"
><A
NAME="AEN13"
>Vertaald door: Ellen Bokhorst</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:bokkie@nl.linux.org"
>bokkie@nl.linux.org</A
>&#62;</TT
></P
></DIV
></DIV
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Wijzigingen</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 1.0</TD
><TD
ALIGN="LEFT"
>2001-06-12</TD
><TD
ALIGN="LEFT"
>Herzien door: </TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Initi&euml;le release met docbook sgml.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN25"
></A
><P
></P
><P
>         In dit document wordt een controlelijst aangereikt voor stappen die
         je onmiddellijk na het installeren van GNU/Linux zou moeten nemen.
         Deze stappen zullen je heel wat narigheid besparen als je later 
         tegen problemen aanloopt. In dit document is tevens een shellscript
         opgenomen voor het automatiseren van het post-installatieproces.
         </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Inhoudsopgave</B
></DT
><DT
><A
HREF="#INTRO"
>Introductie</A
></DT
><DT
><A
HREF="#STEPS"
>Post-Installatie stappen</A
></DT
><DT
><A
HREF="#SHELLSCRIPT"
>Shell script</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="INTRO"
></A
>Introductie</H2
><P
>     Je hebt net de installatie van je eigen Linux-systeem voltooid. Je
     hebt net een upgrade voor je bestaande Linux-systeem uitgevoerd. Je
     bent blij met de eerste paar ontdekkingen en ervaringen in het gebruik.
     Je wilt er zeker van zijn dat je plezier beleeft aan dit systeem 
     ondanks enige schade die later kan worden aangericht vanwege 
     onverwachte &quot;misstappen&quot;.
   </P
><P
>     Het is verstandig een momentopname van het nieuwe systeem te bewaren,
     zodat je er verzekerd van bent dat je in geval van een ongeluk met
     je Linux installatie, zonder blijvende schade je systeem altijd kunt
     herstellen. Deze controlelijst helpt je bij het nemen van 
     voorzorgsmaatregelen die je moet nemen zodra je de Linux-installatie hebt
     voltooid. Het is een vervolg op de
     <A
HREF="http://www.linuxdoc.org/HOWTO/mini/Pre-Installation-Checklist/"
TARGET="_top"
>GNU/Linux 
     pre-installation checklist</A
>, en het hoort bij de offici&euml;le
     <A
HREF="http://www.linuxdoc.org/HOWTO/Installation-HOWTO/"
TARGET="_top"
>Linux Installation HOWTO</A
>.
     Deze controlelijst bevat ook een <A
HREF="#SHELLSCRIPT"
>paragraaf <I
>Shell script</I
></A
> welke het
     proces om een momentopname van je systeem te maken automatiseert.
   </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="COPYRIGHT"
></A
>Copyright Informatie</H3
><P
>Dit document is auteursrechtelijk beschermd (c) 2001
<A
HREF="http://members.tripod.com/~algolog/index.htm"
TARGET="_top"
>Algologic Research &#38; Solutions</A
>
en wordt gedistribueerd onder de voorwaarden van de Linux Documentatie Project
LDP) licentie, hieronder uiteengezet.
	</P
><P
>	Unless otherwise stated, Linux HOWTO documents are
	copyrighted by their respective authors. Linux HOWTO documents may
	be reproduced and distributed in whole or in part, in any medium
	physical or electronic, as long as this copyright notice is
	retained on all copies. Commercial redistribution is allowed and
	encouraged; however, the author would like to be notified of any
	such distributions.
	</P
><P
>	All translations, derivative works, or aggregate works
	incorporating any Linux HOWTO documents must be covered under this
	copyright notice. That is, you may not produce a derivative work
	from a HOWTO and impose additional restrictions on its
	distribution. Exceptions to these rules may be granted under
	certain conditions; please contact the Linux HOWTO coordinator at
	the address given below.
	</P
><P
>	In short, we wish to promote dissemination of this
	information through as many channels as possible. However, we do
	wish to retain copyright on the HOWTO documents, and would like to
	be notified of any plans to redistribute the HOWTOs.
	</P
><P
>	If you have any questions, please contact
	<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:linux-howto@metalab.unc.edu"
>linux-howto@metalab.unc.edu</A
>&#62;</TT
>
	</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="DISCLAIMER"
></A
>Disclaimer</H3
><P
>	No liability for the contents of this documents can be accepted.
	Use the concepts, examples and other content at your own risk.
	As this is a new edition of this document, there may be errors
	and inaccuracies, that may of course be damaging to your system.
	Proceed with caution, and although this is highly unlikely,
	the author(s) do not take any responsibility for that.
	</P
><P
>	All copyrights are held by their respective owners, unless
	specifically noted otherwise.  Use of a term in this document
	should not be regarded as affecting the validity of any trademark
	or service mark.
	</P
><P
>	Naming of particular products or brands should not be seen
	as endorsements.
	</P
><P
>	You are strongly recommended to make a backup of your system
	before major installation and continue to do so at regular intervals.
	</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="FEEDBACK"
></A
>Feedback</H3
><P
>Dit document en het <A
HREF="#SHELLSCRIPT"
>paragraaf <I
>Shell script</I
></A
> worden continue bijgewerkt.
Wees er zeker van dat je de laatste versie van dit document raadpleegt, door
regelmatig te kijken op
<A
HREF="http://algolog.tripod.com/postlnx.htm"
TARGET="_top"
>Linux
post-install site</A
>.
Email <TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:algolog@hd1.vsnl.net.in"
>algolog@hd1.vsnl.net.in</A
>&#62;</TT
> met feedback en suggesties.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="/IMAGES//note.gif"
HSPACE="5"
ALT="Opmerking"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Noot</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>We beantwoorden GEEN algemene vragen over Linux. Als je professionele
(BETAALDE) hulp wilt over Linux --
<A
HREF="http://algolog.tripod.com/tools.htm#linux"
TARGET="_top"
>vraag hier dan om
bij Algologic</A
>. 
Je kunt ook onze homepage bezoeken:
<A
HREF="http://algolog.tripod.com/"
TARGET="_top"
>Algologic Research &#38; Solutions</A
>.</P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="STEPS"
></A
>Post-Installatie stappen</H2
><P
>Om zonder zorgen voor altijd plezier te hebben van je nieuwe Linux installatie,
is het van belang een paar simpele voorzorgsmaatregelen te treffen. Je moet
dit doen zodra je de Linux-installatie op je systeem voor de eerste keer
hebt voltooid.</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Maak een
<A
HREF="http://www.linuxdoc.org/HOWTO/Bootdisk-HOWTO/"
TARGET="_top"
>boot 
diskette</A
> en een <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>rescue diskette</I
></SPAN
> aan. 
Utility's voor het aanmaken van deze diskettes zijn beschikbaar als
onderdeel van je Linux-distributie.</P
></LI
><LI
><P
>Als je een parano&iuml;de type bent (zoals ik), kun je van elk van deze
diskettes twee kopie&euml;n maken. Het is algemeen bekend dat diskettes 
in gebreke blijven op moment dat ze het hardste nodig zijn.</P
></LI
><LI
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Test je bootdiskette</I
></SPAN
>.
Wees er zeker van dat je in Linux kunt booten met de bootdiskette. 
Denk eraan dat Murphy's wetten je kunnen treffen juist wanneer je dat het minst
verwacht.</P
></LI
><LI
><P
>Test je nieuwe systeem grondig. Probeer alle belangrijke
packages.</P
></LI
><LI
><P
>Probeer het X windowsysteem uit, en de desktop, en de
window manager, als je deze hebt ge&iuml;nstalleerd.</P
></LI
><LI
><P
>Probeer de verbinding met je LAN uit, en die naar het Internet.</P
></LI
><LI
><P
>Maak op z'n minst &eacute;&eacute;n account aan, niet zijnde
root, voor het testen en opsporen van fouten in je installatie. Voer ALLE
bovenstaande controles nogmaals uit, met de aangemaakte account, niet zijnde
root.</P
></LI
><LI
><P
>Sluit je aan bij een lokale Linux Users Group (LUG). Je moet
<A
HREF="http://www.linuxlinks.com/UserGroups/"
TARGET="_top"
> erachter zien te komen
of er dicht in je buurt een LUG is</A
>. Als er geen is, start dan in je
buurt, je universiteit, je land of stad, zelf een informele LUG op. </P
></LI
><LI
><P
>Sluit je aan bij &eacute;&eacute;n of meer
<A
HREF="http://oslab.snu.ac.kr/~djshin/linux/mail-list/index.shtml"
TARGET="_top"
>mailing
lijsten voor Linux</A
> updates en nieuws. Er zijn er letterlijk honderden
van.</P
></LI
><LI
><P
> Registreer jezelf en je machine in de wereldwijde
<A
HREF="http://counter.li.org/"
TARGET="_top"
>Linux Users Counter</A
>.</P
></LI
><LI
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>En als laatste...</I
></SPAN
>Download het 
<A
HREF="#SHELLSCRIPT"
>paragraaf <I
>Shell script</I
></A
> en start het op. Maak (op een verwijderbaar
medium) een veilige kopie van de directory:
<TT
CLASS="FILENAME"
>/root/postinfo</TT
> welke het script zal aanmaken.
Wellicht dat je ook een afdruk van het samenvattingsrapport 
<TT
CLASS="FILENAME"
>/root/postinfo/summary</TT
> wilt dat is aangemaakt door het
shellscript.</P
></LI
><LI
><P
>Je moet dit shellscript zodra je Linux voor de eerste maal
hebt ge&iuml;nstalleerd uitvoeren en na elke belangrijke revisie of opwaardering
van je Linux systeem. Je kunt het script ook als een cron job instellen, zodat
het zichzelf periodiek en automatisch opstart. Hiermee zal in een later
stadium heel wat gedoe worden voorkomen, in het geval ooit iets overhoop raakt.</P
></LI
></OL
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="SHELLSCRIPT"
></A
>Shell script</H2
><P
>Het shellscript (shivalik Ver. 1.0) biedt een makkelijke manier om backups
te maken van essenti&euml;le bestanden en informatie. Na het downloaden van
het script:

<P
></P
><UL
><LI
><P
>Verzeker je jezelf ervan dat je als &quot;root&quot; bent ingelogd;</P
></LI
><LI
><P
>Bewaar het script in een directory met &quot;root&quot; permissies,
zoals bijvoorbeeld <TT
CLASS="FILENAME"
>/root/myscript</TT
> </P
></LI
><LI
><P
>Ga naar die directory d.w.z. <B
CLASS="COMMAND"
>cd /root/myscript</B
>
gebruik gunzip om het script te decomprimeren d.w.z. 
<B
CLASS="COMMAND"
>gunzip ./shivalik.gz</B
></P
></LI
><LI
><P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="/IMAGES//note.gif"
HSPACE="5"
ALT="Opmerking"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>BELANGRIJK</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Je moet de gegeven waarschuwing aan het einde van het script doorlezen.
Ga alleen verder met de volgende stappen als je het eens bent met de 
voorwaarden die zijn genoemd in de waarschuwing...</P
></TD
></TR
></TABLE
></DIV
></P
></LI
><LI
><P
>Om het script uit te kunnen voeren moet je het script uitvoerbaar maken
(alleen voor root) <B
CLASS="COMMAND"
>chmod 700 ./shivalik</B
></P
></LI
><LI
><P
>Verifieer dat de paden naar de diverse bestanden die zullen worden opgeslagen
juist zijn en overeenkomen met je installatie.</P
></LI
><LI
><P
>Je kunt het script alleen dan correct uitvoeren als je "root"
bent (voor veel van de te bewaren bestanden zijn rootpermissies nodig).</P
></LI
></UL
></P
><P
>     Je kunt het bovenstaande script uitvoeren/opstarten (denk eraan dat
je hier &quot;root&quot; voor moet zijn) -- typ <B
CLASS="COMMAND"
>./shivalik</B
></P
><P
>     Het script is overvloedig gedocumenteerd. Het wijzigt (of verwijdert)
     geen van je bestanden of directory's. Het maakt een goed beveiligde
     backup van een aantal essenti&euml;le bestanden en informatie.
     Het volledige script kun je doornemen en de werking ervan volgen.
     Neem het script gerust door en voeg extra mogelijkheden toe, of bestanden
     waarvan je een backup wilt. Je kunt je feedback ook naar de auteur van
     dit script sturen (<TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:algolog@hd1.vsnl.net.in"
>algolog@hd1.vsnl.net.in</A
>&#62;</TT
>).</P
><P
>     Denk er aan dat het <B
CLASS="COMMAND"
>shivalik</B
> script geen tool is
     voor een volledige backup en het herstel daarvan. Ideaal bezien kun 
     je het beste een letterlijke kopie maken van je gehele Linux
     installatie samen met alle bestanden en directory's. Dit is niet altijd
     mogelijk, nodig of raadzaam. Het beste wat je anders zou kunnen doen is
     van de meest essenti&euml;le informatie en bestanden een backup maken.
     Het <B
CLASS="COMMAND"
>shivalik</B
> script doet dit voor je.
     Het script maakt een directory aan met de naam 
     <TT
CLASS="FILENAME"
>/root/postinfo/</TT
>, en bewaart daarin alle
     essenti&euml;le informatie (en bestanden). 
     Om absoluut voorbereid te zijn op een mogelijk voorval, moet je
     de volledige <TT
CLASS="FILENAME"
>/root/postinfo/</TT
> naar een verwijderbaar
     medium kopi&euml;ren, zodra het script is uitgevoerd.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Herstel en reparatie:</I
></SPAN
> In het geval van
     later optredende problemen, kun je de beschadigde bestanden 
     reconstrueren door de bestanden waarvan je een backup hebt te
     kopi&euml;ren vanuit <TT
CLASS="FILENAME"
>/root/postinfo</TT
>.
     Zo simpel is het.</P
><P
>     De structuur van de directory <TT
CLASS="FILENAME"
>/root/postinfo/</TT
> 
     en de bestanden die hierin zijn te vinden, bestaan uit:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>/root/postinfo/summary</TT
></DT
><DD
><P
>Bevat een samenvattingsrapport van de status van je systeem (geheugen,
partities, mount points, diskgebruik). Dit bestand bevat ook de lijst met
bestanden die zijn opgeslagen. Hierin staat ook administratieve info zoals
de datum en tijd van de backup, het versienummer van het shivalik script enz.</P
></DD
><DT
><TT
CLASS="FILENAME"
>/root/postinfo/postinfo.tar.gz</TT
></DT
><DD
><P
>Bevat een kopie van de eerdere postinfo (wanneer dit van toepassing is).
Dit is een uitwijkmogelijkheid naar een uitwijkmogelijkheid!</P
></DD
><DT
><TT
CLASS="FILENAME"
>/root/postinfo/snapshot.gz</TT
></DT
><DD
><P
>Bevat een gezipte gestructureerde lijst van <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>ALLE</I
></SPAN
>
bestanden en directory's van je Linux systeem (de directory's "tree").
Je kunt dit bestand uitpakken en elke gewone teksteditor gebruiken om
achter de lokatie van elk bestand te komen. Uiteraard kun je niet de inhoud
van dat bestand ophalen, tenzij je dit expliciet elders hebt opgeslagen.</P
></DD
><DT
><TT
CLASS="FILENAME"
>/root/postinfo/shivalik</TT
></DT
><DD
><P
>Dit is een kopie van het shivalik script welke werd gebruikt voor het maken
van de post installatie backup. Op moment bij herstel van een ongeluk, kun
je dit script altijd bestuderen om er achter te komen op welke wijze de
backup eerder werd gemaakt. Je zult altijd een consistente kopie van het script
tot je beschikking hebben en de bestanden die door het script zijn aangemaakt.</P
></DD
><DT
><TT
CLASS="FILENAME"
>/root/postinfo/etcfiles/</TT
></DT
><DD
><P
>Deze <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>subdirectory</I
></SPAN
> bevat een kopie van diverse
essenti&euml;le bestanden uit de directory 
<TT
CLASS="FILENAME"
>/etc/</TT
> van je Linux installatie.
Het bevat tevens kopie&euml;n van de diverse configuratiebestanden
die zijn opgeslagen in de directory <TT
CLASS="FILENAME"
>/etc/</TT
>.</P
></DD
><DT
><TT
CLASS="FILENAME"
>/root/postinfo/otherfiles/</TT
></DT
><DD
><P
>Deze <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>subdirectory</I
></SPAN
> bevat een kopie van een aantal
essenti&euml;le bestanden (de bestanden die niet in
de directory <TT
CLASS="FILENAME"
>/etc/</TT
> staan) van je Linux installatie.
Als je wilt, kun je hier extra andere bestanden toevoegen, zodat ze
automatisch met de anderen worden bewaard.</P
></DD
></DL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="SCRIPT"
></A
>Het script...</H3
><P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#-----------------------------------------------
#           shivalik  \(Ver. 1.0\)
#Lees alsjeblieft eerst de sectie WAARSCHUWING van dit script

#Dit script verzamelt post installatie informatie
#dit kan ook zo nu en dan worden uitgevoerd om alle nuttige 
#informatie over je Linux installatie op een enkele plaats
#te verzamelen. De uitvoer zal worden weggeschreven naar
#/root/postinfo/. Het samenvattingsrapport zal worden 
#weggeschreven in /root/postinfo/summary

#Raadpleeg voor gebruik en gerelateerde informatie
#http://algolog.tripod.com/postlnx.htm
# ----------------------------------------------

clear
echo
echo "-----------------------------------------------------------"
echo Dit is de uitvoer van Partha\'s shivalik script \(Ver.1.0\)
echo Je moet \"root\" zijn wil dit script correct werken
echo Je moet ook de voorwaarden en gegeven waarschuwingen lezen 
echo in de sectie WAARSCHUWING van dit script en deze accepteren 
echo "-----------------------------------------------------------"
echo
echo "### STAP 0 ### Voorbereidingswerk"
echo Eerst maken we de directory /root/postinfo/ aan als deze nog niet bestaat
test ! -d /root/postinfo &#38;&#38; mkdir /root/postinfo

echo Bewaar de huidige versie van alle postinfo bestanden
echo Maar eerst verwijderen we de eerdere versie, d.w.z. huidige-1 versie
test -e /root/postinfo/oldpostinfo* &#38;&#38;  rm /root/postinfo/oldpostinfo.tar.gz
#het oldpostinfo bestand is tijdelijk aangemaakt in /root
#het zal worden verplaatst naar /root/postinfo
tar -zcvf /root/oldpostinfo.tar.gz /root/postinfo/*

#Controleer of de bovenstaande tar succesvol was
if
test -s /root/oldpostinfo.tar.gz
then 
echo oude postinfo bewaard in /root/oldpostinfo.tar.gz
ls -l /root/oldpostinfo*
else
echo Kon oldpostinfo niet bewaren
echo Verlaat shivalik script
exit
fi


#verwijder nu alle huidige postinfo bestanden
rm -rf /root/postinfo/*
#en begin een nieuw samenvattingsbestand
echo  shivalik \(Ver. 1.0\) &#62; /root/postinfo/summary
echo -n "Report created on: " &#62;&#62; /root/postinfo/summary
date -R &#62;&#62; /root/postinfo/summary
echo Verplaats nu het oude postinfo bestand naar de /root/postinfo/ directory
mv /root/oldpostinfo.tar.gz /root/postinfo
#

#Kopieer het shivalik script
echo het hemd is nader dan de rok
echo We maken een kopie van het shivalik script
echo We maken een kopie van het shivalik script &#62;&#62; /root/postinfo/summary
echo in /root/postinfo/ &#62;&#62; /root/postinfo/summary
cp ./shivalik /root/postinfo/shivalik

#de stand van zaken
echo
echo Inhoud van /root/postinfo aan het einde van STAP-0
ls -AlR /root/postinfo
echo Einde "### STAP 0 ###
echo
#
#
echo
echo "### STAP 1 ### Maak een momentopname van het systeem"
echo &#62;&#62; /root/postinfo/summary
echo "### STAP 1 ### Een momentopname van alle bestanden en directory's" &#62;&#62;  /root/postinfo/summary
echo De eerste stap bestaat uit het vastleggen van je computerinhoud
echo Dit neemt een paar minuten in beslag
echo Dus haal een kop koffie!
ls -AlRH / &#62;&#62; /root/postinfo/snapshot
rm -f /root/postinfo/snapshot.gz
gzip /root/postinfo/snapshot
echo momentopname gemaakt
echo Een zeer uitgebreide lijst van alle bestanden is aangemaakt en &#62;&#62; /root/postinfo/summary
echo is opgeslagen in /root/postinfo/snapshot.gz &#62;&#62; /root/postinfo/summary
ls -l /root/postinfo/snapshot.gz &#62;&#62; /root/postinfo/summary

# de stand van zaken aan het einde van deze stap
echo
echo Inhoud van /root/postinfo aan het einde van deze STAP
ls -l /root/postinfo
echo Einde "### STAP 1 ###
echo
#
#
echo

echo "### STAP 2 ### Vitale statistieken"
echo &#62;&#62; /root/postinfo/summary
echo "### STAP 2 ### Vitale statistieken" &#62;&#62; /root/postinfo/summary

echo Verzamelen van vitale statistieken

echo .....van het geheugen
echo "---- cat /proc/meminfo ---------" &#62;&#62; /root/postinfo/summary
cat /proc/meminfo &#62;&#62; /root/postinfo/summary

echo .....van partities en mountpoints
echo "---- cat /proc/partitions---------" &#62;&#62; /root/postinfo/summary
cat /proc/partitions &#62;&#62; /root/postinfo/summary

echo .....van gebruikte diskruimte
echo "---- df ---------" &#62;&#62; /root/postinfo/summary
df &#62;&#62; /root/postinfo/summary

echo .....van modules
echo "---- cat /proc/modules ---------" &#62;&#62; /root/postinfo/summary
cat /proc/modules &#62;&#62; /root/postinfo/summary

# de stand van zaken aan het einde van deze stap

echo
echo Inhoud van /root/postinfo aan het einde van STAP-2
ls -AlR /root/postinfo
echo Einde "### STAP 2 ###
echo
#
#
echo
echo "### STAP 3 ### Nu slaan we een aantal belangrijke bestanden op vanuit /etc"
echo Deze sectie moet zonodig worden aangepast, afhankelijk van de
echo door je uitgevoerde installatie, en de door jou gebruikte distributie,
echo en de opties die je tijdens de installatie hebt gekozen.

echo &#62;&#62; /root/postinfo/summary
echo "### STAP 3 ### Nu slaan we een aantal belangrijke bestanden uit /etc op" &#62;&#62;  /root/postinfo/summary
test ! -d /root/postinfo/etcfiles &#38;&#38; mkdir /root/postinfo/etcfiles

echo ..... bewaren van XF86Config -- je XWindow configuratiebestand
cp /etc/XF86Config /root/postinfo/etcfiles
echo "cp /etc/XF86Config /root/postinfo/" &#62;&#62; /root/postinfo/summary

echo ..... bewaren van /etc/fstab bestand
cp /etc/fstab  /root/postinfo/etcfiles
echo "cp /etc/fstab /root/postinfo/" &#62;&#62; /root/postinfo/summary

echo ..... bewaren van het /etc/profile bestand
cp /etc/profile  /root/postinfo/etcfiles
echo "cp /etc/profile /root/postinfo/" &#62;&#62; /root/postinfo/summary

echo ..... bewaren van het /etc/profile.local bestand
cp /etc/profile.local  /root/postinfo/etcfiles
echo "cp /etc/profile.local /root/postinfo/" &#62;&#62; /root/postinfo/summary

echo ".... bewaren van /etc/*conf bestanden"
cp /etc/*conf /root/postinfo/etcfiles

echo ".... bewaren van /etc/*config bestanden"
cp /etc/*config /root/postinfo/etcfiles

echo de volgende bestanden uit /etc zijn gekopieerd naar /root/postinfo/etcfiles &#62;&#62; /root/postinfo/summary
echo "/etc/*conf" &#62;&#62; /root/postinfo/summary
echo "/etc/*config" &#62;&#62; /root/postinfo/summary

# de stand van zaken aan het einde van deze stap
echo
echo Inhoud van /root/postinfo aan het einde van deze STAP-3
ls -AlR /root/postinfo
echo Einde "### STAP 3 ###
echo
#
#

echo
echo "### STAP 4 ### Nu bewaren we nog wat andere belangrijke bestanden"
echo Het kan zijn dat dit deel nog iets moet worden aangepast, afhankelijk
echo van de uitgevoerde installatie, en de door je gebruikte distributie,
echo en de opties die je voor de installatie hebt gekozen.
echo Wat hierop volgt is ontworpen voor SuSe  7.1

echo "### STAP 4 ### Nu bewaren we nog een aantal andere belangrijke bestanden" &#62;&#62;  /root/postinfo/summary
echo in /root/postinfo/otherfiles &#62;&#62; /root/postinfo/summary
echo Je kunt hier nog andere bestanden toevoegen waarvan een backup
echo moet worden gemaakt
test ! -d /root/postinfo/otherfiles &#38;&#38; mkdir /root/postinfo/otherfiles
ls -l /root/postinfo/

echo ..... bewaren van /etc/init.d/boot.local --
cp /etc/init.d/boot.local /root/postinfo/otherfiles
echo "cp /etc/init.d/boot.local /root/postinfo/otherfiles" &#62;&#62;  /root/postinfo/summary

echo ..... bewaren van /etc/init.d/halt.local --
cp /etc/init.d/halt.local /root/postinfo/otherfiles
echo "cp /etc/init.d/halt.local /root/postinfo/otherfiles" &#62;&#62;  /root/postinfo/summary

# stand van zaken aan het einde van deze stap
echo
echo Inhoud van /root/postinfo aan het einde van deze STAP-4
ls -AlR /root/postinfo
echo Einde "### STAP 4 ###
echo

echo
echo "### STAP 999 ### Afronden, opschonen"
echo &#62;&#62; /root/postinfo/summary

echo "### STAP 999 ### Afronden, opschonen, opsommen" &#62;&#62;  /root/postinfo/summary
echo opsommen, opschonen
# om beveiligingsredenen maken we /root/postinfo ontoegankelijk en
# onzichtbaar voor niet-root gebruikers
chmod 700 /root/postinfo
chmod 700 /root/postinfo/etcfiles
chmod 700 /root/postinfo/otherfiles
chmod 700 /root/postinfo/*
chmod 700 /root/postinfo/etcfiles/*
chmod 700 /root/postinfo/otherfiles/*
echo Dit is de inhoud van /root/postinfo &#62;&#62; /root/postinfo/summary
ls -AlR /root/postinfo &#62;&#62; /root/postinfo/summary
echo "###### THE END #####" &#62;&#62; /root/postinfo/summary

# stand van zaken aan het einde van deze stap
echo
echo Inhoud van /root/postinfo aan het einde van deze STAP-999
ls -AlR /root/postinfo
echo Einde "### STAP 999 ###"
echo
echo "###### HET EINDE #####"
echo BELANGRIJK: Je moet nu alle bestanden in /root/postinfo op een 
echo veilige plek bewaren, bij voorkeur op een andere disk of op een
echo verwijderbaar backupmedium.
echo " "
echo In /root/postinfo/summary vind je een samenvattingsrapport
echo van deze procedure
echo Een eerdere versie van een samenvatting \(zover van toepassing\) is
echo opgenomen in /root/postinfo/oldpostinfo.tar.gz
echo " "

#
echo "
#---------------------------------------------------------
#               WAARSCHUWING  WAARSCHUWING WAARSCHUWING
#                shivalik (ver. 1.0)
# Dit script werd je ter beschikking gesteld zonder enige garantie
# of zekerheden over de performance of bruikbaarheid ervan voor enig
# doel. Je gebruikt dit script uit eigen initiatief en bereidheid,
# op eigen risico en verantwoording.
# De laatste versie van dit script en daaraan gerelateerde informatie
# is te vinden op http://algolog.tripod.com/postlnx.htm
# Copyrights en alle rechten voorbehouden door:
# Dr. S. Parthasarathy (algolog@hd1.vsnl.net.in)
#--------------------------------------------------------
"</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
></DIV
></BODY
></HTML
>