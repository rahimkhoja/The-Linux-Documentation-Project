<HTML
><HEAD
>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
<TITLE
>X terminálok összekapcsolása Linuxszal mini-HOGYAN</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2">X terminálok összekapcsolása Linuxszal mini-HOGYAN</H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Salvador J. Peralta</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>				speralta@willamette dot edu<br>
			</P
></DIV
></DIV
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Verziótörténet</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.2</TD
><TD
ALIGN="LEFT"
>2003.05.20</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sjp</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Hozzáadva további információ az XFS és XDM beállításáról.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.0</TD
><TD
ALIGN="LEFT"
>2002.12.21</TD
><TD
ALIGN="LEFT"
>Átdolgozta: sjp</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Elsõ hivatalos kiadás. Régi bejegyzések törölve.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN22"><P
></P
><P
>Ez a mini-HOGYAN elmagyarázza, hogyan kapcsolhatunk az nfs, xfs, xdm és az xdmcp segítségével X terminálokat egy Linux gazdagéphez (host). Ezen kívül beállítási javaslatokkal is foglalkozik, melyek segítenek a Linux gazdagép optimalizálásában, kis teljesítményû klienseket kiszolgáló hálózat esetén. A dokumentum legfrissebb változata <A
HREF="http://www.willamette.edu/~speralta/tldp/xterm"
TARGET="_top"
>itt</A
> érhetõ el.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tartalomjegyzék</B
></DT
><DT
>1. <A
HREF="#COPYRIGHT"
>Szerzõi jog</A
></DT
><DT
>2. <A
HREF="#BACKGROUND"
>Bevezetés</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#XFREE86"
>Mi az XFree86</A
></DT
><DT
>2.2. <A
HREF="#AEN36"
>Mi az X terminál?</A
></DT
><DT
>2.3. <A
HREF="#INFRASTRUCTURE"
>Szerkezeti áttekintés</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#SECTION2"
>Gazdagép környezet</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="#HARDWARE"
>Hardver</A
></DT
><DT
>3.2. <A
HREF="#SOFTWARE"
>Szoftver</A
></DT
></DL
></DD
><DT
>4. <A
HREF="#CONFIGURATION"
>Alapvetõ gazdagép beállítások</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="#NFS"
>Az NFS beállítása</A
></DT
><DT
>4.2. <A
HREF="#XDM"
>Az XDM beállítása</A
></DT
><DT
>4.3. <A
HREF="#XACCESS"
>Az Xaccess beállítása</A
></DT
><DT
>4.4. <A
HREF="#HOST"
>A gazdagép hozzáféréseinek beállítása</A
></DT
><DT
>4.5. <A
HREF="#XFS"
>Az X Font Server beállítása</A
></DT
><DT
>4.6. <A
HREF="#XSESSION"
>Az X munkafolyamat beállítása</A
></DT
></DL
></DD
><DT
>5. <A
HREF="#ADVANCED"
>Haladó gazdagép-beállítás</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#LIMITSCONF"
>Felhasználói- és csoport-korlátozások beállítása</A
></DT
><DT
>5.2. <A
HREF="#MORELIMITS"
>További korlátozások</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#CLIENT"
>Kliens beállítások</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#BOOT"
>A rendszerbetöltési folyamat</A
></DT
></DL
></DD
><DT
>7. <A
HREF="#INFO"
>További források</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="#LINUXDOCS"
>Linux HOGYANok</A
></DT
><DT
>7.2. <A
HREF="#MANPAGES"
>Kézikönyv oldalak</A
></DT
><DT
>7.3. <A
HREF="#GUIDES"
>Linux kézikönyvek</A
></DT
><DT
>7.4. <A
HREF="#AEN144"
>Könyvek</A
></DT
></DL
></DD
><DT
>8. <A
HREF="#ERRATA"
>Hibajegyzék</A
></DT
><DD
><DL
><DT
>8.1. <A
HREF="#VERSION"
>Rendszer verziók</A
></DT
><DT
>8.2. <A
HREF="#DISCLAIMER"
>A felelõsség teljes elhárítása</A
></DT
><DT
>8.3. <A
HREF="#FEEDBACK"
>Visszajelzés</A
></DT
><DT
>8.4. <A
HREF="#CREDITS"
>Készítõk</A
></DT
><DT
>8.5. <A
HREF="#AEN161"
>Magyar fordítás</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="COPYRIGHT">1. Szerzõi jog</H2
><P
>Copyright (c)  2002-2003  Salvador Peralta</P
><P
>      Eme dokumentum vagy késõbb közzétett változatainak másolása, terjesztése 
      és/vagy módosítása engedélyezett a Free Software Foundation 
      (Szabad Szoftver Alapítvány) által közzétett GNU Free Documentation License 
      szerint; állandó fejezetek, elõoldali és hátoldali szövegek nélkül. </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="BACKGROUND">2. Bevezetés</H2
><P
>Ez a rész egy rövid bevezetõ az X Window System, az X terminálok kliens-szerver modelljének és azok Linux-alapú kiszolgáló rendszerének témaköréhez.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="XFREE86">2.1. Mi az XFree86</H3
><P
>Az XFree86 egy nyílt forráskódú (Open Source) megvalósítása az X Windows System (X) rendszernek. Az X egy kliens-szerver interfészt biztosít az egér, a billentyûzet, a képmegjelenítés és egy ablakokból álló desktop környezet között. Mivel az X hálózati szempontból átlátszó, nem szükséges, hogy a kliens programok a X szervert futtató gépen fussanak. </P
><P
>Az XFree86 programcsomag sok alkalmazást tartalmaz, például terminál emulátort, órákat és egy levelezõ interfészt. Ez a dokumentum az XFree86-nak kizárólag azon részeire koncentrál, amelyek egy X terminál és egy Linux gazdagép közötti X munkafolyamat-kezeléséhez szükséges. Ezek az X Display Manager (xdm), hozzáférést szabályozó program és az X Font Server (xfs). </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN36">2.2. Mi az X terminál?</H3
><P
>Az X terminál lemezes egységgel nem rendelkezõ hálózatba kötött mikroszámítógép. Általában egérbõl, monitorból, billentyûzetbõl, RAM-ból, elemmel mûködtetett NVRAM-ból áll, és olyan perifériák csatlakoztatására alkalmas portokkal van felszerelve, mint a nyomtató vagy a vonalkódolvasó. Mivel az X terminálok nem tartalmaznak lemezes meghajtót, ezért az operációs rendszert, a beállítási információkat és a karakterkészleteket egy  nfs-t vagy tftp-t és xfs-t futtató gazdagéprõl töltik be a memóriájukba. </P
><P
>Az X terminál operációs rendszere alapvetõ adminisztrációs interfészt biztosít olyan konfigurációs paraméterek beállításához, mint mint a tcp, az xdmcp, a karakterkészlet elérési út, rendszerbetöltési útvonal és egyéb, gazdagéppel kapcsolatos beállítások.    
Elsõdleges feladata azonban az, hogy X szerverként mûködjön, amely az egérrel, a billentyûzettel és más, megjelenítéssel kapcsolatos információkat cserél a távoli gazdagépen futó kliens alkalmazásokkal.  </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="INFRASTRUCTURE">2.3. Szerkezeti áttekintés</H3
><P
>Egy IP-alapú hálózatban X terminálok beállításának a legegyszerûbb módja a Bootstrap protokoll (bootp) használata, amely kiosztja a kliensek és a gazdagép(ek) IP címeit, valamint egy betölthetõ rendszerlenyomatot (bootable image) biztosít az operációs rendszer indításához. A kliensek ezeket az információkat a saját NVRAM memóriájukban is tárolhatják, csökkentve ezzel a hálózati forgalmat. A rendszerlenyomat és a karakterkészletnek a kliens számítógép memóriájába töltéséhez az NFS-t és a TFTP-t használhatjuk . Az XDM a megjelenítési folyamat IP-alapú hitelesítését és kezelését biztosítja az XDMCP segítségével. A kliens-szerver párbeszédhez általában a TCP-t használják szállítási rétegként.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="SECTION2">3. Gazdagép környezet</H2
><P
>X környezetben a gazdagép egy olyan rendszer, amely erõforrásokat biztosít egy X szervernek. Lemezegység nélküli munkaállomásos környezetben a gazdagép által biztosított szolgáltatások általában az xauth és az xhost felhasználásával történõ munkafolyamat-hitelesítést, az xdm-mel történõ munkafolyamat-kezelést, ablakokat használó kliens alkalmazásokat (például Mozilla, OpenOffice.org) és olyan fájl átviteli szolgáltatásokat jelentenek, mint az nfs és a tftp, melyek az X terminálok számára karakterkészleteket és rendszerlenyomatot biztosítanak.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="HARDWARE">3.1. Hardver</H3
><P
>A mi hardver környezetünk 25 lemezegység nélküli munkaállomásból áll, melybõl 15 munkaállomás Mozilla-t, 6 munkaállomás Java-ban írt saját grafikus alkalmazást, 4 pedig terminál emulátor alatt futó alkalmazást futtat. A 6 Java alapú munkaállomás Desktop környezetként Gnome-ot használ. A többi 19 munkaállomás pedig FVWM2-t. Ezen környezet kiszolgálásához két dual processzoros pentium 3-as gépet használunk. Az egyik 1GB a másik 500MB memóriával van felszerelve. Azt tapasztaltuk, hogy a Gnome-ot és Java-t futtató munkaállomások jóval több memóriát és processzor teljesítmény használnak fel mint a Mozilla-t futtató munkaállomások.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="SOFTWARE">3.2. Szoftver</H3
><P
>Ahhoz, hogy Linuxot használhassunk a gazdagépen kis teljesítményû kliens munkaállomások hálózatában, be kell szereznünk az XFree86 X Windows System, az FVWM2 és az nfs-utils legfrissebb változatát. Ha RPM-alapú disztribúciót használsz, akkor a következõ csomagokra lesz szükséged: Xfree86-font-utils, Xfree86-libs, Xfree86-devel, Xfree86, Xfree86-truetype-font, Xfree86-xdm, Xfree86-base-fonts, nfs-utils, fvwm2, fvwm2-icons. Egy olyan rpm-alapú rendszeren, mint a Redhat, az "rpm -qa | grep (csomagnév)" parancsot használhatjuk annak ellenõrzésére, hogy egy csomag telepítve van-e. Ezen csomagok telepítéséhez vagy frissítéséhez egyszerûen töltsd le õket karbantartójuk honlapjáról, vagy a telepítésre használt adathordozóról az "rpm -Uvh (csomagnév)" paranccsal. A szükséges csomagok kezeléséhez grafikus alkalmazást is használhatsz, például a gnoRPM-et. Ha Debian-alapú rendszert vagy Gentoo-t használsz, olvasd el a rendszerdokumentációt az "apt-get"-tel és a "portage"-vel kapcsolatban.   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="CONFIGURATION">4. Alapvetõ gazdagép beállítások</H2
><P
>Ha a szükséges programokat már telepítettük, be kell állítanunk a következõket: az NFS-t a karakterkészletek és a rendszerlenyomat eléréséhez a kliens munkaállomások számára, az XFree86-ot távoli megjelenítés támogatásához (remote display access), és az X munkafolyamatot, hogy a klienseinknek megadja a kiválasztott ablakkezelõt.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="NFS">4.1. Az NFS beállítása</H3
><P
>A beállítási információk, a rendszer-karakterkészlet és a rendszerlenyomatnak a gazdagéprõl NFS-sel történõ betöltéséhez, olvasási jogot kell adnunk az adatokat tároló alkönyvtár(ak)ra. Ehhez az <TT
CLASS="FILENAME"
>/etc/exports</TT
> állományt kell szerkesztenünk.</P
><P
>Az <TT
CLASS="FILENAME"
>/etc/exports</TT
> állomány egy hozzáférést szabályozó lista, mely minden olyan alkönyvtár esetén tartalmaz egy bejegyzést, amelyet az exportfs paranccsal elérhetõvé lehet tenni egy NFS kliens számára. Az <TT
CLASS="FILENAME"
>/etc/exports</TT
> állomány beállítása egyszerû.</P
><P
>Ha minden olyan rendszer számára olvasási jogot szeretnénk biztosítani, melyek az <TT
CLASS="FILENAME"
>/home/ncbridge</TT
> állományban szereplõ erõforrásokra irányuló igényüket jelzik, akkor az <TT
CLASS="FILENAME"
>/etc/exports</TT
> állományba beírhatjuk a következõ sort: </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>/home/ncbridge *(ro)</PRE
></FONT
></TD
></TR
></TABLE
><P
>A nagyobb biztonság érdekében az egyes kliensek hozzáférését külön-külön is megadhatjuk. Ehhez egyszerûen adjuk meg a következõket:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>/home/ncbridge client1.yourdomain.com (ro)
/home/ncbridge client2.yourdomain.com (ro)
/home/ncbridge client3.yourdomain.com (ro)</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az <TT
CLASS="FILENAME"
>/etc/exports</TT
> állomány további lehetõségeket is biztosít, például a klienseket csoportba gyûjthetjük, például a nevük alapján. A hasonló nevû klienseknek kizárólag olvasási jogot így biztosíthatunk:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>/home/ncbridge client*.yourdomain.com (ro)</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="XDM">4.2. Az XDM beállítása</H3
><P
>Az X Display Manager egy olyan program, amely egy X szerver számára munkafolyamatokat hitelesít, engedélyez és kezel. Az X Konzorcium által meghatározott szabványos beállítások megfelelõek az X terminálok használatához. Ennek ellenére ezt az állományt módosítanunk kell, hogy ne a display :0-t használjuk alapértelmezett konzolként, és az XDM-et be kell állítanunk, hogy figyelje az XDMCP kéréseket.</P
><P
>Az <TT
CLASS="FILENAME"
>/etc/X11/xdm/xdm-config</TT
> állományban végezzük el a következõ beállítási változtatásokat: tegyünk megjegyzésjelet a display :0-át konzolnak beállító sorok elé:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>! A következõ három bejegyzés állítja be konzolnak a display :0-t .
!DisplayManager._0.setup:       /etc/X11/xdm/Xsetup_0
!DisplayManager._0.startup:     /etc/X11/xdm/GiveConsole
!DisplayManager._0.reset:       /etc/X11/xdm/TakeConsole</PRE
></FONT
></TD
></TR
></TABLE
><P
>Tegyünk megjegyzésjelet azon sorok elé, amelyek a display manager requestPort-ja számára :0 értéket adnak meg.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>!DisplayManager.requestPort:    0</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="XACCESS">4.3. Az Xaccess beállítása</H3
><P
>Az Xaccess egy olyan állomány, melyet az XDM olvas be, hogy megállapítsa, mely X terminálok jelentkezhetnek be és férhetnek hozzá a gazdagépen futó programokhoz. Az X terminál egy kérést küld az XDM-nek, mely erre válaszként az Xsetup szkriptet futtatja, ami beállítja a bejelentkezési képernyõt, és megjeleníti az xlogin eszközt. Ez kezeli a hitelesítést, és jogos igény esetén munkafolyamatot épít ki a gazdagépen futó kliens alkalmazások és az X terminál között.  </P
><P
>Ezen a ponton általában szükségesek a következõ beállítási módosítások: a hozzáférési jogok beállítása, az X szerverhez való hozzáférés megszorítása érdekében, és saját hitelesítést használó gazdagépek felvétele IP cím alapján. Ha több kliens bejelentkezését is engedélyezzük, a beállításoknak ilyenformán kell kinézniük:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>#*               # Bármely X szerver kaphat bejelentkezési ablakot
158.100.5.121	 # Csak bizonyos rendszerek jelentkezhetnek be
158.100.5.122
158.100.5.123
158.100.5.124
158.100.5.125
!*  		 # A többi rendszer nem használhatja az XDM-et</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="HOST">4.4. A gazdagép hozzáféréseinek beállítása</H3
><P
>Ha a terminálokat nem DNS szerverrel futtatjuk és/vagy az IP címeket nem DHCP-vel osztjuk ki, minden X terminál esetén hozzá kell adnunk egy bejegyzést az /etc/hosts állományhoz a linuxos gazdagépen.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>158.100.5.121	# Egy rendszert adunk meg soronként
158.100.5.122 	# az lprhost-nak és az loghost-nak szóló opcionális paraméterekkel
158.100.5.123
158.100.5.124
158.100.5.125</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="XFS">4.5. Az X Font Server beállítása</H3
><P
>Az X Font Server (xfs) rendszer-karakterkészletet biztosít X megjelenítõ szerverek számára. A legtöbb X terminál esetén ez az egyetlen módja, hogy olyan élsimított (anti-aliased) karakterkészletet biztosítsunk számára, mint a freetype.</P
><P
>A legtöbb Linux rendszer esetén az xfs-t egy <TT
CLASS="FILENAME"
>/etc/init.d</TT
> könyvtárbeli szkript indítja, és/vagy rendszerindításkor egy <TT
CLASS="FILENAME"
>/etc/rc.d/init.d</TT
> vagy valamelyik <TT
CLASS="FILENAME"
>/etc/rc[0-6].d</TT
> könyvtárbeli futási szintet inicializáló szkript. A legfontosabb dolog amit ellenõriznünk kell, hogy az X terminál és az X gazdagép (host) ugyanazon a porton küldi és veszi az üzeneteket. Néhány X terminál az alapértelmezett xfs portot (7100) más szolgáltatásokhoz használja, ezért az xfs-t egy másik, szabad porthoz kell hozzárendelni (például a 7102-es porthoz), a konfliktusok elkerüléséhez.  </P
><P
>A legtöbb rendszeren az XFS beállításai az <TT
CLASS="FILENAME"
>/etc/X11/fs/config</TT
> állományban vannak. Az XFS távoli hozzáférésének engedélyezéséhez tegyünk megjegyzésjelet a no-listen = tcp direktíva elé a konfigurációs állományban. Gyõzõdjünk meg arról, hogy a kliensek maximális számát pontosan annyira, vagy nagyobbra állítottuk, mint ahány klienst kis szeretnénk szolgálni. </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="XSESSION">4.6. Az X munkafolyamat beállítása</H3
><P
>Az Xsession állomány kezeli az egyes gazdagépek X környezetére vonatkozó információk zömét. Ebben az állományban beállítható többek között a naplózás, az hogy melyik desktop manager-t futtassuk, és hogy milyen billentyûzetkiosztást használunk.
Ezek a beállítások erõsen függnek a használt környezettõl, és ezért ebben a dokumentumban nem szerepelnek. Elegendõ annyit elmondani, hogy el kell döntenünk, felhasználó szintû vagy globális beállításokat használunk a desktop környezetünkhöz, és hogy ezeket a beállítási módosításokat ebben az állományban, vagy a felhasználó saját könyvtárának .session állományban kell-e megtenni.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="ADVANCED">5. Haladó gazdagép-beállítás</H2
><P
>Ez a rész néhány olyan opcionális beállítási lehetõség leírását célozza meg, melyekkel javíthatjuk egy linuxos gazdagép teljesítményét. </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="LIMITSCONF">5.1. Felhasználói- és csoport-korlátozások beállítása</H3
><P
>A kis teljesítményû klienseken alapuló modell egyik veszélye, hogy egy elszabaduló folyamat felemésztheti a gazdagép összes rendszermemóriáját és/vagy processzoridejét. Ha ez bekövetkezik, a rendszer teljesítménye olyannyira lecsökkenhet, hogy ebbõl fakadóan a rendszer válaszidejének drasztikus növekedését, fagyást és egyéb nem kívánt következményeket tapasztalhatunk..</P
><P
>Szerencsére a Linux több eszközzel is rendelkezik az ilyen típusú problémák kezelésére. Az elsõ ezek közül amit megnézünk, a <TT
CLASS="FILENAME"
>limits.conf</TT
> állomány az <TT
CLASS="FILENAME"
>/etc/security</TT
> könyvtárban. A <TT
CLASS="FILENAME"
>limits.conf</TT
> állomány segítségével felhasználó és csoport szintû korlátozásokat adhatunk meg bizonyos típusú rendszer erõforrásokra, mint amilyen a memória. Ebben az állományban a korlátozások beállítása történhet adott felhasználóra vagy csoportra. Bár ebben az állományban sokféle korlátozást be lehet állítani, itt csak néhányat nézünk meg.</P
><P
>A limits.conf állomány formáját tekintve különálló sorokból áll, a sorok pedig a következõ típusú értékeket tartalmazzák: (tartomány) (típus) (egység) (érték), ahol a tartomány lehet felhasználó vagy csoport, a típus hard (erõs) vagy soft (gyenge) megszorításra, az egység a korlátozni kívánt erõforrásra utal, az érték pedig a beállítandó megszorításhoz tartozó értékre. Például beállítva a következõ értéket: </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>guest           hard     priority        19</PRE
></FONT
></TD
></TR
></TABLE
><P
>egy erõs (hard) megszorítást helyezünk el az ütemezési sorrendiségen (priority), mely segítségével a guest nevû felhasználó feladatait ütemezi a rendszer. Ebben az esetben a guest felhasználó feladatai a legkisebb prioritással rendelkeznek.</P
><P
>Másik példaként a guest nevû felhasználó maximális processzor idõ felhasználását 10 perc idõtartamra korlátozhatjuk a következõ érték beállításával:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>guest           hard     cpu             10</PRE
></FONT
></TD
></TR
></TABLE
><P
>Utolsó példaként a guest nevû csoport sikertelen bejelentkezési kísérleteinek számát háromra csökkentjük, ha beállítjuk a következõ értéket:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>@guest	hard 	maxlogins	3</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="MORELIMITS">5.2. További korlátozások</H3
><P
>Az elszabaduló folyamatok esetleges hatásainak csökkentésének máik módja, ha folyamatokra vonatkozó korlátozásokat állítunk be. Ezt elérhetjük, ha beírjuk az ulimit parancsot az <TT
CLASS="FILENAME"
>/etc/profile</TT
> állományba.</P
><P
>Ha egy adott folyamat számára elérhetõ maximális memória mennyiségét soft (gyenge) megszorítással akarjuk korlátozni, hogy a folyamat ne igényelhessen több memóriát mint amennyi a rendszer összes memória kapacitása, akkor egy 1 GB fizikai és 500 MB virtuális memóriával rendelkezõ rendszer esetén a következõ értékeknek az <TT
CLASS="FILENAME"
>/etc/profile</TT
> állományban történõ beállítása megfelelõ lehet:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ulimit -S -m 1000000
ulimit -S -v  500000</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ezen beállítás mellett a rendszer kilõ minden olyan folyamatot, amely a megadott korlátnál több erõforrást próbál meg lefoglalni.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="CLIENT">6. Kliens beállítások</H2
><P
>Ez a rész az általánosság szintjén foglalkozik azzal, hogy milyen beállítások szükségesek egy átlagos X terminál, és egy gazdagép összekapcsolásához.   </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="BOOT">6.1. A rendszerbetöltési folyamat</H3
><P
>Ha az X terminál egy hálózati gazdagéprõl végzi a rendszerbetöltést, a saját IP- valamint a gazdagép címének meghatározásához a bootp vagy a rarp protokollt használhatja, esetleg tárolhatja is ezeket az értékeket saját NVRAM memóriájában. A bootp protokoll használatának elõnye, hogy a gazdagép adatait és az IP-címeket központosítva, egy helyen tárolhatjuk. Az értékek kliensen történõ, helyi tárolásának elõnye, hogy kifinomultabb TCP/IP és gazdagép-adat kezelést tesz lehetõvé.</P
><P
>Ha az X terminál gazdagép és IP-cím információit megfelelõen beállítottuk, az X terminál rendszerbetöltési folyamatának második lépése, az operációs rendszer és alapértelmezett karakterkészlet betöltése. Ehhez a kliensnek tudnia kell a rendszerlenyomat, a rendszerbeállítások és a karakterkészlet teljes útvonalnevét. Ezen fájlok letöltéséhez szükséges még a rendszerbetöltési eljárás megadása. A legtöbb rendszer esetén ez a tftp vagy az nfs. Végül az X terminálnak tudnia kell, hogy melyik gép felelõs az XDMCP kommunikációért (azaz melyik gép szolgáltatja a kliens alkalmazásokat). Az összes ilyen információt az X terminál NVRAM memóriájában tároljuk.</P
><P
>A rendszerbetöltés folyamatának harmadik lépésére akkor kerül sor, amikor az X terminál kapcsolódik a kliens géphez. A legtöbb X terminál képes arra, hogy direkt vagy indirekt kéréssel megszólítsa a hálózat egyik xdmcp munkafolyamat-kezelõjét. Indirekt kérés esetén minden elérhetõ xdmcp munkafolyamat-kezelõ válaszol, és megjeleníti a választható gazdagépek listáját. Direkt kérés esetén a gazdagép xdm programja elindítja az Xsetup szkriptet, amely beállítja a megjelenítõ eszközt a bejelentkezõ képernyõhöz, és elindítja az xlogin eszközt, amely csak érvényes felhasználói azonosító és jelszó megadás után engedélyezi a belépést, valamint az xdcmp munkafolyamat indítását. </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="INFO">7. További források</H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="LINUXDOCS">7.1. Linux HOGYANok</H3
><P
>Ez a dokumentum a már nem karbantartott X terminál HOGYANt hivatott kiegészíteni és helyettesíteni. A következõ mini-HOGYANokat találhatjuk meg a témában a Linux Dokumentációs Projekt www.tldp.org honlapján: XWindow-Overview-HOWTO, XWindow-User-HOWTO, XDM-Xterm mini-HOWTO, NCD X terminal mini-HOWTO.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="MANPAGES">7.2. Kézikönyv oldalak</H3
><P
>A Linux Dokumentációs Projekt, az XFree86 projekt és a GNU egy sor azonnal olvasható (on-line) leírást tesz közzé, melyek leírják az ezen mini-HOGYANban tárgyalt szolgáltatásokat. Ezen dokumentumhoz kapcsolódó kézikönyv oldalak: az xdm, az nfs, az exports, az X és az ulimit kézikönyv oldalai.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="GUIDES">7.3. Linux kézikönyvek</H3
><P
>A Linux Dokumentációs Projekt Hálózati Adminisztrátorok Kézikönyvének (Network Administrator's Guide,(NAG)) 14. fejezetében hasznos információkat találhatunk a linuxos NFS használatáról.  </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN144">7.4. Könyvek</H3
><P
>Ajánljuk O'Reilly and Associates: "X Windows System Administrator's Guide" címû könyvét. </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="ERRATA">8. Hibajegyzék</H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="VERSION">8.1. Rendszer verziók</H3
><P
>A mini-HOGYANban áttekintett módszerek felhasználták Redhat 7.3, 7.1, 6.3 és 6.1-es verzióit, valamint az XFree86  3.2 és 4.2 közötti változatait. A használt X terminálok a Network Computing Devices (NCD) Network Computer termináljainak nc900, nc500 és nc350-es változatai.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="DISCLAIMER">8.2. A felelõsség teljes elhárítása</H3
><P
>Ez a dokumentum úgy használható "ahogy van". Sem a szerzõ, sem a terjesztõk nem vállalnak semmilyen felelõsséget fizikai, pénzügyi vagy bármely más típusú kárért, amit a szövegben ajánlott dolgok követése okozott.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="FEEDBACK">8.3. Visszajelzés</H3
><P
>Ha a dokumentummal kapcsolatban javaslataid vannak, vagy bármely részét hasznosnak találtad, küldj e-mailt a dokumentum karbantartójának: speralta [at] willamette [dot] edu.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="CREDITS">8.4. Készítõk</H3
><P
>Köszönetet szeretnék mondani a Willamette Egyetemnek, hogy ott dolgozva lehetõségem volt a dokumentumban szereplõ Linux-alapú rendszerek összeállítására és karbantartására, és Michael Spalti-nak, aki segített nekem a technológia megismerésében, és az említett rendszerek fejlesztésében.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN161">8.5. Magyar fordítás</H3
><P
>A magyar fordítást <A
HREF="mailto:moczaz@freemail.hu_NO_SPAM"
TARGET="_top"
>Mócza Zsolt</A
> készítette (2004.01.20).
A lektorálást <A
HREF="mailto:dacas@freemail.hu_NO_SPAM"
TARGET="_top"
>Daczi László</A
> végezte el (2004.01.27).
Eme dokumentum legfrissebb változata megtalálható a <A
HREF="http://tldp.fsf.hu/index.html"
TARGET="_top"
>Magyar Linux Dokumentációs Projekt</A
> honlapján.</P
></DIV
></DIV
></DIV
></BODY
></HTML
>
