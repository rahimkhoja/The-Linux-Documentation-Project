<HTML
><HEAD
>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
<TITLE
>Programfejlesztés több Linux terjesztésre mini-HOGYAN</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2">Programfejlesztés több Linux terjesztésre mini-HOGYAN</H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Ed Hill</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>&#60;ed@eh3.com&#62;</P
></DIV
></DIV
><P
CLASS="PUBDATE"
>2001.03.01<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Verziótörténet</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 0.9.1</TD
><TD
ALIGN="LEFT"
>2002.08.14</TD
><TD
ALIGN="LEFT"
>Átdolgozta: EH3</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Egy kis frissítés az X11 (socketek) használatához.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 0.9</TD
><TD
ALIGN="LEFT"
>2001.12.03</TD
><TD
ALIGN="LEFT"
>Átdolgozta: EH3</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Elsõ kiadás.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN10"><P
></P
><P
>Ez a dokumentum leírja, hogyan lehet
      alkalmazásokat fejleszteni és tesztelni több Linux
      terjesztésre.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tartalomjegyzék</B
></DT
><DT
>1. <A
HREF="#INTRODUCTION"
>Bevezetés</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#COPYRIGHT"
>Szerzõi jog és licenc</A
></DT
><DT
>1.2. <A
HREF="#AEN40"
>Magyar fordítás</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#SETUP"
>Beállítás</A
></DT
><DT
>3. <A
HREF="#USE"
>További Linux terjesztések használata</A
></DT
><DT
>4. <A
HREF="#CREDITS"
>Készítõk</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="INTRODUCTION">1. Bevezetés</H2
><P
>Fejlesztõként néha szükség van a programok írására és/vagy
    tesztelésére többféle Linux terjesztésen. Ez a mini-HOGYAN leír
    egy csinos <SPAN
CLASS="APPLICATION"
>chroot</SPAN
> trükköt, amivel sok
    esetben elkerülhetõ a különbözõ Linux terjesztéseken történõ tesztelés
    vagy fejlesztéskor a rendszer újraindítása. </P
><P
>Dióhéjban, a "trükk" az, hogy a különbözõ Linux terjesztések
    fájljait külön könyvtárba rakjuk, aztán <SPAN
CLASS="APPLICATION"
>chroot</SPAN
>-olunk abba
    a könyvtárba, hogy fejleszthessük/tesztelhessük/nyomkövessük a
    programot. Ez a megközelítés mûködni fog ha:
    </P
><P
></P
><OL
TYPE="1"
><LI
><P
>A "fõ" vagy "elsõdleges" terjesztés rendszermagjának verziója
(legalább valamennyire) kompatibilis a "másodlagos" vagy
<SPAN
CLASS="APPLICATION"
>chroot</SPAN
>-olt terjesztésével.
	</P
></LI
><LI
><P
>Az alkalmazásod elsõsorban felhasználói (például nem
rendszermag modul), és nem függ semmilyen különös rendszermag
sajátságtól (például a /proc viselkedésétõl).
	</P
></LI
></OL
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="COPYRIGHT">1.1. Szerzõi jog és licenc</H3
><P
>This document is copyright 2001 by Ed Hill III. Engedélyezett a dokumentum másolása,
terjesztése és/vagy módosítása a GNU Free Documentation License 1.1 (kiadja a Free
Software Foundation) vagy bármelyik késõbbi változata szerint, nem változtatható fejezetek,
elõ- és hátoldali szövegek nélkül. A licenc egy másolata
megtalálható a <A
HREF="http://www.gnu.org/copyleft/fdl.html"
TARGET="_top"
>http://www.gnu.org/copyleft/fdl.html</A
> honlapon.
      </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN40">1.2. Magyar fordítás</H3
><P
>A magyar fordítást <A
HREF="mailto:ckoller@mailbox.hu_NO_SPAM"
TARGET="_top"
>Koller Csaba</A
> készítette (2003.05.06). 
A lektorálást <A
HREF="mailto:dacas@freemail.hu_NO_SPAM"
TARGET="_top"
>Daczi László</A
> végezte el (2003.11.17).
A fordítás javítva (R1)  2003.12.09.-én.
A dokumentum legfrissebb változata megtalálható a <A
HREF="http://tldp.fsf.hu/index.html"
TARGET="_top"
>Magyar Linux Dokumentációs Projekt</A
> honlapján. 
      </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="SETUP">2. Beállítás</H2
><P
>Feltételezzük a következõket:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Egy "fõ" vagy "elsõdleges" Linux terjesztés van telepítve, ami 2.4-es
vagy újabb rendszermagot használ.
	</P
></LI
><LI
><P
>Van egy szabad partíciód 2-4 giga hellyel.
	</P
></LI
><LI
><P
>Elegendõ hely van a lemezen a másodlagos terjesztések telepítéséhez
(és a késõbbi fejlesztésekhez/teszteléshez).
	</P
></LI
></OL
><P
>Ha ezek a feltételek adottak, a következõekben felvázoljuk
    egy a fejlesztéshez, teszteléshez vagy más célokra használatos
    másodlagos Linux disztribúció telepítésének egy módját:
    </P
><P
></P
><OL
TYPE="1"
><LI
><P
>Elõször hozz létre egy nem használt partíciót az egyik merevlemezeden
ami elég nagy (általában 2-4Gb szükséges) a másodlagos Linux terjesztés
telepítéséhez.
	</P
></LI
><LI
><P
>Telepítsd a másodlagos terjesztést erre a lemezrészre,
de ne add hozzá a rendszerindító beállításához. Vedd figyelembe,
hogy ennek a telepítésnek csak azokra a csomagokra van szüksége,
amit a célalkalmazások (vagy tesztek) igényelnek. Például, talán
nem lesz szükséged olyan alkalmazásokra mint az X szerver vagy más
helyfalók.
	</P
></LI
><LI
><P
>Indítsd újra az elsõdleges Linuxodat, és csatold fel az újonnan telepített
"másodlagos" terjesztést. Másold (elsõsorban a <TT
CLASS="FILENAME"
>tar -cp</TT
>
paranccsal vagy más olyan módszerrel ami megõrzi az engedélyeket) a másodlagos
disztró összes fájlját egy helyre, például az <TT
CLASS="FILENAME"
>/opt/distros/DISTRO_NAME</TT
>
könyvtárba.
	</P
></LI
><LI
><P
>Ismételd a 2-3 lépést bármely más terjesztés telepítésekor. Az eredmény
egy a következõhöz hasonló könyvtárrendszer:
	</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>/opt/distros/redhat_6.2/
             suse_7.2/
             mandrake_8.1/
             debian-potato/
             slackware_8.0/</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ebben minden könyvtár a telepítésbõl származó terjesztések
összes fájlját tartalmazza.
        </P
></LI
></OL
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="USE">3. További Linux terjesztések használata</H2
><P
>A telepített másodlagos terjesztések használatához a
    következõ lépések végrehajtása szükséges:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Fontos a 2.4-es vagy újabb Linux rendszermagok használata az
"elsõdleges" Linux terjesztésekhez, a többszörös csatolás pont
(multiple mount points) szolgáltatás használatához, amit a
2.4-es rendszermagok megengednek. Sok feladathoz a
<TT
CLASS="FILENAME"
>/proc</TT
> és <TT
CLASS="FILENAME"
>/tmp</TT
>
fájlrendszereket újra fel kell csatolni a következõ
parancsok használatával:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>mount --bind /proc /opt/distros/redhat_6.2/proc
mount --bind /tmp /opt/distros/redhat_6.2/tmp</PRE
></FONT
></TD
></TR
></TABLE
>
	</P
></LI
><LI
><P
>Az is hasznos lehet, ha újra felcsatoljuk (a másolás helyett) a
forrásfát az elsõdleges terjesztésrõl a másodlagosra:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>mount --bind /home/USER/src/PROJECT /opt/distros/redhat_6.2/USER/src/PROJECT</PRE
></FONT
></TD
></TR
></TABLE
>
	</P
></LI
><LI
><P
>root felhasználóként használd a következõ parancsot:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>xhost +localhost chroot /opt/distros/redhat_6.2
/bin/bash</PRE
></FONT
></TD
></TR
></TABLE
> Így lesz egy héjad (shell) a másodlagos
terjesztésen belül.Az <TT
CLASS="FILENAME"
>xhost</TT
> parancs
csak akkor szükséges, ha X-window alkalmazásokat akarsz futtani.
	</P
></LI
><LI
><P
>Végül, hozz létre egy felhasználót (ha szükséges) a
<TT
CLASS="FILENAME"
>chroot</TT
>-olt héjon belül, és
fejleszd, építsd és/vagy teszteld az alkalmazásaidat
ezen a "másik" Linux terjesztésen! Lehet, hogy meg
kell adnod a <TT
CLASS="FILENAME"
>DISPLAY</TT
> környezeti
változódat, ha X-es alkalmazásokat akarsz használni.
	</P
></LI
></OL
><P
>Kész! Most már van egy parancsértelmezõd ami az
    általad választott másodlagos Linux terjesztésen belül
    fut.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="CREDITS">4. Készítõk</H2
><P
>Ebben a mini-HOGYANban leírt ötletek eredetileg nem
    tõlem származnak. Ben Reed (<A
HREF="http://www.opennms.org/"
TARGET="_top"
> OpenNMS </A
>) egyik
    <A
HREF="http://www.trilug.org/"
TARGET="_top"
> TriLUG </A
> levelezõ
    listára küldött leveleibõl lett kiválasztva.
    Olyan hasznosnak találtam az ötletet,
    hogy dokumentálni akartam másoknak.</P
></DIV
></DIV
></BODY
></HTML
>
