<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>De Linux Afdruk HOWTO</TITLE>


</HEAD>
<BODY>
<H1>De Linux Afdruk HOWTO</H1>

<H2>Grant Taylor <CODE>&lt;gtaylor+pht@picante.com></CODE><BR>
Vertaald door: Ellen Bokhorst <CODE>bokkie@nl.linux.org</CODE></H2>Versie 3.30, 19/11/1999 06:00:35
<P><HR>
<EM>Dit is de Linux Afdruk HOWTO, een verzameling met informatie over hoe je
alle afdrukken onder Linux (en andere Unices in het algemeen) kunt genereren,
bekijken en faxen.</EM>
<HR>
<H2><A NAME="s1">1. Introductie</A></H2>

<P>In de Afdruk HOWTO zou alles moeten staan wat je moet weten om
je op weg te helpen bij het instellen van afdrukservices op je
Linuxbox(en). Het is echter gecompliceerder dan in de aanwijs-en-klik
wereld van Microsoft en Apple, maar het is ook flexibeler, en zeker
gemakkelijker te beheren voor groot opgezette LAN's.
<P>Dit document is zo opgezet dat de meeste mensen slechts ongeveer de eerste
helft ervan nodig zullen hebben. Veel van de meer onbekende en 
situatie-afhankelijke informatie staat in het laatste gedeelte van dit
document en kan eenvoudig worden opgezocht via de inhoudsopgave. 
Daarentegen zal waarschijnlijk bijna iedereen de meeste informatie
uit paragraaf 9 of 10 nodig hebben.
<P>Aangezien versie 3.x volledig is herschreven, is veel van de
informatie van vorige edities verloren gegaan. Dit komt door
het ontwerp. De voorgaande HOWTO's hadden een grootte van ca
60 gedrukte pagina's en dit was niet prettig leesbaar.
Als je geen oplossing in dit document vindt voor de problemen
die je ondervindt, word je aangemoedigd om
a) de voorgaande versie door te nemen, te vinden bij de
<A HREF="http://www.picante.com/~gtaylor/pht/">Printing HOWTO HomePage</A>
en b) een bericht achter te laten, waarin je aangeeft wat in dit document
zou moeten staan, maar er niet in staat.
<P>De 
<A HREF="http://www.picante.com/~gtaylor/pht/">Printing HOWTO Home Page</A> is een goede plek om
naar de laatste versie te zoeken; het wordt natuurlijk ook gedistribueerd
vanaf Metalab (<CODE>metalab.unc.edu</CODE>) en je vriendelijke lokale LDP mirror.
<H2>1.1 Historie</H2>

<P>Dit is de derde generatie van de Printing HOWTO, dus voor de 
derde keer compleet herschreven.
De historie van de PHT kan op deze manier te boek worden gesteld:
<OL>
<LI>Ik schreef de printing-howto in 1992 als reactie op de te vele
vragen met betrekking tot het afdrukken in comp.os.linux en postte het.
Dit dateerde het HOWTO project voor een paar maanden vervroegd en 
was de eerste FAQlet die een `howto' werd genoemd. Deze uitgave was
in plain ascii.</LI>
<LI>Na me te hebben aangesloten bij het HOWTO-project, werd de 
Printing-HOWTO samengevoegd met een lpd FAQ van
Brian McCauley <CODE>&lt;B.A.McCauley@bham.ac.uk></CODE>; we waren
voor ongeveer twee jaar mede-auteur van de PHT.
Op een bepaald moment voegden we het samen met het werk van
Karl Auer <CODE>&lt;Karl.Auer@anu.edu.au></CODE>. Deze generatie
van de PHT was in TeXinfo, en beschikbaar in PS, HTML, Ascii, en Info.  </LI>
<LI>Na de PHT voor meer dan een jaar te hebben laten rotten en vallen,
en een niet succesvolle poging om iemand anders te krijgen om het te 
beheren, vond deze omwerking plaats. Deze generatie van de PHT is geschreven
in SGML door gebruik te maken van de LinuxDoc DTD en het SGML-Tools-1
package. Beginnend met versie 3.27, is het verenigd met een samenvatting
van een bijbehorende printerondersteunings database; voor 3.27 stond er
in deze HOWTO nooit een printer-compatibiliteitenlijst (!).</LI>
</OL>
<H2>1.2 Copyright</H2>

<P>Dit document valt onder het Copyright (c) 1992-1999 door Grant Taylor. 
Voel je vrij dit document te kopi&euml;ren en te herdistribueren 
overeenkomstig de voorwaarden van de GNU General Public License, revisie
2 of later.
<H2><A NAME="s2">2. Hoe af te drukken</A></H2>

<P>Als je reeds lpd hebt ingesteld om naar je printer af te drukken,
of je systeembeheerder heeft dit al gedaan, of je verkoper deed dit
voor je, dan hoef je alleen nog te leren hoe je het commando lpr
kunt gebruiken.
De 
<A HREF="http://metalab.unc.edu/LDP/HOWTO/Printing-Usage-HOWTO.html">Printing Usage HOWTO</A> gaat
hierover, en een paar andere wachtrij-manipulatie-commando's die je
waarschijnlijk zou moeten kennen.
<P>Als je echter een nieuw systeem of nieuwe printer hebt, dan zul je,
op wat voor manier dan ook, je afdrukservices in moeten stellen voordat
je af kunt drukken. Lees verder!
<H2><A NAME="s3">3. Kernel afdrukapparaten</A></H2>

<P>Er zijn twee compleet verschillende device-drivers voor de parallelle
poort; welke je gebruikt is afhankelijk van je kernelversie (je kunt
achter je versie komen via het commando <CODE>uname -a</CODE>). De driver
is in Linux 2.1.33 gewijzigd.
<P>Een paar details zijn hetzelfde voor beide stijlen drivers.
Hetgeen veel mensen hebben gemerkt, is dat Linux
hun parallelle poort niet zal detecteren tenzij ze in hun PC BIOS
"Plug en Play" de-activeren.
(Dit is geen verrassing; de waarnemingsreputatie van PnP of niet-PCI devices 
onder Windows en elders is een ramp gebleken).
<H2>3.1 Het lp device (kernels &lt;=2.1.32)</H2>

<P>De Linux kernel (&lt;=2.1.32), waarbij er van uit wordt gegaan dat je het 
lp device in hebt gecompileerd of geladen 
(in de uitvoer van <CODE>cat /proc/devices</CODE> zou het device
lp voor moeten komen als het is geladen), voorziet in &eacute;&eacute;n of
meer <EM>/dev/lp0</EM>, <EM>/dev/lp1</EM>, en <EM>/dev/lp2</EM>. Deze
worden NIET dynamisch toegewezen, maar corresponderen ieder met een
specifiek hardware I/O adres. Dit betekent dat je eerste printer,
afhankelijk van je hardware, <EM>lp0</EM> of <EM>lp1</EM> kan zijn. Probeer 
gewoon beiden.
<P>Een paar gebruikers rapporteerden dat hun bi-directionele lp poorten niet
werden gedetecteerd als zij een oudere uni-directionele printerkabel 
gebruikten. Controleer of je een behoorlijke kabel hebt.
<P>Men kan de plip en lp drivers niet tegelijkertijd op een gegeven poort
gebruiken (in ieder geval niet onder 2.0). Je kunt echter de ene of de andere
driver op ieder moment zowel handmatig hebben geladen als door kerneld
met versie 2.x (en latere 1.3.x) kernels. Door zorgvuldig de interrupts
en dergelijke in te stellen, kun je naar men mag aannemen plip op de 
ene poort en lp op de andere poort gebruiken.
Iemand deed dit door de drivers te wijzigen; Ik wacht met spanning
op een succesvol rapport van iemand die dit slechts door middel van
een slimme commando-regel doet.
<P>Er is een kleine utility met de naam <CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/tunelp.8.html">tunelp</A></CODE> in omloop gebracht waar je het
Linux 2.0 interrupt-gebruik, de polling-snelheid, en andere opties van het
Linux 2.0 lp-device, als root, mee af kunt stellen.
<P>
<P>Als de lp-driver in de kernel is ingebouwd, zal de kernel een
<CODE>lp=</CODE> optie accepteren om de interrupts en io-adressen in te stellen:
<BLOCKQUOTE><CODE>
<PRE>
Als de lp driver in de kernel is ingebouwd, zou je de LILO/LOADLIN
commando-regel kunnen gebruiken om de poortadressen en interrupts in te
stellen, waarvan de driver gebruik zal gaan maken.

Syntax:      lp=port0[,irq0[,port1[,irq1[,port2[,irq2]]]]]

Bijvoorbeeld:   lp=0x378,0   of   lp=0x278,5,0x378,7 **

Merk op dat als dit kenmerk wordt gebruikt, je *alle* poorten die
je zult gaan gebruiken, moet specificeren, er zijn geen standaards.
Je kunt een ingebouwde driver met lp=0 de-activeren.
</PRE>
</CODE></BLOCKQUOTE>
<P>Geladen als een module, is het mogelijk io-adressen en interrupts
op de insmod commando-regel (of in
<EM>/etc/conf.modules</EM> om kerneld te be&iuml;nvloeden) op te geven
door gebruik te maken van de gebruikelijke argumentensyntax van
een module. De parameters zijn <CODE>io=port0,port1,port2</CODE>
en <CODE>irq=irq0,irq1,irq2</CODE>. Lees de manpage van <EM>
<A HREF="http://www.picante.com/~gtaylor/pht/man/insmod.1.html">insmod</A></EM> voor meer informatie hierover.
<P>**Voor degenen onder jullie die (me aardig vinden) nooit de standaard 
poortnummers kunnen vinden als je ze nodig hebt,
ze zijn als in het tweede voorbeeld hierboven.
De andere poort (<EM>lp0</EM>) bevindt zich op 0x3bc. Ik zou niet weten van welk
interrupt het gewoonlijk gebruik maakt.
<P>De source-code voor de Linux 2.0 parallelle poort-driver staat in
/usr/src/linux/drivers/char/lp.c.
<H2>3.2 Het parport-device (kernels &gt;= 2.1.33)</H2>

<P>Beginnend met kernel 2.1.33 (en beschikbaar als een patch voor kernel
2.0.30), is het lp-device slechts een client van het nieuwe parport-device.
De aanvulling van het parport device corrigeert een aantal problemen die
bij het oude lp-device optraden - het kan de poort met andere drivers
delen, het wijst dynamisch beschikbare parallelle poorten toe aan
device-nummers in plaats van dat het een vaste 
communicatie-verbinding tussen I/O adressen en poortnummers, enz. forceert.
<P>De komst van het parport-device heeft voor een hele schare nieuwe
parallelle poortdrivers gezorgd, voor zaken als Zipdrives, Backpack
CD-ROM's en disks, enzovoort. Een aantal hiervan zijn ook beschikbaar
in versies voor 2.0 kernels; kijk hiervoor rond op het web.
<P>Het belangrijkste verschil dat je op zal vallen, zover het printen betreft
is, dat kernels die op de parport zijn gebaseerd, de lp-devices dynamisch aan
parallelle poorten toewijzen. Dus wat lp1 onder Linux 2.0 was, kan 
onder Linux 2.2 heel goed lp0 zijn. Zorg ervoor dat je dit controleert, 
als je een upgrade van een lp-driver-kernel naar een parport-driver-kernel
uitvoert.
<P>Het meest voorkomende probleem dat zich met dit device schijnt voor te 
doen heeft te maken met een onjuiste configuratie:
<DL>
<DT><B>De Distributie</B><DD><P>Een aantal Linux-distributies worden met een onjuiste
setup van /etc/modules.conf (of /etc/conf.modules) geleverd, waardoor de
driver niet juist wordt geladen als je het nodig hebt. Met een recente
modutils schijnen de juiste magische regels in modules.conf als volgt te
moeten zijn:
<PRE>
alias           /dev/printers   lp
alias           /dev/lp*        lp
alias   parport_lowlevel parport_pc
</PRE>
<DT><B>De BIOS</B><DD><P>In de BIOS van veel PC's is de parallelle poort als een
Plug &amp; Play device ingesteld. Hiermee wordt het een perfect eenvoudig
apparaat, dat bijna altijd aanwezig is, onnodig gecompliceerd gemaakt;
schakel de PnP instelling voor je parallelle poort uit ("LPT1" in veel
BIOS'sen) als je parallelle poort niet door de Linux-driver wordt herkend.
De juiste instelling wordt vaak "legacy", "ISA" of "0x378" genoemd, maar
waarschijnlijk niet "disabled".
</DL>
<P>
<P>Je kunt ook het bestand
<A HREF="http://www.cyberelk.demon.co.uk/parport/parport.txt">Documentation/parport.txt</A> in je kernel sources lezen, 
of de 
<A HREF="http://www.cyberelk.demon.co.uk/parport.html">parport website</A> bekijken.
<H2>3.3 Seri&euml;le devices</H2>

<P>Seri&euml;le devices worden onder Linux iets dergelijks als <EM>/dev/ttyS1</EM>
genoemd. Het utility <CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/stty.1.html">stty</A></CODE> staat je toe om de instellingen voor een seri&euml;le
poort interactief te bekijken of in te stellen;
<CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/setserial.8.html">setserial</A></CODE>
staat je toe een aantal uitgebreide kenmerken te beheren en IRQ's
en I/O adressen te configureren voor de niet-standaard poorten.
Een verdere bespreking van seri&euml;le poorten onder Linux kun je 
vinden in de 
<A HREF="http://metalab.unc.edu/mdw/HOWTO/Serial-HOWTO.html">Serial-HOWTO</A>.
<P>Als je gebruik maakt van een langzame seri&euml;le printer met flow control,
kan het zijn dat je bemerkt dat een aantal van je afdruktaken worden
afgebroken. Dit kan te wijten zijn aan de seri&euml;le poort, wiens 
standaardgedrag is om alle niet verzonden tekens te wissen, die zich 
na 30 seconden nadat het poortdevice is gesloten nog in de buffer 
bevinden. De buffer kan 4096 tekens vasthouden. Als je printer 
flow control gebruikt en het langzaam is, kan het alle data uit 
de buffer niet binen 30 seconden
nadat de afdruksoftware de seri&euml;le poort heeft gesloten, verwerken. 
Het laatste deel van de inhoud van de buffer zal hierdoor verloren gaan. 
Als het commando <CODE>cat file &gt; /dev/ttyS2</CODE> voor korte bestanden
volledige afdrukken produceert, maar langere 
bestanden afbreekt, kan het zijn dat hiervan sprake is.
<P>De 30 seconden-interval kan via de commando-regeloptie
"closing_wait" van setserial (versie 2.12 en later) worden aangepast.
De seri&euml;le poorten van een computer worden gewoonlijk door een 
aanroep van setserial in het opstartbestand rc.serial ge&iuml;nitialiseerd.
De aanroep voor de seri&euml;le afdrukpoort kan worden gewijzigd
door de closing_wait tegelijkertijd in te stellen met de andere
parameters van de poort.
<H2><A NAME="s4">4. Ondersteunde Printers</A></H2>

<P>De Linux kernel ondersteunt in het algemeen iedere printer die je in een 
seri&euml;le of parallelle poort kunt pluggen, maar er zijn dingen om op
te letten, en printers die je niet zult kunnen gebruiken, zelfs al kunnen ze 
(elektronisch gesproken) met Linux communiceren.
Hoofdzakelijk bevinden zich tussen deze incompatibele printers,  
printers waarnaar als "Windows" of "GDI" printers wordt gerefereerd. 
Ze worden zo genoemd, 
omdat een deel of de gehele printerbesturingstaal en de ontwerpdetails 
van het afdrukmechanisme niet zijn gedocumenteerd.
De verkoper zal in een Windows-driver voorzien en
met veel genoegen alleen aan Windows gebruikers verkopen; daarom worden 
ze Winprinters genoemd. In een aantal gevallen voorziet de verkoper 
ook in drivers voor NT, OS/2 of andere besturingssystemen.
<P>Veel van deze printers <EM>werken niet</EM> met Linux.
Een paar daarvan doen dit wel, en een aantal daarvan werken slechts een
beetje (meestal omdat iemand aan de details, die nodig waren om
een driver te schrijven, is gekomen, met behulp van
reverse engineering).
Zie de printerondersteuningslijst hieronder voor details
over specifieke printers.
<P>Een paar printers zitten daar tussenin.
Een aantal van de modellen van NEC implementeren bijvoorbeeld een 
eenvoudige vorm van de standaard printertaal PCL, waarmee
met PCL-sprekende software is toegestaan tot 300dpi af te drukken, maar 
alleen NEC weet hoe het de volledige 600dpi uit deze printers kan halen.
<P>Merk op dat als je al &eacute;&eacute;n van deze Winprinters hebt, er
omslachtige manieren zijn om het voor elkaar te krijgen dat Linux ernaar kan
printen, maar ze veroorzaken nogal wat narigheid en ik heb het zelf 
nooit geprobeerd. Zie Sectie 12 van dit
document voor een verdere bespreking van printers die alleen voor
Windows zijn bestemd.
<H2>4.1 Postscript</H2>

<P>Voor wat betreft de printers die <EM>wel</EM> onder Linux werken, is
de beste keuze een printer met ingebouwde PostScript ondersteuning te kopen. 
Bijna alle Unix software waarmee afdrukbare uitvoer wordt geproduceerd, 
produceert het in PostScript, dus uiteraard zou het fijn zijn om aan een printer
te komen die PostScript direct ondersteunt.
Helaas is de ondersteuning voor Postscript buiten het 
laserprinter domain schaars, en soms is het een kostbare uitbreiding.
<P>Unix software, en de publicerende industrie in het algemeen, hebben
Postscript algemeen erkend als de printerbesturingstaal van hun keuze.
Dit gebeurde om verscheidene redenen:
<DL>
<DT><B>Keuze van het tijdstip</B><DD><P>Postscript kwam als onderdeel van de 
Apple Laserwriter, een perfecte combinatie met de Macintosh, het systeem
dat op grote schaal verantwoordelijk is voor de desktop publishing revolutie
van de 80'r jaren.
<DT><B>Z'n device-onafhankelijkheid</B><DD><P>Postscript programma's kunnen worden 
uitgevoerd om uitvoer te genereren op een pixel-scherm, een vector 
scherm, een faxmachine, van bijna alle soorten afdrukmechanismen, zonder
dat het originele programma daarvoor nodig is.
De Postscript uitvoer ziet er op ieder Postscript device hetzelfde
uit, op z'n minst binnen de beperkingen van de capaciteiten van 
het device. Voor de aanmaak van PDF, wisselden
mensen online complexe documenten als Postscript-bestanden uit. De enige
reden dat deze standaard het niet "uithield", was omdat Windows-computers
meestal niet waren voorzien van een Postscript previewer, 
dus Adobe specificeerde
hyperlinks en compressie voor Postscript, noemde het resultaat PDF,
distribueerde er previewers voor, en vond een markt voor hun
"distiller" tools (de functionaliteit waar ook door
ghostscript's ps2pdf en pdf2ps programma's in is voorzien).
<DT><B>Het is een echte programmeertaal</B><DD><P>Postscript is een complete
programmeertaal; je kunt software schrijven om er bijna alles mee te
doen. Dit is vooral handig voor het defini&euml;ren van subroutines 
aan het begin van je programma, om complexe zaken te herproduceren
telkens weer het hele document door,
zoals een logo of een grote "CONCEPT" op de achtergrond.
<DT><B>Het is open</B><DD><P>Postscript is volledig gespecificeerd in een voor het
publiek beschikbare serie boeken (die je bij iedere goede boekwinkel 
kunt kopen). 
Alhoewel Adobe het uitvond en in de dominante commerci&euml;le
implementatie voorziet, produceren andere verkopers, zoals Aladdin, ook nog
onafhankelijke gecodeerde implementaties.   
</DL>
<H2>4.2 Niet-Postscript</H2>

<P>Als je het (grotere) budget niet hebt, dat nodig is om een Postscript-printer
te kopen, kun je elke printer gebruiken die door Ghostscript wordt ondersteund. 
Ghostscript is de vrij-verkrijgbare Postscript interpreter,
die in de plaats van de feitelijke printer Postscript ondersteuning, 
wordt gebruikt. Op de
<A HREF="http://www.cs.wisc.edu/~ghost/">Ghostscript Home Page</A> staat een lijst met ondersteunde printers en informatie over de status
van nieuwe en experimentele drivers. Merk op dat op deze pagina ondersteunde
printers van de laatste versie van Ghostscript staan, terwijl de meeste Linux
distributies slechts een wat verouderde versie van Ghostscript mee kunnen
leveren vanwege de licentie. Gelukkig bestaat er een voorverpakt en up-to-date
package Ghostscript dat in ieder contributiegebied beschikbaar wordt gesteld.
Help alsjeblieft de Ghostscript printerondersteunings pagina door 
je successen en mislukkingen te rapporteren, waar om wordt gevraagd.
<P> 
Adobe heeft nu een nieuwe printertaal met de naam "PrintGear". Ik denk
dat het een sterk vereenvoudigde taal in binair formaat is, met wat Postscript
erfenissen, maar zonder Postscript compatibiliteit. En ik weet niet
of Ghostscript het ondersteunt. Maar het schijnt dat een aantal PrintGear
printers een andere taal zoals PCL ondersteunen, en deze printers zullen
met Linux werken (als de PCL in de printer is ge&iuml;mplementeerd en
niet in een Windows-driver).
<H2>4.3 Welke printers werken?</H2>

<P>Als je een printer wilt kopen, kun je op verscheidene plaatsen kijken,
om er achter te komen of het zal werken.
De co&ouml;peratieve beheerde Printing HOWTO printer
<A HREF="http://www.picante.com/~gtaylor/pht/printer_list.cgi">database</A> streeft ernaar een uitgebreide lijst met de stand van
Linux printer ondersteuning te zijn. Een samenvatting ervan staat hieronder; 
controleer het online voor meer details en informatie
voor welke driver je moet gebruiken.
<P>Ghostscript's 
<A HREF="http://www.cs.wisc.edu/~ghost/printer.html">printer compatibiliteitenpagina</A> bevat een lijst met een aantal
werkende printers, als ook links naar andere pagina's.
En Dejanews bevat honderden
"het werkt" en "het werkt niet" verklaringen.  Probeer ze alle drie
en als je dit gedaan hebt, controleer dan of je printer aanwezig is
en klopt in de 
<A HREF="http://www.picante.com/~gtaylor/pht/printer_list.cgi">database</A>, zodat het in de toekomst juist in dit document zal
worden weergegeven.
<H3>Printer compatibiliteitenlijst</H3>

<P>Deze sectie is een samenvatting van de online versie. De online versie
bevat ook de basisspecificaties, opmerkingen, links naar driver-informatie,
gebruikers-beheerde documentatie, webpages van fabrikanten, enzovoort.
De online versie van deze lijst is ook interactief; mensen kunnen 
continue printers toevoegen en doen dit ook, dus zorg ervoor dat
je deze ook controleert.
Als laatste, als je printer niet in de lijst staat, voeg deze dan toe!
<P>Printers staan hier in vier categori&euml;n onderverdeeld:
<DL>
<DT><B>Perfectly</B><DD><P>Perfect printers werken perfect - je kunt afdrukken met
de volledige mogelijkheden van de printer,
inclusief kleur, de volledige resolutie, enz.
In een paar gevallen staan printers, met ongedocumenteerde
"resolutie vergroting" modes die niet werken, als perfect weergegeven; 
in het algemeen is het verschil in de afdrukkwaliteit klein genoeg dat 
het niet waard is om je druk om te maken.
<DT><B>Mostly</B><DD><P>Je kunt prima afdrukken, maar er zijn kleine beperkingen van
bepaalde aard met betrekking tot afdrukken of andere faciliteiten.
<DT><B>Partially</B><DD><P>Je kunt afdrukken, maar misschien niet in kleur, of alleen
in een lage resolutie. Zie de online kolom met opmerkingen voor informatie
over de beperking.
<DT><B>Paperweight</B><DD><P>Je kunt geen ene moer afdrukken; dit zal typisch te wijten 
zijn aan het ontbreken van een driver
en/of documentatie over hoe er &eacute;&eacute;n geschreven kan worden.
</DL>

Aangezien in deze informatie door dozijnen mensen is voorzien, wordt in
geen van de gevallen gegarandeerd dat ze correct is.
Het zou echter makkelijk te bevestigen moeten zijn vanaf de webpages van
de driver en websites van de fabrikanten.
<P>En zonder verdere ophef is hier de printer-compatibiliteitenlijst:
<DL>
<DT><B>Apple</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>LaserWriter 16/600,
LaserWriter IINTX,
LaserWriter Select 360.
<DT><B>Mostly</B><DD><P>12/640ps.
<DT><B>Paperweight</B><DD><P>StyleWriter 2500.
</DL>
<DT><B>Avery</B><DD><P> 
<DL>
<DT><B>Perfectly</B><DD><P>Personal Label Printer+.
<DT><B>Mostly</B><DD><P>Personal Label Printer.
</DL>
<DT><B>Brother</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>HL-1070,
HL-10V,
HL-10h,
HL-1260,
HL-2060,
HL-4Ve,
HL-630,
HL-660,
HL-720,
HL-730,
HL-760,
HL-8.
<DT><B>Mostly</B><DD><P>HJ-400,
HL-1040,
HL-1050,
HL-1060,
HL-1250,
MFC 6550MC.
<DT><B>Partially</B><DD><P>MC-3000,
MFC 7150C.
<DT><B>Paperweight</B><DD><P>HL-820.
</DL>
<DT><B>Canon</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>BJ-10e,
BJ-20,
BJ-200,
BJ-330,
BJ-5,
BJC-210,
BJC-250,
BJC-4000,
BJC-4100,
BJC-4200,
BJC-4300,
BJC-4400,
BJC-600,
BJC-6000,
BJC-610,
BJC-620,
BJC-70,
BJC-800,
LBP-1260,
LBP-1760,
LBP-4+,
LBP-4U,
LBP-8A1,
LBP-8II,
LIPS-III.
<DT><B>Mostly</B><DD><P>BJ-300,
BJC-1000,
BJC-2000,
BJC-240,
BJC-4310SP,
BJC-7004,
BJC-80,
LBP-4sx.
<DT><B>Partially</B><DD><P>BJC-4550,
BJC-7000,
BJC-7100,
MultiPASS C2500,
MultiPASS C3500,
MultiPASS C5000,
Multipass C3000,
Multipass C5500.
<DT><B>Paperweight</B><DD><P>BJC-5000,
LBP-460,
LBP-660,
Multipass L6000.
</DL>
<DT><B>Citizen</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>ProJet II,
ProJet IIc.
<DT><B>Partially</B><DD><P>printiva600C.
</DL>
<DT><B>DEC</B><DD><P> 
<DL>
<DT><B>Perfectly</B><DD><P>DECWriter 500i,
DECwriter 110i,
DECwriter 520ic,
LN03.
<DT><B>Partially</B><DD><P>1800.
</DL>
<DT><B>Dymo-CoStar</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>ASCII 250,
ASCII+,
EL40,
EL60,
LabelWriter II,
LabelWriter XL,
LabelWriter XL+,
SE250,
SE250+,
Turbo.
</DL>
<DT><B>Epson</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>ActionLaser 1100,
LP 8000,
LQ 850,
SQ 1170,
Stylus Color,
Stylus Color 400,
Stylus Color 440,
Stylus Color 640,
Stylus Color 800,
Stylus Color 850,
Stylus Color II,
Stylus Color IIs,
Stylus Pro XL.
<DT><B>Mostly</B><DD><P>EPL 5700,
Stylus 300,
Stylus Color 3000,
Stylus Color 500,
Stylus Color 740.
<DT><B>Partially</B><DD><P>Stylus Color 300,
Stylus Color 900,
Stylus Photo 700,
Stylus Photo 750,
Stylus Photo EX.
</DL>
<DT><B>Fujitsu</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>PrintPartner 10V,
PrintPartner 16DV,
PrintPartner 20W,
PrintPartner 8000.
</DL>
<DT><B>HP</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>2000C,
2500C,
Color LaserJet 4500,
DeskJet 1200C,
DeskJet 1200C/PS,
DeskJet 1600C,
DeskJet 1600Cm,
DeskJet 310,
DeskJet 400,
DeskJet 420C,
DeskJet 500,
DeskJet 500C,
DeskJet 510,
DeskJet 520,
DeskJet 540,
DeskJet 550C,
DeskJet 600,
DeskJet 610C,
DeskJet 610CL,
DeskJet 612C,
DeskJet 660C,
DeskJet 670C,
DeskJet 672C,
DeskJet 682C,
DeskJet 690C,
DeskJet 694C,
DeskJet 697C,
DeskJet 810C,
DeskJet 812C,
DeskJet 850C,
DeskJet 855C,
DeskJet 882C,
DeskJet 890C,
DeskJet 970Cxi,
LaserJet 1100,
LaserJet 1100A,
LaserJet 2 w/PS,
LaserJet 2100M,
LaserJet 2P,
LaserJet 3,
LaserJet 3P w/PS,
LaserJet 4,
LaserJet 4 Plus,
LaserJet 4050N,
LaserJet 4L,
LaserJet 4M,
LaserJet 4P,
LaserJet 5,
LaserJet 5000,
LaserJet 5L,
LaserJet 5M,
LaserJet 5MP,
LaserJet 5P,
LaserJet 6L,
LaserJet 6MP,
LaserJet 6P,
LaserJet 8000,
LaserJet 8100,
Mopier 320,
PaintJet XL300.
<DT><B>Mostly</B><DD><P>DesignJet 650C,
Designjet 750 C Plus,
DeskJet 1120C,
DeskJet 870C,
DeskJet 880C,
DeskJet 895C,
DeskJet 895Cxi,
DeskJet 970Cse,
LaserJet 2,
LaserJet 2100.
<DT><B>Partially</B><DD><P>DeskJet 1000C,
DeskJet 710C,
DeskJet 712C,
DeskJet 720C,
DeskJet 722C,
DeskJet 820C,
OfficeJet 500,
OfficeJet 600,
OfficeJet 625,
OfficeJet Pro 1150C.
<DT><B>Paperweight</B><DD><P>LaserJet 3100.
</DL>
<DT><B>IBM</B><DD><P> 
<DL>
<DT><B>Perfectly</B><DD><P>4019,
4029 10P,
4303 Network Color Printer,
Page Printer 3112,
ProPrinterII.
</DL>
<DT><B>Kyocera</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>F-3300,
FS-1700+,
FS-600,
FS-800,
P-2000.
<DT><B>Mostly</B><DD><P>FS-3500.
</DL>
<DT><B>Lexmark</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>4039 10plus,
Optra Color 1200,
Optra Color 1275,
Optra Color 40,
Optra Color 45,
Optra E,
Optra E+,
Optra E310,
Optra Ep,
Optra K 1220,
Optra R+,
Optra S 1250,
Optra S 1855,
Valuewriter 300.
<DT><B>Mostly</B><DD><P>1000,
1100,
2070,
5000,
5700,
7000,
7200.
<DT><B>Partially</B><DD><P>1020 Business,
2030,
Winwriter 400,
Z51.
<DT><B>Paperweight</B><DD><P>1020,
2050,
3000,
3200,
Winwriter 100,
Winwriter 150c,
Winwriter 200,
Z11.
</DL>
<DT><B>Minolta</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>PagePro 6,
PagePro 6e,
PagePro 6ex,
PagePro 8.
<DT><B>Partially</B><DD><P>PagePro 8L.
</DL>
<DT><B>NEC</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>P2X,
SilentWriter LC 890,
Silentwriter2 model 290,
SuperScript 660i.
<DT><B>Partially</B><DD><P>SuperScript 100C,
SuperScript 1260,
SuperScript 150C,
SuperScript 650C,
SuperScript 750C,
SuperScript 860,
SuperScript 870.
<DT><B>Paperweight</B><DD><P>SuperScript 610plus,
SuperScript 660,
SuperScript 660plus.
</DL>
<DT><B>Oce</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>3165.
</DL>
<DT><B>Okidata</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>8p,
OL 410e,
OL 600e,
OL 610e/PS,
OL 800,
OL 810e/PS,
OL400ex,
OL810ex,
OL830Plus,
Okipage 10e,
Okipage 12i,
Okipage 20DXn,
Okipage 6e,
Okipage 6ex,
Okipage 6w,
Okipage 8c.
<DT><B>Mostly</B><DD><P>OL 400w,
Okipage 4w,
Super 6e.
<DT><B>Partially</B><DD><P>ML 192+,
OL 610e/S.
<DT><B>Paperweight</B><DD><P>Okijet 2010,
Okijet 2500,
Okipage 8w.
</DL>
<DT><B>Olivetti</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>JP350S,
JP450,
PG 306.
</DL>
<DT><B>PCPI</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>1030.
</DL>
<DT><B>Panasonic</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>KX-2135,
KX-P1123,
KX-P1124,
KX-P1150,
KX-P2023,
KX-P2150,
KX-P4410,
KX-P4450,
KX-P5400,
KX-P8420,
KX-P8475.
<DT><B>Mostly</B><DD><P>KX-P2123,
KX-P6150.
<DT><B>Partially</B><DD><P>KX-P6500.
<DT><B>Paperweight</B><DD><P>KX-P6100,
KX-P6300 GDI,
KX-P8410.
</DL>
<DT><B>Printrex</B><DD><P>
<DL>
<DT><B>Partially</B><DD><P>820 DL.
</DL>
<DT><B>QMS</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>2425 Turbo EX.
<DT><B>Mostly</B><DD><P>ps-810.
</DL>
<DT><B>Ricoh</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>4801,
6000.
<DT><B>Paperweight</B><DD><P>Aficio Color 2206,
Afico FX10.
</DL>
<DT><B>Samsung</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>ML-5000a.
<DT><B>Paperweight</B><DD><P>ML-85G.
</DL>
<DT><B>Seiko</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>SpeedJET 200.
<DT><B>Mostly</B><DD><P>SLP,
SLP 120,
SLP 220,
SLP EZ30,
SLP Plus,
SLP Pro.
</DL>
<DT><B>Sharp</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>AR-161.
</DL>
<DT><B>Star</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>NL-10.
<DT><B>Mostly</B><DD><P>LC 90,
LC24-200.
<DT><B>Paperweight</B><DD><P>WinType 4000.
</DL>
<DT><B>Tally</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>MT908.
</DL>
<DT><B>Tektronix</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>4696,
4697,
Phaser 780,
Phaser IISX,
Phaser PX.
</DL>
<DT><B>Xerox</B><DD><P>
<DL>
<DT><B>Perfectly</B><DD><P>DocuPrint 4508,
DocuPrint C55,
DocuPrint N17,
DocuPrint N32.
<DT><B>Mostly</B><DD><P>DocuPrint P12,
DocuPrint P8e,
Document Homecentre,
XJ6C.
<DT><B>Partially</B><DD><P>WorkCentre 450cp,
XJ8C.
<DT><B>Paperweight</B><DD><P>DocuPrint P8,
WorkCentre XD120f.
</DL>
</DL>
<H2>4.4 Hoe koop je een printer?</H2>

<P>Het is tegenwoordig wat moeilijk een printer uit te kiezen; er zijn nogal
wat modellen om uit te kiezen. Hier zijn een aantal tips:
<DL>
<DT><B>Kosten</B><DD><P>Je krijgt waarvoor je betaalt. De meeste printers onder de
$200 zullen redelijk goed afdrukken, maar de kosten per pagina zijn erg
hoog. Bij een aantal printers heb je voor &eacute;&eacute;n of twee
cartridges al weer een nieuwe printer! De goedkoopste printers gaan
echter niet erg lang mee. De minst dure printers hebben een MTBF van
ongeveer 3 maanden!
<DT><B>Inkjets</B><DD><P>De printkoppen van een Inkjet zullen op den duur verstopt
raken, wat niet te repareren is, dus heb je de mogelijkheid de kop op
&eacute;&eacute;n of andere manier te vervangen. De printkoppen van Inkjets
zijn duur, dus je kunt de kop beter maar alleen vervangen wanneer het echt
nodig is. Het schijnt dat de Epson Stylus printers koppen hebben die hersteld
kunnen worden, en dat HP DeskJets de koppen in de cartridges hebben 
ge&iuml;ntegreerd. Canons hebben cartridges bestaande uit drie delen die
onafhankelijk van elkaar vervangbare inktreservoirs; ik vind dit ontwerp
wel prettig. OTOH, de HP cartridges zijn niet zoveel duurder, en HP is
over de gehele linie beter; Canon is vaak de derde keus vanuit het oogpunt
van kwaliteit. 
<DT><B>Lasers</B><DD><P>Laserprinters consumeren een drum en toner. Het goedkoopste
ontwerp heeft de toner en drum in &eacute;&eacute;n grote cartridge;
deze ontwerpen zijn het duurst in het gebruik. De beste ontwerpen voor
grote hoeveelheden maken gebruik van gewone tonerpoeder of tenminste
aparte tonercartridges en drums.
<DT><B>Fotografie</B><DD><P>De beste kleurenuitvoer van foto's komt van doorlopende
tone-printers zoals de Tektronix Phasers (waxy dye) of de Alps series
(&eacute;&eacute;n of ander droog inkt-proces). Een paar van de Alps
units zijn werkelijk te veroorloven, maar deze werken nog niet onder Linux
(IIRC ze zijn gedocumenteerd). De meer algemene voor foto gespeciliseerde
inkjets maken meestal gebruik van 6 kleuren CMYKcm afdrukken of zelfs van een
7 kleuren CMYKcmy proces; alleen modellen met Postscript ondersteuning 
werken onder Linux, aangezien Ghostscript deze kleuren modellen niet schijnt
te ondersteunen. Goede CMYK uitvoer is echter niet te versmaden. Alle
printers gespecialiseerd in foto's zijn duur in het gebruik; &oacute;f
je blauw raakt altijd op en je moet de gehele cartridge vervangen, of
je betaalt nogal veel aan de individuele kleurnavullingen voor je
dure foto-printer.
<DT><B>Snelheid</B><DD><P>Snelheid is evenredig aan verwerkingskracht, bandbreedte,
en in het algemeen de kosten van de printer. De snelste printers zijn
netwerk postscript printers met krachtige interne processors. Printers
voor de gewone consument zijn deels afhankelijk van de snelheid van
Ghostscript, wat je nog iets kunt be&iuml;nvloeden met een redelijk
goede krachtige computer; in het bijzonder kunnen volledige kleurenpagina's
grote hoeveelheden host-memory consumeren.
<DT><B>Dot Matrix</B><DD><P>Als je op carbonformulieren af wilt drukken, heb je 
een impact printer nodig; veel bedrijven produceren nog steeds dot
matrix printers, de meeste daarvan emuleren traditionele Epson modellen
en werken dus prima.
<DT><B>Labels</B><DD><P>Er zijn twee series ondersteunde labelprinters; zoek naar
de Dymo-Costar en de Seiko SLP modellen. Het kan zijn dat andere modellen
niet werken. Avery maakt ook diverse groottes sticheretiketten in
8.5x11 formaat die je voor je gewone printer kunt gebruiken.
<DT><B>Plotting</B><DD><P>Grote conceptformaten worden tegenwoordig meestal door
monster inkjets ondersteund; HP is een populaire keuze. Middelgrote
(11x17) inkjets worden gewoonlijk ook voor kleinere afdrukken gebruikt.
Veel plotting van deze soort wordt gedaan met de talen RTL, HP-GL, en
HP-GL/2, wat allen eenvoudige HP's eigen vector-talen zijn die gewoonlijk
direct door applicatie-software worden gegenereerd.
</DL>
<H2><A NAME="s5">5. Welke spooling software?</A></H2>

<P>Tot voor kort, was de keuze voor Linux gebruikers eenvoudig - iedereen draaide
hetzelfde oude lpd dat voornamelijk letterlijk afkomstig is van de Net-2 code
van BSD. Zelfs nu nog leveren de meeste verkopers deze software. Maar dit 
is op SVR4 lijkende systemen - waaronder Sun's Solaris - aan het wijzigen.
Ze komen met een volledig ander print spooling package, geconcentreerd rondom
lpsched. En er zijn tekenen dat een aantal verkopers van Linux over 
zullen stappen op de levering van LPRng,
een veel minder oude printspooling implementatie dat vrij-verkrijgbaar
is. LPRng is voor grote installaties veel gemakkelijker te beheren.
(lees: meer dan &eacute;&eacute;n printer, elke seri&euml;le printer, van
of elke bijzondere niet-lpd netwerkprinter) en heeft een minder ontzaglijk
willekeurige codebase dan het stereotiepe lpd. Er kan zelfs eerlijk van
worden beweerd dat het veilig is
- er zijn geen SUID binaries, en het ondersteunt authenticatie via PGP
van Kerberos.
<P> 
Een interessante nieuwkomer is "CUPS", een implementatie van het
Internet Printing Protocol, een RFC-gedefinieerde vervangend protocol
voor het eerbiedwaardige  lpd-protocol. De primaire
implementatie hiervan is de open-source component van het commerci&euml;le
product "Easy Print", welke bestaat uit een intelligente spooler en een
verzameling commerci&euml;le printerdrivers gebouwd rond Ghostscript.
<P>Voor het moment, zelfs in het licht van de nieuwe opties, is lpd 
voor de meeste Linux-gebruikers waarschijnlijk prima. Ondanks dat het
niet het geweldigste systeem is, werkt het prima zodra het 
&eacute;&eacute;nmaal is ingesteld, het wordt goed begrepen en is
uitgebreid in Unix-boeken van derden gedocumenteerd.
<P>Als je graag meer informatie over LPRng zou willen hebben, 
kijk dan op de 
<A HREF="http://www.astart.com/lprng/LPRng.html">LPRng Web Page</A>. In toekomstige
versies van deze HOWTO zal informatie over het gebruik van zowel LPRng
als de gewone lpd worden opgenomen.
<H2><A NAME="s6">6. Hoe het werkt, basis</A></H2>

<P>
<P>Om het afdrukken goed te kunnen laten werken, zul je moeten begrijpen hoe het
lpd-systeem werkt.
<P>Lpd staat voor Line Printer Daemon, en verwijst in verschillende contexten
naar zowel de daemon als de gehele verzameling programma's waarmee
print spooling wordt gedraaid. Dit zijn:
<P>
<DL>
<DT><B><CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/lpd.8.html">lpd</A></CODE>De spooling daemon.</B><DD><P> &Eacute;&eacute;n hiervan draait 
om alles op een computer te besturen, EN &eacute;&eacute;n
draait per printer op het moment dat de printer aan 't
afdrukken is.
<DT><B><CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/lpr.1.html">lpr</A></CODE></B><DD><P>Het gebruikers spooling commando.  Lpr zoekt contact met lpd
en brengt een nieuwe afdruktaak in de spool.
<DT><B><CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/lpq.1.html">lpq</A></CODE></B><DD><P>Toont de taken in een wachtrij.
<DT><B><CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/lpc.8.html">lpc</A></CODE></B><DD><P>Het Lpd systeem beheercommando. Met lpc kun je
de afdrukwachtrijen stoppen, starten, opnieuw ordenen, enz.
<DT><B><CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/lprm.1.html">lprm</A></CODE></B><DD><P><CODE>lprm</CODE> zal een taak uit de print spool verwijderen.
</DL>
<P>Maar hoe valt dit nu samen?  Als het systeem wordt opgestart, wordt
lpd uitgevoerd.
Het scant het bestand <EM>/etc/printcap</EM> om kennis te nemen van de
printers waar het spools voor zal gaan beheren.
Iedere keer als iemand lpr opstart, zoekt lpr contact met
lpd via de named socket <EM>/dev/printer</EM>, en geeft
lpd zowel het bestand dat moet worden afgedrukt en wat informatie over
wie aan het afdrukken is en hoe het moet worden afgedrukt.
Lpd drukt op zijn beurt vervolgens het bestand af op de daarvoor bestemde
printer.
<P>Het lp-systeem werd van origine ontworpen toen de meeste printers nog
regelprinters waren
- dat hield in dat mensen meestal plain ascii afdrukte. Waar het op
neer komt, is dat er slechts wat extra scriptwerk voor nodig is om te zorgen
dat lpd heel goed werkt voor de hedendaagse afdruktaken, die vaak in
PostScript, of tekst, of dvi, of.... staan.
<H2><A NAME="s7">7. Hoe zaken in te stellen, basis</A></H2>

<H2>7.1 Traditionele lpd configuratie</H2>

<P>De minimale setup voor lpd resulteert in een systeem 
die de bestanden in een wachtrij kan plaatsen en ze kan afdrukken.
Het zal er geen enkele aandacht aan schenken, of je printer ze
zal begrijpen of niet, en zal je waarschijnlijk geen aantrekkelijke uitvoer
laten produceren. Toch is het de eerste stap naar begrip, dus lees verder!
<P>Om een afdrukwachtrij aan lpd toe te voegen, moet je een record in 
<EM>/etc/printcap</EM>, en de nieuwe spooldirectory onder
<EM>/var/spool/lpd</EM> aanmaken.
<P>Een record in <EM>/etc/printcap</EM> ziet er ongeveer zo uit:
<BLOCKQUOTE><CODE>
<PRE>
# LOCAL djet500
lp|dj|deskjet:\
        :sd=/var/spool/lpd/dj:\
        :mx#0:\
        :lp=/dev/lp0:\
        :sh:
</PRE>
</CODE></BLOCKQUOTE>

Hiermee wordt een spool met de naam <EM>lp</EM>, <EM>dj</EM>, of <EM>deskjet</EM>
gedefinieerd, tijdelijke opslag in de directory <EM>/var/spool/lpd/dj</EM>, 
zonder een maximumlimiet per taak, die afdrukt naar het device
<EM>/dev/lp0</EM>, en zonder bannerpage
(met de naam van de persoon die het afdrukte, enz)
aan het begin van de afdruktaak toegevoegd.
<P>Lees nu de manpage voor <EM>
<A HREF="http://www.picante.com/~gtaylor/pht/man/printcap.5.html">printcap</A></EM>.
<P>Het bovenstaande lijkt zeer eenvoudig, maar
er is een valstrik - tenzij ik bestanden verstuur die een DeskJet 500
kan begrijpen, zal deze DeskJet vreemde dingen afdrukken.
Het versturen van bijvoorbeeld een gewoon Unix-tekstbestand
naar een Deskjet resulteert in letterlijk ge&iuml;nterpreteerde
newlines, en geeft me:
<BLOCKQUOTE><CODE>
<PRE>
Dit is regel &eacute;&eacute;n.
                 Dit is regel twee.
                                  Dit is regel drie.
</PRE>
</CODE></BLOCKQUOTE>

Het afdrukken van een PostScript bestand naar deze spool
zou resulteren in een prachtige lijst met PostScript-commando's,
afgedrukt met dit "staircase effect", maar geeft geen bruikbare uitvoer.
<P>Er is duidelijk meer voor nodig, en dit is het doel van filteren.
De oplettenden onder jullie, die de printcap manpage hebben gelezen,
is misschien de kenmerken <EM>if</EM> en <EM>of</EM> opgevallen.
<EM>if</EM>, of de invoerfilter, is nu net wat we hier nodig hebben.
<P>Als we een klein shell-script met de naam <EM>filter</EM> schrijven
waarmee carriage returns voor de newlines worden ingevoegd, kan het 
trapsgewijze afdrukken worden uitgeschakeld. Dus we moeten een <EM>if</EM> regel
aan ons printcap-record van hierboven toevoegen:
<BLOCKQUOTE><CODE>
<PRE>
lp|dj|deskjet:\
        :sd=/var/spool/lpd/dj:\
        :mx#0:\
        :lp=/dev/lp0:\
        :if=/var/spool/lpd/dj/filter:\
        :sh:
</PRE>
</CODE></BLOCKQUOTE>

Een eenvoudig filterscript zou kunnen zijn:
<BLOCKQUOTE><CODE>
<PRE>
#!perl
# In de regel hierboven zou het hele pad naar perl moeten worden opgenomen
# Dit script moet uitvoerbaar zijn: chmod 755 filter
while(&lt;STDIN>){chop $_; print "$_\r\n";};
# Je wilt misschien ook nog met een form feed eindigen: print "\f";
</PRE>
</CODE></BLOCKQUOTE>

Als we het bovenstaande zouden doen, zouden we een spool hebben waarnaar
we reguliere Unix tekstbestanden zouden kunnen printen om zinvolle
resultaten te verkrijgen.
(Ja, er zijn vier miljoen betere manieren om dit filter te schrijven, 
maar weinig zo illustratief. Je wordt aangemoedigd dit effici&euml;nter
te doen.)
<P>Het enige resterende probleem is het afdrukken van plain tekst
- zeker het zou beter zijn om PostScript en andere geformatteerde
grafische uitvoer te kunnen afdrukken.
Ja, dat is zo, en het is makkelijk te doen. 
De methode is eenvoudig een uitbreiding van het
hierbovenstaande linefeed-herstel filter. Als je een filter schrijft dat 
willekeurige bestandstypes als invoer accepteert en
DeskJet-uitvoer voor iedere situatie produceert, dan heb je inderdaad
een slimme print spooler!
<P>Een dergelijk filter wordt een <EM>magic</EM> filter genoemd.
Doe geen moeite om er zelf &eacute;&eacute;n te schrijven, tenzij
je nogal bizarre zaken afdrukt - 
er zijn er al vele goede voor je geschreven en op het net verkrijgbaar.
APS Filter behoort tot de beste, of er moet zich in je Linux-distributie
een printersetup-tool bevinden die het je allemaal nogal makkelijk maakt.
<H2>7.2 Bestandspermissies</H2>

<P>Op veler verzoek, voeg ik hieronder een lijst in van de permissies van
de interessante bestanden op mijn systeem. Er zijn wat betere manieren
om dit te doen, ideaal gezien door alleen gebruik te maken van SGID
binaries en niet alles als SUID root in te stellen,
maar zo kwam mijn systeem uit de verpakking, en voor mij werkt het.
(Eerlijk gezegd, als je verkoper zelfs geen werkende lpd kan leveren,
heb je nog wat te doorstaan).
<BLOCKQUOTE><CODE>
<PRE>
-r-sr-sr-x   1 root     lp    /usr/bin/lpr*
-r-sr-sr-x   1 root     lp    /usr/bin/lprm*
-rwxr--r--   1 root     root  /usr/sbin/lpd*
-r-xr-sr-x   1 root     lp    /usr/sbin/lpc*
drwxrwxr-x   4 root     lp    /var/spool/lpd/
drwxr-xr-x   2 root     lp    /var/spool/lpd/lp/
</PRE>
</CODE></BLOCKQUOTE>
<P>Lpd moet thans als root worden gedraaid zodat het verbonden kan worden met
de laag-genummerde lp service poort. Het zou waarschijnlijk ingesteld moeten
staan met UID lp.lp of iets dergelijks na binding, maar ik denk niet dat dit
zo is. 
<H2><A NAME="s8">8. Verkrijgen van Afdruksoftware</A></H2>

<P>Veel reeds geschreven filterpackages (en andere printer-gerelateerde software)
is beschikbaar vanaf <CODE>
<A HREF="ftp://metalab.unc.edu/pub/Linux/system/printing/">Metalab</A></CODE>. Dergelijke
utility's zoals psutils, a2ps, mpage, dvitodvi, flpr, enz zijn daar
allemaal te vinden.
<P>Er verschenen zelfs verscheidene packages die allen probeerden de 
printerconfiguratie makkelijker te maken.
Ze bestaan waarschijnlijk allemaal nog, maar &eacute;&eacute;n van de beste en
meest up-to-date is het APS Filter package van Andreas Klemm,
welke een menugestuurd printcap configuratieprogramma heeft en praktisch
alle denkbare typen invoer afhandelt.
Als je verkoper je geen mooi afdruksetuptool levert, is APS Filter
de manier om het te doen.
<H2><A NAME="s9">9. Verkopers Oplossingen</A></H2>

<P>Deze sectie is, per definitie, onvolledig. Stuur gerust details
in van je favoriete distributie.
<H2>9.1 Red Hat</H2>

<P>Red Hat heeft een GUI afdrukbeheertool (in de control panel)
waarmee remote printers en printers op lokale devices kunnen worden
ingesteld. Je kunt er een door ghostscript ondersteund printertype
mee uitkiezen en een Unix apparaatbestand om naar af te drukken, 
vervolgens installeert het een afdrukwachtrij in
<EM>/etc/printcap</EM> en schrijft een kort PostScript-en-ascii magicfilter
gebaseerd rondom <CODE>gs</CODE> en <CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/nenscript.1.html">nenscript</A></CODE>.
Deze oplossing werkt tamelijk goed, en is voor het instellen van alledaagse
situaties erg simpel.
<P>Waar Red Hat niet in slaagt is, als je een printer hebt, die niet door
hun standaard Ghostscript (welke GNU is in plaats van Aladdin Ghostscript,
en welke minder printers ondersteunt) wordt ondersteund.
Controleer de printer-compatibiliteitenlijst hierboven (of 
<A HREF="http://www.picante.com/~gtaylor/pht/printer_list.cgi">online</A>) als je bemerkt dat je geen juiste afdrukken met de
Red Hat software kunt produceren.
Als je printer niet door de tools van Red Hat
wordt ondersteund, zul je misschien een versie van Aladdin Ghostscript moeten
installeren. Je zult waarschijnlijk ook beter af zijn als je het
apsfilter package gebruikt, welke bekend is met de printers die door 
de late modellen van Ghostscripts worden ondersteund.
<H2>9.2 Debian</H2>

<P>Debian biedt een keuze uit plain lpd en LPRng; LPRng is waarschijnlijk
een betere keuze. Ik geloof dat Debian ook een keuze uit configuratietools
voor de printer biedt; apsfilter versie 5 of later is waarschijnlijk je
beste kans, aangezien die versie ondersteuning toevoegt voor LPRng en
Ghostscript's uniprint driver schema.
<H2>9.3 Andere Distributies</H2>

<P>Stuur me alsjeblieft informatie op over wat andere distributies doen!
<H2><A NAME="s10">10. Ghostscript</A></H2>

<P>
<A HREF="http://www.cs.wisc.edu/~ghost/">Ghostscript</A> is
een ongelofelijk veelbetekenend programma voor het afdrukken onder Linux.
De meeste afdruksoftware onder Unix genereert PostScript,
wat typisch een $100 optie voor een printer is.
Ghostscript is echter vrij-verkrijgbaar en zal de taal van je printer
vanuit PostScript genereren.
Wanneer verbonden met je <CODE>lpd</CODE> input filter, geeft het je een virtuele
PostScript printer en vereenvoudigt het 't leven enorm.
<P>Ghostscript is in twee vormen beschikbaar. De commerci&euml;le versie van
Ghostscript, met de naam Aladdin Ghostscript, mag vrij worden gebruikt voor
persoonlijk gebruik, maar mag niet door commerci&euml;le Linux distributies
worden gedistribueerd.
Het loopt gewoonlijk ongeveer een jaar vooruit op de vrij-verkrijgbare
Ghostscript; op het moment ondersteunt het bijvoorbeeld veel kleuren
inktjets die de oudere Ghostscripts niet ondersteunen.
<P>De vrij verkrijgbare versie van Ghostscript is GNU Ghostscript, en is
gewoon een verouderde versie van Aladdin ghostscript 
aan GNU geschonken.  (Roem aan
Aladdin voor deze regeling; meer verkopers van software zouden vrije
software op deze manier moeten ondersteunen, als het niet mogelijk is
dat ze hun geheel ontwikkelde code distribueren). 
<P>Wat je ook doet met <CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/gs.1.html">gs</A></CODE>, wees er
heel erg zeker van dat je het met de optie voor het deactiveren van 
bestandstoegang (<CODE>-dSAFER</CODE>) uitvoert. PostScript is een volledig 
functionele taal, en een slecht PostScript programma zou je een aardige
hoofdpijn kunnen bezorgen.
<P>PDF, het Portable Document Format van Adobe is in feite
niet veel meer dan 
georganiseerd PostScript in een gecomprimeerd bestand. Ghostscript kan
PDF invoer afhandelen net als het dat met PostScript doet.  
Dus je kunt de eerste van je groep zijn met een PDF-capabele printer.
<H2>10.1 Ghostscript Aanroepen</H2>

<P>Ghostscript zal draaien met wat voor magic filter je ook installeert
(ik raad je apsfilter aan als je verkoper je niet iets leverde waar
je wat aan hebt), maar voor het opsporen van fouten is het vaak
handig het direct uit te voeren.
<P><CODE>gs -help</CODE> zal een beknopte informatieve lijst met opties en
beschikbare drivers geven (merk op dat dit de lijst met drivers is die is 
ingecompileerd, niet de hoofdlijst met alle beschikbare drivers).
<P>Misschien wil je gs wel draaien voor testdoeleinden zoals:
<CODE>gs <EM>options</EM> -q -dSAFER -sOutputFile=/dev/lp1 test.ps</CODE>.
<H2>10.2 Ghostscript uitvoer fijnafstemmen</H2>

<P>Er zijn een aantal dingen die je kunt doen als de uitvoer van gs niet
naar je tevredenheid is (eigenlijk kun je alles doen wat je maar wilt,
aangezien je de source hebt).
<H3>Uitvoer lokatie en grootte</H3>

<P>De lokatie, grootte en breedte/hoogte-verhouding van de afbeelding op een
pagina wordt bepaald door de printer-specifieke driver in ghostscript. 
Als je bemerkt dat je pagina's er te vroeg afgebroken, of te lang,
of te groot met een factor twee uitkomen, wil je misschien eens kijken
in de source module van je driver en de parameters erin aanpassen.
Helaas is iedere driver anders, dus ik kan je niet echt zeggen wat je
aan moet passen, maar de meeste zijn redelijk goed gedocumenteerd.
<H3>Gamma, dotsizes, enz.</H3>

<P>De meeste niet-laser printers hebben als nadeel dat hun dots
nogal groot zijn. Dit resulteert in te donkere afbeeldingen. Als je
dit probleem ervaart zou je je eigen transportfunctie moeten gebruiken.
Maak gewoon het volgende bestand aan in de ghostscript lib-dir en voeg
de naam ervan toe aan de gs call vlak voor het eigenlijke bestand. 
Misschien dat je de feitelijke waarden aan je printer aan moet passen.
Hoe lager de waarde hoe helderder de afdruk.
Vooral als je driver gebruik maakt van een Floyd-Steinberg
algoritme om kleuren in rasters in te delen, zijn lagere waarden ( 0.2 - 0.15 )
waarschijnlijk een goede keus.
<P>
<BLOCKQUOTE><CODE>
<PRE>
---8&lt;---- gamma.ps ----8&lt;---
%!
%transfer functions for cyan magenta yellow black
{0.3 exp} {0.3 exp} {0.3 exp} {0.3 exp} setcolortransfer
---8&lt;------------------8&lt;---
</PRE>
</CODE></BLOCKQUOTE>
<P>Het is ook mogelijk printers met wat colour fault te verbeteren
door deze waarden aan te passen. Als je iets dergelijks doet, raad ik je
aan het bestand colorcir.ps te gebruiken, dat bij ghostscript zit
(in de examples/ subdir), als een testpagina.
<P>
<P>Voor veel van de nieuwere kleuren-inkjetdrivers bestaan commando-regel
opties of verschillende upp driver files, welke gamma en andere wijzingen
implementeren om de printer voor verschillende papiersoorten aan te passen.
Je zou hiernaar moeten kijken voordat je met Postscript aan de gang gaat
om zaken te herstellen.
<H2><A NAME="s11">11. Hoe afdrukken naar een printer over het netwerk</A></H2>

<P>&Eacute;&eacute;n van de mogelijkheden van lpd is dat het afdrukken over het
netwerk naar printers ondersteunt, die fysiek met een andere machine zijn
verbonden. Je kunt er voor zorgen dat lpr transparant naar printers op alle
soorten netwerken af kan drukken, als je zorgt voor een zorgvuldige combinatie
van filterscripts en bij elkaar passende utility's.
<H2>11.1 Naar een Unix/lpd host</H2>

<P>Om remote computers toe te staan naar je printer af te drukken, 
moet je de lijst met computers
in <EM>/etc/hosts.equiv</EM> of <EM>/etc/hosts.lpd</EM> bijwerken.
(Merk op dat <EM>hosts.equiv</EM> nog heel wat andere effecten heeft; wees er
zeker van dat je weet wat je aan het doen bent als je je computer hier i
vermeldt). Je kunt alleen bepaalde gebruikers op de andere computers toestaan
om naar je printer af te drukken door het specificeren van de
<EM>rs</EM> attribuut; lees de <CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/lpd.8.html">lpd</A></CODE> man page
voor informatie hierover.
<H3>Met <CODE>lpd</CODE></H3>

<P>Om naar een andere machine af te drukken, voeg je als volgt
gegevens toe aan <EM>/etc/printcap</EM>:
<BLOCKQUOTE><CODE>
<PRE>
# REMOTE djet500
lp|dj|deskjet:\
        :sd=/var/spool/lpd/dj:\
        :rm=machine.out.there.com:\
        :rp=printername:\
        :lp=/dev/null:\
        :sh:
</PRE>
</CODE></BLOCKQUOTE>

Noot: Er bevindt zich op de lokale computer nog steeds een spooldirectory
die door <CODE>lpd</CODE> wordt beheerd. Als de remote machine bezet of offline is,
kunnen afdruktaken van de lokale computer in het spoolgebied wachten tot ze
kunnen worden verzonden.
<H3>Met <CODE>rlpr</CODE></H3>

<P>Je kunt <EM>rlpr</EM> ook gebruiken een afdruktaak direct naar een
wachtrij op een remote computer te sturen.
Dit is vooral handig in situaties waar je slechts bij gelegenheid naar
een diversiteit aan printers afdrukt.
Vanuit de aankondiging voor <EM>rlpr</EM>:
<P>Rlpr gebruikt TCP/IP om taken naar lpd-servers, waar dan ook op een netwerk,
af te drukken.
<P>In tegenstelling tot lpr, vereist het *niet* dat de remote printers
expliciet bekend zijn bij de machine vanwaar je af wilt drukken, 
(d.w.z. door <EM>/etc/printcap</EM>) en is dus aanmerkelijk flexibeler
en vereist minder beheer.
<P>rlpr kan overal worden gebruikt waar ook een traditionele lpr zou kunnen 
worden gebruikt, en het is backwards compatibel met de traditionele BSD lpr.
<P>De belangrijkste kracht die door rlpr wordt bereikt is de kracht om
op afstand *van overal naar iedere plaats* af te drukken zonder rekening
te houden met hoe het systeem vanwaar je wilt afdrukken werd geconfigureerd.
Rlpr kan net als de traditionele lpr als een filter werken, zodat
clients die op een remote computer worden uitgevoerd, zoals netscape, xemacs,
enz., enz., zonder al te veel moeite naar je lokale computer af kunnen drukken.
<P>Rlpr is beschikbaar vanaf <CODE>
<A HREF="ftp://metalab.unc.edu/pub/Linux/system/printing/">Metalab</A></CODE>.
<H2>11.2 Naar een Win95, WinNT, LanManager, of Samba printer</H2>

<P>Er is een Printing naar Windows mini-HOWTO waarin meer informatie
staat dan hierin is te vinden.
<P>Het is mogelijk een lpd wachtrij te besturen via de <CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/smbclient.1.html">smbclient</A></CODE>
programma (onderdeel van de samba suite) naar een op TCP/IP gebaseerde SMB
print service.
Samba bevat hiervoor een script met de naam <CODE>smbprint</CODE>. In het kort komt
het erop neer dat je een configuratiebestand voor de specifieke printer waar
het om gaat in de spooldirectory plaatst, en het <CODE>smbprint</CODE>-script
als de <EM>if</EM> installeert.
<P>Het <EM>/etc/printcap</EM> record ziet er ongeveer zo uit:
<BLOCKQUOTE><CODE>
<PRE>
lp|remote-smbprinter:\
    :lp=/dev/null:sh:\
    :sd=/var/spool/lpd/lp:\
    :if=/usr/local/sbin/smbprint:
</PRE>
</CODE></BLOCKQUOTE>
<P>Je zou de documentatie in het <CODE>smbprint</CODE> script moeten lezen, voor
meer informatie over hoe je dit in kunt stellen.
<P>Je kunt ook de <CODE>smbclient</CODE> gebruiken, om een bestand direct aan
een SMB afdrukservice aan te leveren zonder dat <CODE>lpd</CODE> daarbij 
betrokken is. Zie de man page.
<H2>11.3 Naar een NetWare Printer</H2>

<P>In de ncpfs suite bevindt zich een utility genaamd <CODE>nprint</CODE> welke in
dezelfde functionaliteit voorziet als
<CODE>smbprint</CODE> maar dan voor NetWare. Je kunt ncpfs verkrijgen bij
<A HREF="ftp://metalab.unc.edu/pub/Linux/system/filesystems/ncpfs/">Metalab</A>.
Vanuit het LSM record voor versie 0.16:
<P>
<BLOCKQUOTE>
Met ncpfs kun je volumes van je netwareserver onder Linux mounten.
Je kunt ook naar een netware afdrukwachtrij afdrukken en 
spool netware afdrukwachtrijen naar het Linux afdruk systeem. 
Je hebt kernel 1.2.x of 1.3.54 en hoger nodig. ncpfs werkt NIET met
enige 1.3.x kernels lager dan 1.3.54.
</BLOCKQUOTE>
<P>Om ervoor te zorgen dat <CODE>nprint</CODE> via lpd werkt, schrijf je een klein
shell-script om stdin op de NetWare printer af te drukken, en dat installeer je
als de <EM>if</EM> voor een lpd afdrukwachtrij.
Je zult iets krijgen als:
<BLOCKQUOTE><CODE>
<PRE>
sub2|remote-NWprinter:\
        :lp=/dev/null:sh:\
        :sd=/var/spool/lpd/sub2:\
        :if=/var/spool/lpd/nprint-script:
</PRE>
</CODE></BLOCKQUOTE>

Bij benadering kan het <CODE>nprint-script</CODE> er ongeveer zo uitzien:
<BLOCKQUOTE><CODE>
<PRE>
#! /bin/sh
# Je zou eerst de guest account zonder wachtwoord moeten proberen!
/usr/local/bin/nprint -S net -U name -P passwd -q printq-name -
</PRE>
</CODE></BLOCKQUOTE>
<H2>11.4 Naar een EtherTalk (Apple) printer</H2>

<P>Het netatalk package bevat iets degelijks als <CODE>nprint</CODE> en
<CODE>smbclient</CODE>. Anderen hebben de procedure voor het afdrukken van en
naar een Apple netwerk veel beter beschreven dan ik dat ooit zal kunnen;
zie de 
<A HREF="http://thehamptons.com/anders/netatalk/">Linux Netatalk-HOWTO</A>.
<H2>11.5 Naar een HP of andere ethernet printer</H2>

<P>HP's en een aantal andere printers worden met een ethernet interface
geleverd waarnaar je met gebruik van lpd direct af kunt drukken.
Je zou de instructies die met je printer
werden meegeleverd of de netwerk adaptor moeten lezen,
maar in het algemeen, "draaien" dergelijke printers lpd, en voorzien in
&eacute;&eacute;n of meer wachtrijen waarnaar je kunt afdrukken.
Een HP zou bijvoorbeeld met een volgend printcap kunnen werken:
<BLOCKQUOTE><CODE>
<PRE>
lj-5|remote-hplj:\
        :lp=/dev/null:sh:\
        :sd=/var/spool/lpd/lj-5:\
        :rm=printer.name.com:rp=raw:
</PRE>
</CODE></BLOCKQUOTE>
<P>HP Laserjet printers met Jet Direct interfaces ondersteunen in het algemeen twee
ingebouwde lpd wachtrijen - "raw" welke PCL accepteren (en mogelijk
Postscript) en "text" welke recht toe recht aan ascii accepteert (en
automatisch het staircase effect bestrijdt).
Als je een JetDirect Plus3 three-port box hebt, worden de wachtrijen "raw1",
"text2", enzovoort genoemd.
<P>Merk op dat de ISS-organisatie een verzameling denial of service attacks
heeft herkend waardoor HP Jetdirect interfaces vastlopen.
De meeste daarvan zijn in de herfst van 98 aangepakt.
<P>Op grote schaal, vooral in een grote omgeving waar een
aantal printers geen Postscript ondersteunen, kan het nuttig zijn
een toegewezen printserver in te stellen waarnaar alle computers
afdrukken en waarop alle ghostscripts taken worden gedraaid.
<P>Hierdoor is het ook mogelijk dat je Linux-box als een spoolserver voor de
printer fungeert zodat je netwerkgebruikers hun afdruktaken snel kunnen
volbrengen en verder kunnen gaan zonder op de printer te wachten totdat
enige andere taak is afgedrukt welke door een ander was gezonden.
Dit is ook aan te bevelen als je oudere niet te herstellen HP Jetdirects
hebt; het vermindert de kans dat de printers vast komen te zitten.
<P>Stel hiervoor een wachtrij in op je linux-box welke naar de ethernet toegeruste
HP LJ verwijst (zoals hierboven). Stel nu alle clients op je LAN zo in dat
ze naar de Linux wachtrij verwijzen (bv lj-5 in het voorbeeld hierboven).
<P>Een aantal HP netwerk-printers slaan blijkbaar geen acht op de banner page
instelling die door clients wordt gezonden; je kunt hun intern gegenereerde
banner page uitschakelen door naar de printer te telnetten, tweemaal een
return te geven, in te tikken
"banner: 0" gevolgd door "quit". Er zijn bovendien nog andere instellingen die
je op deze manier kunt wijzigen; tik een "?" in voor een lijst.
<P>De volledige range aan instellingen kan worden beheerd door HP's 
<A HREF="http://www.hp.com/go/webjetadmin">WebJet</A> software. Dit
package draait als een daemon, en accepteert via een toegewezen poort
http-verzoeken.
Het voorziet in formulieren en Java-applets waarmee de HP-printers op het
netwerk kunnen worden bestuurd. In theorie kan het ook Unix afdrukwachtrijen
beheren, maar het doet dit door gebruik te maken van de rexec service,
welke volledig onveilig is. Ik adviseer je die mogelijkheid niet te gebruiken.
<H3>Naar oudere HP's</H3>

<P>Een aantal printers (en printer netwerk "black boxen") ondersteunen alleen
goedkope kleine zonder protocol ingesloten TCP-verbindingen. 
In deze categorie bevinden zich de vroege modellen van de JetDirect 
(waaronder een aantal JetDirectEx) kaarten. Eigenlijk moet je een verbinding
met de printer op een specifieke poort openen om naar de printer af te drukken
(typisch een 9100, of 9100, 9101 en 9102 voor three-port boxes) en je
afdruktaak ernaar toe sturen. LPRng (wat je eigenlijk daarvoor in de plaats
zou moeten gebruiken, als je deze sectie leest) heeft ingebouwde ondersteuning
voor het opzetten van afdruktaken naar willekeurige TCP-poorten, maar met BSD
lpd is het niet zo gemakkelijk. Het beste is waarschijnlijk het kleine
utility genaamd netcat te verkrijgen en te gebruiken. Als dat niet lukt, 
kan het onder andere in Perl worden ge&iuml;mplementeerd:
<P>
<BLOCKQUOTE><CODE>
<PRE>
#!/usr/bin/perl
# Met dank aan Dan McLaughlin voor het schrijven van de originele versie van
# dit script (En aan Jim W. Jones voor het naast Dan zitten toen hij me
# schreef voor hulp ;-)

$fileName = @ARGV[0];

open(IN,"$fileName") || die "Kan het bestand $fileName niet openen";

$dpi300     = "\x1B*t300R";
$dosCr      = "\x1B&amp;k3G";
$ends = "\x0A";

$port =  9100 unless $port;
$them = "bach.sr.hp.com" unless $them;

$AF_INET = 2;
$SOCK_STREAM = 1;
$SIG{'INT'} = 'dokill';
$sockaddr = 'S n a4 x8';

chop($hostname = `hostname`);
($name,$aliases,$proto) = getprotobyname('tcp');
($name,$aliases,$port) = getservbyname($port,'tcp')
    unless $port =~ /^\d+$/;;
($name,$aliases,$type,$len,$thisaddr) =
        gethostbyname($hostname);
($name,$aliases,$type,$len,$thataddr) = gethostbyname($them);
$this = pack($sockaddr, $AF_INET, 0, $thisaddr);
$that = pack($sockaddr, $AF_INET, $port, $thataddr);

if (socket(S, $AF_INET, $SOCK_STREAM, $proto)) {
#    print "socket ok\n";
}
else {
    die $!;
}
# Geef de socket een adres.
if (bind(S, $this)) {
#    print "bind ok\n";
}
else {
    die $!;
}

# Roep de server aan.

if (connect(S,$that)) {
#    print "connect ok\n";
}
else {
    die $!;
}

# Set socket to be command buffered.

select(S); $| = 1; select(STDOUT);

#    print S "@PJL ECHO Hi $hostname! $ends";
#    print S "@PJL OPMSG DISPLAY=\"Job $whoami\" $ends";
#    print S $dpi300;

# Avoid deadlock by forking.

if($child = fork) {
    print S $dosCr;
    print S $TimesNewR;

    while (&lt;IN>) {
        print S;
    }
    sleep 3;
    do dokill();
} else {
    while(&lt;S>) {
        print;
    }
}

sub dokill {
    kill 9,$child if $child;
}
</PRE>
</CODE></BLOCKQUOTE>
<H2>11.6 Een <EM>if</EM> voor remote printers uitvoeren</H2>

<P>&Eacute;&eacute;n eigenaardigheid van lpd is dat de <EM>if</EM> niet voor
remote printers wordt uitgevoerd.
Als je bemerkt dat je een <EM>if</EM> nodig hebt, kun je dit doen door 
een dubbele wachtrij in te stellen en de taak opnieuw in de wachtrij te
plaatsen. Zie de volgende <EM>printcap</EM> voor een voorbeeld:
<BLOCKQUOTE><CODE>
<PRE>
lj-5:\
        :lp=/dev/null:sh:\
        :sd=/var/spool/lpd/lj-5:\
        :if=/usr/lib/lpd/filter-lj-5:
lj-5-remote:lp=/dev/null:sh:rm=printer.name.com:\
        :rp=raw:sd=/var/spool/lpd/lj-5-raw:
</PRE>
</CODE></BLOCKQUOTE>

rekening houdend met dit <CODE>filter-lj-5</CODE> script:
<BLOCKQUOTE><CODE>
<PRE>
#!/bin/sh
gs &lt;options> -q -dSAFER -sOutputFile=- - | \
        lpr -Plj-5-remote -U$5
</PRE>
</CODE></BLOCKQUOTE>
<P>De <EM>-U</EM> optie van lpr werkt alleen als lpr als een daemon wordt uitgevoerd,
en het stelt de naam juist in van degene die de afdrukopdracht gaf.
Je zou waarschijnlijk een meer robuuste methode moeten
gebruiken om de gebruikersnaam te verkrijgen,
aangezien het in een aantal gevallen niet argument 5 is. 
Zie de man page van <EM>
<A HREF="http://www.picante.com/~gtaylor/pht/man/printcap.5.html">printcap</A></EM>.
<H2>11.7 Vanaf Windows</H2>

<P>Afdrukken vanaf een Windows (of waarschijnlijk, OS/2) client naar een Linux
server wordt direct ondersteund via SMB door middel van het gebruik van het
SAMBA package, waarmee ook het delen van bestanden van je Linux bestandssysteem
naar Windows clients wordt ondersteunt.
<P>Samba bevat tamelijk complete documentatie, en er is tevens een goede
Samba FAQ die daarop van toepassing is. Je kunt zowel een magic filter
op de Linux-box configureren en er PostScript naar afdrukken, als 
printer-specifieke drivers op alle Windows-computers installeren en
daar wachtrijen voor instellen zonder dat daar filters voor nodig zijn.
Op de Windows drivers vertrouwen kan in een aantal gevallen betere uitvoer
produceren, maar is wat meer administratief gedoe als er veel Windows boxen
zijn. Dus probeer eerst Postscript.
<H2>11.8 Vanaf een Apple</H2>

<P>Netatalk ondersteunt het afdrukken vanaf Apple clients over EtherTalk. 
Zie de 
<A HREF="http://thehamptons.com/anders/netatalk/">Netatalk HOWTO Page</A> voor meer informatie.
<H2>11.9 Vanaf Netware</H2>

<P>Het ncpfs package bevat een daemon genaamd pserver welke kan worden gebruikt
om in een service te voorzien naar een
NetWare afdrukwachtrij. Van wat ik ervan heb begrepen,
vereist dit systeem een op Bindery gebaseerde NetWare, bv 2.x, 3.x, of 4.x met
bindery toegang geactiveerd.
<P>Zie
<A HREF="ftp://ftp.gwdg.de/pub/linux/misc/ncpfs/">de ncpfs FTP site</A>
voor meer informatie over ncpfs en zijn pserver-programma.
<H2><A NAME="s12">12. Printers die alleen voor Windows zijn bestemd</A></H2>

<P>Zoals eerder besproken, wordt een aantal printers als zodanig niet
ondersteund, omdat ze geen normale printertaal spreken, en in plaats daarvan
gebruik maken van de computer's CPU om een bitmap weer te geven, die dan
vervolgens weer op een vastgestelde snelheid naar de printer wordt doorgegeven.
In een paar gevallen, spreken deze printers ook nog iets normaals, zoals
PCL, maar vaak kunnen ze dat niet. In een aantal (werkelijk goedkope)
gevallen, maakt de printer zelfs geen gebruik van een gewone parallelle
verbinding maar is afhankelijk van de driver van de verkoper om datgeen
te emuleren wat hardware gedrag zou moeten zijn (als belangrijkste flow
control).
<P>In ieder geval zijn er een paar mogelijk tijdelijke oplossingen als je met een
dergelijke strop zit opgescheept.
<H2>12.1 De Ghostscript Windows redirector</H2>

<P>Er is nu een Windows printerdriver beschikbaar
(met de naam mswinpr2) waarmee een afdruktaak door Ghostscript gaat
voordat het uiteindelijk wordt afgedrukt.
(Lijkt nogal op een if filter in LDP van Unix). Er is ook een nieuwe
Ghostscript driver die afdrukt door gebruik te maken van GDI-calls.
Dit alles bijelkaar zou(tm) het mogelijk moeten maken dat een Windows
computer, via de driver van de verkoper, PostScript kan printen naar een
printer die alleen voor Windows is bestemd.
<P>Als je dat werkend hebt, kun je de instructies hierboven voor het 
afdrukken naar een Windows printer over het netwerk vanuit Linux volgen
om Unix (en andere Windows, Mac, enz) hosts naar je printer te laten
afdrukken.
<P>Ik heb dit nooit gebruikt aangezien ik geen winprinter heb, dus
het kan voor jou anders uitpakken. Alle software die je ervoor nodig hebt
zou beschikbaar moeten zijn vanaf de home page van Ghostscript.
(zie de links in de Ghostscript sectie van dit document).
<H2>12.2 Lexmarks</H2>

<P>Een aantal HP printers gebruiken "Printing Performance Architecture"
(marketingstaal voor "we waren te goedkoop om PCL te implementeren"). 
Dit wordt via een omweg ondersteund via de pbm2ppa translator geschreven
door Tim Norman. Eigenlijk maak je gebruik van ghostscript om PostScript
in een bitmapped image in pbm formaat weer te geven en gebruik je vervolgens
pbm2ppa om dit in een printer-specifiek ppa-bitmapformaat te vertalen, klaar
om naar de printer te worden gedumpt. Het kan zijn dat dit programma er 
inmiddels ook in een ghostscript driverformaat is.
<P>Er zijn nu ook drivers voor de 5700, 1000, 1100, 2070 en anderen. Zie de
lijst met ondersteunde printers hierboven en mijn website voor meer
informatie over het verkrijgen van deze drivers.
<P>
<P>De ppa-software kan worden gehaald vanaf 
<A HREF="http://www.rpi.edu/~normat/technical/ppa/">de ppa home page</A>; pbm2ppa ondersteunt een aantal modellen van de HP 720, 820, en 1000;
lees de documentatie die met het package wordt meegeleverd, 
voor meer details over de ppa printerondersteuning.
<H2>12.3 Het pbm2l7k programma</H2>

<P>De meeste goedkope Lexmark-inkjets maken gebruik van een 
eigen taal en heten daarom Winprinters. Henryk Paluch heeft
echter een programma geschreven waarmee op een Lexmark 7000 in zwart  
kan worden afgedrukt.
Hopelijk zal hij in staat zijn er achter te komen hoe in kleur af te drukken
en de ondersteuning naar andere Lexmark-inkjets uit te breiden.
Zie 
<A HREF="http://bimbo.fjfi.cvut.cz/~paluch/l7kdriver/">http://bimbo.fjfi.cvut.cz/~paluch/l7kdriver/</A> voor meer informatie.
<H2><A NAME="s13">13. Hoe naar een fax machine af te drukken</A></H2>

<H2>13.1 Een faxmodem gebruiken</H2>

<P>Er zijn een aantal faxprogramma's waarmee je kunt faxen en
documenten kunt ontvangen.
&Eacute;&eacute;n van de meest complexe is <EM>HylaFax</EM> van Sam Leffler,
beschikbaar vanaf <CODE>ftp.sgi.com</CODE>. Het ondersteunt van alles,
van meerdere modems tot broadcasting.
<P>SuSE levert een Java HylaFax client, waarvan wordt beweerd dat het op elk
Java platform werkt (waaronder Windows en Linux). Voor de meeste platformen
zijn er ook niet-Java fax-clients;
Linux kan bijna zeker al je netwerk faxbehoeften afhandelen.
<P>Ook beschikbaar en voor de meeste Linux-boxen een betere keuze is
<CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/efax.1.html">efax</A></CODE>, een
eenvoudig programma waarmee faxen kunnen worden verzonden. 
Het getty programma <CODE>mgetty</CODE> kan
faxen ontvangen (en op een aantal modems zelfs voicemail!).
<H2>13.2 Gebruiken van Remote Printing Service</H2>

<P>Er wordt een experimentele service geboden die je een emailbericht 
laat zenden met hetgeen je afgedrukt zou willen hebben, 
zodanig dat het elders op een fax-machine verschijnt.
Er worden mooie formaten zoals postscript ondersteund,
dus zelfs al zou de globale dekking ongelijkmatig zijn, dan kan dit nog steeds
een zeer nuttige service zijn. Zie de 
<A HREF="http://www.tpc.int/">Remote Printing WWW Site</A> voor meer
informatie over het afdrukken via de remote afdrukservice.
<H2><A NAME="s14">14. Hoe genereer je iets dat waard is om af te drukken</A></H2>

<P>Hier belanden we in een echt rattennest met software. Eigenlijk kan Linux
vele typen bibliotheken met vari&euml;rende graden van succes draaien:
Linux/x86, Linux/Alpha, Linux/Sparc, Linux/foo, iBCS, Win16/Win32s (met dosemu
en, ooit, met Wine), Mac/68k (met Executor), en Java. Ik zal slechts
native Linux en algemene Unix software bespreken.
<P>Voor Linux zelf, zijn de mogelijkheden voornamelijk beperkt tot datgene wat
voor Unix in het algemeen beschikbaar is:
<H2>14.1 Markup languages</H2>

<P>De meeste markup languages zijn meer geschikt voor grote of herhalende
projecten, waar je de computer de layout van de tekst wilt laten beheren
om uniformiteit te verkrijgen.
<P>
<DL>
<DT><B><CODE>nroff</CODE></B><DD><P>Dit was &eacute;&eacute;n van de eerste Unix markup
talen. Man pages zijn de meest algemene voorbeelden van hetgeen in *roff macros
is geformatteerd; veel mensen zweren erbij, maar nroff heeft, vind ik in
ieder geval, een geheimzinniger syntax dan nodig is, en het is voor nieuwe
werken waarschijnlijk een magere keuze.
Het is echter waard om te weten dat je met
groff een man page direct in postscript kan zetten.
De meeste man commando's zullen dit voor je doen met
<CODE>man -t foo | lpr</CODE>.
<DT><B>TeX</B><DD><P>TeX, en het macropackage LaTeX, is &eacute;&eacute;n van de
meest gebruikte markup languages onder Unix.
Technische werkstukken worden vaak in LaTeX
geschreven omdat het de layout zaken sterk vereenvoudigd en  
het <EM>nog steeds</EM> &eacute;&eacute;n van de weinige tekstverwerkings
systemen is die wiskunde zowel compleet als goed ondersteunen.
Het uitvoerformaat van TeX is
<CODE>dvi</CODE>, en wordt geconverteerd naar PostScript of Hewlett Packard's PCL met
<CODE>dvips</CODE> of <CODE>dvilj</CODE>. Als je TeX of LaTeX wilt installeren,
installeer dan de gehele teTeX groep aan packages; het bevat alles.
<DT><B>SGML</B><DD><P>Er bestaat tenminste &eacute;&eacute;n vrij-verkrijgbare
sgml parser die zowel beschikbaar is voor Unix als voor Linux;
het vormt de basis van het Linuxdoc-SGML's homegrown document
systeem. Het kan bovendien andere DTD's ondersteunen.
<DT><B>HTML</B><DD><P>Iemand deed de suggestie dat het voor eenvoudige projecten,
voldoende zou kunnen zijn, het in HTML te schrijven en het met Netscape
af te drukken. Ik ben het daar niet mee eens, maar YMMV.
</DL>
<H2>14.2 WYSIWYG Tekstverwerkers</H2>

<P>Er is niet langer enig tekort aan WYSIWYG tekstverwerkings software.
Verscheidene complete office suites zijn beschikbaar, inclusief
&eacute;&eacute;n die vrij in het gebruik is voor persoonlijk gebruik
(StarOffice).
<DL>
<DT><B>StarOffice</B><DD><P>De organisatie Sun Microsystes distribueert StarOffice voor
Linux vrij over het net.
Deze volledig ontwikkelde office suite heeft alle faciliteiten die je zou
verwachten, en om de prijs hoef je het niet te laten. Er is een mini-HOWTO die
beschrijft hoe je het kunt verkrijgen en installeren.
Het genereert PostScript of PCL, dus zou met de meeste printers die
op andere wijze onder Linux werken, moeten kunnen werken.
Klaarblijkelijk is het een Office-kloon en is het nogal opgeblazen; dit
zijn waarschijnlijk twee equivalente feiten!.
<DT><B>WordPerfect</B><DD><P>Corel distribueert een basisversie van Word Perfect 8
vrij voor Linux, en ze hebben gesuggereerd dat ze bovendien ook Corel
Draw en Quattro Pro zullen gaan distribueren, zodra ze zijn geport.
Dit is waarschijnlijk de beste optie als je een ARM computer hebt;
Corel fabriceert de op ARM- gebaseerde
Netwinder Linux computers en het is bijna zeker dat ze overal ARM Linux 
versies van aanbieden. Je kunt ook de geheel ontwikkelde versie en support,
tegelijkertijd of apart kopen. De 
<A HREF="http://www.channel1.com/users/rodsmith/wpfonts.html">Linux    WordPerfect Fonts and Printers</A> pagina heeft informatie over het
configureren van WordPerfect voor gebruik met Ghostscript of z'n
ingebouwde printerdrivers
(welke klaarblijkelijk identiek zijn aan de
WordPerfect drivers voor DOS, als je printer niet in de WP8-distributie
voorkomt).
<DT><B>Applix</B><DD><P>Applix is een cross-platform (d.w.z., diverse Unices, Windows,
en anderen) office suite die door het Applix bedrijf wordt verkocht.  
Red Hat en SuSE verkochten het zelf toen het nog het enige was wat te
verkrijgen was; nu worden de verkopen weer door Applix geregeld.
<DT><B>AbiWord</B><DD><P>AbiWord is &eacute;n&eacute;n van de verscheidene GPL
WYSIWYG tekstverwerkers-projecten; deze heeft een functioneel 
basisprogramma geproduceerd. Er wordt gewerkt aan integratie
met de Gnome desktop.
<DT><B>LyX</B><DD><P>LyX is een front-end naar LaTeX wat er veelbelovend uitziet. Zie
de 
<A HREF="http://www.lyx.org/">LyX Homepage</A> voor meer
informatie. Er is een versie van LyX in KDE-styl, genaamd Klyx; de
auteur van LyX en de aanstichter van KDE zijn &eacute;&eacute;n en
dezelfde persoon.
<DT><B>Maxwell</B><DD><P>Maxwell is een eenvoudige op MS RTF-formaat gebaseerde
tekstverwerker welke als een commercieel produkt begon, maar nu
onder de GPL wordt gedistribueerd.  
<DT><B>Het Andrew User Interface System</B><DD><P>AUIS bestaat uit een
WYSIWYG-style editor met de meeste basis tekstverwerkingsmogelijkheden, HTML
mogelijkheden, en volledige MIME email en newsgroup ondersteuning.
Helaas wordt AUIS niet langer beheerd.
<DT><B>Koffice</B><DD><P>Het KDE project werkt aan een volledige office suite.
Ik denk dat het nog geen tijd is voor de eerste uitgave. De tekstverwerker
zal waarschijnlijk een afgeleide van LyX zijn.
<DT><B>GNOME</B><DD><P>Het GNOME project werkt ook hard aan diverse onder GNU 
gelicentieerde office tools. Er zijn er echter nog geen beschikbaar.
</DL>
<P>Andere verkopers zouden gerust een berichtje bij me achter kunnen laten
met hun aanbiedingen.
<H2><A NAME="s15">15. Van te voren op scherm bekijken van afdrukbare zaken</A></H2>

<P>Bijna alles wat je kunt printen, kan ook op het scherm worden bekeken.
<H2>15.1 PostScript</H2>

<P>Ghostscript heeft een X11-driver die het beste kan worden gebruikt onder
het beheer van de PostScript previewer 
<A HREF="http://www.picante.com/~gtaylor/pht/man/gv.1x.html">gv</A>. Met de
laatste versies van deze programma's zou je bovendien PDF-bestanden
moeten kunnen bekijken.
Merk op dat gv z'n oudere previewer "Ghostview" heeft vervangen; de
nieuwe gebruikersinterface is mooier en heeft meer faciliteiten dan
de gewone oude Athena gui van ghostview.
<H2>15.2 TeX dvi</H2>

<P>TeX DeVice Independant bestanden kunnen van tevoren onder X11 worden bekeken
met 
<A HREF="http://www.picante.com/~gtaylor/pht/man/xdvi.1.html">xdvi</A>.
Moderne versies van xdvi roepen ghostscript aan om
de bijzonderheden van PostScript weer te geven.
<P>Er bestaat bovendien een VT100 driver. Het wordt <CODE>dgvt</CODE> genoemd. <CODE>Tmview</CODE>
werkt met Linux en svgalib.
<H2>15.3 Adobe PDF</H2>

<P>Adobe's Acrobat Reader is beschikbaar voor Linux; download het gewoon vanaf
hun website 
<A HREF="http://www.adobe.com/">http://www.adobe.com/</A>.
<P>Je kunt ook xpdf gebruiken, het is freeware en de source wordt
meegeleverd, en ik denk dat Ghostview het bekijken van PDF-bestanden
met gs onder X11 inmiddels ondersteunt.
<H2><A NAME="s16">16. Seri&euml;le printers onder lpd</A></H2>

<H2>16.1 Instelling in printcap</H2>

<P>Lpd voorziet in vijf attributen die je in <EM>/etc/printcap</EM> in kunt
stellen om alle instellingen van de seri&euml;le poort waarop de printer
is aangesloten, te beheren.
Lees de <EM>
<A HREF="http://www.picante.com/~gtaylor/pht/man/printcap.5.html">printcap</A></EM> man
page en let op de betekenissen van <EM>br#</EM>, <EM>fc#</EM>,
<EM>xc#</EM>, <EM>fs#</EM> en <EM>xs#</EM>.  De laatste vier van deze
attributen zijn bitmaps die de instellingen voor de poorten aangeven. Het
<EM>br#</EM> attribuut is gewoon de baud rate, bv `<CODE>br#9600</CODE>'.
<P>Het is erg makkelijk te vertalen van 
<A HREF="http://www.picante.com/~gtaylor/pht/man/stty.1.html">stty</A> instellingen
naar printcap flag instellingen. Als je dit moet doen, kijk dan nu
in de man page van stty.
<P>Gebruik stty om de printerpoort in te stellen zodanig dat je er met cat een
bestand naar kunt sturen en het correct af kunt drukken.
Zo ziet mijn `<EM>stty -a</EM>' voor mijn printerpoort eruit:
<BLOCKQUOTE><CODE>
<PRE>
dina:/usr/users/andy/work/lpd/lpd# stty -a &lt; /dev/ttyS2
speed 9600 baud; rows 0; columns 0; line = 0;
intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = &lt;undef>;
eol2 = &lt;undef>; start = ^Q; stop = ^S; susp = ^Z; rprnt = ^R; werase = ^W;
lnext = ^V; min = 1; time = 0;
-parenb -parodd cs8 hupcl -cstopb cread -clocal -crtscts
-ignbrk -brkint -ignpar -parmrk -inpck -istrip -inlcr 
-igncr -icrnl ixon -ixoff -iuclc -ixany -imaxbel
-opost -olcuc -ocrnl -onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 
bs0 vt0 ff0
-isig -icanon -iexten -echo -echoe -echok -echonl -noflsh -xcase
-tostop -echoprt -echoctl -echoke
</PRE>
</CODE></BLOCKQUOTE>

De enige wijzigingen hiertussen en de wijze waarop de poort 
tijdens het opstarten wordt ge&iuml;nitialiseerd 
zijn <CODE>-clocal</CODE>, <CODE>-crtscts</CODE>, en <CODE>ixon</CODE>. Je poort kan echter heel
goed anders zijn, afhankelijk van hoe je printer flow control afhandelt.
<P>Je gebruikt stty eigenlijk op een wat vreemde manier. Aangezien stty
op de terminal opereert naar zijn standaardinvoer, gebruik je het om
een gegeven seri&euml;le poort te manipuleren door gebruik te maken van het
`<CODE>&lt;</CODE>' teken als hierboven.
<P>Zodra je stty-instellingen goed staan, zodanig dat `<EM>cat file >
/dev/ttyS2</EM>' (in mijn geval) het bestand naar de printer stuurt, kijk
dan naar het bestand
/usr/src/linux/include/asm-i386/termbits.h. Hierin staan een heleboel
#defines en een paar structs. Je wilt dit bestand met cat misschien wel
naar de printer sturen, (je hebt dat nu werkend, toch?) en het als
kladpapier gebruiken. Ga naar de sectie die begint met
<P>
<BLOCKQUOTE><CODE>
<PRE>
/* c_cflag bit meaning */
#define CBAUD   0000017
</PRE>
</CODE></BLOCKQUOTE>

Deze sectie geeft een opsomming van de betekenis van de <EM>fc#</EM> en 
<EM>fs#</EM> bits. Je
zult merken dat de namen daar (na de baud rates) overeenkomen met
&eacute;&eacute;n van de regels van de uitvoer van stty. 
Zei ik niet dat dit makkelijk zou zijn?
<P>Let op welke van die instellingen door een - in je stty uitvoer worden
voorafgegaan. Tel al die nummers bijelkaar op (ze staan in het octale stelsel).
Hiermee worden de bits die je wilt schonen voorgesteld, dus het resultaat
is je <EM>fc#</EM> capaciteit. Denk er uiteraard aan dat je
direct na het schonen de bits in zal gaan stellen,
dus je kan gewoon gebruiken `<CODE>fc#0177777</CODE>' (zo doe ik het).
<P>Doe nu hetzelfde voor die instellingen (opgesomd in deze sectie)
die in je stty uitvoer geen - ervoor hebben.
In mijn voorbeeld zijn de belangrijkste CS8 (0000060), HUPCL (0002000), 
en CREAD (0000200). Let ook op de flags voor je baud rate (de mijne is
0000015). Tel deze allemaal bijelkaar op, en in mijn voorbeeld krijg je 
0002275. Dit gaat in je <EM>fs#</EM> capaciteit (`<CODE>fs#02275</CODE>' werkt
in mijn voorbeeld prima).
<P>Doe hetzelfde met set en clear voor de volgende sectie van het include
bestand, "c_lflag bits". In mijn geval hoefde ik niets in te stellen, dus ik
gebruik gewoon `<CODE>xc#0157777</CODE>' en `<CODE>xs#0</CODE>'.
<H2>16.2 Oudere seri&euml;le printers die tekens weglaten</H2>

<P>Jon Luckey wijst erop dat een aantal oudere seri&euml;le printers met ten-cent
seri&euml;le interfaces en kleine buffers <EM>echt</EM> stop bedoelen als ze dit
zeggen met flow control. Hij kwam erachter dat het de-activeren van de FIFO
in zijn 16550 seri&euml;le poort van zijn Linux box met 
<CODE>
<A HREF="http://www.picante.com/~gtaylor/pht/man/setserial.8.html">setserial</A></CODE>
het probleem met de weggevallen tekens corrigeerde (je specificeert het
uart-type kennelijk als een 8250 om dit te doen).
<H2><A NAME="s17">17. Credits</A></H2>

<P>De <CODE>smbprint</CODE> informatie komt van een artikel door Marcel Roelofs
<CODE>&lt;marcel@paragon.nl></CODE>.
<P>In de <CODE>nprint</CODE> informatie over het gebruik van Netware printers is voorzien 
door Michael Smith <CODE>&lt;mikes@bioch.ox.ac.uk></CODE>.
<P>De seri&euml;le printers onder de lpd sectie komt van Andrew Tefft
<CODE>&lt;teffta@engr.dnet.ge.com></CODE>.
<P>Het stuk over gamma's en dergelijke voor gs werd ingezonden door Andreas
<CODE>&lt;quasi@hub-fue.franken.de></CODE>.
<P>De twee paragrafen over de 30 seconden closing_wait van de seri&euml;le
driver is bijgedragen door Chris Johnson <CODE>&lt;cdj@netcom.com></CODE>.
<P>Robert Hart zond een paar uitstekende paragrafen over het instellen
van een printserver naar netwerk HP's die ik woordelijk gebruikte.
<P>En speciale dank aan de velen van jullie die in de loop der
jaren hebben gewezen op typfouten, slechte url's en fouten in het document.
</BODY>
</HTML>
