<HTML
><HEAD
><TITLE
>Linux Man Page Howto</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="ARTICLE"
BACKGROUND="../IMAGES/back.gif"
LINK="#000099"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
></A
>Linux Man Page Howto</H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
> Jens   Schweikhardt</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:howto@schweikhardt.net"
>howto@schweikhardt.net</A
>&#62;</TT
></P
></DIV
></DIV
><H3
CLASS="AUTHOR"
><A
NAME="AEN10"
> Vertaald door: Ellen  Bokhorst</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><TT
CLASS="EMAIL"
>&#60;<A
HREF="mailto:bokkie@nl.linux.org"
>bokkie@nl.linux.org</A
>&#62;</TT
></P
></DIV
></DIV
><P
CLASS="PUBDATE"
>v0.1, 2002-09-07<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Wijzigingen</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Herziening 0.1</TD
><TD
ALIGN="LEFT"
>2002-09-07</TD
><TD
ALIGN="LEFT"
>Herzien door: ppadala</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Conversie van HTML naar Docbook v4.1</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><A
NAME="AEN27"
></A
><P
></P
><P
>$Id: Man-Page-NL.sgml,v 1.1 2003/05/13 11:34:22 bokkie Exp $</P
><P
>    <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>In deze HOWTO wordt uitgelegd wat je in gedachten moet houden wanneer je
on-line documentatie gaat schrijven, een zogenoemde manpage, die je 
toegankelijk wilt maken via de opdracht <TT
CLASS="LITERAL"
>man</TT
>(1).
In dit document wordt naar een manual entry simpelweg gerefereerd als
een manpage, ongeacht de werkelijke lengte en zonder sexistische bedoelingen.
    </I
></SPAN
>
    </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Inhoudsopgave</B
></DT
><DT
><A
HREF="#Q1"
>Een paar gedachten over documentatie</A
></DT
><DT
><A
HREF="#Q2"
>Hoe worden manpages benaderd?</A
></DT
><DT
><A
HREF="#Q3"
>Hoe hoort een opgemaakte manpage eruit te zien?</A
></DT
><DT
><A
HREF="#Q4"
>Hoe documenteer ik verscheidene programma's/functies
in een enkele manpage?</A
></DT
><DT
><A
HREF="#Q5"
>Welk macropackage kan ik het beste gebruiken?</A
></DT
><DT
><A
HREF="#Q6"
>Welke preprocessors kan ik gebruiken?</A
></DT
><DT
><A
HREF="#Q7"
>Moet ik broncode en/of reeds geformatteerde
documentatie distribueren?</A
></DT
><DT
><A
HREF="#Q8"
>Wat zijn de fontconventies?</A
></DT
><DT
><A
HREF="#Q9"
>Je manpage oppoetsen</A
></DT
><DT
><A
HREF="#Q10"
>Hoe krijg ik een gewoon manpage in tekstformaat
zonder al die ^H^'s ?</A
></DT
><DT
><A
HREF="#Q11"
>Hoe krijg ik een PostScript manpage van hoge kwaliteit?</A
></DT
><DT
><A
HREF="#Q12"
>Hoe krijg ik `apropos' en `whatis' werkend?</A
></DT
><DT
><A
HREF="#COPYING"
>Kopieervoorwaarden</A
></DT
><DT
><A
HREF="#ACKNOWLEDGEMENTS"
>Erkenningen</A
></DT
><DT
><A
HREF="#CHANGELOG"
>Changelog</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="Q1"
></A
>Een paar gedachten over documentatie</H2
><P
>Waarom schrijven we documentatie? Domme vraag. Omdat we willen dat
anderen ons programma, onze bibliotheekfunctie of wat we dan ook hebben 
geschreven en beschikbaar hebben gemaakt kunnen gebruiken. Maar het
schrijven van de documentatie is nog niet alles:</P
><P
></P
><UL
><LI
><P
>Documentatie moet toegankelijk zijn. Als het op een of andere
niet standaard lokatie is verborgen waar de aan documentatie gerelateerde
tools het niet kunnen vinden, hoe kan het dan zijn doel dienen?</P
></LI
><LI
><P
>Documentatie moet betrouwbaar en accuraat zijn. Er is niets
ergerlijker dan het niet met elkaar overeenkomen van het functioneren
van het programma en de beschrijving van de documentatie. Gebruikers
zullen je vervloeken, je hatelijke mail sturen en je werk de prullenbak
in werpen, met de vastbesloten bedoeling nooit meer iets geschreven
door die stommeling te installeren.</P
></LI
></UL
><P
>De historische en welbekende wijze om onder UNIX documentatie
te benaderen is via de opdracht man(1). In deze HOWTO is beschreven
wat je moet doen om een manpage te schrijven die correct door de
aan documentatie gerelateerde tools wordt verwerkt. De belangrijkste
tools hiervan zijn <TT
CLASS="LITERAL"
>man</TT
>(1), <TT
CLASS="LITERAL"
>xman</TT
>(1x),
<TT
CLASS="LITERAL"
>apropos</TT
>(1), <TT
CLASS="LITERAL"
>makewhatis</TT
>(8) en
<TT
CLASS="LITERAL"
>catman</TT
>(8). De betrouwbaarheid en accuraatheid van
de informatie is natuurlijk geheel aan jou. Maar zelfs dit in
aanmerking genomen zul je hieronder 
<A
HREF="#Q9"
>een aantal idee&euml;n</A
> aantreffen die je
helpen een aantal valkuilen te voorkomen.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q2"
></A
>Hoe worden manpages benaderd?</H2
><P
>Je moet bekend zijn met het precieze mechanisme voor het benaderen
van manpages om aan je manpage de juiste naam toe te kennen en het op de
juiste lokatie te installeren. Elke manpage moet in een specifieke
sectie worden gecatalogiseerd, welke wordt aangeduid door een enkel teken.
De meest gebruikelijke secties en de voor mensen leesbare namen zijn onder
Linux:</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>Sectie  De voor mensen leesbare naam
   1    Gebruikersopdrachten die door iedereen kunnen worden opgestart
   2    Systeemaanroepen, d.w.z. functies waarin voorzien door de kernel.
   3    Subroutines, d.w.z. libraryfuncties.
   4    Devices, d.w.z., speciale bestanden in de directory /dev.
   5    Beschrijvingen van bestandsformaten, b.v. /etc/passwd.
   6    Spellen, spreekt voor zich.
   7    Diversen, b.v. macropackages, conventies.
   8    Systeembeheertools die alleen root kan uitvoeren.
   9    Een andere (Linux specifieke) plaats voor documentatie over kernelroutines.
   n    (Afgekeurd) Nieuwe documentatie, die kan worden verplaatst naar een
        beter geschikte sectie.
   o    (Afgekeurd) Oude documentatie, die voor een gepaste periode kan worden
        behouden.
   l    (Afgekeurd) Lokale documentatie refererend naar dit specifieke systeem.</PRE
></TD
></TR
></TABLE
><P
>De naam van het bronbestand van de manpage (de invoer voor het
opmaaksysteem) is de naam van de opdracht, functie of bestandsnaam,
gevolgd door een punt, gevolgd door het teken van de sectie.
Als je documentatie schrijft over de opmaak van het bestand passwd' 
dan noem je het bronbestand `passwd.5'. Hier hebben we ook een
voorbeeld van een bestandsnaam die hetzelfde is als een opdrachtnaam.
Het kan zijn dat er zelfs een library subroutine is met de naam passwd.
De gebruikelijke wijze om deze dubbelzinnigheden op te lossen is het
onderverdelen in secties: De opdrachtbeschrijving is
te vinden in het bestand `passwd.1' en de hypothetische library
subroutine in `passwd.3'.</P
><P
>Soms worden extra tekens toegevoegd en krijg je bijvoorbeeld een
bestandsnaam als `xterm.1x' of `wish.1tk'. De 
bedoeling hiervan is aan te geven dat dit documentatie is voor respectievelijk
een X Window programma of een Tk toepassing. Een aantal manual browsers
is in staat gebruik te maken van deze aanvullende informatie.
Bijvoorbeeld xman zal `xterm(x)' en `wish(tk)' gebruiken in de 
lijst met beschikbare documentatie.</P
><P
>Maak alsjeblieft geen gebruik van de secties n, o en l; volgens de
File System Standard zijn deze secties afgekeurd. Houd je aan 
de numerieke secties. Wees je bewust van naamsaanvaringen met bestaande
programma's, functies of bestandsnamen. Het is beslist geen goed idee om
nog een andere editor te schrijven en het ed, sed (voor smart ed) of
red (voor Rocky's ed) te noemen. Door ervoor te zorgen dat de naam
van je programma uniek is, voorkom je dat iemand jouw programma uitvoert
en de manpage van iemand anders leest, of andersom.</P
><P
>Nu weten we in ieder geval welke naam we ons bestand moeten geven.
De volgende beslissing die moet worden genomen is de directory waarin het
uiteindelijk zal worden ge&iuml;nstalleerd (stel wanneer de gebruiker
`<TT
CLASS="LITERAL"
>make install</TT
>' toepast op je package.)
Onder Linux staan alle manpages onder directory's die zijn weergegeven in
de omgevingsvariabele MANPATH. De aan documentatie gerelateerde tools
gebruiken MANPATH op dezelfde wijze als de shell PATH gebruikt om
uitvoerbare bestanden te lokaliseren. In feite heeft MANPATH hetzelfde
formaat als PATH. Elk bevat een door dubbele punten gescheiden lijst
met directory's (met als uitzondering dat MANPATH geen lege velden en
relatieve padnamen toestaat, het maakt alleen gebruik van absolute
namen). 

Als MANPATH niet is ingesteld of ge&euml;xporteerd, dan zal een standaardwaarde
worden gebruikt waarin op z'n minst de directory /usr/man is opgenomen.
Voor het versnellen van het zoeken en het klein houden van directory's bevatten
de directory's gespecificeerd door MANPATH (de zogenoemde basisdirectory's)
een boel subdirectory's met de naam `man&lt;s&gt;' waarbij
&lt;s&gt; staat voor de sectietoekenning van &eacute;&eacute;n teken
ge&iuml;ntroduceerd in <A
HREF="#Q2"
>bovenstaande tabel</A
>. 
Het kan zijn dat niet alle secties worden voorgesteld door een subdirectory
omdat er simpelweg geen reden is om een lege `mano' subdirectory bij
te houden.

Er kunnen echter directory's voorkomen met de namen `cat&lt;s&gt;',
`dvi&lt;s&gt;' en `ps&lt;s&gt;' waarin documentatie wordt
bewaard die klaar is voor de weergave of om af te drukken. Hierover later
meer. Het enige andere bestand in een basisdirectory zou een bestand met
de naam `whatis' mogen zijn. Het doel en de aanmaak van dit bestand
zal ook in <A
HREF="#Q12"
>paragraaf 12)</A
> worden beschreven.
De veiligste wijze om een manpage voor sectie &lt;s&gt; op de juiste lokatie
te hebben ge&iuml;nstalleerd, is door het te plaatsen in de directory
/usr/man/man&lt;s&gt;. Een goede <TT
CLASS="LITERAL"
>Makefile</TT
>, echter,
zal de mogelijkheid bieden  dat de gebruiker een basisdirectory kan kiezen,
door middel van een <TT
CLASS="LITERAL"
>make</TT
> variabele, zoals bijvoorbeeld 
MANDIR. De meeste GNU-packages kunnen worden geconfigureerd met de optie 
<TT
CLASS="LITERAL"
>--prefix=/wat/dan-ook</TT
>. De manpages zullen dan onder
de basisdirectory /wat/dan-ook/man worden ge&iuml;nstalleerd.
Ik raad je aan in iets vergelijkbaars te voorzien.</P
><P
>Met de komst van de Linux File System Standard (FS-Stnd), 
werd 't allemaal wat gecompliceerder. [Noot: de FS-Stnd schijnt te worden
vervangen door de <A
HREF="http://www.pathname.com/fhs/"
TARGET="_top"
>Filesystem Hierarchy
Standard</A
>, FHS.] De FS-Stnd 1.2 zet uiteen dat</P
><P
>&quot;Voorzieningen moeten worden getroffen in de structuur van /usr/man
ter ondersteuning van manpages geschreven in andere (of meerdere) talen.&quot;</P
><P
>Dit wordt bewerkstelligd door het introduceren van een ander
directoryniveau welk onderscheid maakt tussen de verschillende talen.
Nogmaals de FS-Stnd 1.2 aanhalend:</P
><P
>&quot;Deze benoeming van taalsubdirectory's van /usr/man is
gebaseerd op Appendix E van de POSIX 1003.1 standaard waarin de locale
identificatiestring wordt beschreven, de best geaccepteerde methode om
een culturele omgeving te beschrijven. De &lt;locale&gt; string is:
&lt;taal&gt;[_&lt;gebied&gt;][.&lt;tekenset&gt;][,&lt;versie&gt;]&quot;</P
><P
>(Zie de FS-Stnd voor een paar algemene &lt;locale&gt; strings.)
Overeenkomstig deze richtlijnen staan onze manpages onder
/usr/man/&lt;locale&gt;/man[1-9lno]. De opgemaakte versies staan dan
natuurlijk in /usr/man/&lt;locale&gt;/cat[1-9lno], anders zouden we
ze alleen voor een enkele locale kunnen leveren. Ik kan je ECHTER thans niet
aanbevelen naar die structuur over te schakelen.
De FS-Stnd 1.2 staat ook toe dat</P
><P
>&quot;Systemen die een unieke taal en codeset voor alle
manpages instellen, mogen de &lt;locale&gt; substring achterwege laten
en alle manpages opslaan in &lt;mandir&gt;. Systemen met bijvoorbeeld
alleen Engelstalige manpages gecodeerd in ASCII, mogen manpages
(de <TT
CLASS="LITERAL"
>man[1-9]</TT
> directory's) direct opslaan in /usr/man.
(Dat is in feite de traditionele omstandigheid en regeling.)
&quot;</P
><P
>Ik zou niet overschakelen voordat alle tools (zoals xman, tkman, info
en vele anderen die manpages inlezen) met de nieuwe structuur overweg kunnen.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q3"
></A
>Hoe hoort een opgemaakte manpage eruit te zien?</H2
><P
>Laat me je een voorbeeld presenteren. Hieronder zal ik het in detail
uitleggen. Als je dit in gewone tekst leest, zal het de verschillende
lettertypen niet tonen (<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>vet</I
></SPAN
> en
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>schuindruk</I
></SPAN
>). [TEDOEN: de nadruk en schuindruk
is verdwenen bij de conversie naar SGML/HTML; breng het terug.]
Raadpleeg alsjeblieft de paragraaf
&quot;<A
HREF="#Q8"
>Wat zijn de fontconventies?</A
>&quot; voor meer
uitleg. Hier is de manpage voor het (hypothetische)
<TT
CLASS="LITERAL"
>foo</TT
> programma.</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>FOO(1)                     Gebruikershandleidingen                    FOO(1)


NAAM
    foo - frobnicate de bar library

SYNTAX
    foo [-bar] [-c configuratiebestand ] bestand ...

BESCHRIJVING
     foo  frobnicates de bar library door interne symbooltabellen
     aan te passen. Standaard verwerkt het alle baz segmenten en 
     herschikt ze in omgekeerde tijdsvolgorde wil de xyzzy(1)
     linker ze kunnen vinden. De symdef entry wordt dan gecomprimeerd 
     gebruik makend van het WBG (Whiz-Bang-Gizmo) algoritme. Alle bestanden 
     worden in de opgegeven volgorde verwerkt.

OPTIES
     -b   Schrijf tijdens de verwerking geen `busy' meldingen naar stdout.

     -c configuratiebestand
          Gebruik het alternatieve systeemomvattende configuratiebestand 
          in plaats van /etc/foo.conf. Hiermee wordt de omgevingsvariabele
          FOOCONF overschreven.

     -a   Verwerk in aanvulling op de baz segmenten ook de blurfl headers.

     -r   Recursieve modus. Functioneert zo snel als het licht ten koste
          van een megabyte aan virtueel geheugen.

BESTANDEN
     /etc/foo.conf
          Het systeemomvattende configuratiebestand. Zie foo(5) voor
          meer details.
     ~/.foorc
          Configuratiebestand per gebruiker. Zie foo(5) voor meer
          details.

OMGEVING
     FOOCONF
          Als het een waarde bevat de volledige padnaam voor een
          alternatief systeemomvattend foo.conf. Wordt overschreven
          door de optie -c.

DIAGNOSE
     De volgende diagnoses kunnen op stderr worden uitgevoerd:

     Onjuist magisch nummer.
          Het invoerbestand lijkt niet op een archiefbestand.
     baz segmenten in oude stijl.
          foo kan alleen omgaan met baz segmenten in de nieuwe stijl. COBOL
          objectlibrary's worden in deze versie niet ondersteund.

BUGS
     De opdrachtnaam zou zorgvuldiger moeten zijn gekozen om zijn
     doel weer te geven.

AUTEUR
     Jens Schweikhardt <A
HREF="mailto:howto@schweikhardt.net"
TARGET="_top"
>&lt;howto at schweikhardt dot net&gt;</A
>

ZIE OOK
     bar(1), foo(5), xyzzy(1)

Linux                Last change: MAART 1995                    2&#13;</PRE
></TD
></TR
></TABLE
><P
>Hier is de uitleg zoals ik beloofde.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie NAAM</I
></SPAN
></P
><P
>...is de enige vereiste sectie. Man pages zonder naamsectie
zijn zo bruikbaar als koelkasten op de noordpool. Deze sectie
heeft tevens een gestandaardiseerde opmaak bestaande uit een
door komma's gescheiden lijst met programma- of functienamen,
gevolgd door een koppelteken, gevolgd door een beknopte
(gewoonlijk bestaande uit een éénregelige) beschrijving van de
functionaliteit die het programma (of de functie of het bestand)
wordt verondersteld te leveren. Door middel van
<TT
CLASS="LITERAL"
>makewhatis</TT
>(8), komen de naam secties terecht in
de <TT
CLASS="LITERAL"
>whatis</TT
> databasebestanden.
<TT
CLASS="LITERAL"
>Makewhatis</TT
> is de reden dat de naamsectie moet
voorkomen, en waarom het moet voldoen aan de hier beschreven opmaak.
In de <TT
CLASS="LITERAL"
>groff</TT
> broncode moet het er uitzien als</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>.SH NAAM foo \- frobnicate de bar library</I
></SPAN
></P
><P
>De \- is hier van belang. De backslash is nodig om onderscheid
te kunnen maken tussen een koppelteken en een afbreekstreepje welk
in de opdrachtnaam of de éénregelige beschrijving voor kan komen.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie SYNTAX</I
></SPAN
></P
><P
>...is bedoeld voor een beknopt overzicht van beschikbare programma-opties.
Bij functies wordt in deze sectie een opsomming gegeven van corresponderende
include bestanden en het prototype zodat de programmeur het type en aantal
argumenten weet als ook het returntype.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie BESCHRIJVING</I
></SPAN
></P
><P
>...legt welsprekend uit waarom je reeks nullen en &eacute;nen ook
maar iets waard is. Hier schrijf je al je kennis neer.
Dit is je reputatie. Win de bewondering van andere programmeurs en
gebruikers door van deze sectie de bron met betrouwbare en gedetailleerde
informatie te maken. Geef uitleg over waar de argumenten voor dienen, de
bestandsopmaak, welke algoritmen het vuile werk opknappen.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie OPTIES</I
></SPAN
></P
><P
>...geeft een beschrijving van hoe elke optie het functioneren van
het programma beïnvloedt. Dat wist je al, nietwaar?</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie BESTANDEN</I
></SPAN
></P
><P
>...een opsomming van bestanden die het programma of de functie gebruikt.
Hier staan bijvoorbeeld configuratiebestanden, opstartbestanden en 
bestanden waar het programma op directe wijze bewerkingen op uitvoert.
Het is een goed plan om de volledige padnaam van deze bestanden te geven
en ervoor te zorgen dat het installatieproces het directory gedeelte
aanpast overeenkomstig de voorkeuren van de gebruiker:
de <TT
CLASS="LITERAL"
>groff</TT
> manpages hebben het standaardvoorvoegsel
/usr/local, dus refereren ze standaard naar /usr/local/lib/groff/* . 
Als je echter tijdens de installatie gebruik maakt van
'make prefix=/opt/gnu' dan veranderen de verwijzingen in de manpage
in /opt/gnu/lib/groff/*</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie OMGEVING</I
></SPAN
></P
><P
>...geeft een opsomming van alle omgevingsvariabelen die van invloed
zijn op je programma of functie en vertelt uiteraard hoe. Het meest
gebruikelijk is dat de waarden van variabelen padnamen, bestandsnamen 
of standaardopties zijn.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie DIAGNOSE</I
></SPAN
></P
><P
>...zou een overzicht moeten geven van de meest gebruikelijke
foutmeldingen van je programma en hoe hier mee om te gaan. Het is 
niet nodig om foutmeldingen van het systeem uit te leggen
(van <TT
CLASS="LITERAL"
>perror</TT
>(3)) of fatale signalen (van
<TT
CLASS="LITERAL"
>psignal</TT
>(3)) aangezien die tijdens de uitvoering
van elk programma plaats kunnen vinden.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie FOUTEN</I
></SPAN
></P
><P
>...zou ideaal gezien niet bestaan. Als je flink bent, kun je
hier de beperkingen, bekende ongemakken en voorzieningen beschrijven
die anderen als onvoorzieningen kunnen beschouwen. Hernoem het tot
de TODO sectie als je niet zo flink bent ;-)</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie AUTEUR</I
></SPAN
></P
><P
>...is aardig als het er is voor het geval er grove fouten in de
documentatie of het functioneren van het programma voorkomen en je een
foutenrapport wilt mailen.</P
><P
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>De sectie ZIE OOK</I
></SPAN
></P
><P
>...bestaat uit een lijst met gerelateerde manpages in alfabetische
volgorde. Conventioneel is het de laatste sectie.
Je bent er vrij in andere secties te bedenken als ze echt niet
in één van de secties die tot dusverre zijn beschreven passen.
Dus hoe precies genereerde je die manpage? Ik verwachtte die vraag,
hier is de broncode:</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>.\&quot; Verwerk dit bestand met
.\&quot; groff -man -Tascii foo.1
.\&quot;
.TH FOO 1 &quot;MAART 1995&quot; Linux &quot;Gebruikershandleidingen&quot;
.SH NAAM
foo \- frobnicate de bar library
.SH SYNTAX
.B foo [-bar] [-c
.I configuratiebestand
.B ]
.I bestand
.B ...
.SH BESCHRIJVING
.B foo
frobnicates de bar library door interne symbooltabelen aan te passen.
Standaard verwerkt het alle baz segmenten
en herschikt ze in omgekeerde tijdsvolgorde zodat de
.BR xyzzy (1)
linker ze kan vinden. De symdef entry wordt dan gecomprimeerd
gebruik makend van het WBG (Whiz-Bang-Gizmo) algoritme.
Alle bestanden worden in de opgegeven volgorde verwerkt.
.SH OPTIES
.IP -b
Schrijf tijdens de verwerking geen `busy' meldingen naar stdout.
.IP &quot;-c configuratiebestand&quot;
Gebruik het alternatieve systeemomvattende
.I configuratiebestand
in plaats van
.IR /etc/foo.conf .
Dit overschrijft een
.B FOOCONF
omgevingsvariabele.
.IP -a
Verwerk in aanvulling op de baz segmenten ook de blurfl headers.
.IP -r
Recursieve modus. Functioneert zo snel als het licht
ten koste van een megabyte aan virtueel geheugen.
.SH BESTANDEN
.I /etc/foo.conf
.RS
Het systeemomvattende configuratiebestand. Zie
.BR foo (5)
voor meer details.
.RE
.I ~/.foorc
.RS
Configuratiebestand per gebruiker. Zie
.BR foo (5)
voor meer details.
.SH OMGEVING
.IP FOOCONF
Als het een waarde bevat de volledige padnaam voor een 
alternatief systeemomvattend
.IR foo.conf .
Wordt overschreven door de optie
.B -c .
.SH DIAGNOSE
De volgende diagnoses kunnen op stderr worden uitgevoerd:
 
Onjuist magisch nummer.
.RS
Het invoerbestand lijkt niet op een archiefbestand.
.RE
baz segmenten in oude stijl.
.RS
.B foo
kan alleen omgaan met baz segmenten in de nieuwe stijl. COBOL
objectlibrary's worden in deze versie niet ondersteund.
.SH BUGS
De opdrachtnaam zou zorgvuldiger moeten zijn gekozen
om zijn doel weer te geven.
.SH AUTEUR
Jens Schweikhardt &lt;howto at schweikhardt dot net&gt;
.SH &quot;ZIE OOK&quot;
.BR bar (1),
.BR foo (5),
.BR xyzzy (1)&#13;</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q4"
></A
>Hoe documenteer ik verscheidene programma's/functies
in een enkele manpage?</H2
><P
>Veel programma's (<TT
CLASS="LITERAL"
>grep</TT
>,
<TT
CLASS="LITERAL"
>egrep</TT
>) en functies (<TT
CLASS="LITERAL"
>printf</TT
>,
<TT
CLASS="LITERAL"
>fprintf</TT
>, ...) zijn in een enkele manpage gedocumenteerd.
Deze manpages zouden echter tamelijk onbruikbaar zijn als ze slechts onder
&eacute;&eacute;n naam toegankelijk zouden zijn. We kunnen van een gebruiker
niet verwachten te onthouden dat de
<TT
CLASS="LITERAL"
>egrep</TT
> manpage in werkelijkheid de
<TT
CLASS="LITERAL"
>grep</TT
> manpage is. Daarom is het nodig de manpage onder
verschillende namen beschikbaar te stellen. Je hebt verschillende 
manieren om dit te bereiken:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>maak voor elke naam identieke kopie&euml;n.</P
></LI
><LI
><P
>verbind alle manpages met elkaar met behulp van hardlinks.</P
></LI
><LI
><P
>symbolische links verwijzend naar de feitelijke manpage.</P
></LI
><LI
><P
>gebruik het <TT
CLASS="LITERAL"
>groff</TT
>'s `source' mechanisme
geleverd door de <TT
CLASS="LITERAL"
>.so</TT
> macro.</P
></LI
></OL
><P
>De eerste manier is vanzelfsprekend een verspilling van diskruimte.
De tweede is niet aan te bevelen omdat intelligente versies van het
programma <TT
CLASS="LITERAL"
>catman</TT
> veel werk kunnen besparen door het
type bestand of de inhoud ervan te bekijken. (Het doel van 
<TT
CLASS="LITERAL"
>catman</TT
> is het formatteren van alle manpages zodat
ze snel kunnen worden weergegeven.) Het derde alternatief heeft een
klein nadeel: als flexibiliteit van belang is, dan moet je je er bewust
van zijn dat er bestandssystemen zijn die geen symbolische links ondersteunen.
Eind van het liedje is dat het 't beste is (TM) om gebruik te maken van
het sourcemechanisme van <TT
CLASS="LITERAL"
>groff</TT
>. Dat doe je zo:
Als je wilt dat je manpage in sectie 1 onder de namen `foo' en `bar'
beschikbaar is, dan plaats je de manpage in foo.1 en zorg je dat bar.1 er
als volgt uitziet:</P
><P
><TT
CLASS="LITERAL"
>.so man1/foo.1</TT
></P
><P
>Het is van belang het <TT
CLASS="LITERAL"
>man1/</TT
> directory gedeelte
te specificeren als ook de bestandsnaam `foo.1' omdat ten tijde dat
<TT
CLASS="LITERAL"
>groff</TT
> wordt uitgevoerd door de browser de basisdirectory
van de manpages de huidige werkdirectory zal zijn en 
<TT
CLASS="LITERAL"
>groff</TT
> interpreteert <TT
CLASS="LITERAL"
>.so</TT
>
argumenten relatief aan de huidige werkdirectory.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q5"
></A
>Welk macropackage kan ik het beste gebruiken?</H2
><P
>Er zijn een aantal macropackages speciaal ontworpen voor gebruik
bij het schrijven van manpages. Gewoonlijk zijn ze te vinden in de
groff macrodirectory /usr/lib/groff/tmac. De bestandsnamen zijn
<TT
CLASS="LITERAL"
>tmac.</TT
>&lt;iets&gt;, waarbij &lt;iets&gt;
het argument is aan de -m optie van groff. Groff zal
<TT
CLASS="LITERAL"
>tmac.</TT
>&lt;iets&gt; gebruiken wanneer het de optie
`<TT
CLASS="LITERAL"
>-m</TT
> &lt;iets&gt;' meekrijgt. Vaak wordt de
spatie tussen `<TT
CLASS="LITERAL"
>-m</TT
>' en
`&lt;iets&gt;' weggelaten, dus kunnen we
zeggen `<TT
CLASS="LITERAL"
>groff -man</TT
>' wanneer we manpages met
het macropackage <TT
CLASS="LITERAL"
>tmac.an</TT
> formatteren. 
Dat is de reden voor de vreemde naam `tmac.an'. 
Afgezien van tmac.an is er nog een
ander populair macropackage, genaamd <TT
CLASS="LITERAL"
>tmac.doc</TT
>, welk
zijn oorsprong vindt op de Universiteit van Californi&euml; op Berkeley.
Veel BSD manpages gebruiken het en het schijnt dat UCB het tot standaard
heeft verheven voor documentatie. De
<TT
CLASS="LITERAL"
>tmac.doc</TT
> macro's zijn veel flexibeler, maar
helaas zijn er manpage browsers die ze niet zullen gebruiken
en altijd <TT
CLASS="LITERAL"
>groff -man</TT
> zullen aanroepen. Bijvoorbeeld alle
<TT
CLASS="LITERAL"
>xman</TT
> programma's die ik heb gezien zullen
manpages die <TT
CLASS="LITERAL"
>tmac.doc</TT
> nodig hebben verknallen.
Dus doe jezelf een plezier: gebruik <TT
CLASS="LITERAL"
>tmac.an</TT
> -- 
het gebruik van een ander macropackage wordt als schadelijk aangemerkt.
<TT
CLASS="LITERAL"
>tmac.andoc</TT
> is een
pseudo macropackage dat de broncode bekijkt en dan 
<TT
CLASS="LITERAL"
>tmac.an</TT
> of <TT
CLASS="LITERAL"
>tmac.doc</TT
> laadt.
In feite zou elke manpagebrowser het moeten gebruiken, maar tot op heden,
doen ze dit niet allemaal, dus is het 't beste als ons we vasthouden aan de oude
<TT
CLASS="LITERAL"
>tmac.an</TT
>. Alles wat ik je van nu af aan vertel 
met betrekking tot macro's geldt alleen voor <TT
CLASS="LITERAL"
>tmac.an</TT
>.
Als je toch gebruik wilt maken van de <TT
CLASS="LITERAL"
>tmac.doc</TT
> macro's,
bekijk dan de tutorialsampler, <A
HREF="http://www.freebsd.org/cgi/man.cgi?query=mdoc.samples"
TARGET="_top"
><TT
CLASS="LITERAL"
>mdoc.samples</TT
></A
>.
Een aantal distro's (is me verteld) worden ook met mdoc(7), mdoc.samples(7) en
groff_man(7) geleverd.</P
><P
>De definitieve bron voor <TT
CLASS="LITERAL"
>troff</TT
>, waarin alle
macro's worden uitgelegd is de <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Troff User's Manual</I
></SPAN
>, 
beschikbaar in
<A
HREF="http://cm.bell-labs.com/sys/doc/troff.html"
TARGET="_top"
>html</A
>,
<A
HREF="http://cm.bell-labs.com/sys/doc/troff.ps"
TARGET="_top"
>PostScript
(ps, 760K)</A
> of
<A
HREF="http://cm.bell-labs.com/sys/doc/troff.pdf"
TARGET="_top"
>Portable
Document Format (pdf, 240K)</A
>. door Jospeh F. Ossanna en Brian
W. Kernighan, gereviseerd November 1992. AT&amp;T Bell Labs heeft het voor
het publiek beschikbaar gesteld. Vergeet niet de laatste geweldige homepage
van <A
HREF="http://www.kohala.com/start/"
TARGET="_top"
>W. Richard Steven</A
> te bekijken (beroemd om <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Unix Network
Programming</I
></SPAN
> als ook de <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>TCP/IP
Illustrated</I
></SPAN
> trilogie), die ook een lijst heeft met
<A
HREF="http://www.kohala.com/start/troff/troff.html"
TARGET="_top"
>Troff
Resources</A
> waaronder <TT
CLASS="LITERAL"
>tbl</TT
>,
<TT
CLASS="LITERAL"
>eqn</TT
>, <TT
CLASS="LITERAL"
>pic</TT
> en andere
filters.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q6"
></A
>Welke preprocessors kan ik gebruiken?</H2
><P
>Groff wordt op z'n minst met drie preprocessors geleverd,
<TT
CLASS="LITERAL"
>tbl</TT
>, <TT
CLASS="LITERAL"
>eqn</TT
>, en
<TT
CLASS="LITERAL"
>pic</TT
> (op een aantal systemen worden ze
<TT
CLASS="LITERAL"
>gtbl</TT
>, <TT
CLASS="LITERAL"
>geqn</TT
> en
<TT
CLASS="LITERAL"
>gpic</TT
> genoemd.) Hun doel is preprocessor macro's en hun data
om te zetten in reguliere troff invoer.
<TT
CLASS="LITERAL"
>Tbl</TT
> is een preprocessor voor tabellen,
<TT
CLASS="LITERAL"
>eqn</TT
> is een preprocessor voor vergelijkingen/berekeningen en
<TT
CLASS="LITERAL"
>pic</TT
> is een preprocessor voor afbeeldingen. Raadpleeg
alsjeblieft de manpages voor meer informatie over welke functionaliteit ze
leveren. In een notedop: schrijf geen manpages waarvoor een preprocessor
nodig is. Eqn zal gewoonlijk afschuwelijke uitvoer produceren voor
schrijfmachine-achtige devices, helaas het type device waarop 99% van alle
manpages worden bekeken (tenminste dat doe ik). Bijvoorbeeld
XAllocColor.3x maakt gebruik van een paar formules met machtsverheffen.
Vanwege de aard van schrijfmachine-achtige devices zal de exponent 
op dezelfde regel verschijnen als de basis.
N tot de macht van twee verschijnt als
`N2'. <TT
CLASS="LITERAL"
>Tbl</TT
> kan maar beter worden vermeden omdat
alle xman programma's die ik heb gezien er op mislukken.
Xman 3.1.6 maakt gebruik van de volgende opdracht om manpages te
formatteren, b.v. signal(7):</P
><P
><TT
CLASS="LITERAL"
>gtbl /usr/man/man7/signal.7 | geqn | gtbl | groff
-Tascii -man /tmp/xmana01760 2&gt; /dev/null</TT
></P
><P
>wat bronnen verknalt waarin gebruik wordt gemaakt van 
<TT
CLASS="LITERAL"
>gtbl</TT
>, omdat de uitvoer van
<TT
CLASS="LITERAL"
>gtbl</TT
> weer als invoer wordt gegeven aan
<TT
CLASS="LITERAL"
>gtbl</TT
>. Het effect is een manpage zonder je tabel.
Ik weet niet of het een programmeerfout of een feature is dat
<TT
CLASS="LITERAL"
>gtbl</TT
> zich verslikt in zijn eigen uitvoer of dat xman
een beetje slimmer zou kunnen zijn door 
<TT
CLASS="LITERAL"
>gtbl</TT
> niet tweemaal te gebruiken.
Bovendien maakt een aantal systemen gebruik van <TT
CLASS="LITERAL"
>grog</TT
> 
om vast te stellen welke opties aan groff door te geven.
Helaas gist grog soms verkeerd en beveelt
<TT
CLASS="LITERAL"
>groff -t</TT
> aan wanneer in feite
<TT
CLASS="LITERAL"
>tbl</TT
> moet worden gebruikt. We blijven in feite met
twee oplossingen achter voor tabellen:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Maak de tabel zelf handmatig op en plaats het tussen .nf en .fi
regels zodat het ongeformatteerd blijft. Je hebt op deze wijze geen
vet en schuindruk, maar je tabel wordt altijd maar weer geslikt.</P
></LI
><LI
><P
>Gebruik de <TT
CLASS="LITERAL"
>tbl</TT
> macro's die je wilt, maar
distribueer de <TT
CLASS="LITERAL"
>tbl</TT
> uitvoer in plaats van de invoer.
Je hebt echter te maken met de eigenaardigheid van
<TT
CLASS="LITERAL"
>grog</TT
> die denkt dat een bestand met een regel
beginnend met <TT
CLASS="LITERAL"
>.TS</TT
> 
<TT
CLASS="LITERAL"
>tbl</TT
> vereist. <TT
CLASS="LITERAL"
>Tbl</TT
> uitvoer
bevat om voor mij onbekende reden nog steeds de
<TT
CLASS="LITERAL"
>.TS</TT
> en <TT
CLASS="LITERAL"
>.TE</TT
>. 
Het schijnt dat je ze simpelweg kunt verwijderen en dat het resultaat
er dan nog steeds ok uitziet. YMMV, dus test het alsjeblieft bij je
manpage.</P
></LI
></OL
><P
>Ik moet nog een manpage te zien krijgen die de <TT
CLASS="LITERAL"
>pic</TT
>
preprocessing nodig heeft. Maar ik zou het niet prettig vinden. Zoals je
hierboven kunt zien, zal
<TT
CLASS="LITERAL"
>xman</TT
> het niet gebruiken en
<TT
CLASS="LITERAL"
>groff</TT
> zal beslist die fantastische gekkigheid op de invoer
toepassen.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q7"
></A
>Moet ik broncode en/of reeds geformatteerde
documentatie distribueren?</H2
><P
>Laat me de voors (+) en tegens (-) geven van een paar uitgekozen
mogelijkheden:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Alleen de broncode:+ kleiner distributiepackage.- ontoegankelijk op
systemen zonder <TT
CLASS="LITERAL"
>groff</TT
>.</P
></LI
><LI
><P
>Alleen ongecomprimeerd formaat:+ zelfs toegankelijk op systemen
zonder <TT
CLASS="LITERAL"
>groff</TT
>.- de gebruiker kan geen dvi of
postscript bestand genereren. - verspilling van diskruimte op systemen
die ook gecomprimeerde manpages hanteren.</P
></LI
><LI
><P
>Alleen gecomprimeerd formaat:+ zelfs toegankelijk op systemen
zonder <TT
CLASS="LITERAL"
>groff</TT
>.- de gebruiker kan geen dvi of postscript
bestand genereren. - welk compressieformaat zou je gebruiken?
.Z? .z? .gz? Allemaal?</P
></LI
><LI
><P
>Broncode en ongecomprimeerd geformatteerd:+ toegankelijk zelfs op
systemen zonder <TT
CLASS="LITERAL"
>groff</TT
>.- groter distributie
package- een aantal systemen verwacht wellicht gecomprimeerde manpages.-
overtollige informatie op systemen uitgerust met
<TT
CLASS="LITERAL"
>groff</TT
>.</P
></LI
></OL
><P
>IMHO is het 't beste alleen de broncode te distribueren. Het argument
dat het ontoegankelijk is op systemen zonder <TT
CLASS="LITERAL"
>groff</TT
>
doet er niet toe. De 500+ manpages van het Linux Documentatie Project
bestaan alleen uit broncode. De manpages van XFree86 bestaan alleen uit
broncode. De manpages van de FSF bestaan alleen uit broncode.
In feite heb ik zelden software gezien die werd gedistribueerd met
geformatteerde manpages. Als een systeembeheerder het werkelijk belangrijk
vindt dat manpages toegankelijk zijn dan heeft hij ook
<TT
CLASS="LITERAL"
>groff</TT
> ge&iuml;nstalleerd.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q8"
></A
>Wat zijn de fontconventies?</H2
><P
>Ten eerste: maak geen gebruik van directe fontoperators zoals
<TT
CLASS="LITERAL"
>\fB</TT
>, <TT
CLASS="LITERAL"
>\fP</TT
> enz. Gebruik macro's
die argumenten accepteren. Op deze wijze voorkom je een 
gebruikelijke valkuil: het wijzigen van het font aan het einde van
het woord en dat de vette tekst of schuindruk tot aan de volgende
fontwijziging doorgaat. Geloof me, het gebeurt vaker dan je denkt.
De <TT
CLASS="LITERAL"
>tmac.an</TT
> macro's voorzien in de volgende lettertypen:</P
><P
>.B Vet</P
><P
>.BI Vet afgewisseld met schuindruk</P
><P
>.BR Vet afgewisseld met Roman</P
><P
>.I Schuindruk</P
><P
>.IB Schuindruk afgewisseld met vet</P
><P
>.IR Schuindruk afgewisseld met Roman</P
><P
>.RB Roman afgewisseld met vet</P
><P
>.RI Roman afgewisseld met schuindruk</P
><P
>.SM Klein (9/10 geschaald van de reguliere grootte)</P
><P
>.SB Klein vet (<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>niet</I
></SPAN
> klein afgewisseld
met vet)</P
><P
>X afgewisseld door Y betekent dat de oneven argumenten grafisch
worden gezet in X terwijl de even argumenten worden gezet in Y. Bijvoorbeeld</P
><P
>.BI &quot;Arg 1 is Vet, &quot; &quot;Arg 2 is Schuindruk,
&quot; &quot;en Vet, &quot; &quot;en Schuindruk.&quot;</P
><P
>De dubbele aanhalingstekens zijn nodig om witruimte in een argument
op te kunnen nemen; zonder deze aanhalingstekens verschijnt er geen
witruimte tussen de afwisselende lettertypen. 
In feite hoef je de macro's voor afwisselende lettertypen alleen te gebruiken
in die gevallen waar je witruimte tussen lettertype wijzigingen 
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>wilt</I
></SPAN
> voorkomen. 
Tot zover wat beschikbaar is. Hieronder hoe je gebruik zou moeten maken
van de verschillende lettertypen:
(delen schaamteloos overgenomen uit man(7))</P
><P
>Alhoewel er in de UNIX-wereld veel willekeurige conventies bestaan
voor manpages, definieert het bestaan van verscheidene honderden
Linux specifieke manpages onze standaards: Bij functies worden de
argumenten altijd gespecificeerd in schuindruk, zelfs in de SYNTAX sectie,
waar de rest van de functie vet wordt afgedrukt:</P
><P
>.BI &quot;mijnfunctie(int &quot; argc &quot;, char **&quot;
argv );</P
><P
>Bestandsnamen staan altijd in schuindruk, behalve in de sectie SYNTAX,
waarin opgenomen bestanden vet zijn afgedrukt. Dus je zou gebruik kunnen
maken van</P
><P
>.I /usr/include/stdio.h</P
><P
>en</P
><P
>.B #include &lt;stdio.h&gt;</P
><P
>Speciale macro's, die gewoonlijk in hoofdletters staan, worden 
vet afgedrukt:</P
><P
>.B MAXINT</P
><P
>Bij het nummeren van een lijst met foutcodes, staan de codes 
vet afgedrukt. Deze lijst maakt gewoonlijk als volgt gebruik van de macro .TP 
(paragraaf met hangende tag):</P
><P
>.TP.B EBADF.I fd is geen geldige file descriptor..TP.B
EINVAL.I fd is ongeschikt als leesstof</P
><P
>Elke verwijzing naar een andere manpage (of naar het onderwerp van
de huidige manpage) is vet afgedrukt. Als het nummer van de manpage wordt
gegeven, dan is dit in roman, zonder spaties:</P
><P
>.BR man (7)</P
><P
>Acroniemen zien er het beste uit wanneer ze typografisch worden gezet
in een klein lettertype. Dus is mijn aanbeveling</P
><P
>.SM UNIX</P
><P
>.SM ASCII</P
><P
>.SM TAB</P
><P
>.SM NFS</P
><P
>.SM LALR(1)</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q9"
></A
>Je manpage oppoetsen</H2
><P
>Hieronder staan een aantal richtlijnen die de betrouwbaarheid,
leesbaarheid en 'vorming' van je documentatie verbeteren.</P
><P
></P
><UL
><LI
><P
>Test voorbeelden om er zeker van te zijn dat ze werken 
(gebruik knippen en plakken om je shell de exacte bewoording uit de manpage
te geven).
Kopieer de uitvoer van je opdracht in je manpage, typ niet slechts in wat
je <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>denkt</I
></SPAN
> dat je programma zal afdrukken.</P
></LI
><LI
><P
>Proeflees het, pas de spellingscontrole erop toe en laat iemand anders 
het lezen, vooral als Engels je moedertaal niet is. De HOWTO die je aan het
lezen bent heeft de laatste test doorstaan (speciale dank aan
Michael Miller voor een nogal heldhaftige bijdrage! Alle resterende
ruwe kantjes zijn geheel mijn fout). Extra vrijwilligers zijn altijd welkom.</P
></LI
><LI
><P
>Test je manpage: Produceert <TT
CLASS="LITERAL"
>groff</TT
> foutmeldingen
wanneer je je manpage formatteert? Het is aardig als je de
<TT
CLASS="LITERAL"
>groff</TT
> opdrachtregel in een commentaarregel plaatst.
Produceert de opdracht
<TT
CLASS="LITERAL"
>man</TT
>(1) foutmeldingen wanneer je
<TT
CLASS="LITERAL"
>man jeprog</TT
> aanroept? Produceert het 't verwachte resultaat?
Zullen <TT
CLASS="LITERAL"
>xman</TT
>(1x) en
<TT
CLASS="LITERAL"
>tkman</TT
>(1tk) met je manpage overweg kunnen? XFree86 3.1
heeft xman 3.1.6 - X11R6, het zal proberen te decomprimeren met
<TT
CLASS="LITERAL"
>gzip -c -d &lt; %s &gt; %s zcat &lt; %s &gt;
%s</TT
></P
></LI
><LI
><P
>Zal <TT
CLASS="LITERAL"
>makewhatis</TT
>(8) de &eacute;&eacute;nregelige
beschrijving uit de NAAM sectie kunnen extraheren?</P
></LI
><LI
><P
>Zet je manpage om in HTML opmaak met behulp van
<TT
CLASS="LITERAL"
>rman</TT
> van <A
HREF="http://polyglotman.sourceforge.net/"
TARGET="_top"
>http://polyglotman.sourceforge.net/</A
>, en bekijk het resultaat met een
set webbrowsers (netscape, mozilla, opera, lynx, ...) Controleer of de
kruisverwijzingen tussen je manpages als hyperlinks in de gegenereerde HTML
functioneren. Als er een website bestaat voor je softwarepackage, plaats
daar dan de manpages, en houd ze bijgewerkt.</P
></LI
><LI
><P
>Het utility <TT
CLASS="LITERAL"
>rman</TT
> kan manpages ook omzetten naar
LaTeX, RTF, SGML en andere formaten; kijk deze na als je je manpages
in een boek of ander groot document wilt opnemen.</P
></LI
><LI
><P
>Probeer je manpage om te zetten in HTML met behulp van
<TT
CLASS="LITERAL"
>man2html</TT
>, wat al sinds man-1.4 onderdeel uitmaakt
van het Linux man-package. Het <TT
CLASS="LITERAL"
>man2html</TT
> utility is een minder
grootse vertaler dan <TT
CLASS="LITERAL"
>rman</TT
>, maar vrijwel elke
Linux gebruiker heeft het al, dus het is het waard te zorgen dat
<TT
CLASS="LITERAL"
>man2html</TT
> zich niet verslikt in je manpage.</P
></LI
></UL
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q10"
></A
>Hoe krijg ik een gewoon manpage in tekstformaat
zonder al die ^H^'s ?</H2
><P
>Kijk eens naar <TT
CLASS="LITERAL"
>col</TT
>(1), omdat
<TT
CLASS="LITERAL"
>col</TT
> backspacereeksen kan filteren. Gewoon voor het geval
je niet zo lang kan wachten:</P
><P
><TT
CLASS="LITERAL"
>funnyprompt$ groff -t -e -mandoc -Tascii manpage.1 |
col -bx &gt; manpage.txt</TT
></P
><P
>De <TT
CLASS="LITERAL"
>-t</TT
> en <TT
CLASS="LITERAL"
>-e</TT
> switches
vertellen <TT
CLASS="LITERAL"
>groff</TT
> voor te verwerken met
<TT
CLASS="LITERAL"
>tbl</TT
> en <TT
CLASS="LITERAL"
>eqn</TT
>. Dit is overdreven
voor manpages waar geen voorbewerking voor nodig is, maar afgezien
van een paar verspilde CPU cycli kan het geen kwaad. Aan de andere
kant kan het wel kwaad geen <TT
CLASS="LITERAL"
>-t</TT
> toe te passen
wanneer het in feitelijk nodig is: de tabel wordt afschuwelijk opgemaakt.
Je kunt er zelfs achterkomen (nou ja, gissen is een beter woord) welke
opdracht nodig is om een bepaald <TT
CLASS="LITERAL"
>groff</TT
> document
(niet gewoon manpages) te formatteren door het aanroepen van:</P
><P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>funnyprompt$ grog /usr/man/man7/signal.7
groff -t -man /usr/man/man7/signal.7</PRE
></TD
></TR
></TABLE
></P
><P
>&quot;Grog&quot; staat voor &quot;GROff Guess&quot;, en het doet
wat het zegt--gissen. Als het perfect zou zijn, dan zouden we geen opties
meer nodig hebben. Ik heb het onjuist zien gissen bij macropackages en
preprocessors. Hier is een door mij geschreven klein
perlscript dat de paginakoppen en voettekten kan verwijderen, je daarbij
een paar pagina's besparend (en moeder natuur een boom) bij het afdrukken
van lange en uitgebreide manpages. Bewaar het in een bestand met de naam
<TT
CLASS="LITERAL"
>strip-headers</TT
> &amp; chmod 755.</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>    #!/usr/bin/perl -wn
    #  laat het 't hele bestand in &eacute;&eacute;n keer inlezen:
    undef $/;
    #  verwijder eerste koptekst:
    s/^\n*.*\n+//;
    #  verwijder laastste voettekst:
    s/\n+.*\n+$/\n/g;
    #  verwijder pagina-overgangen:
    s/\n\n+[^ \t].*\n\n+(\S+).*\1\n\n+/\n/g;
    #  combineer twee of meer lege regels tot &eacute;&eacute;n lege regel:
    s/\n{3,}/\n\n/g;
    #  bekijk wat er over is...
    print;</PRE
></TD
></TR
></TABLE
><P
>Je moet het als het eerste filter gebruiken na de opdracht
<TT
CLASS="LITERAL"
>man</TT
> aangezien het terugvalt op het aantal newlines
dat door <TT
CLASS="LITERAL"
>groff</TT
> wordt uitgevoerd.
Bijvoorbeeld:</P
><P
><TT
CLASS="LITERAL"
>funnyprompt$ man bash | strip-headers | col -bx &gt;
bash.txt</TT
></P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q11"
></A
>Hoe krijg ik een PostScript manpage van hoge kwaliteit?</H2
><P
><TT
CLASS="LITERAL"
>funnyprompt$ groff -t -e -mandoc -Tps manpage.1 &gt;
manpage.ps</TT
></P
><P
>Druk dat af of bekijk het met je favoriete PostScript printer/viewer.
Zie <A
HREF="#Q10"
>vraag 10)</A
> voor een uitleg
van de opties.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="Q12"
></A
>Hoe krijg ik `apropos' en `whatis' werkend?</H2
><P
>Stel dat je je afvraagt welke compilers op je systeem zijn
ge&iuml;nstalleerd en hoe deze kunnen worden aangeroepen.
Om deze (veelgestelde vraag) te beantwoorden, geef je op</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>funnyprompt$ apropos compiler
f77 (1) - Fortran 77 compiler 
gcc (1) - GNU C and C++ compiler
pc (1) - Pascal compiler</PRE
></TD
></TR
></TABLE
><P
><TT
CLASS="LITERAL"
>Apropos</TT
> en <TT
CLASS="LITERAL"
>whatis</TT
> worden gebruikt
om snel te rapporteren welke manpage informatie bevat over een bepaald
onderwerp. Beide programma's doorzoeken een aantal bestanden met de naam
`whatis' die is te vinden in elk van de basisdirectory's van de manpages.
Zoals eerder uiteengezet, bevatten de whatis databasebestanden een
&eacute;&eacute;nregelige ingang voor elke manpage in de respectieve
directorystructuur. In feite is die regel exact gelijk aan de sectie NAAM 
(om precies te zijn: samengevoegd op &eacute;&eacute;n regel waarbij 
het verbindingsteken is verwijderd; de sectie wordt tussen haakjes vermeld).
De whatis databasebestanden worden
aangemaakt met het programma <TT
CLASS="LITERAL"
>makewhatis</TT
>(8). Er zijn
verscheidene versies in omloop, dus raadpleeg alsblieft de manpage om
vast te stellen welke opties beschikbaar zijn. Wil
<TT
CLASS="LITERAL"
>makewhatis</TT
> de NAAM secties correct kunnen extraheren
dan is het van belang dat jij, de schrijver van de manpage,
je houdt aan de opmaak van de NAAM sectie zoals beschreven onder
<A
HREF="#Q3"
>vraag 3)</A
>. De verschillen tussen
<TT
CLASS="LITERAL"
>apropos</TT
> en <TT
CLASS="LITERAL"
>whatis</TT
> zijn simpelweg
waar in de regel ze kijken, en waar ze naar zoeken.
<TT
CLASS="LITERAL"
>Apropos</TT
> (wat equivalent is aan <TT
CLASS="LITERAL"
>man
-k</TT
>) doorzoekt de argumentstring overal op de regel,
terwijl <TT
CLASS="LITERAL"
>whatis</TT
> (equivalent aan <TT
CLASS="LITERAL"
>man
-f</TT
>) een volledige opdrachtnaam alleen in dat deel voor het
streepje probeert te matchen. Als consequentie zal
`<TT
CLASS="LITERAL"
>whatis cc</TT
>' het rapporteren als er een
<TT
CLASS="LITERAL"
>cc</TT
> manpage is en stil blijven voor <TT
CLASS="LITERAL"
>gcc</TT
>.</P
><P
>Correcties en suggesties welkom!</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="COPYING"
></A
>Kopieervoorwaarden</H2
><P
>Copyright 1995-2001 by Jens Schweikhardt. All rights
reserved.</P
><TABLE
BORDER="1"
BGCOLOR="#d3dce3"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
> &quot;Two clause&quot; BSD License:

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:
 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.

 THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
 INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
 IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 POSSIBILITY OF SUCH DAMAGE.</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="ACKNOWLEDGEMENTS"
></A
>Erkenningen</H2
><P
></P
><UL
><LI
><P
>Michael Miller voor het proeflezen van de volledige HOWTO (in februari
2001); Gordon Torrie voor de vele behulpzame grammaticale opmerkingen
(in augustus 2001). Eventuele resterende grammaticale of stijlfouten 
zijn geheel mijn fout.</P
></LI
><LI
><P
><A
HREF="http://www.SuSE.de/"
TARGET="_top"
>S.u.S.E. (.de)</A
> (of
<A
HREF="http://www.SuSE.com/"
TARGET="_top"
>.com</A
>) de enige distributeur
die me gratis kopie&euml;n van hun laatste product blijven sturen,
mijn werk als howto auteur erkennend.</P
></LI
><LI
><P
>George B. Moody voor aanvullende suggesties hoe een manpage op te
poetsen.</P
></LI
></UL
><P
>Laat een bericht bij me achter als je naam hier ontbreekt.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="CHANGELOG"
></A
>Changelog</H2
><P
></P
><UL
><LI
><P
>Maart 6 2001: HTML broncode doorstaat nu <TT
CLASS="LITERAL"
>weblint
-pedantic</TT
>. <A
HREF="#Q6"
>Paragraph 6:</A
> Toegevoegd
workarounds voor <TT
CLASS="LITERAL"
>tbl</TT
> screw-ups. Toegevoegd
<A
HREF="#ACKNOWLEDGEMENTS"
>Erkenningen</A
> en
<A
HREF="#CHANGELOG"
>Changelog</A
>. RCS Id toegevoegd.</P
></LI
><LI
><P
>Augustus 9 2001: Howto geplaatst onder een twee clausule BSD
licentie.</P
></LI
><LI
><P
>Augustus 20 2001: Grammatica verbeterd. Gebruik een genummerde lijst
voor de inhoudsopgave.</P
></LI
><LI
><P
>Oktober 28 2001: Referenties naar mdoc(7), mdoc.samples(7) en
groff_man(7) toegevoegd.</P
></LI
><LI
><P
>April 28 2002: Grammaticacorrectie.</P
></LI
><LI
><P
>April 30 2002: Werkte de link bij naar de groff_mdoc BSD tutorial.</P
></LI
><LI
><P
>November 29 2002: Meer suggesties voor het oppoetsen van je manpage.</P
></LI
><LI
><P
>December 15 2002: Publiceer SGML afgeleid van HTML. Verwijderde dode link
naar LSM.</P
></LI
></UL
></DIV
></DIV
></BODY
></HTML
>