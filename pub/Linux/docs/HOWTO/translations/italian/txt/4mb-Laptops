  4mb Laptop HOWTO
  Bruce Richardson <brichardson@lineone.net>

  25 Marzo 2000

  Come installare un Linux "evoluto" su di un portatile con specifiche
  ridotte (4mb RAM, <=200mb hard disk).  Traduzione a cura di pctips
  (pctips@hardwaretips.com), revisione a cura di Hugh Hartmann (hhart­
  mann@libero.it) e Kriss (chgwor@tin.it).

  ______________________________________________________________________

  Indice Generale



  1. Introduzione
     1.1 Perché è stato scritto questo documento
     1.2 Quali sono gli utilizzi di un portatile con specifiche ridotte?
     1.3 Perché non aggiornare semplicemente il portatile?
     1.4 E riguardo alle macchine Desktop con 4mb?
     1.5 Cosa non tratta questo documento
     1.6 Dove trovare questo documento
     1.7 Copyright

  2. I portatili
     2.1 Specifiche di base
        2.1.1 Compaq Contura Aero
        2.1.2 Toshiba T1910
     2.2 Il problema
     2.3 La soluzione

  3. Scelte fatte
     3.1 Cosa usare per creare la partizione iniziale di root?
     3.2 La distribuzione
        3.2.1 Ma se Slackware non piace?
     3.3 Quale metodo di installazione utilizzare?
     3.4 Schema delle partizioni
        3.4.1 Requisti di base
        3.4.2 Quanto può essere complesso uno schema per le partizioni?
     3.5 Quali componenti installare?

  4. La procedura di pre-installazione
     4.1 Preparazione di muLinux
     4.2 Preparare l'installazione dei file di root
     4.3 Creare le partizioni
        4.3.1 I mini-Linux e i file-system ext2 - una nota importante
        4.3.2 Procedura

  5. L'installazione
     5.1 Avviare la macchina
     5.2 Installazione da floppy o CD-ROM su porta parallela
     5.3 Installazione da Network/PCMCIA
        5.3.1 Installazione PCMCIA sull'Aero
     5.4 Installazione
        5.4.1 AddSwap
        5.4.2 Target
        5.4.3 Selezione
        5.4.4 Installazione
        5.4.5 Configurazione
        5.4.6 Exit
     5.5 Configurazione di pre-riavvio
     5.6 Configurazione post-riavvio
        5.6.1 Riusare la root temporanea
        5.6.2 Altri trucchi di configurazione

  6. Conclusione
  7. Appendice A
     7.1 A - Sistema Linux di base
        7.1.1 Pacchetti ritenuti validi per l'omissione:
           7.1.1.1 Pacchetti installati:
     7.2 AP - Applicazioni non X
        7.2.1 Pacchetti ritenuti validi per l'inclusione:
        7.2.2 Pacchetti installati:
     7.3 D - Strumenti software di sviluppo
        7.3.1 Pacchetti installati:
     7.4 E - Emacs
        7.4.1 Pacchetti installati:
     7.5 F - FAQ e HOWTO
        7.5.1 Pacchetti installati:
     7.6 K - Sorgente del kernel
        7.6.1 Pacchetti installati:
     7.7 N - Applicazioni e strumenti software per il networking
        7.7.1 Pacchetti installati:
     7.8 Tetex
        7.8.1 Pacchetti installati:
     7.9 Y - Collezione di giochi BSD
        7.9.1 Pacchetti installati:
     7.10 Risultato finale

  8. Appendice B - Risorse importanti per questo HOWTO


  ______________________________________________________________________

  11..  IInnttrroodduuzziioonnee

  11..11..  PPeerrcchhéé èè ssttaattoo ssccrriittttoo qquueessttoo ddooccuummeennttoo

  Si hanno due vecchi portatili a disposizione, entrambi con solo 4mb di
  RAM e piccoli dischi rigidi (<=200mb). Si cercherà di installare Linux
  nelle due macchine. La documentazione per questo genere di portatili
  raccomanda l'installazione di un mini-Linux o una vecchia versione (e
  per questo compatta) di una delle distribuzioni professionali di
  Linux. Si cercherà invece di installare una distribuzione aggiornata
  di Linux professionale.

  11..22..  QQuuaallii ssoonnoo ggllii uuttiilliizzzzii ddii uunn ppoorrttaattiillee ccoonn ssppeecciiffiicchhee rriiddoottttee??

  Molti. Non avvierà X e non potrà essere una macchina per sviluppare
  (vedere ``Quali componenti installare?'') ma se piace l'uso della
  console, si dispone di una macchina che può essere usata per la posta
  elettronica, il networking, la scrittura, ecc. I portatili
  costituiscono anche degli eccellenti strumenti di
  diagnostica/riparazione e le utilità per questi scopi possono essere
  inserite facilmente in portatili aventi specifiche ridotte.

  11..33..  PPeerrcchhéé nnoonn aaggggiioorrnnaarree sseemmpplliicceemmeennttee iill ppoorrttaattiillee??

  Aggiornare vecchi portatili non è più economico che aggiornare quelli
  più recenti. Su una vecchia macchina bisogna spendere molto,
  specialmente considerando che il produttore non la supporta più e
  diverse parti sono difficili da reperire.

  11..44..  EE rriigguuaarrddoo aallllee mmaacccchhiinnee DDeesskkttoopp ccoonn 44mmbb??

  La procedura descritta in questo documento dovrebbe funzionare
  decisamente bene anche su un PC desktop. D'altra parte, aggiornare una
  macchina desktop è molto più facile e conveniente che aggiornare un
  portatile.  Anche se non non si effettua l'aggiornamento, ci sono
  tuttavia delle opzioni più semplici che si possono considerare. Si può
  estrarre il disco, inserirlo in una macchina più performante,
  installare Linux, riassettarlo in maniera appropriata e infine
  rimettere il disco nella vecchia macchina.

  11..55..  CCoossaa nnoonn ttrraattttaa qquueessttoo ddooccuummeennttoo

  Questo documento non è un HOWTO generico riguardante l'installazione
  di Linux sui portatili o addirittura un HOWTO specifico per ciascuna
  delle due macchine menzionate. Descrive semplicemente un modo per
  comprimere un Linux voluminoso in uno spazio molto piccolo, citando,
  come esempi, due macchine specifiche.

  11..66..  DDoovvee ttrroovvaarree qquueessttoo ddooccuummeennttoo

  La copia più recente di questo documento può essere trovata in
  parecchi formati all'indirizzo
  http://website.lineone.net/~brichardson/linux/4mb_laptops/.
  11..77..  CCooppyyrriigghhtt

  This document is copyright (c) Bruce Richardson 2000. It may be
  distributed under the terms set forth in the LDP license at
  sunsite.unc.edu/LDP/COPYRIGHT.html.

  This HOWTO is free documentation; you can redistribute it and/or
  modify it under the terms of the LDP license. This document is
  distributed in the hope that it will be useful, but without any
  warranty; without even the implied warranty of merchantability or
  fitness for a particular purpose. See the LDP license for more
  details.

  Toshiba and T1910 are trademarks of Toshiba Corporation. Compaq and
  Contura Aero are trademarks of Compaq Computer Corporation.

  Questa è la traduzione italiana della licenza: in ogni caso solo la
  versione inglese ha validità legale.

  Questo documento è copyright (C) 2000 di Bruce Richardson. Può essere
  distribuito sotto i termini stabiliti nella licenza LDP disponibile
  all'indirizzo http://sunsite.unc.edu/LDP/COPYRIGHT.html.

  Questo HOWTO è documentazione libera; può essere ridistribuito e/o
  modificato rispettando i termini della licenza LDP. Questo documento è
  distribuito nella speranza che sia utile, ma senza alcuna garanzia; ed
  anche senza alcuna garanzia implicita relativa alla
  commercializzazione o all'idoneità per un scopo particolare. Si veda
  la licenza LDP per maggiori dettagli.

  Toshiba e T1910 sono marchi registrati della Toshiba Corporation.
  Compaq e Contura Aero sono marchi registrati della Compaq Computer
  Corporation.

  22..  II ppoorrttaattiillii

  Questa sezione descrive i portatili adoperati per questa procedura, i
  problemi che si presentano installando Linux e le soluzioni (a grandi
  linee) per risolverli.

  22..11..  SSppeecciiffiicchhee ddii bbaassee

  22..11..11..  CCoommppaaqq CCoonnttuurraa AAeerroo


  ·  25MHz 486SX CPU

  ·  4mb di RAM

  ·  Hard Disk da 170 MB

  ·  1 Slot PCMCIA Tipo II

  ·  Floppy PCMCIA 3.5" esterno   (-- Il lettore floppy PCMCIA ha
     un'interfaccia proprietaria che è parzialmente pilotata dal BIOS
     esclusivo dell'Aero. I driver PCMCIA di Linux non possono
     funzionare insieme ad esso. Secondo il PCMCIA-HOWTO, se il lettore
     è connesso quando il portatile si avvia, dovrebbe funzionare come
     un lettore standard e i Card Service dovrebbero ignorare il
     collegamento ma il disco non dovrebbe essere estraibile a caldo.
     Comunque si è scoperto che il lettore diventa inaccessibile non
     appena i Card Service si avviano, a meno che ci sia un disco
     montato nel lettore. Questo genera delle implicazioni per il
     processo di installazione che vengono analizzate nei punti
     relativi.--)

  22..11..22..  TToosshhiibbaa TT11991100


  ·  33MHz 486SX CPU

  ·  4mb di RAM

  ·  Hard Disk da 200 MB

  ·  Floppy 3.5" interno

  ·  1 Slot PCMCIA Tipo II/III

  22..22..  IIll pprroobblleemmaa

  I piccoli dischi rigidi e la mancanza di un floppy interno nell'Aero
  rendono l'installazione più complicata del normale, ma il problema
  reale è la RAM. Nessuna delle distribuzioni attuali ha un disco di
  installazione che può avviarsi in 4mb, nemmeno se l'intero disco è una
  partizione di swap.

  L'installazione standard usa un disco di boot per decomprimere
  un'immagine con la partizione di root (sia da un secondo floppy o da
  CD-ROM) in un ram-disk. L'immagine di root ha una dimensione di circa
  4mb. Esattamente tutta la ram disponibile in questo scenario. Si può
  tentare di usare l'installazione standard ma probabilmente si
  bloccherà mentre scompatta l'immagine di root.

  22..33..  LLaa ssoolluuzziioonnee

  La risposta è eliminare il ram-disk. Se si può montare il disco di
  root su una partizione fisica, si dovrebbe avere abbastanza memoria
  per l'installazione. Poiché il ram-disk decompresso è troppo grande
  per essere messo su un floppy, l'unico spazio disponibile è il disco
  rigido del portatile. I passaggi sono:


  1. Trovare qualcosa che possa avviarsi con 4mb di ram e che possa
     anche creare partizioni ext2.

  2. Usarla per creare una partizione di swap e una piccola partizione
     ext2 sul disco rigido del portatile.

  3. Decomprimere l'immagine di root dell'installazione e copiarla sulla
     partizione ext2.

  4. Avviare il portatile dal disco di avvio dell'installazione,
     indirizzandolo alla partizione ext2 sul disco rigido.

  5. L'installazione dovrebbe funzionare più o meno normalmente da qui
     in poi.

  L'unica domanda è se una distribuzione che non potrebbe essere
  installata (in normali circostanze) sui portatili, possa girarvi
  sopra. La risposta in breve è "Sì".

  Se si è un vecchio utilizzatore Linux, questo è tutto quello che c'è
  da sapere. Altrimenti, si continui a leggere - alcuni passaggi
  descritti precedentemente non sono così semplici come sembrano.

  33..  SScceellttee ffaattttee

  Questa sezione descrive le scelte disponibili, quali opzioni sono
  possibili, quali di queste sono state preferite ed il perché.


  33..11..  CCoossaa uussaarree ppeerr ccrreeaarree llaa ppaarrttiizziioonnee iinniizziiaallee ddii rroooott??

  Lo strumento migliore per questo scopo è un mini-Linux. C'è un'ampia
  selezione di piccoli Linux disponibili sulla rete, ma la maggior parte
  di questi non può avviarsi in 4mb di RAM. Sono stati trovati due mini-
  linux che soddisfano questa esigenza:


     SSmmaallllLLiinnuuxx hhttttpp::////ssmmaalllllliinnuuxx..nneettppeeddiiaa..nneett//
        SmallLinux può essere avviato in 2mb di RAM ma il suo disco di
        root non può essere estratto dal lettore, il che è un peccato
        poiché ha tutto quello che serve (es. fdisk, mkswap e
        mkfs.ext2). SmallLinux può creare le partizioni necessarie ma
        non può essere usato per copiare la partizione di root.

     mmuuLLiinnuuxx hhttttpp::////ssuunnssiittee..aauucc..ddkk//mmuulliinnuuxx//
        muLinux può essere avviato in 4mb ma solo in una modalità
        limitata di singolo utente. In questo modo fdisk e mkswap sono
        disponibili, ma mkfs.ext2 e le librerie necessarie per avviarlo
        sono nella partizione /usr che non è disponibile nella modalità
        "maintenance" [NdT: muLinux permette la creazione di un disco
        BOOT+ROOT+USR sfruttando una formattazione particolare per
        floppy disk da 1,7 MB]. Per usare muLinux allo scopo di
        effettuare l'intera operazione di pre-installazione, i file
        necessari per creare i file di sistema ext2 devono essere
        estratti dall'immagine disco USR e copiati su floppy.

  Questo offre la possibilità di usare SmallLinux per creare le
  partizioni e muLinux per copiare la partizione di root oppure usare
  muLinux per fare l'intero lavoro. Poiché si dispone di due portatili,
  sono stai provati entrambi i mini-linux.

  33..22..  LLaa ddiissttrriibbuuzziioonnee

  È stata scelta la Slackware, in considerazione dei seguenti punti:


  ·  Slackware ha assolutamente il programma di installazione meno
     appariscente di tutte le maggiori distribuzioni. È anche una delle
     più flessibili ed è accompagnata da un'ampia selezione di kernel
     per supportare il maggior numero di macchine possibile. Questo la
     rende molto adatta al tipo di hacking richiesto in questo scenario.

  ·  Slackware supporta tutti i metodi elencati in ``Quale metodo di
     installazione utilizzare?''.

  ·  Slackware è una distribuzione realizzata da una sola persona.
     Certamente Patrick Volkerding non obietterà se si afferma che i
     suoi strumenti di configurazione sono i più semplici e i più
     efficienti. Questo rende più facile il compito di adattare
     l'installazione per essere usata in condizioni particolari.

  È stata usata la versione 7.0 in quanto era l'ultima disponibile nel
  momento in cui è stata provata questa procedura.

  33..22..11..  MMaa ssee SSllaacckkwwaarree nnoonn ppiiaaccee??

  Non si deve usarla per forza. Non è possibile fornire indicazioni per
  tutte le distribuzioni, anche se Debian, Red Hat e SuSE offrono una
  serie di metodi di installazione ed hanno una procedura di
  installazione "expert"

  (-- Debian può fare tutto questo genere di cose?--) che può essere
  usata in questa situazione. La maggior parte dei passaggi in questo
  documento potrebbero essere applicati a qualsiasi distribuzione senza
  cambiamenti.
  Se non si è mai usato il metodo esperto della propria distribuzione
  preferita, prima si possono fare delle prove su una macchina desktop
  normale per acquisire una certa familiarità e per esplorare le opzioni
  che offre.

  33..33..  QQuuaallee mmeettooddoo ddii iinnssttaallllaazziioonnee uuttiilliizzzzaarree??


     IInnssttaallllaazziioonnee ddaa ffllooppppyy
        Questo significa cambiare 15 floppy, ottenendo solo
        un'installazione assolutamente minimale e che richiede una
        seconda fase per ottenere le applicazioni che si desiderano. È
        anche _m_o_l_t_o lenta su macchine con specifiche ridotte. Questa è
        l'ultima risorsa se non si possono usare le altre.

     IInnssttaallllaazziioonnee ddaa ppoorrttaa ppaarraalllleellaa
        Quando la porta parallela ha un dispositivo IDE, un cavo
        parallelo o un piccolo adattatore di rete  (-- L'installazione
        con un piccolo adattatore di rete su queste macchine sarà _m_o_l_t_o
        lenta.--) connessi.  Questa può essere una buona scelta per
        l'Aero, lasciando libero lo slot PCMCIA per usare il lettore
        floppy.

     IInnssttaallllaazziioonnee ddaa PPCCMMCCIIAA
        Come la precedente, questa può essere un'installazione da CD-ROM
        o da rete. Questo dovrebbe essere il metodo migliore per il
        T1910 - sull'Aero è un pò più difficoltoso.

     IInnssttaallllaazziioonnee ddaa EEtthheerrnneett IISSAA//PPCCII
        Non è un'opzione per i portatili naturalmente, ma valida nel
        caso in cui la propria macchina sia un PC desktop.


       Gli strumenti che si hanno a disposizione comportano l'uso
       di un'installazione PCMCIA da rete. Si indicherà dove i pas­
       saggi cambiano per gli altri metodi. Qualsiasi metodo venga
       scelto, sarà necessaria una macchina recente a disposizione
       - anche solo per creare i dischi per un'installazione da
       floppy.


  33..44..  SScchheemmaa ddeellllee ppaarrttiizziioonnii

  33..44..11..  RReeqquuiissttii ddii bbaassee

  Questa procedura richiede almeno due partizioni Linux native oltre a
  quella di swap. Poiché una delle due partizioni ext2 sarà usata come
  root temporanea durante l'installazione, non sarà disponibile come
  partizione di destinazione e per questo deve essere piccola, ma non
  inferiore ai 5mb. Per questo vale la pena creare una partizione che
  verrà riusata come /home dopo che l'installazione sarà completata.
  Un'altra opzione potrebbe essere ricrearla come partizione DOS per
  avere un portatile con dual-boot.

  33..44..22..  QQuuaannttoo ppuuòò eesssseerree ccoommpplleessssoo uunnoo sscchheemmaa ppeerr llee ppaarrttiizziioonnii??

  In questo testo non c'è lo spazio per dilungarsi. Esistono buoni
  motivi per avere una singola partizione ext2 ed usare il file di swap
  allo scopo di evitare di sprecare dello spazio, ma si raccomanda
  fortemente di creare una partizione separata per /usr. Se è
  disponibile una sola partizione e qualcosa non funziona, è probabile
  che si debba affrontare una reinstallazione completa. Separare /usr ed
  avere una piccola partizione per / rende più agevole il recupero di un
  disastro. Su entrambe le macchine sono state create in totale quattro
  partizioni:

  1. Una partizione di swap -- 16mb sul T1910, 20 sull'Aero (si
     consiglia di aumentare la memoria sull'Aero).

  2. /home (root temporanea durante l'installazione) -- 10mb.

  3. / -- 40mb sul T1910, 30mb sull'Aero.

  4. /usr -- Tutto lo spazio restante.

  Inoltre l'Aero usa hda3 per una partizione DOS da 2mb contenente
  strumenti di configurazione. Leggere le Aero FAQ per maggiori
  dettagli.

  33..55..  QQuuaallii ccoommppoonneennttii iinnssttaallllaarree??

  Solo le librerie glibc complete occuperebbero quasi tutto il disco
  rigido, quindi non c'è spazio per realizzare una macchina di sviluppo.
  Pare che si possa fare un'installazione di X minimale, ma è molto
  probabile che funzionerebbe lentamente. Si è deciso allora di
  installare (per una lista completa si veda l'``Appendice A'') i
  seguenti pacchetti:


  ·  Le utilità principali di Linux

  ·  Applicazioni testuali assortite dal gruppo ap1

  ·  Documentazione Info/FAQ/HOWTO

  ·  Delle utilità basilari per il networking

  ·  I giochi BSD

  Questa sezione illustra il tipo di macchina descritto in ``Quali sono
  gli utilizzi di un portatile ridotto?''.

  44..  LLaa pprroocceedduurraa ddii pprree--iinnssttaallllaazziioonnee

  Questa sezione tratta la creazione di una partizione di swap e di una
  partizione root temporanea sul disco fisso del portatile. Nulla di
  quanto è qui descritto è strettamente legato alla Slackware.

  44..11..  PPrreeppaarraazziioonnee ddii mmuuLLiinnuuxx

  Se si ha intenzione di usare solo muLinux per questa procedura, si
  dovrà preparare un disco con mkfs.ext2 e le librerie per supportarlo
  [NdT: vedere la nota precedente relativa a BOOT+ROOT+USR]. Dai file di
  setup di muLinux si decomprima USR.bz2 e lo si monti come un
  filesystem di loop. Se ci si trova nella stessa directory del file USR
  e si vuole montarlo in /tmpusr, la sequenza dei comandi per questo
  compito sarà:


  ______________________________________________________________________
  losetup /dev/loop0 USR
  mount -t ext2 /dev/loop0 /tmpusr

  ______________________________________________________________________



  Da qui si copi mkfs.ext2, libext2fs.so.2, libcomerr.so.2 e
  libuuid.so.1 in un floppy.



  44..22..  PPrreeppaarraarree ll''iinnssttaallllaazziioonnee ddeeii ffiillee ddii rroooott

  Selezionare il disco di root che si desidera - è stata usata la
  modalità "color" (grafica) senza problemi, ma l'uso della modalità
  "text" (testuale) risulterà un po' più veloce in queste condizioni di
  memoria ridotta. Si decomprima l'immagine e la si monti come un disco
  di loop. La procedura è la stessa della sezione precedente ma
  l'immagine del disco di root è un filesystem minix.

  Ora sono necessari 3 floppy da 1722 o 4 floppy da 1440 con il
  filesystem ext2 - è meglio utilizzare i floppy da 1722 se non si vuole
  spezzare la /directory lib. Si dia ai floppy il doppio del numero di
  inode di default, in modo che possano contenere la directory /dev. Ci
  sono 432 nodi per un disco 1722 e 368 per uno da 1440. Se si specifica
  /dev/fd0H1722 o /dev/fd0H1440, allora non si dovrà aggiungere nessun
  altro parametro; quindi, per un disco da 1722, eseguire il comando:


  ______________________________________________________________________
  mke2fs -N 432 /dev/fd0H1722

  ______________________________________________________________________



  Se l'immagine di root è stata montata in /tmproot ed il floppy di
  destinazione in /floppy, si entri nella directory /tmproot. Per
  copiare la directory dev il comando è:


  ______________________________________________________________________
  cp -dpPR dev/* /floppy/

  ______________________________________________________________________



  Per le altre directory con i relativi file inclusi (bin, etc, lib,
  mnt, sbin, usr, var), eseguire invece il comando:


  ______________________________________________________________________
  cp -dpPr nomedirectory/* /floppy/

  ______________________________________________________________________



  Non bisogna preoccuparsi per le directory vuote (floppy, proc, root,
  tag, tmp) perché sul portatile si possono creare facilmente. boot e
  cdrom sono collegamenti simbolici che puntano rispettivamente a
  /mnt/boot e a /var/log/mount - si possono creare anche queste
  directory sul portatile.

  44..33..  CCrreeaarree llee ppaarrttiizziioonnii

  44..33..11..  II mmiinnii--LLiinnuuxx ee ii ffiillee--ssyysstteemm eexxtt22 -- uunnaa nnoottaa iimmppoorrttaannttee

  Per risparmiare spazio, gli sviluppatori dei mini-Linux spesso usano
  le meno recenti librerie libc5 e quando usano le libc6 più aggiornate,
  escludono molte delle opzioni compilate nelle distribuzioni complete,
  incluse alcune caratteristiche opzionali del file-system ext2. Ciò
  comporta due conseguenze:



  ·  Provando a montare dischi formattati in ext2 su un sistema Linux
     moderno, può generare messaggi di errore se vengono montati in
     modalità lettura-scrittura. Assicurarsi di usare l'opzione -r
     quando si montano floppy sul portatile.

  ·  Non è saggio usare mkfs.ext2 di un mini-Linux per creare i file-
     system nelle partizioni dove verrà installata la SlackWare.
     Dovrebbe essere usato solo per creare il file-system sulla
     partizione temporanea di root. Quando l'installazione sarà
     completata, questa partizione potrà essere formattata e
     riutilizzata.

  44..33..22..  PPrroocceedduurraa

  Se si sta lavorando sull'Aero, ci si assicuri che il lettore floppy
  sia inserito prima di accenderlo e poi non si deve rimuoverlo.


  1. Avvio da mini-Linux   (-- Con muLinux, bisogna aspettare fino a
     quando il processo di avvio rileva il piccolo spazio in memoria e
     fornisce la possibilità di lanciare una shell - si scelga questa
     opzione e si lavori nella modalità singolo-utente limitata che
     offre.  --)


  2. Usare fdisk per creare le partizioni.

  3. Riavviare il sistema uscendo da fdisk (con muLinux, in questo
     passaggio, si deve semplicemente spegnere e riaccendere la
     macchina).

  4. Usare mkswap sulla partizione di swap ed attivarla (questo renderà
     muLinux più felice).

  5. Se si sta usando muLinux, montare il floppy extra creato in
     ``Preparazione di muLinux'' e copiare mkfs.ext2 in /bin e le
     librerie in /lib.

  6. Usare mkfs.ext2 per creare il file-system nella partizione di root
     temporanea.

  7. Se si sta utilizzando SmallLinux, spegnere e riavviare usando
     muLinux. Non dimenticarsi di attivare nuovamente la partizione di
     swap.

  8. muLinux dovrebbe aver montato il floppy di boot in /startup -
     smontare il floppy e lasciare libero il lettore del floppy.

  9. Ora si monti la partizione di root temporanea e si copi in essa il
     contenuto dei dischi che sono stati precedentemente creati in
     ``Preparare l'installazione dei file di root''. Non bisogna
     preoccuparsi dei messaggi di errore: se, ad esempio, si copia usr
     dal floppy nella partizione di root temporanea digitando "cp -dpPr
     usr/* /tmproot/", si otterrà il messaggio di errore "cp: sr: no
     such file or directory".  Si può ignorarlo, nulla è andato storto.

  10.
     Entrare nella partizione di root temporanea e creare le cartelle
     vuote (floppy, proc, root, tag, tmp) ed i collegamenti simbolici
     boot (che punta a mnt/boot) e cdrom (che punta a var/log/mount).

  11.
     Smontare la partizione temporanea di root per sincronizzare il
     disco.


  12.
     Ora si può semplicemente spegnere la macchina.

  55..  LL''iinnssttaallllaazziioonnee

  Questa sezione non fornisce molti dettagli sul processo di
  installazione della Slackware. Infatti si suppone che lo si conosca
  già. Questa sezione invece si concentra su quelle aree che richiedono
  particolari attenzioni oppure su passaggi inusuali.

  55..11..  AAvvvviiaarree llaa mmaacccchhiinnaa

  Creare un disco di boot da una delle immagini fornite dalla Slackware.
  Si raccomanda di usare bareapm.i su un portatile e bare.i su un
  desktop - a meno che non si disponga di un dispositivo IDE su porta
  parallela (pportide.i). Avviare il portatile da questo disco. Quando
  appare il prompt "boot:", digitare "mount root=/dev/hdax" dove x è la
  partizione di root temporanea. Fare il login come root. Quindi
  attivare la partizione di swap.

  55..22..  IInnssttaallllaazziioonnee ddaa ffllooppppyy oo CCDD--RROOMM ssuu ppoorrttaa ppaarraalllleellaa

  In entrambi i casi, non sarà necessario alcun lavoro ulteriore per
  accedere al supporto di installazione. Si avvii semplicemente
  l'installazione.

  55..33..  IInnssttaallllaazziioonnee ddaa NNeettwwoorrkk//PPCCMMCCIIAA

  Nel caso in cui si scelga questo tipo di installazione, la Slackware
  fornisce dei dischi supplementari con strumenti software e le relative
  istruzioni per usarli al meglio quando si fa il login. Usare il disco
  network su un PC desktop con una scheda ethernet o su un portatile con
  un piccolo adattatore di rete. Usare il disco PCMCIA per
  un'installazione PCMCIA. Quando il proprio adattatore di
  rete/controller PCMCIA verrà riconosciuto, avviare l'installazione.

  55..33..11..  IInnssttaallllaazziioonnee PPCCMMCCIIAA ssuullll''AAeerroo

  Il processo di installazione della Slackware avvia i driver PCMCIA dal
  floppy secondario. Poiché l'Aero ha un lettore floppy PCMCIA, non si
  può rimuovere il lettore floppy per inserire il CD-ROM PCMCIA o la
  scheda di rete. La soluzione è comunque semplice: la procedura per il
  setup PCMCIA della Slackware crea la directory /pcmcia e qui monta il
  disco supplementare. Quindi:


  1. Creare automaticamente la directory /pcmcia.

  2. Montare il disco supplementare in /mnt. Assicurarsi di specificare
     vfat come tipo di file-system - se non si esegue questa operazione,
     il file-system verrà scorrettamente indentificato come UMSDOS ed i
     nomi dei file lunghi verranno copiati in modo errato.

  3. cd /mnt ; cp -dpPr ./* /pcmcia/

  4. Smontare il floppy.

  5. Avviare pcmcia. Quando lo script avviserà che non c'è un disco nel
     lettore, premere semplicemente Invio: verranno avviati i Card
     Service.  Connettere il proprio dispositivo PCMCIA e premere Invio.

  6. Avviare l'installazione.



  55..44..  IInnssttaallllaazziioonnee

  Il programma di installazione di Slackware è molto semplice. Si inizi
  con la sezione relativa alla tastiera ed esso guiderà passo dopo
  passo.

  55..44..11..  AAddddSSwwaapp

  Questo passaggio è necessario per inserire la voce corretta in
  /etc/fstab ma ci si assicuri che non esegua mkswap in quanto si sta
  già usando questa partizione.

  55..44..22..  TTaarrggeett

  In questa sezione l'installazione della Slackware chiede quali
  partizioni andranno montate e, eventualmente, se e come si vogliono
  formattare.

  La scelta più sicura è lasciare fuori la partizione di root temporanea
  e modificare fstab solo successivamente se si ritiene che non sia più
  necessaria per scopi temporanei. Se si ha intenzione di riutilizzarla
  come /home , è una buona scelta rinominarla /home - naturalmente,
  adesso non la si formatti! Se si intende riusarla come una parte della
  struttura delle directory in cui i file verranno scritti durante
  l'installazione (per esempio /var), si deve assolutamente ignorare
  questo passo: dopo che l'installazione sarà completata, si potrà
  spostarli manualmente.

  55..44..33..  SSeelleezziioonnee

  A questo punto scegliere quali categorie generiche di software
  installare.  Si consiglia quanto segue:


  ·  A - Base Linux System (Sistema Linux di base)

  ·  AP -Non-X applications (Applicazioni non X)

  ·  F - FAQs and HOWTOs (FAQ e HOWTO)

  ·  N - Networking tools and apps (Strumenti software e programmi per
     il networking)

  ·  Y - BSD games collection (Collezione di giochi BSD)

  Si raccomanda di non aggiungerne altre - in ogni caso, si devono
  snellire A, AP e N. In questo modo si ottiene un sistema Linux base al
  quale si potrà aggiungere quello che serve.

  55..44..44..  IInnssttaallllaazziioonnee

  Utilizzare il metodo di installazione Expert che permette di
  scegliere/rifiutare l'installazione dei singoli pacchetti dalle
  categorie scelte nel passaggio Selezione.  L'``Appendice A''
  approfondisce le scelte che sono state fatte.

  Questa fase richiede circa 3 ore per un'installazione PCMCIA dalla
  rete. Si dovranno selezionare i singoli pacchetti prima
  dell'installazione di ogni categoria, quindi non si potrà abbandonare
  la macchina e lasciarla lavorare.

  55..44..55..  CCoonnffiigguurraazziioonnee

  Una volta che tutti i pacchetti sono stati installati, si dovrà fare
  una configurazione finale per la propria macchina. Questo passaggio
  riguarda aree come il networking, lilo, la scelta di un kernel, ecc.
  Alcuni punti da considerare:


  ·  Se è stata effettuata un'installazione PCMCIA, non si accetti la
     scelta di configurare la propria rete con netconfig. Questo
     rovinerebbe il proprio collegamento di rete PCMCIA. Attendere che
     il sistema venga riavviato e solo dopo modificare il file
     /etc/pcmcia/network.opts

  ·  Questo è il punto in cui si dovrà installare un kernel. Per un
     portatile bareapm è il migliore, per un desktop è adatto bare.

  55..44..66..  EExxiitt

  Il processo di installazione è terminato, ma non il proprio lavoro.
  NNoonn ssii rriiaavvvviiii aannccoorraa!!  C'è un altro passaggio vitale da completare.

  55..55..  CCoonnffiigguurraazziioonnee ddii pprree--rriiaavvvviioo

  Su una macchina normale si dovrebbe semplicemente riavviare una volta
  che l'installazione è completata. Se si riavvia su una di queste,
  invece, si dovrà attendere 6 o 8 ore per far apparire la schermata di
  login e un'altra mezz'ora per ottenere il prompt dei comandi. Prima di
  riavviare si deve cambiare o rimuovere gli elementi che provocano
  questo rallentamento.  Questo richiede la modifica dei file di
  configurazione, quindi si deve avere una certa familiarità con vi, ed
  o sed.

  In questa fase la propria partizione futura di root è ancora montata
  in /mnt, quindi ricordarsi di aggiungere questo percorso a quelli
  mostrati qui di seguito.


     //eettcc//ppaasssswwdd
        Modificare questo file per cambiare la shell predefinita
        dell'utente root con ash. ash è praticamente l'unica shell di
        login valida con 4mb di RAM.

     //eettcc//rrcc..dd//rrcc..mmoodduulleess
        Commentare la riga 'depmod -a'. Serve solo per aggiornare le
        dipendenze dei moduli se è stata cambiata la propria
        configurazione dei moduli (ad esempio, ricompilandone o
        aggiungendone dei nuovi). Su di un sistema normale, questa
        operazione richiede un secondo o due e quindi non crea problemi
        se viene eseguita ad ogni avvio. Su un portatile con 4mb di ram,
        può invece richiedere più di 8 ore. Quando si cambia la propria
        configurazione dei moduli, si può semplicemente decommentare
        questa riga e riavviare. In alternativa, cambiare questa parte
        dello script in modo che venga eseguito solo se si passerà un
        parametro al prompt di boot. Ad esempio:

        ________________________________________________________________
        if [ "NEWMODULES" == "1" ] ; then
            depmod -a
        fi

        ________________________________________________________________



     //eettcc//rrcc..dd//rrcc..iinneett22
        Questo script avvia servizi di rete come nfs.  Probabilmente non
        serviranno e sicuramente non all'avvio. Rinominare questo script
        in qualche modo come, ad esempio, RC.inet2 - questo impedirà che
        venga eseguito all'avvio e si potrà avviarlo manualmente quando
        necessario.
     //eettcc//rrcc..dd//rrcc..ppccmmcciiaa
        Sull'Aero si deve rinominare anche questo script, altrimenti si
        perderà la possibilità di usare il lettore floppy all'avvio. È
        opportuno prenderlo in considerazione anche per tutti gli altri
        tipi di portatili con caratteristiche ridotte - si può sempre
        avviarlo manualmente prima di inserire una scheda.

  Una volta che questi cambiamenti sono stati fatti, si è pronti per
  riavviare.

  55..66..  CCoonnffiigguurraazziioonnee ppoosstt--rriiaavvvviioo

  Se sono state fatte le modifiche raccomandate nella sezione
  ``Configurazione pre-riavvio'' il processo di avvio richiederà solo
  qualche minuto, e non diverse ore.  Fare il login come root e
  verificare se tutto funziona correttamente.

  55..66..11..  RRiiuussaarree llaa rroooott tteemmppoorraanneeaa

  Quando si è sicuri che l'installazione è solida, si può riutilizzare
  la partizione che è stata usata come root temporanea. Non limitarsi a
  cancellarne il contenuto, ma si riformatti il file-system.  È
  necessario ricordare che mke2fs contenuto nel mini-Linux è troppo
  datato.

  Se si intende riutilizzare questa partizione come /home, ricordare di
  non creare alcun account utente fino a quando non è stato completato
  questo passaggio.

  55..66..22..  AAllttrrii ttrruucccchhii ddii ccoonnffiigguurraazziioonnee

  In una quantità di RAM così ridotta, ogni minimo accorgimento aiuta.
  Esplorare gli script di init di Slackware in stile BSD presenti nella
  cartella /etc/rc.d/ e commentare tutto quello che non serve. Per altri
  suggerimenti vedere il Small Memory mini-HOWTO di Todd Burgess:
  http://eddie.cis.uoguelph.ca/~tburgess/.

  66..  CCoonncclluussiioonnee

  Tutto è stato completato. Ora si ha un portatile con le utilità di
  base e dai 50 ai 70mb liberi per qualsiasi cosa extra necessaria. Si
  faccia attenzione a non creare gravi danni in quanto su macchine così
  vecchie è molto più facile modificare un'installazione esistente che
  iniziarne una nuova da capo.

  77..  AAppppeennddiiccee AA

  Questa appendice elenca i pacchetti (se presenti) di ogni categoria
  che possono essere inclusi nell'installazione e indica le motivazioni
  della loro inclusione o omissione. Non volendo installare X, le
  categorie relative sono state ignorate.

  Sebbene questa appendice si riferisca specificamente alla
  distribuzione Slackware, può essere usata come guida per qualsiasi
  altra delle principali distribuzioni di Linux.

  77..11..  AA -- SSiisstteemmaa LLiinnuuxx ddii bbaassee

  La maggior parte dei pacchetti in questa categoria sono essenziali,
  persino quelli che non sono indicati come "required" dal programma di
  installazione di Slackware. Per questa ragione vengono elencati quei
  pacchetti che si ritengono ragionevolmente da escludere al posto di
  tutti i programmi non obbligatori che sono stati installati.



  77..11..11..  PPaacccchheettttii rriitteennuuttii vvaalliiddii ppeerr ll''oommiissssiioonnee::


     kkeerrnneell ((iiddee,, ssccssii,, eecccc..))
        Non serve installare alcuno di questi, si ha la possibilità di
        scegliere un kernel alla fine del processo di installazione.

     aaoouuttlliibbss
        Sono utili solo se si vuole usare eseguibili nel vecchio formato
        a.out.  Omettendoli si risparmia una notevole quantità di spazio
        sul disco fisso.  Omesse.

     bbaasshh11
        bash2 (chiamata semplicemente bash nella lista dei programmi
        Slackware) è richiesta dagli script di configurazione di
        Slackware ma ci sono moltissimi altri script che richiedono
        bash1. Io l'ho inclusa.

     ggeettttyy
        agetty è il getty di default per Slackware; questo pacchetto
        contiene getty e uugetty come alternative. Si include solo se
        servono le loro funzionalità extra. Omesso.

     ggppmm
        Personalmente, lo trovo molto utile alla console (la trackball
        dell'Aero è molto comonda) ma non essenziale. Incluso.

     iiccbbss22
        Non necessario. Omesso.

     iissaappnnpp
        Non necessario. Omesso.

     llooaaddlliinn
        Non necessario nella configurazione descritta qui - tranne se il
        proprio vecchio portatile ha alcune peculiarità che richiedono
        un driver DOS per caricare alcuni dei suoi dispositivi. Omesso.

     llpprr
        Si potrebbe pensare che è possibile stampare da qualsiasi
        desktop nelle vicinanze ma è sempre utile avere la possibilità
        di stampa su un portatile. Incluso.

     mmiinniiccoomm
        Non un'inclusione obbligatoria a meno che si voglia creare con
        il portatile delle connessioni dial-up. Molto utile. Incluso.

     ppcciiuuttiillss
        Non richieste su questi vecchi portatili. Omesso.

     qquuoottaa
        Non vitale ma può essere usato per impostare i limiti che
        proteggono dal riempire lo spazio limitato disponibile su questi
        portatili. Incluso.

     ttccsshh
        Si consiglia di usare ash come shell di login. Includerla solo
        se serve per i suoi script. Omesso.

     uummsspprrooggss
        Si può evitare ed essere comunque in grado di accedere ai floppy
        UMSDOS.  Omesso.

     ssccssiimmooddss
        Non usarlo su questi portatili. Omesso.

     ssyysskkllooggdd
        Può interferire con apmd ma offre informazioni essenziali.
        Incluso.

  77..11..11..11..  PPaacccchheettttii iinnssttaallllaattii::

  aaa_base, bash, bash1, bin, bzip2, cpio, cxxlibs, devs, e2fsprog,
  elflibs, elvis, etc, fileutils, find, floppy, fsmods, glibcso, gpm,
  grep, gzip, hdsetup, infozip, kbd, ldso, less, lilo, man, modules,
  modutils, pcmcia, sh_utils, shadow, sudo, sysklogd, sysvinit, tar,
  txtutils, util, zoneinfo

  Dimensione complessiva: 33.4 MB

  77..22..  AAPP -- AApppplliiccaazziioonnii nnoonn XX

  Nessuna di queste applicazioni è, strettamente parlando, essenziale -
  invece ash è veramente importante per operazioni sensate in 4mb di
  RAM. Escludendoli tutti si può salvare spazio vitale per installare le
  proprie applicazioni preferite. Si è scelto un numero di strumenti
  minimale che è meglio avere a disposizione.

  77..22..11..  PPaacccchheettttii rriitteennuuttii vvaalliiddii ppeerr ll''iinncclluussiioonnee::


     aappssffiilltteerr
        Non è molto utile avere il supporto di stampa se poi si può
        stampare solo file di testo. Incluso.

     aasshh
        Questa è "la shell" per le macchine con poca memoria: occupa
        solo 60k. La si usi come shell di login di default se non si
        vuole attendere ogni volta 10 secondi per far apparire e
        riapparire il prompt dei comandi. Inclusa.

     eeddiittoorr ((jjeedd,, jjooee jjoovvee vviimm))
        elvis è l'editor di default di Slackware ed una parte richiesta
        dell'installazione. Se si è un fan di vi questo è tutto quello
        che c'è da sapere: installare vim sarà disastroso date le
        restrizioni di spazio. Se si può accantonare vi e usare un
        editor più in stile DOS, joe è il più piccolo. I fan di emacs,
        con un po' di auto-disciplina, potranno prendere in
        considerazione jed o jove invece di eccedere oltre la dimensione
        massima.  Omesso.

     eennssccrriipptt
        Se hai già apsfilter, in pratica non serve. Omesso.

     gghhoossttssccrriipptt
        Includendo i font diventa grande circa 7,5mb. Da escludere fino
        a dopo l'installazione di base, dopo si può valutare se serve.
        Omesso.

     ggrrooffff
        Necessario per le pagine man. Incluso.

     iissppeellll
        Non essenziale ma molto utile nei casi di digitazione troppo
        veloce. Incluso.

     ppaaggiinnee ddii mmaannuuaallee
        Incluse!

     mmcc Slackware fornisce una compilazione leggera di mc ma non
        essenziale se si è a proprio agio con la linea di comando.
        Omesso.
     qquuoottaa
        Non necessario su una macchina che non è multi-utente, ma si
        può, come me, trovarlo utile per non devastare lo spazio ridotto
        a disposizione. Incluso.

     rrppmm
        Non c'è da preoccuparsi: se si ha intenzione di installare un
        rpm, si usi rpm2tgz su una macchina desktop per trasformarlo in
        un pacchetto tgz - successivamente si possono usare gli
        strumenti di installazione standard di Slackware. Omesso.

     sscc Un foglio di calcolo utile e molto piccolo. Incluso.

     ssuuddoo
        Non essenziale ma lo ritengo utile in questa situazione:
        ambiente ridotto e difficoltoso da reinstallare se si fa qualche
        errore - sudo aiuta a creare profili utente con i permessi di
        super utente per fare ciò che è necessario, senza il timore di
        procurare danni al proprio disco. Incluso.

     tteexxiinnffoo
        Documentazione info. Inclusa.

     zzsshh
        Escluderla a meno che non le si sia dedito o si abbiano script
        che devono usarla. Omessa.

  77..22..22..  PPaacccchheettttii iinnssttaallllaattii::

  apsfilter,ash, diff, groff, ispell, manpages, quota, sc, sudo, texinfo

  Dimensione complessiva: 8.1 MB

  77..33..  DD -- SSttrruummeennttii ssooffttwwaarree ddii ssvviilluuppppoo

  In questo spazio si potrebbe includere C o C++, ma il pacchetto della
  libreria glibc è troppo grande, quindi un po' di snellimento sarà
  necessario. Prima completare l'installazione principale e poi tentare
  l'installazione.

  C'è spazio per Perl e Python.

  77..33..11..  PPaacccchheettttii iinnssttaallllaattii::

  Nessuno

  77..44..  EE -- EEmmaaccss

  Non uso Emacs e ho risparmiato automaticamente dello spazio. D'altra
  parte, se si è un fan di Emacs, lo si usa probabilmente per e-mail,
  news e programmazione: quindi si dovrà tenere libero dello spazio
  omettendo altri pacchetti.

  Se si vuole Emacs, è una buona idea escluderlo fino a quando
  l'installazione di base non è completata. Una volta che il portatile
  sia funzionante, nel proprio tempo libero si può provare ad installare
  tutto quanto si voglia o si abbia bisogno.

  77..44..11..  PPaacccchheettttii iinnssttaallllaattii::

  Nessuno

  77..55..  FF -- FFAAQQ ee HHOOWWTTOO

  Se si sa tutto, non servono. Io ho installato tutto il gruppo.

  77..55..11..  PPaacccchheettttii iinnssttaallllaattii::

  howto, manyfaqs, mini-howto

  Dimensione complessiva: 12.4 MB

  77..66..  KK -- SSoorrggeennttee ddeell kkeerrnneell

  Si può evitare. Se tutto ciò che si vuole è leggere il sorgente, si
  prosegua.

  77..66..11..  PPaacccchheettttii iinnssttaallllaattii::

  Nessuno

  77..77..  NN -- AApppplliiccaazziioonnii ee ssttrruummeennttii ssooffttwwaarree ppeerr iill nneettwwoorrkkiinngg

  Questi pacchetti sono stati selezionati per offrire strumenti di base
  per il networking, la possibilità di connessioni dial-up, e-mail, web
  e news.

  77..77..11..  PPaacccchheettttii iinnssttaallllaattii::

  dip, elm, fetchmail, mailx, lynx, netmods, netpipes, ppp, procmail,
  trn, tcpip1, tcpip2, uucp, wget

  Dimensione complessiva: 15.1 MB

  77..88..  TTeetteexx

  Un altro pacchetto che può essere evitato. Non sono in grado di dire
  se funzionerebbe nello spazio disponibile.

  77..88..11..  PPaacccchheettttii iinnssttaallllaattii::

  Nessuno

  77..99..  YY -- CCoolllleezziioonnee ddii ggiioocchhii BBSSDD

  Personalmente non ne posso fare a meno. Se si ha veramente bisogno
  degli ultimi 5 mb, posso essere omessi.

  77..99..11..  PPaacccchheettttii iinnssttaallllaattii::

  bsdgames

  Dimensione complessiva: 5.4 MB

  77..1100..  RRiissuullttaattoo ffiinnaallee

  In totale i pacchetti installati, più il kernel, occupano circa 75 mb
  di spazio di cui 19.5 mb sono nella partizione di root e 55.5 mb in
  /usr.  Sull'Aero sono rimasti 39 mb in /usr e 74 mb sul T1910.

  88..  AAppppeennddiiccee BB -- RRiissoorrssee iimmppoorrttaannttii ppeerr qquueessttoo HHOOWWTTOO


     LLiinnuuxx LLaappttoopp HHOOWWTTOO
        http://www.snafu.de/~wehe/Laptop-HOWTO.html

     SSmmaallll MMeemmoorryy mmiinnii--HHOOWWTTOO
        http://eddie.cis.uoguelph.ca/~tburgess/

     LLiinnuuxx oonn LLaappttooppss
        http://www.cs.utexas.edu/users/kharker/linux-laptop/ HOWTO e FAQ
        di installazione per un ampio raggio di macchine.
     LLiinnuuxx TT11991100 FFAAQQ
        http://members.tripod.com/~Cyberpvnk/linux.htm

     LLiinnuuxx CCoonnttuurraa AAeerroo FFAAQQ
        http://domen.uninett.no/~hta/linux/aero-faq.html

     CCoonnttuurraa AAeerroo FFAAQQ
        http://www.reed.edu/~pwilk/aero/aero.faq FAQ comprendente tutti
        gli aspetti del Contura Aero, compilata dai moderatori della
        mailing list Aero. Sezione Linux Buona.



