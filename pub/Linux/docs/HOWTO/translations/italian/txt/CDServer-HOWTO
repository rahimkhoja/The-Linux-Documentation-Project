CDServer-HOWTO

Randolph J Tata

   Talcon Information Systems

   <randy@talcon.com>

   v1.40 2002/01/10
   Diario delle Revisioni
   Revisione v1.40 10-01-2002 Revisionato da: rjt
   Aggiunta descrizione e collegamento allo script di shell cdtower.
   Revisione v1.30 08-01-2002 Revisionato da: rjt
   Alcune aggiunte e cambi ai marcatori nel sorgente XML Docbook e
   fissaggio dei dati nelle date di pubblicazione.
   Revisione v1.01 07-01-2002 Revisionato da: rjt
   Aggiornato per il kernel 2.4. Aggiunti altri riferimenti e
   collegamenti. Convertito in DocBook XML 4.1.2 Cambiata la licenza da
   LDP a GFDL
   Revisione v1.00 23-09-2000 Revisionato da: rjt
   Conversione da Linuxdoc SGML a DocBook SGML ver. 3.1
   Revisione v0.10 01-09-2000 Revisionato da: rjt
   Conversione a Linuxdoc SGML da testo/html, aggiunta la sezione
   ottimizzazione del kernel (aggiungi loop).
   Revisione v0.01 18-08-2000 Revisionato da: rjt
   Prima versione rilasciata in formato testo e html.

   Questo HOWTO sul Cd-server descrive i passi e i comandi che potete
   utilizzare per impostare il vostro cd server personalizzato
   utilizzando Linux ed alcuni comandi Unix insieme ad altri pacchetti
   software liberamente disponibili. Il Cd server può allora condividere
   i cd via rete verso Windows e/o altri computer client. Traduzione a
   cura di Ugo Putignano e revisione a cura di Sandro Cardelli.
     _________________________________________________________________

   Sommario
   1. Introduzione

        1.1. A chi è diretto
        1.2. Le cose di cui avete bisogno [1]
        1.3. Letture suggerite e riferimenti
        1.4. Diritti d'autore e licenza
        1.5. Disconoscimento di responsabilità
        1.6. Notizie
        1.7. Crediti
        1.8. Traduzioni

   2. Procedura

        2.1. Creare le immagini ISO
        2.2. Montare le immagini ISO
        2.3. Montare una immagine dopo un riavvio del sistema
        2.4. Condividere le immagini su una rete windows utilizzando
                Samba

        2.5. Condividere le immagini su un network Unix attraverso NFS

   3. Aggiungere supporto per altri dispositivi di loop

        3.1. Aggiungere le opzioni al modulo di loop
        3.2. Aggiunta al prompt del boot
        3.3. Ottimizzare il kernel
        3.4. Creare i dispositivi di loop in /dev

   4. Ulteriori informazioni

        4.1. Questioni poste frequentemente
        4.2. Altre istruzioni disponibili sul web
        4.3. Sotto considerazioni future

   A. GNU Free Documentation License

        0. PREAMBLE
        1. APPLICABILITY AND DEFINITIONS
        2. VERBATIM COPYING
        3. COPYING IN QUANTITY
        4. MODIFICATIONS
        5. COMBINING DOCUMENTS
        6. COLLECTIONS OF DOCUMENTS
        7. AGGREGATION WITH INDEPENDENT WORKS
        8. TRANSLATION
        9. TERMINATION
        10. FUTURE REVISIONS OF THIS LICENSE
        How to use this License for your documents

1. Introduzione

   Con i dischi rigidi che diventano sempre meno cari (un disco da 100GB
   Western Digital da 7200 giri è disponibile per 195 dollari americani a
   gennaio del 2002) diventa possibile usare un cd-server basato su un
   software Open Source, piuttosto che pagare da 800 a 4000 dollari
   americani, per un software, un server, oppure una soluzione con
   juke-box.

   Io ho configurato il mio cd-server su un Pentium 200 con 64 Mb di ram,
   utilizzando uno di questi grandi dischi rigidi.

   Ogni commento, critica, addizione, o correzione può essere mandato al
   mio indirizzo di email a Talcon Information Systems:
   <randy@talcon.com>.
     _________________________________________________________________

1.1. A chi è diretto

   Questo HOWTO è specificamente diretto agli amministratori di sistema e
   usa Linux per gli esempi. Dovrebbe funzionare con altri tipi di Unix
   che hanno un dispositivo di loop o un metodo per montare delle
   immagini di Cd dentro l'albero delle directory come un dispositivo di
   blocco utilizzando il file system iso9660.
     _________________________________________________________________

1.2. Le cose di cui avete bisogno [1]
     _________________________________________________________________

1.3. Letture suggerite e riferimenti

   "SMB HOWTO" di: David Wood, dwood (at) plugged.net.au. Parte del Linux
   Documentation Project. Questo documento descrive come usare il
   protocollo SMB (Service Message Block), anche chiamato Session Manager
   Block, NetBIOS, oppure protocollo LanManager, con Linux utilizzando
   Samba

   Using Samba di: Robert Eckstein, David Collier-Brown, Peter Kelly
   prima ed. novembre 1999, O'Reilly and Associates, Inc. ISBN
   1-56592-449-5,

   "The Linux CD-ROM HOWTO" di: Jeff Tranter, tranter (at) pobox.com.
   Parte del Linux Documentation project. Come installare, impostare e
   usare i lettori di Cd-ROM sotto Linux. Esso copre l'hardware
   supportato e risponde a un certo numero di domande frequentemente
   poste.. Questo HOWTO dà anche alcune informazioni su come usare
   lettori multipli di CD con Linux.

   "CD-Writing HOWTO" di: Winfried Trümper, winni (at) xpilot.org. Parte
   del Linux Documentation Project. Questo documento spiega come scrivere
   i Cd-ROM sotto Linux. Questo HOWTO include anche informazioni su come
   fare copie immagini dei CD-ROM.
     _________________________________________________________________

1.4. Diritti d'autore e licenza

   CDServer-HOWTO, Copyright © 2000-2002, di Randolph J. Tata, Tutti i
   diritti riservati

   E' dato il permesso di copiare, distribuire e/o modificare questo
   documento sotto i termini della GNU Free Documentation License,
   versione 1.1 o qualsiasi altra versione posteriore pubblicata dalla
   Free Software Foundation; senza Sezioni Invarianti, niente testo di
   copertina e niente testo di ultima pagina. Una copia della licenza è
   inclusa nella Appendice A intitolata "GNU Free Documentation License".
     _________________________________________________________________

1.5. Disconoscimento di responsabilità

   Usate le informazioni contenute in questo documento a vostro rischio e
   pericolo. Non assumo alcuna potenziale responsabilità per il contenuto
   di questo documento. L'uso dei concetti, esempi, e/o altro contenuto
   di questo documento è interamente a vostro rischio.

   Tutti i diritti d'autore sono posseduti dai rispettivi proprietari, se
   non è specificato diversamente. L'uso di un termine in questo
   documento non dovrebbe riguardare la validità di qualsiasi marchio di
   fabbrica o marchio di servizio.

   L'aver nominato particolari prodotti o marchi non deve essere visto
   come approvazione dei suddetti.

   Siete caldamente raccomandati di effettuare una copia di sicurezza del
   vostro sistema prima di modifiche importanti e dovreste fare copie di
   sicurezza ad intervalli regolari.
     _________________________________________________________________

1.6. Notizie

   Come sempre, controllate la lista delle revisioni all'inizio di questo
   documento.

   DocBook XML source per questo documento è disponibile. Qualsiasi
   aggiunta/cambio dovrebbe essere effettuata sul documento sorgente
   DocBook XML, non su formati derivati.

   La pagina iniziale di questo documento è CDServer-HOWTO nel caso
   abbiate bisogno dell'ultima versione, o che ci sia un problema con il
   formato di ciò che state vedendo..
     _________________________________________________________________

1.7. Crediti

   I miei ringraziamenti vanno ai lettori di questo HOW-TO e ai volontari
   che hanno diviso le loro esperienze e conoscenze con me. Ho il piacere
   di ringraziare:

   Mark F. Komarinski markk (at) linuxdoc.org LDP Author Guide
   Jorge Godoy godoy (at) metalab.unc.edu LDP Author Guide
   David C. Merrill dcmerrill (at) mindspring.com LDP Author Guide
   Stein Gjoen sgjoen (at) nyx.net HOWTO-Template
   Gregory Leblanc gleblanc (at) cu-portland.edu HOWTO-Template
   Greg Ferguson gferg (at) sgi.com HOWTO-Template
   Amar Chaouche achaouche (at) linbox.com mount unhide option
   Giblhauser Carl Michael mike (at) bawb.bmlf.gv.at runoutblock i/o
   errors
   Monte Milanuk milanuk (at) yahoo.com nfs help
   Paul A. Sand pas (at) unh.edu loop module option max_loop
   Tony Melia Tony.Melia (at) downsmicro.com.au max_loop kernel boot
   parameter
   Richard Black Richard.Black (at) compaq.com more info and mknod script
   Bradley Wendelboe krakken (at) icehouse.2y.net cdtower shell script
   James Mumm dart (at) windeath.2y.net cdtower shell script
     _________________________________________________________________

1.8. Traduzioni

     * Coreana (html e sgml) a
       http://www.ibiblio.org/pub/Linux/docs/HOWTO/translations/korean/

   Se avete la capacità sarebbe bello rendere disponibile il
   CDServer-HOWTO in un certo numero di formati e linguaggi.

   Se avete tradotto questo documento, vi prego di mandarmi:

     * Il vostro nome, indirizzo di email, la lingua e l'URL del
       documento tradotto (di preferenza).
     * oppure un allegato di posta elettronica del lavoro.

   Per cortesia mandate entrambi al mio indirizzo di email a Talcon
   Information Systems: <randy@talcon.com>.
     _________________________________________________________________

2. Procedura

   Sommario dei passi necessari

     * Create una grande partizione per ospitare i file immagini dei cd.
     * Copiate il CD in una immagine file con il comando dd.
     * Montate l'immagine del CD all'interno dell'albero delle directory.
     * Condividete la directory sulla rete utilizzando Samba, NFS, ecc.

   Siate anche sicuri di aver letto la Sezione 1 e la Sezione 1.2.
     _________________________________________________________________

2.1. Creare le immagini ISO

   Scegliete (o create) un file system con la maggior parte possibile di
   spazio libero su di esso. Tenete in mente che i CD-ROM possono
   contenere circa 640 Mb di dati, perciò se volete condividere 8 CD-ROM
   sulla vostra rete, avrete bisogno di 5.1 Gb di spazio disponibile..

   Loggatevi come root oppure andate "su" verso root.

bash# df -h


Filesystem            Size  Used Avail Use% Mounted on
/dev/hda5             1.4G   82M  1.3G   6% /
/dev/hda1              15M  827k   14M   6% /boot
/dev/hda7             2.4G 1008M  1.3G  43% /usr
/dev/hda8            23.6G 11.7G 11.7G  50% /home

   Qui il filesystem /home ha lo spazio libero maggiore, perciò esso è il
   filesystem più adatto per essere usato per copiarci le immagini dei Cd
   sopra.

bash# cd /home
bash# mkdir image
bash# cd image

   Adesso, copiate il CD come immagine ISO. Dovreste conoscere il nome
   del dispositivo del vostro CD-ROM (normalmente /dev/cdrom, potrebbe
   essere /dev/scd0 per i Cd-Rom SCSI). Userò la distribuzione Mandrake
   su Cd-ROM come esempio:

   bash# dd if=/dev/cdrom of=mndrk81.iso

   Nota
          Il termine "if=" è il file di ingresso, il termine "of=" è il
          file di uscita. Dovreste vedere un messaggio che vi visualizza
          il numero di record in ingresso e in uscita.

          Se vedete errori di I/O, probabilmente saranno principalmente
          dovuti alle tracce iniziali e alle tracce finali del cd. Se il
          numero dei record in ingresso e quello dei record in uscita non
          corrispondono, potreste avere un problema, anche se l'immagine
          potrebbe essere corretta, ma non potrete mai sapere se gli
          errori sono avvenuti durante la lettura della parte ISO o no
          (dovuto alla polvere o ai graffi sul cd).

          Altre utilità per leggere i CD esistono, come readcd o sdd.

          Maggiori informazioni circa la copia speculare dei CD si trova
          nel [CD-Writing-HOWTO], vedi la Sezione 1.3.

   I miei ringraziamenti a Giblhauser Carl Michael per le informazioni
   sui runoutblock .
     _________________________________________________________________

2.2. Montare le immagini ISO

   Il prossimo passo è montare le immagini ISO. Create una directory
   sotto /mnt per sistemarvi i file montati.

bash# cd /mnt
bash# mkdir iso
bash# cd iso
bash# mkdir mndrk81

   Adesso montate l'immagine ISO in questa directory appena creata

bash# mount -o loop,unhide -t iso9660 -r /home/image/mndrk81.iso /mnt/iso/mndrk
81

   Nota
          La variabile"-o loop" significa usare l'opzione che monta un
          file come un dispositivo a blocchi. L'opzione unhide mostra i
          file nascosti. La variabile "-t iso9660" significa che il file
          è in formato CD-ROM iso 9660. La variabile "-r" significa che
          il file system è montato in sola lettura.

   Grazie a Amar Chaouche per aver precisato l'opzione unhide per il
   comando di mount.

   Adesso potete:

bash# cd mndrk81
bash# ls -al

   Dovreste vedere un elenco (ls) dei file e delle directory che sono sul
   Cd attuale (solo che adesso essi sono dentro l'immagine ISO, di cui
   state guardando dentro il contenuto.
     _________________________________________________________________

2.3. Montare una immagine dopo un riavvio del sistema

   Adesso che avete montato manualmente l'immagine, e siete sicuri che
   funzioni, avete bisogno di inserire una voce nel file /etc/fstab
   affinché l'immagine sia rimontata al prossimo avvio del sistema. E'
   importante inserire la voce DOPO quella per il filesystem genitore,
   per esempio /home (ho usato vim, ma emacs, joe, pico o jed lavorano
   altrettanto bene):

   bash# vim /etc/fstab

   Dopo la linea che assomiglia alla seguente (o qualunque filesystem in
   cui abbiate sistemato le vostre immagini):

   /dev/hda8 /home ext2 defaults 1 2

   Inserite la seguente linea con il vostro editore di testi:

   /home/image/mndrk81.iso /mnt/iso/mndrk81 iso9660 ro,loop,auto,unhide 0 0
     _________________________________________________________________

2.4. Condividere le immagini su una rete windows utilizzando Samba

   Avete bisogno di Samba già installato e configurato per effettuare i
   seguenti passi (ciò è al di fuori dello scopo di queste istruzioni,
   vedete la Sezione 1.3). Se non è ancora installato, consultate le
   istruzioni sulla vostra distribuzione Linux per l'installazione del
   pacchetto Samba. O potete visitare il sito web su Samba a
   http://us1.samba.org/samba/samba.html per le istruzioni di
   installazione, gli eseguibili, e/o il codice sorgente.

   Per condividere i vostri cd attraverso una finestra del network,
   semplicemente create uno share nel file /etc/smb.conf simile al
   seguente:

[cdimages]
  comment =Tutte le immagini dei cd condivisi
  path = /mnt/iso
  public = yes
  writable = no

   Ciò condividerà tutte le sottodirectory sotto la /mnt/iso directory
   nel network. Per montare la condivisione verso un drive locale (in
   questo caso il drive I:), aprite il prompt di MsDos su una macchina
   Windows e scrivete questo:

   C:\> net use I: \\lavostramacchinalinux\immaginideicd

   Ogni immagine ora apparirà come una sottodirectory del drive I: sulla
   vostra macchina Windows.

   Per montare solamente l'immagine del CD di Mandrake verso un drive
   locale (useremo M:, il drive principale, che corrisponde esattamente
   al CD così come è stato inserito nel drive CD-ROM), create la seguente
   condivisione nel file /etc/smb.conf.

[mndrk81]
  comment = Mandrake Linux 8.1
  path = /mnt/iso/mndrk81
  public = yes
  writable = no

   Quindi, al prompt del DOS, montatela con il seguente comando:

   C:\> net use m: \\lavostramacchinalinux\mndrk81

   Attenzione
          Le condivisioni di Samba presentate qui sono state
          semplificate, e non sono sicure. Esistono parecchie opzioni per
          le condivisioni di Samba che limitano chi può montare le
          condivisioni, controllare come l'autenticazione dell'utente è
          effettuata, e anche se la condivisione è visibile attraverso le
          risorse di rete di una macchina windows. 
     _________________________________________________________________

2.5. Condividere le immagini su un network Unix attraverso NFS

   Siate sicuri che NFS sia configurato e in esecuzione sulla vostra
   Linux Box, quindi aggiungete ciò che segue al file /etc/exports usando
   le vostre opzioni preferite:

# sample /etc/exports file
       /mnt/iso            (ro,insecure,nohide,all_squash)

   Nota
          L'opzione "nohide" vi permetterà di montare una directory
          madre, senza esplicitamente montare tutte le sottodirectory
          esportate da essa.

   Adesso provate ad eseguire:

   bash# exportfs -r

   Questo dovrebbe riesportare tutto nel vostro file /etc/exports.

   Adesso, quando scrivete "showmount -e lavostramacchinalinux" dovreste
   vedere che la directory /mnt/iso è inclusa nella lista di directory
   esportate.
     _________________________________________________________________

3. Aggiungere supporto per altri dispositivi di loop

   I nuovi Kernel Linux (2.4) vi permettono di aggiungere molti più
   dispositivi di loop più facilmente modificando /etc/modules.conf
   oppure attraverso l'uso dei parametri di boot.

   I kernel più vecchi (2.2.?) hanno solamente il supporto per 8
   dispositivi di loop compilato nel kernel. In breve, era possibile
   condividere solo 8 cd sulla rete con questo valore di default. Per
   superare questo limite, si aveva bisogno di modificare i sorgenti del
   kernel e ricompilare un nuovo kernel.

   Usate i seguenti metodi per determinare quale versione di kernel state
   usando.

   bash# uname -a

   oppure

   bash# cat /proc/version
     _________________________________________________________________

3.1. Aggiungere le opzioni al modulo di loop

   I kernel attuali vi permettono di indicare il numero di dispositivi di
   loop senza ricompilare il kernel. Uno di questi metodi è di aggiungere
   una linea di opzioni ad /etc/modules.conf. Questo metodo funziona solo
   se il vostro supporto al loop è stato configurato come un modulo del
   kernel caricabile (che è il modo in cui la maggior parte delle
   distribuzioni Linux viene preconfigurato).

   Modificate /etc/modules.conf e aggiungete la seguente linea

   options loop max_loop=64

   Dopo aver effettuato il cambio descritto sopra, semplicemente
   riavviate la macchina. Oppure potete provare ad usare rmmod e insmod
   per effettuare il cambio al volo, ma questo non funzionerà se avete un
   qualsiasi dispositivo di loop montato (otterrete un errore del tipo:
   dispositivo o risorsa occupata).

   Nota
          Se non avete il file /etc/modules.conf, il vostro modulo di
          configurazione potrebbe essere chiamato /etc/conf.modules
          (questo nome adesso è in disuso).

   Continua con la Sezione 3.4.

   Grazie a Paul A. Sand per le specificazioni sulle opzioni di
   /etc/modules.conf
     _________________________________________________________________

3.2. Aggiunta al prompt del boot

   Se il tuo supporto del loop è stato compilato direttamente nel kernel
   (in altre parole, non è caricato come modulo), potete aggiungere il
   numero di dispositivi di loop che intendete supportare al prompt di
   boot di Linux.

   boot:  linux max_loop=64

   O, se state usando LILO, potete modificare il boot di Linux in
   /etc/lilo.conf e aggiungere o modificare l'opzione append=. Ecco qui
   un esempio che mostra il parametro append= (nota: limitatevi ad
   aggiungere o modificare la linea aggiunta, non cambiate l'intero file
   per farlo assomigliare a questo oppure il vostro sistema potrebbe non
   riavviarsi più). Per maggiori informazioni circa LILO, consultate il
   LILO mini-HOWTO a http://www.linuxdoc.org/HOWTO/mini/LILO.html.

image=/boot/vmlinuz
        label=linux
        root=/dev/hdb5
        initrd=/boot/initrd.img

        append=" max_loop=64"

        vga=788
        read-only

   Dopo aver cambiato /etc/lilo.conf, è necessario eseguire il comando
   lilo affinché in cambiamenti abbiano effetto.
bash# lilo


Added linux *
Added linux-nonfb
Added failsafe
Added windows
Added floppy

   Adesso riavviate il vostro sistema. Dopo il riavvio, potrete
   controllare il vostro file di boot digitando ciò che segue:

   bash# cat /proc/cmdline

   Nota
          Non sono sicuro che il modulo di loop (compilato come modulo)
          legga /proc/cmdline quando il modulo è caricato, e perciò
          potrebbe non essere necessaria nelle opzioni in
          /etc/modules.conf. E' possibile che si riesca (e se non riesce,
          dovrebbe). In breve: non l'ho testata.

   Continua con la Sezione 3.4.

   Grazie a Tony Melia per le info sul prompt di boot. 
     _________________________________________________________________

3.3. Ottimizzare il kernel

   Se avete un kernel vecchio (v. 2.2) o se siete a vostro agio
   ricompilando il kernel, potete incrementare il numero dei dispositivi
   di loop supportati modificando il file
   /usr/src/linux/drivers/block/loop.c..

   Nota
          Se constatate che i sorgenti del kernel non sono installati
          sulla vostra macchina, avrete bisogni di consultare la
          documentazione sulla vostra distribuzione Linux su come
          installarli (i sorgenti del kernel esistono con tutte le
          distribuzioni - fanno parte della licenza GNU GPL.

   Cambiate il numero nella linea seguente in accordo a quanti
   dispositivi di loop avete bisogno.

   #define MAX_LOOP 16

   Compilate il nuovo kernel come modulo se ne è il caso. Se avete
   bisogno di aiuto nell'iniziare a fare questo, leggete il
   /usr/src/linux/README o consultate il seguente link The Linux Kernel
   HOWTO.

   Continua con la Sezione 3.4.
     _________________________________________________________________

3.4. Creare i dispositivi di loop in /dev

   Dovreste controllare quante voci avete in /dev per i vostri
   dispositivi di loop.

   bash# ls -l /dev/loop*

   Il comando mknod crea i dispositivi nella directory /dev. I
   dispositivi di loop hanno un numero maggiore di sette "7", e i numeri
   minori cominciano da "0". Se il vostro MAX_LOOP è stato definito come
   "8" in /usr/src/linux/drivers/block/loop.c, dovreste avere /dev/loop0
   fino /dev/loop7. Per creare il dispositivo /dev/loop8, usate il
   seguente comando (sostituite il numero giusto di cui avete bisogno per
   entrambi gli "8" nell'esempio sotto).

   bash# mknod -m660 /dev/loop8 b 7 8

   Controllate i permessi del proprietario e del gruppo & sul nuovo file
   (usando ls -l). Potete cambiare il proprietario e il gruppo usando il
   seguente comando:

   bash# chown root.disk /dev/loop8

   Potete cambiare i permessi usando il seguente comando:

   bash# chmod 666 /dev/loop8
     _________________________________________________________________

4. Ulteriori informazioni

   Siate sicuri di controllare le letture suggerite in la Sezione 1.3.
     _________________________________________________________________

4.1. Questioni poste frequentemente

   Finalmente sono riuscito a creare questa sezione - Questioni poste
   frequentemente. Comunque, qualche volta penso che dovrebbe essere
   chiamata Questioni Risposte Frequentemente (visto che provo sempre a
   rispondere a tutte).

   D: Posso copiare il contenuto di un CD in una directory e condividerlo
          con SAMBA?

   D: Esiste qualche script o qualche programma che può automatizzare
          questo processo?

   D: Esiste una interfaccia web per automatizzare questo processo?
   D: Possono essere condivisi CD protetti (es. laserlok) in questo modo?

   D: Posso copiare il contenuto di un CD in una directory e condividerlo
   con SAMBA?

   R: In una sola parola - SI

     Non c'è nulla che vi deve trattenere dal farlo. Comunque non sono
     sicuro di quali argomenti avete bisogno di usare con tar e quali
     opzioni per includere nelle condivisioni di SAMBA. Ci potrebbero
     anche essere problemi con la gestione dei nomi (sensibile alle
     maiuscole e minuscole, spazi nei nomi), attributi dei file (solo
     lettura, ecc). Se qualcuno lo ha già fatto con successo, vi prego
     di mandarmi degli esempi dei comandi che avete usato per copiare il
     contenuto dei cd, e le vostre condivisioni di SAMBA.

     Qui ci sono alcuni comandi che potete usare per copiare i
     contenuti:

bash# cd /home
bash# mkdir image
bash# cd image
bash# mkdir mndrk81
bash# mount /mnt/cdrom
bash# cd /mnt/cdrom
bash# tar cvf - . | (cd /home/image/mndrk81; tar xvf -)

     Grazie a Giblhauser Carl Michael per queste informazioni

   D: Esiste qualche script o qualche programma che può automatizzare
   questo processo?

   R: Si:

     * Bradley Wendelboe e James Mumm hanno scritto uno script di shell
       chiamato CDTower - vedi la Sezione 4.2.2 per scaricarlo.
       Non ho test indipendenti per questo script - usatelo a vostro
       rischio e pericolo .

   D: Esiste una interfaccia web per automatizzare questo processo?

   R: Non ancora. Comunque c'è molto interesse in ciò

     * Tony Melia [Tony.Melia (at) downsmicro.com.au] ha comunicato che è
       circa al 60% nella realizzazione di una interfaccia web, per
       esempio, nel copiare cd, creare dei parametri extra/dev/loop e
       vedere quanto spazio il Cd sta per occupare.
     * Sto pianificando di scrivere un modulo per Webmin per
       automatizzare questo processo. Questo progetto è attualmente
       ospitato su Sourceforge al link
       http://sourceforge.net/projects/opencdserver

   D: Possono essere condivisi CD protetti (es. laserlok) in questo modo?

   R: Al meglio delle mie conoscenze, NO.

     Altri mi hanno riportato problemi provando a condividere immagini
     ISO fatte da CD protetti da copia. Sembra che anche usando
     l'opzione "unhide" con mount quei file rimangono nascosti.
     _________________________________________________________________

4.2. Altre istruzioni disponibili sul web

   Questa sezione è dedicata a materiale istruttivo che altri hanno
   scritto o mi hanno mandato.
     _________________________________________________________________

4.2.1. Salvare un CD-ROM in un file e montarlo

   Richard Black (Compaq) ha alcune buone pagine su come salvare i cd-rom
   in file e quindi montarle nella Red Hat Linux.

     * Salvare un CD-ROM in un file e montarlo
     * Dispositivi di loop sotto link - Questa pagina include lo script
       di sotto per creare alcuni nodi di dispositivi di loop in /dev.

I nodi dei dispositivi sono richiesti per accedere ai dispositivi di loop. Avet
e già loop0-loop7. Potete eseguire il seguente loop per creare il resto dei nod
i (loop8 - loop255). Potete scrivere tutte le seguenti linee di codice in una s
ingola linea se tralasciate i caratteri "\".


C=8; echo; echo "Creating loop device nodes."; \
   while [ $C -lt 256 ]; do mknod /dev/loop$C b 7 $C; \
   echo -n .; C=`expr $C + 1`; done; echo;


Nota: il quoting circa le espressioni sono chiamati "backtick" e sono insieme l
a tilde  ("~") nella parte superiore sinistra della tastiera. Il carattere non
è una singola quota.

   Grazie a Richard Black per il permesso di aggiungere questa info e per
   il linking a questo documento.
     _________________________________________________________________

4.2.2. CDTower v.06

   Uno script per automatizzare la creazione di immagini ISO a
   condividerle via Samba

   di Bradley Wendelboe [krakken (at) icehouse.2y.net] e James Mumm [dart
   (at) windeath.2y.net]

   Questo software è sotto licenza GPL, vedi
   http://www.gnu.org/copyleft/gpl.html per i dettagli.

   Per vedere/scaricare questo script:
          http://www.talcon.com/projects/CDServer-HOWTO/scripts/cdtower_v
          0.06.sh.txt

   Attenzione
          Non ho test indipendenti su questo script - usatelo a vostro
          rischio e pericolo.

   Grazie a Bradley Wendelboe per avermi inviato questo script.
     _________________________________________________________________

4.3. Sotto considerazioni future

   Ci sono cose a cui sto guardando correntemente, provando ad
   immaginare, o pianificare per farle.

     * Pubblicati più script disponibili che altri mi hanno mandato, in
       questo howto, oppure ospitandoli e linkandoli da questo documento.
     * Condividere i CD verso i network Apple e Netware (Appletalk e
       IPX).
     * Immagini ISO compresse.
     * Cambiare le condivisioni dei Cd al volo (sperando che sia
       trasparente agli utenti).
     * Aggiunta di un modulo Webmin per automatizzare il processo di CD
       server.
     * Istruzioni specifiche per le distribuzioni.
     * Ho un volontario per la traduzione in tedesco, sperando che
       finisca presto.
     _________________________________________________________________

A. GNU Free Documentation License

   Version 1.1, March 2000

     Copyright (C) 2000 Free Software Foundation, Inc. 59 Temple Place,
     Suite 330, Boston, MA 02111-1307 USA Everyone is permitted to copy
     and distribute verbatim copies of this license document, but
     changing it is not allowed.
     _________________________________________________________________

0. PREAMBLE

   The purpose of this License is to make a manual, textbook, or other
   written document "free" in the sense of freedom: to assure everyone
   the effective freedom to copy and redistribute it, with or without
   modifying it, either commercially or noncommercially. Secondarily,
   this License preserves for the author and publisher a way to get
   credit for their work, while not being considered responsible for
   modifications made by others.

   This License is a kind of "copyleft", which means that derivative
   works of the document must themselves be free in the same sense. It
   complements the GNU General Public License, which is a copyleft
   license designed for free software.

   We have designed this License in order to use it for manuals for free
   software, because free software needs free documentation: a free
   program should come with manuals providing the same freedoms that the
   software does. But this License is not limited to software manuals; it
   can be used for any textual work, regardless of subject matter or
   whether it is published as a printed book. We recommend this License
   principally for works whose purpose is instruction or reference.
     _________________________________________________________________

1. APPLICABILITY AND DEFINITIONS

   This License applies to any manual or other work that contains a
   notice placed by the copyright holder saying it can be distributed
   under the terms of this License. The "Document", below, refers to any
   such manual or work. Any member of the public is a licensee, and is
   addressed as "you".

   A "Modified Version" of the Document means any work containing the
   Document or a portion of it, either copied verbatim, or with
   modifications and/or translated into another language.

   A "Secondary Section" is a named appendix or a front-matter section of
   the Document that deals exclusively with the relationship of the
   publishers or authors of the Document to the Document's overall
   subject (or to related matters) and contains nothing that could fall
   directly within that overall subject. (For example, if the Document is
   in part a textbook of mathematics, a Secondary Section may not explain
   any mathematics.) The relationship could be a matter of historical
   connection with the subject or with related matters, or of legal,
   commercial, philosophical, ethical or political position regarding
   them.

   The "Invariant Sections" are certain Secondary Sections whose titles
   are designated, as being those of Invariant Sections, in the notice
   that says that the Document is released under this License.

   The "Cover Texts" are certain short passages of text that are listed,
   as Front-Cover Texts or Back-Cover Texts, in the notice that says that
   the Document is released under this License.

   A "Transparent" copy of the Document means a machine-readable copy,
   represented in a format whose specification is available to the
   general public, whose contents can be viewed and edited directly and
   straightforwardly with generic text editors or (for images composed of
   pixels) generic paint programs or (for drawings) some widely available
   drawing editor, and that is suitable for input to text formatters or
   for automatic translation to a variety of formats suitable for input
   to text formatters. A copy made in an otherwise Transparent file
   format whose markup has been designed to thwart or discourage
   subsequent modification by readers is not Transparent. A copy that is
   not "Transparent" is called "Opaque".

   Examples of suitable formats for Transparent copies include plain
   ASCII without markup, Texinfo input format, LaTeX input format, SGML
   or XML using a publicly available DTD, and standard-conforming simple
   HTML designed for human modification. Opaque formats include
   PostScript, PDF, proprietary formats that can be read and edited only
   by proprietary word processors, SGML or XML for which the DTD and/or
   processing tools are not generally available, and the
   machine-generated HTML produced by some word processors for output
   purposes only.

   The "Title Page" means, for a printed book, the title page itself,
   plus such following pages as are needed to hold, legibly, the material
   this License requires to appear in the title page. For works in
   formats which do not have any title page as such, "Title Page" means
   the text near the most prominent appearance of the work's title,
   preceding the beginning of the body of the text.
     _________________________________________________________________

2. VERBATIM COPYING

   You may copy and distribute the Document in any medium, either
   commercially or noncommercially, provided that this License, the
   copyright notices, and the license notice saying this License applies
   to the Document are reproduced in all copies, and that you add no
   other conditions whatsoever to those of this License. You may not use
   technical measures to obstruct or control the reading or further
   copying of the copies you make or distribute. However, you may accept
   compensation in exchange for copies. If you distribute a large enough
   number of copies you must also follow the conditions in section 3.

   You may also lend copies, under the same conditions stated above, and
   you may publicly display copies.
     _________________________________________________________________

3. COPYING IN QUANTITY

   If you publish printed copies of the Document numbering more than 100,
   and the Document's license notice requires Cover Texts, you must
   enclose the copies in covers that carry, clearly and legibly, all
   these Cover Texts: Front-Cover Texts on the front cover, and
   Back-Cover Texts on the back cover. Both covers must also clearly and
   legibly identify you as the publisher of these copies. The front cover
   must present the full title with all words of the title equally
   prominent and visible. You may add other material on the covers in
   addition. Copying with changes limited to the covers, as long as they
   preserve the title of the Document and satisfy these conditions, can
   be treated as verbatim copying in other respects.

   If the required texts for either cover are too voluminous to fit
   legibly, you should put the first ones listed (as many as fit
   reasonably) on the actual cover, and continue the rest onto adjacent
   pages.

   If you publish or distribute Opaque copies of the Document numbering
   more than 100, you must either include a machine-readable Transparent
   copy along with each Opaque copy, or state in or with each Opaque copy
   a publicly-accessible computer-network location containing a complete
   Transparent copy of the Document, free of added material, which the
   general network-using public has access to download anonymously at no
   charge using public-standard network protocols. If you use the latter
   option, you must take reasonably prudent steps, when you begin
   distribution of Opaque copies in quantity, to ensure that this
   Transparent copy will remain thus accessible at the stated location
   until at least one year after the last time you distribute an Opaque
   copy (directly or through your agents or retailers) of that edition to
   the public.

   It is requested, but not required, that you contact the authors of the
   Document well before redistributing any large number of copies, to
   give them a chance to provide you with an updated version of the
   Document.
     _________________________________________________________________

4. MODIFICATIONS

   You may copy and distribute a Modified Version of the Document under
   the conditions of sections 2 and 3 above, provided that you release
   the Modified Version under precisely this License, with the Modified
   Version filling the role of the Document, thus licensing distribution
   and modification of the Modified Version to whoever possesses a copy
   of it. In addition, you must do these things in the Modified Version:

    A. Use in the Title Page (and on the covers, if any) a title distinct
       from that of the Document, and from those of previous versions
       (which should, if there were any, be listed in the History section
       of the Document). You may use the same title as a previous version
       if the original publisher of that version gives permission.
    B. List on the Title Page, as authors, one or more persons or
       entities responsible for authorship of the modifications in the
       Modified Version, together with at least five of the principal
       authors of the Document (all of its principal authors, if it has
       less than five).
    C. State on the Title page the name of the publisher of the Modified
       Version, as the publisher.
    D. Preserve all the copyright notices of the Document.
    E. Add an appropriate copyright notice for your modifications
       adjacent to the other copyright notices.
    F. Include, immediately after the copyright notices, a license notice
       giving the public permission to use the Modified Version under the
       terms of this License, in the form shown in the Addendum below.
    G. Preserve in that license notice the full lists of Invariant
       Sections and required Cover Texts given in the Document's license
       notice.
    H. Include an unaltered copy of this License.
    I. Preserve the section entitled "History", and its title, and add to
       it an item stating at least the title, year, new authors, and
       publisher of the Modified Version as given on the Title Page. If
       there is no section entitled "History" in the Document, create one
       stating the title, year, authors, and publisher of the Document as
       given on its Title Page, then add an item describing the Modified
       Version as stated in the previous sentence.
    J. Preserve the network location, if any, given in the Document for
       public access to a Transparent copy of the Document, and likewise
       the network locations given in the Document for previous versions
       it was based on. These may be placed in the "History" section. You
       may omit a network location for a work that was published at least
       four years before the Document itself, or if the original
       publisher of the version it refers to gives permission.
    K. In any section entitled "Acknowledgements" or "Dedications",
       preserve the section's title, and preserve in the section all the
       substance and tone of each of the contributor acknowledgements
       and/or dedications given therein.
    L. Preserve all the Invariant Sections of the Document, unaltered in
       their text and in their titles. Section numbers or the equivalent
       are not considered part of the section titles.
    M. Delete any section entitled "Endorsements". Such a section may not
       be included in the Modified Version.
    N. Do not retitle any existing section as "Endorsements" or to
       conflict in title with any Invariant Section.

   If the Modified Version includes new front-matter sections or
   appendices that qualify as Secondary Sections and contain no material
   copied from the Document, you may at your option designate some or all
   of these sections as invariant. To do this, add their titles to the
   list of Invariant Sections in the Modified Version's license notice.
   These titles must be distinct from any other section titles.

   You may add a section entitled "Endorsements", provided it contains
   nothing but endorsements of your Modified Version by various
   parties--for example, statements of peer review or that the text has
   been approved by an organization as the authoritative definition of a
   standard.

   You may add a passage of up to five words as a Front-Cover Text, and a
   passage of up to 25 words as a Back-Cover Text, to the end of the list
   of Cover Texts in the Modified Version. Only one passage of
   Front-Cover Text and one of Back-Cover Text may be added by (or
   through arrangements made by) any one entity. If the Document already
   includes a cover text for the same cover, previously added by you or
   by arrangement made by the same entity you are acting on behalf of,
   you may not add another; but you may replace the old one, on explicit
   permission from the previous publisher that added the old one.

   The author(s) and publisher(s) of the Document do not by this License
   give permission to use their names for publicity for or to assert or
   imply endorsement of any Modified Version.
     _________________________________________________________________

5. COMBINING DOCUMENTS

   You may combine the Document with other documents released under this
   License, under the terms defined in section 4 above for modified
   versions, provided that you include in the combination all of the
   Invariant Sections of all of the original documents, unmodified, and
   list them all as Invariant Sections of your combined work in its
   license notice.

   The combined work need only contain one copy of this License, and
   multiple identical Invariant Sections may be replaced with a single
   copy. If there are multiple Invariant Sections with the same name but
   different contents, make the title of each such section unique by
   adding at the end of it, in parentheses, the name of the original
   author or publisher of that section if known, or else a unique number.
   Make the same adjustment to the section titles in the list of
   Invariant Sections in the license notice of the combined work.

   In the combination, you must combine any sections entitled "History"
   in the various original documents, forming one section entitled
   "History"; likewise combine any sections entitled "Acknowledgements",
   and any sections entitled "Dedications". You must delete all sections
   entitled "Endorsements."
     _________________________________________________________________

6. COLLECTIONS OF DOCUMENTS

   You may make a collection consisting of the Document and other
   documents released under this License, and replace the individual
   copies of this License in the various documents with a single copy
   that is included in the collection, provided that you follow the rules
   of this License for verbatim copying of each of the documents in all
   other respects.

   You may extract a single document from such a collection, and
   distribute it individually under this License, provided you insert a
   copy of this License into the extracted document, and follow this
   License in all other respects regarding verbatim copying of that
   document.
     _________________________________________________________________

7. AGGREGATION WITH INDEPENDENT WORKS

   A compilation of the Document or its derivatives with other separate
   and independent documents or works, in or on a volume of a storage or
   distribution medium, does not as a whole count as a Modified Version
   of the Document, provided no compilation copyright is claimed for the
   compilation. Such a compilation is called an "aggregate", and this
   License does not apply to the other self-contained works thus compiled
   with the Document, on account of their being thus compiled, if they
   are not themselves derivative works of the Document.

   If the Cover Text requirement of section 3 is applicable to these
   copies of the Document, then if the Document is less than one quarter
   of the entire aggregate, the Document's Cover Texts may be placed on
   covers that surround only the Document within the aggregate. Otherwise
   they must appear on covers around the whole aggregate.
     _________________________________________________________________

8. TRANSLATION

   Translation is considered a kind of modification, so you may
   distribute translations of the Document under the terms of section 4.
   Replacing Invariant Sections with translations requires special
   permission from their copyright holders, but you may include
   translations of some or all Invariant Sections in addition to the
   original versions of these Invariant Sections. You may include a
   translation of this License provided that you also include the
   original English version of this License. In case of a disagreement
   between the translation and the original English version of this
   License, the original English version will prevail.
     _________________________________________________________________

9. TERMINATION

   You may not copy, modify, sublicense, or distribute the Document
   except as expressly provided for under this License. Any other attempt
   to copy, modify, sublicense or distribute the Document is void, and
   will automatically terminate your rights under this License. However,
   parties who have received copies, or rights, from you under this
   License will not have their licenses terminated so long as such
   parties remain in full compliance.
     _________________________________________________________________

10. FUTURE REVISIONS OF THIS LICENSE

   The Free Software Foundation may publish new, revised versions of the
   GNU Free Documentation License from time to time. Such new versions
   will be similar in spirit to the present version, but may differ in
   detail to address new problems or concerns. See
   http://www.gnu.org/copyleft/.

   Each version of the License is given a distinguishing version number.
   If the Document specifies that a particular numbered version of this
   License "or any later version" applies to it, you have the option of
   following the terms and conditions either of that specified version or
   of any later version that has been published (not as a draft) by the
   Free Software Foundation. If the Document does not specify a version
   number of this License, you may choose any version ever published (not
   as a draft) by the Free Software Foundation.
     _________________________________________________________________

How to use this License for your documents

   To use this License in a document you have written, include a copy of
   the License in the document and put the following copyright and
   license notices just after the title page:

     Copyright (c) YEAR YOUR NAME. Permission is granted to copy,
     distribute and/or modify this document under the terms of the GNU
     Free Documentation License, Version 1.1 or any later version
     published by the Free Software Foundation; with the Invariant
     Sections being LIST THEIR TITLES, with the Front-Cover Texts being
     LIST, and with the Back-Cover Texts being LIST. A copy of the
     license is included in the section entitled "GNU Free Documentation
     License".

   If you have no Invariant Sections, write "with no Invariant Sections"
   instead of saying which ones are invariant. If you have no Front-Cover
   Texts, write "no Front-Cover Texts" instead of "Front-Cover Texts
   being LIST"; likewise for Back-Cover Texts.

   If your document contains nontrivial examples of program code, we
   recommend releasing these examples in parallel under your choice of
   free software license, such as the GNU General Public License, to
   permit their use in free software.

  Note

   [1]

   I comandi e le utilities richieste per la configurazione del vostro Cd
   server sono già incluse nella maggior parte (se non in tutte) le
   distribuzioni Linux.

     * Una distribuzione Linux (questo HowTo utilizza Linux-Mandrakeper
       gli esempi)
     * dd - Converte e copia i file (comando standard Unix)
     * mount -Monta e smonta i filesystem (comando standard Unix)
     * Samba - Un fileserver SMB/CIFS Windows per Unix
     * NFS (opzionale per Unix) - Network File System (incluso nelle
       distribuzioni Linux)
     * Netatalk (opzionale per i Macintosh) - Un pacchetto che permette a
       un computer Unix di fornire servizi di stampa e di file su una
       LAN.

   Nota
          Prima del kernel 2.4, la distribuzione Linux-Mandrake che ho
          usato aveva il supporto solo per 8 dispositivi di loop
          compilati nel kernel (vedi la Sezione 3 per incrementare questo
          numero). A quel tempo, potevate solo condividere 8 Cd sulla
          rete con il valore di default, e per condividere più di 8
          dispositivi, il codice sorgente del driver del blocco (loop.c)
          doveva essere modificato e compilato un nuovo kernel.

          Con il kernel 2.4, ciò non è più richiesto. Ora potete
          impostare il numero dei dispositivi di loop attraverso il
          parametro max loop module, oppure passando max_loop (1-255) al
          kernel al momento dell'avvio.
