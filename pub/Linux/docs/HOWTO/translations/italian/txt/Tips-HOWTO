  The Linux Tips HOWTO
  Vince Reed, reedv@rpi.edu Traduzione Natali
  Giuliano(Diaolin) <mailto:natali@tqs.it>(febbraio 1996)
  v0.1, 30 August 1994

  Questo documento descrive alcune brevi procedure ed idee per risparmi­
  are tempo nella configurazione e nell'uso quotidiano di Linux. Tutto
  cio` che trovate qui dentro era troppo generale per essere incluso
  negli altri HOWTO.
  ______________________________________________________________________

  Indice Generale


  1. Introduzione
  2. Piccoli Tips
     2.1 Muovere le directory attraverso i filesystems. Alan Cox, A.Cox@swansea.ac.uk
     2.2 Puntatore toper le patch allo GNU Make 3.70 per cambiare VPATH. Ted Stern, stern@amath.washington.edu
     2.3 Come posso impedire che venga eseguito l' fsck ad ogni reboot del sistema? Dale Lutz, dal@wimsey.com
     2.4 Come impedire gli "fscks" causati da "device busy" al reboot . Jon Tombs, jon@gtex02.us.es
     2.5 Come stampare pagine con il margine (forabile) per i contenitori standard. Mike Dickey, mdickey@thorplus.lib.purdue.edu
     2.6 Il modo per ricercare attraverso una serie di files una espressione regolare. Raul Deluth Miller, rockwell@nova.umd.edu
     2.7 Uno script per ripulire il disco dai file di autosave e backup. Barry Tolnas, tolnas@nestor.engr.utk.edu

  3. Tips dettagliati
     3.1 Usare la partizione di swap di Linux anche per lo swap di Windows. Tony Acero, ace3@midway.uchicago.edu
     3.2 Come configurare il "selezionatore" di xdm per la scelta degli host. Arrigo Triulzi, a.triulzi@ic.ac.uk


  ______________________________________________________________________

  11..  IInnttrroodduuzziioonnee


  Benvenuti al LLiinnuuxx TTiippss HHOOWWTTOO, il posto in cui troverete le risposte
  alle domande non attinenti ai linux howtos specifici . Nel tips howto,
  troverete piccoli "tricks" che renderanno l'uso e il mantenimento di
  Linux piu` facile. Comunque, essendo solo la seconda release deltips
  howto, il numero di tips riportato e` relativamente basso. Penso
  comunque che prossimamente stroveremo qualcosa in piu`... Mandatemi le
  vostre idee in modo che io le possa includere nell'howto. Vi ringrazio
  anticipatamente! Vince Reed Maintainer--Linux TIPS HOWTO
  <mailto:reedv@rpi.edu>

  22..  PPiiccccoollii TTiippss


  22..11..  MMuuoovveerree llee ddiirreeccttoorryy aattttrraavveerrssoo ii ffiilleessyysstteemmss.. AAllaann CCooxx,,
  AA..CCooxx@@sswwaannsseeaa..aacc..uukk


  Metodo veloce per muovere un intera directory da un disco all'altro:

  (cd /source/directory; tar cf - .)| (cd /dest/directory; tar xvfp -)


  22..22..  PPuunnttaattoorree ttooppeerr llee ppaattcchh aalllloo GGNNUU MMaakkee 33..7700 ppeerr ccaammbbiiaarree VVPPAATTHH..
  TTeedd SStteerrnn,, sstteerrnn@@aammaatthh..wwaasshhiinnggttoonn..eedduu


  Non saprei quante siano le persone che hanno riscontrato il problema,
  ma c'e` una "feature" del GNU make versione 3.70 che non mi piace. In
  questa il VPATH si comporta stranamente se gli assegnate un pathname
  assoluto. C'e` una patch estremamente valida che lo corregge, la
  potete ottenere da Paul D. Smith psmith@wellfleet.com.  Lui spedisce
  la documentazione e la patch dopo ogni revisione dello GNU make sul
  newsgroup 'gnu.utils.bug'. Generalmente,io applico questa patch e
  ricompilo il gmake su ogni sistema al quale ho possibilita` di
  accedere.

  22..33..  CCoommee ppoossssoo iimmppeeddiirree cchhee vveennggaa eesseegguuiittoo ll'' ffsscckk aadd ooggnnii rreebboooott
  ddeell ssiisstteemmaa?? DDaallee LLuuttzz,, ddaall@@wwiimmsseeyy..ccoomm


  _D_=_D_o_m_a_n_d_a _R_=_R_i_s_p_o_s_t_a

  D:  Come posso fare per impedire a e2fsck di controllare il disco ad
  ogni sequenza di boot?

  R:  Quando ricompili il kernel,il filesystem viene marcato 'dirty' e
  cosi` il disco viene controllato ad ogni boot.La soluzione e`
  eseguire: rdev -R /zImage 1 .Questo corregge il kernel per convincerlo
  che il filesystem non e` "dirty". _N_o_t_a_: _S_e _u_s_a_t_e _l_i_l_o_, aggiungete la
  riga read-only _n_e_l _v_o_s_t_r_o _f_i_l_e _d_i _c_o_n_f_i_g_u_r_a_z_i_o_n_e _d_i _l_i_l_o _(_D_i _s_o_l_i_t_o
  _/_e_t_c_/_l_i_l_o_._c_o_n_f_)

  22..44..  CCoommee iimmppeeddiirree ggllii ""ffsscckkss"" ccaauussaattii ddaa ""ddeevviiccee bbuussyy"" aall rreebboooott ..
  JJoonn TToommbbss,,  jjoonn@@ggtteexx0022..uuss..eess


  Se incontrate spesso l'errore device busy allo shutdown il che'
  provoca un fsck del filesystem al momento del reboot, eccovi la
  semplice soluzione: aggiungete questa linea al file /etc/brc o al file
  /sbin/brc,

  mount -o remount,ro /mount.dir



  per tutti i filesystems montati escludendo /, prima della chiamata
  umount -a. Questo serve se , per qualsiasi ragione, lo shutdown
  fallisce nella chiusura di tutti i processi e nello smontare i dischi;
  questi saranno comunque a posto al reboot. Nel mio caso questo salva
  un bel po` di tempo ad ogni reboot.

  22..55..  CCoommee ssttaammppaarree ppaaggiinnee ccoonn iill mmaarrggiinnee ((ffoorraabbiillee)) ppeerr ii ccoonntteenniittoorrii
  ssttaannddaarrdd.. MMiikkee DDiicckkeeyy,, mmddiicckkeeyy@@tthhoorrpplluuss..lliibb..ppuurrdduuee..eedduu


  ______________________________________________________________________
  #!/bin/sh
  # /usr/local/bin/print
  # a simple formatted printout, to enable someone to
  # 3-hole punch the output and put it in a binder
  cat $1 | pr -t -o 5 -w 85 | lpr
  ______________________________________________________________________



  22..66..  IIll mmooddoo ppeerr rriicceerrccaarree aattttrraavveerrssoo uunnaa sseerriiee ddii ffiilleess uunnaa eesspprreess­­
  ssiioonnee rreeggoollaarree.. RRaauull DDeelluutthh MMiilllleerr,, rroocckkwweellll@@nnoovvaa..uummdd..eedduu


  Ho chiamato questo script 'forall'.  Usatelo cosi`:

  forall /usr/include grep -i ioctl
  forall /usr/man grep ioctl



  Ed eccovi forall:

  ______________________________________________________________________
  #!/bin/sh
  if [ 1 = `expr 2 $ #` ] then
  echo Usage: $0 dir cmd [optargs]
  exit 1
  fi
  dir=$1 shift
  find $dir -type f -print | xargs "$@"
  ______________________________________________________________________



  22..77..  UUnnoo ssccrriipptt ppeerr rriippuulliirree iill ddiissccoo ddaaii ffiillee ddii aauuttoossaavvee ee bbaacckkuupp..
  BBaarrrryy TToollnnaass,, ttoollnnaass@@nneessttoorr..eennggrr..uuttkk..eedduu


  Qui propongo un semplice script di shell che ricursivamente discende
  un ramo di directories rimuovendo i file di auto-save ( )e backup (#)
  di emacs , .o  files,ed i files di TeX .log . Comprime inoltre i files
  .tex ed i README .  Sul mio sistema l'ho chiamato : squeeze.


       ____________________________________________________________
       #!/bin/sh
       #SQUEEZE removes unnecessary files and compresses .tex and README files
       #By Barry tolnas, tolnas@sun1.engr.utk.edu #
       echo squeezing $PWD find  $PWD -name -or -name -or -name -or -name -exec rm -f {} find $PWD -name -or -name -or -name -exec gzip -9 {}
       ____________________________________________________________



  33..  TTiippss ddeettttaagglliiaattii


  33..11..  UUssaarree llaa ppaarrttiizziioonnee ddii sswwaapp ddii LLiinnuuxx aanncchhee ppeerr lloo sswwaapp ddii WWiinn­­
  ddoowwss.. TToonnyy AAcceerroo,,  aaccee33@@mmiiddwwaayy..uucchhiiccaaggoo..eedduu


  1. Formattate la partition come partizione dos, e createvi il file di
     swap di Windows al suo interno, ma non fate ripartire windows
     subito. (Dovete mantenerlo completamente vuoto per il momento, per
     comprimerlo al massimo).

  2. Fate partire linux e salvate la partizione in un file.  Poniamo che
     la partizione fosse/dev/hda8: _d_d _i_f_=_/_d_e_v_/_h_d_a_8 _o_f_=_/_e_t_c_/_d_o_s_s_w_a_p

  3. Comprimete il file dosswap ; visto che e` a 0 verra` compresso nel
     modo migliore _g_z_i_p _-_9 _/_e_t_c_/_d_o_s_s_w_a_p

  4. Aggiungete, al vostro file /etc/rc per preparare ed installare lo
     spazio di swap sotto Linux:  _X_X_X_X_X _c_o_r_r_i_s_p_o_n_d_e _a_l _n_u_m_e_r_o _d_i _b_l_o_c_c_h_i
     _n_e_l_l_a _p_a_r_t_i_z_i_o_n_e _d_i _s_w_a_p _m_k_s_w_a_p _/_d_e_v_/_h_d_a_8 _X_X_X_X_X _s_w_a_p_o_n _-_a_v

  5. Assicuratevi di aggiungere un' "entry" per la partizione di swap
     nel vostro file /etc/fstab

  6. Se il vostro pacchetto "init/reboot" supporta /etc/brc o /sbin/brc
     aggiungete ,a /etc/brc, o aggiungetelo manualmente quando volete
     reboottare con dos|os/2, e desiderate riconvertire la partizione di
     swap di nuovo alla versione per dos/windows : _s_w_a_p_o_f_f _-_a_v _z_c_a_t
     _/_e_t_c_/_d_o_s_s_w_a_p_._g_z _| _d_d _o_f_=_/_d_e_v_/_h_d_a_8 _b_s_=_1_k _c_o_u_n_t_=_1_0_0

  NN..BB.. :Notate che questo scrive solamente i primi 100 blocchi della
  partizione.  Empiricamente, ho notato che questo e` sufficiente. Quali
  sono i pro ed i contro?  Pro: risparmierete un bel po` di spazio su
  disco.  Contro: se il passaggio 5 non e` automatizzato, dovrete
  ricordarvi di farlo manualmente, e questo rallentera` il processo di
  reboot di qualche nanosecondo. :-)

  33..22..  CCoommee ccoonnffiigguurraarree iill ""sseelleezziioonnaattoorree"" ddii xxddmm ppeerr llaa sscceellttaa ddeeggllii
  hhoosstt.. AArrrriiggoo TTrriiuullzzii,,  aa..ttrriiuullzzii@@iicc..aacc..uukk


  1. Editate il file che lancia xdm (probabilmente /etc/rc/rc.6 o
     /etc/rc.local) in modo che contenga le seguenti linee nella sezione
     di startup di xdm.  _/_u_s_r_/_b_i_n_/_X_1_1_/_x_d_m _e_x_e_c _/_u_s_r_/_b_i_n_/_X_1_1_/_X _-_i_n_d_i_r_e_c_t
     _h_o_s_t_n_a_m_e

  2. Editate /usr/lib/X11/xdm/Xservers e commentate la linea che fa`
     partire il server sulla macchina locale i.e. starting 0:

  3. Eseguite il reboot e siete a posto.

  Lo aggiunsi quando, disperato, provavo a settare la mia "subnet" ed
  occupai almeno una settimana per la soluzione del problema.  Caveat:
  con la vecchia edizione SLS (1.1.1) per alcune ragioni potrete
  lasciare la stringa -nodaemon alla fine della riga contenente il
  comando xdm -- qquueessttoo NNOONN ffuunnzziioonnaa ccoonn llee rreelleeaassee ssuucccceessssiivvee.



