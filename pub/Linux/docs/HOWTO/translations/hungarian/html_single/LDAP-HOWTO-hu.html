<HTML
><HEAD
>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
<TITLE
>LDAP HOGYAN</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"/></HEAD
><BODY
CLASS="book"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="BOOK"
><A
NAME="index"/><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
><A
NAME="AEN2"/>LDAP HOGYAN</H1
><H3
CLASS="author"
><A
NAME="AEN5"/>Luiz Ernesto Pinheiro Mal&#232;re</H3
><DIV
CLASS="affiliation"
><DIV
CLASS="address"
><P
CLASS="address"
>malere@yahoo.com</P
></DIV
></DIV
><P
CLASS="pubdate"
>v1.09, 2004.03.05<BR/></P
><DIV
CLASS="revhistory"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Verziótörténet</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.09</TD
><TD
ALIGN="LEFT"
>2004.03.05</TD
><TD
ALIGN="LEFT"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>OpenLDAP 2.2 és általános javítások.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.08</TD
><TD
ALIGN="LEFT"
>2003.04.02</TD
><TD
ALIGN="LEFT"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>SASL, DIGEST-MD5 hitelesítéssel.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.07</TD
><TD
ALIGN="LEFT"
>2002.09.16</TD
><TD
ALIGN="LEFT"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Szedési javítások.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.06</TD
><TD
ALIGN="LEFT"
>2002.07.17</TD
><TD
ALIGN="LEFT"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Áttérés a Docbook XML standard formátumra, a szöveg teljes felülvizsgálata.
OpenLDAP 2.1 bemutatása.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.05</TD
><TD
ALIGN="LEFT"
>2001.06.22</TD
><TD
ALIGN="LEFT"
>Átdolgozta: lepm</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Megoldás a "hosszú sorok" problémára
(a doksi PDF formában szétcsúszott).</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.04</TD
><TD
ALIGN="LEFT"
>2001.02.28</TD
><TD
ALIGN="LEFT"
>Átdolgozta: lepm</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Tipográfiai javítások, és a "Roaming
Access", "Azonosítás LDAP segítségével" fejezetek frissítése.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.03</TD
><TD
ALIGN="LEFT"
>2000.09.28</TD
><TD
ALIGN="LEFT"
>Átdolgozta: lepm</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Az OpenLDAP 2.0 bemutatása, ami már az LDAP v3-at tartalmazza, idevágó szabvány: <A
HREF="ftp://ftp.isi.edu/in-notes/rfc2251.txt"
TARGET="_top"
>RFC2251</A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.02</TD
><TD
ALIGN="LEFT"
>2000.09.13</TD
><TD
ALIGN="LEFT"
>Átdolgozta: lepm</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Szöveg javítások, új fejezet a "Verziótörténet".</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.01</TD
><TD
ALIGN="LEFT"
>2000.02.15</TD
><TD
ALIGN="LEFT"
>Átdolgozta: lepm</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Új fejezetek az "LDAP migrációs eszközök", "Azonosítás LDAP használatával", "Grafikus LDAP eszközök", "RFC-k"</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Verzió: 1.00</TD
><TD
ALIGN="LEFT"
>1999.06.20</TD
><TD
ALIGN="LEFT"
>Átdolgozta: lepm</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>A legelsõ változat.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="abstract"
><A
NAME="AEN12"/><P
></P
><P
>Ez a dokumentáció a Linux operációs rendszeren LDAP
(Lightweight Directory Access Protocol) szerver telepítésérõl, konfigurálásáról
és üzemeltetésérõl szól. Részletesen leírja, hogyan lehet létrehozni LDAP
adatbázist, miként frissíthetõk és törölhetõk az információk az adatbázisban. Ez
a dokumentáció leginkább a University of Mitchigan LDAP információs oldalai és az
OpenLDAP adminisztrátorok kézikönyve alapján készült.</P
><P
></P
></DIV
></DIV
><HR/></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tartalomjegyzék</B
></DT
><DT
>1. <A
HREF="#Introduction"
>Bevezetés</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#WhatisLdap"
>Mi az LDAP?</A
></DT
><DT
>1.2. <A
HREF="#HowitWorks"
>Az LDAP mûködése</A
></DT
><DT
>1.3. <A
HREF="#LdapBackends"
>LDAP hátterek, objektumok és tulajdonságok</A
></DT
><DT
>1.4. <A
HREF="#NewVersions"
>A dokumentum újabb változatai</A
></DT
><DT
>1.5. <A
HREF="#opinions"
>Javaslatok és vélemények</A
></DT
><DT
>1.6. <A
HREF="#Acknowledgements"
>Köszönetnyilvánítás</A
></DT
><DT
>1.7. <A
HREF="#copyright"
>Szerzõi jog és licenc</A
></DT
><DT
>1.8. <A
HREF="#ipmasq-hu-translation"
>Magyar fordítás</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#Installing"
>Az LDAP szerver telepítése</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#PreReq"
>Elõfeltételek</A
></DT
><DT
>2.2. <A
HREF="#Download"
>A csomag letöltése</A
></DT
><DT
>2.3. <A
HREF="#Unpacking"
>A szerver csomag kitömörítése</A
></DT
><DT
>2.4. <A
HREF="#Configuring"
>A program beállítása</A
></DT
><DT
>2.5. <A
HREF="#Building"
>A szerver fordítása</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#Config"
>Az LDAP szerver konfigurálása</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="#ConfigFormat"
>Konfigurációs file formátuma</A
></DT
><DT
>3.2. <A
HREF="#GlobalDirect"
>Általános beállítási lehetõségek</A
></DT
><DT
>3.3. <A
HREF="#GeneralBEDirect"
>Általános háttér opciók</A
></DT
><DT
>3.4. <A
HREF="#GeneralDBDirect"
>Általános háttér opciók</A
></DT
><DT
>3.5. <A
HREF="#BDBDirect"
>BDB adatbázis direktívák</A
></DT
><DT
>3.6. <A
HREF="#LDBMDirect"
>LDBM adatbázis lehetõségek</A
></DT
><DT
>3.7. <A
HREF="#AccessControl"
>Hozzáférés szabályozási példák:</A
></DT
><DT
>3.8. <A
HREF="#ConfigurationExample"
>Konfigurációs fájl példa</A
></DT
></DL
></DD
><DT
>4. <A
HREF="#RunningLDAP"
>Az LDAP szerver futtatása</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="#CommandOptions"
>Parancssori opciók</A
></DT
><DT
>4.2. <A
HREF="#StartingLDAP"
>Az LDAP kiszolgáló indítása</A
></DT
><DT
>4.3. <A
HREF="#KillingLDAP"
>Az LDAP kiszolgáló leállítása</A
></DT
></DL
></DD
><DT
>5. <A
HREF="#DBCreation"
>Adatbázis létrehozás és karbantartása</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#DBOnline"
>Adatbázis online létrehozása</A
></DT
><DT
>5.2. <A
HREF="#CreateDBOffline"
>Adatbázis offline létrehozása</A
></DT
><DT
>5.3. <A
HREF="#MoreonLDIF"
>Bõvebben az LDIF formátumról</A
></DT
><DT
>5.4. <A
HREF="#Utilities"
>Az ldapsearch, ldapdelete és az ldapmodify progrmok</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#Additional"
>Kiegészítõ információk és lehetõségek</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#LDAPMigrationTools"
>LDAP Migrációs Eszközök</A
></DT
><DT
>6.2. <A
HREF="#Authentication"
>Azonosítás LDAP használatával</A
></DT
><DT
>6.3. <A
HREF="#sasl"
>SASL konfiguráció : Digest-MD5 azonosítás</A
></DT
><DT
>6.4. <A
HREF="#Graphicaltools"
>Grafikus LDAP eszközök</A
></DT
><DT
>6.5. <A
HREF="#Logs"
>Naplók</A
></DT
></DL
></DD
><DT
>7. <A
HREF="#References"
>Referenciák</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="#Urls"
>URL-ek</A
></DT
><DT
>7.2. <A
HREF="#Books"
>Könyvek</A
></DT
><DT
>7.3. <A
HREF="#RFCs"
>RFC-k</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="LOT"
><DL
CLASS="LOT"
><DT
><B
>A táblázatok listája</B
></DT
><DT
>3-1. <A
HREF="#AEN313"
>Hibakeresõ szintek</A
></DT
><DT
>3-2. <A
HREF="#AEN391"
>Adatbázis hátterek</A
></DT
><DT
>4-1. <A
HREF="#AEN613"
>Hibakövetés szintje</A
></DT
></DL
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="Introduction"/>Fejezet 1. Bevezetés</H1
><P
> Ez a dokumentum az LDAP szerver telepítésének és használatának leírása Linux operációs rendszeren.
Tartalmazza, hogyan telepíthetõ, konfigurálható, és üzemeltethetõ az LDAP szerver, és ezek után
hogyan tárolhatók, kereshetõk és frissíthetõk adatok az adatbázisban, LDAP kliensek és segédprogramok használatával.
Az LDAP címtár szolgáltatást nyújtó démont <EM
>slapd</EM
>-nek hivják, és sok 
különbözõ Unix platformon fut. </P
><P
> Egy másik démon gondoskodik az LDAP szerverek közötti replikációról.
Ezt slurpd-nek hívják, és egyelõre nem foglalkozunk vele.
Ez a dokumentáció a slapd démonról szól, amely lokális hálózatokon nyújt címtárszolgáltatást,
replikáció - vagyis slurpd - nélkül. További információt a többszörözésrõl a <A
HREF="http://www.openldap.org/doc/admin22/replication.html"
TARGET="_top"
>OpenLDAP Administrator's Guide</A
>
(OpenLDAP adminisztrátorok kézikönyve) dokumentumban találsz.</P
><P
> Az LDAP szervernek ez az egyszerû beállítása megfelelõ kezdés lesz,
amelyet késõbb könnyen továbbfejleszthetsz, ha akarsz. Ez a dokumentáció bemutatja az LDAP protokoll
használatához szükséges kezdeti lépéseket.
Lehetséges, hogy miután végigérünk a dokumentumon elég erõt érzel majd magadban a további fejlesztõi munkához,
a szerver lehetõségeinek minél teljesebb kihasználásához - sõt, saját kliens programozásához
- a fellelhetõ C, C++ és Java fejlesztõ eszközökkel. </P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="WhatisLdap"/>1.1. Mi az LDAP?</H1
><P
> Az LDAP betûszó az angol "Lightweight Directory Access Protocol" (könnyû címtár elérési
protokoll) kifejezésbõl származik. Ahogy a név is sugalmazza az LDAP kliens-szerver protokoll, címtár szolgáltatás eléréséhez, melyet eleinte fõleg X.500 hozzáféréshez alkalmaztak.
Az LDAP TCP/IP vagy más kapcsolat orientált átviteli szolgáltatást használhat. Az
	LDAP az <A
HREF="ftp://ftp.isi.edu/in-notes/rfc2251.txt"
TARGET="_top"
>RFC2251</A
>-ben
- "The Lightweight Directory Access Protocol (v3)" - van definiálva.
(Még egy URL: <A
HREF="http://www.faqs.org/rfcs/rfc2251.html"
TARGET="_top"
>RFC2251</A
> - a fordító)</P
><P
> A címtár olyan, mint egy adatbázis, de arra törekszik, hogy magába foglaljon egy részletesebb,
tulajdonság alapú információkezelést. Általában az információt a címtárban gyakrabban olvassák, mint írják.
Ennek következtében a címtárak általában nem alkalmaznak bonyolult tranzakció kezelést vagy roll-back rendszereket,
amiket általában az adatbáziskezelõk használnak a nagy méretû, összetett frissítésekhez. 
A címtár aktualizálása tipikusan egyszerû, mindent vagy semmit jellegû változás.
A címtárakat összetett kérdések gyors megválaszolására hangolták. 
Képes arra, hogy széles körben sokszorosítsa az információkat azért, hogy növelje az elérhetõséget 
és a rendelkezésre állást, miközben a válaszidõt csökkenti.
A többszörözött címtár információk egyes példányai között átmeneti rendezetlenség megengedett, 
de a többszörözések (replica) végül szinkronba kerülnek. </P
><P
> Sok különbözõ lehetõség van címtár szolgáltatás nyújtására.
Különbözõ eljárásokkal más és más információk tárolhatók a címtárban, 
különbözõ követelmények szerint lehet hivatkozni az információkra, lekérdezni és frissíteni az adatokat, megvédeni azokat a meg nem engedett 
hozzáféréstõl, stb. Néhány címtár szoláltatás lokális, és korlátozott környezetben 
nyújt szolgáltatásokat (például a finger szolgáltatás önálló gépen).
Más szolgáltatások globálisak, széles körben elérhetõek. </P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="HowitWorks"/>1.2. Az LDAP mûködése</H1
><P
> Az LDAP címtárszolgáltatás kliens-szerver modellen alapul. Egy vagy több LDAP szerveren 
tárolt adatból épül fel az LDAP fa vagy LDAP háttér adatbázis. Az LDAP kliens 
egy LDAP szerverhez csatlakozik, és teszi fel a kérdéseit. A szerver megválaszolja a kérdést, vagy egy mutatót ad vissza, hol talál több információt a kliens (tipikusan egy 
másik LDAP szerver). Mindegy, hogy a kliens melyik LDAP szerverhez csatlakozik,
ugyanazt a címtárat látja, ugyanaz a név az egyik címtár szerveren ugyanazt az 
adatot jeleníti meg, mint a másikon. Ez fontos tulajdonsága az olyan globális
címtárszolgáltatásoknak, mint az LDAP.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="LdapBackends"/>1.3. LDAP hátterek, objektumok és tulajdonságok</H1
><P
>Az LDAP szerver démon neve <EM
>Slapd</EM
>, ez
több különbözõ, szabadon választható <B
CLASS="command"
>háttér adatbázis</B
> használatát támogatja.</P
><P
>Ezek között van az <B
CLASS="command"
>elsõdlegesen támogatott BDB</B
>, egy nagy teljesítményû tranzakciós háttér adatbázis; az LDBM, a egyszerû DBM-re épülõ háttér-adatbázis (database backend); a
SHELL, az adatbázis interfész tetszõleges UNIX parancs vagy shell szkript eléréséhez, és a PASSWD, a passwd(5) jelszó adatbázis eléréséhez.</P
><P
>BDB segédeszközök: <A
HREF="http://www.sleepycat.com/"
TARGET="_top"
>Sleepycat</A
> Berkeley DB 4. LDBM
segédeszközök: <A
HREF="http://www.sleepycat.com/"
TARGET="_top"
>Berkeley DB</A
> vagy a <A
HREF="http://www.gnu.org/software/gdbm/"
TARGET="_top"
>GDBM</A
>.</P
><P
>A BDB tranzakciós hátér adatbázist többfelhasználós olvasási/írási adatbázis elérésre fejlesztették ki, mindenféle olvasási/írási mûvelet
kombinációjával. A BDB olyan programokkal használható együtt, melyekhez szükségesek a következõk:

<P
></P
><UL
><LI
><P
>Tranzakciók, beleértve a
többszörös változtatást az adatbázison, a visszaállítás lehetõségével együtt. </P
></LI
><LI
><P
>A rendszerösszeomlásokból és hardverhibákból fakadó hibák helyreállításának képessége, minden lezajlott tranzakció elvesztése
nélkül. </P
></LI
></UL
></P
><P
>Ez a leírás a <B
CLASS="command"
>BDB háttér adatbázis</B
> használatát feltételezi.</P
><P
> A címtár információk importálása és exportálása két LDAP alapú címtárszolgáltató szerver között, és a
címtárakban alkalmazott változások leírása az LDIF formátumként ismert (LDAP Data Interchange Format; LDAP adatcserélési formátum) fájlokkal lehetséges. Az LDIF fájl a bejegyzéseket
objektum orientált hierarchikus formában tárolja. Az LDAP csomag tartalmazza az LDIF fájlok BDB formátumba konvertálásához szükséges eszközöket. </P
><P
>Egy LDIF fájl általában így néz ki:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;dn: o=TUDelft, c=NL
o: TUDelft
objectclass: organization
dn: cn=Luiz Malere, o=TUDelft, c=NL
cn: Luiz Malere
sn: Malere
mail: malere@yahoo.com
objectclass: person
</PRE
></FONT
></TD
></TR
></TABLE
><P
> Mint látható, minden bejegyzésnek saját azonosítója van, a distinguished name (DN; megkülönböztetõ név). A DN a bejegyzés nevébõl áll, megtoldva a név
elérési útjával vissza a címtár hierarchia csúcsáig (mint egy fánál).</P
><P
> Az LDAP-nál az <B
CLASS="command"
>objektumosztályok</B
> határozzák meg
a bejegyzések azonosításához használható <B
CLASS="command"
>jellemzõk</B
> csoportját. 
Az LDAP standard az alábbi alapvetõ objektum osztályokat nyújtja:</P
><P
></P
><UL
><LI
><P
> Group (csoport), független
objektumok rendezetlen listája vagy objektumok csoportja.</P
></LI
><LI
><P
> Location (elhelyezkedés), az országok nevei és leírásuk.</P
></LI
><LI
><P
> Organization (szervezet).</P
></LI
><LI
><P
> People (személy).</P
></LI
></UL
><P
> Egy bejegyzés több objektumosztályhoz is tartozhat. Például a person bejegyzést definiálja a <EM
>person</EM
> 
objektumosztály, de szintén definiálják az inetOrgPerson, groupOfNames és 
organization objektumosztályok. Az LDAPserver objektumosztály struktúráját
(sémáját) meghatározza az egyes bejegyzések számára szükséges és engedélyezett 
attribútumok egyéni listája.</P
><P
> A címtár az adatokat jellemzõ-érték (attribute-value) párosként jeleníti meg. 
Az információ meghatározott darabjai a leíró attribútumhoz tartoznak.</P
><P
> Például, a commonName (köznév), vagy cn attribútum az egyének nevét tárolja.
A Jonas Salk nevû embert a címtárban a következõ bejegyzés azonosítja:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>cn: Jonas Salk</PRE
></FONT
></TD
></TR
></TABLE
><P
> Minden, a címtárban bejegyzett egyént a <EM
>person</EM
>
objektumosztályban tárolt jellemzõk csoportja ír le. Más jellemzõket is lehet ugyanabban a bejegyzésben használni:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;givenname: Jonas
surname: Salk
mail: jonass@airius.com
</PRE
></FONT
></TD
></TR
></TABLE
><P
> A bejegyzéshez szükséges jellemzõket tartalmaznia kell a használt
objektumosztálynak. Minden bejegyzésnek tartalmaznia kell az objectClass-t, ami 
a bejegyzéshez tartozó objektumosztályok listáját tartalmazza.</P
><P
> Az engedélyezett jellemzõknek szerepelnie kell a használt
objektumosztályban. Például, a person objektumosztályban a cn és sn jellemzõk
szükségesek. A leírásban a telephoneNumber, seeAlso és userpassword jellemzõk 
engedélyezettek, de nem szükségesek.</P
><P
> Minden attribútumnak meghatározott szintaxis-definíciója van. A szintaxis-definíció információt nyújt a jellemzõrõl, mint például:</P
><P
></P
><UL
><LI
><P
>bin binary (bináris)</P
></LI
><LI
><P
>ces case exact string (betûnagyságnak meg kell egyeznie az összehasonlítás során).</P
></LI
><LI
><P
>cis case ignore string (betûnagyságnak nem kell egyeznie az összehasonlítás során).</P
></LI
><LI
><P
>tel telephone number string (olyan, mint a cis, de a "-" kihagyásával).</P
></LI
><LI
><P
>dn distinguished name (megkülönböztetõ név).</P
></LI
></UL
><P
><B
CLASS="command"
>Figyelem! </B
>Az objektumosztályok és a jellemzõk általában egy - az OpenLDAP telepítési könyvtárában a 
<EM
>schema</EM
> alkönyvtárban található séma-fájl szerint állnak össze.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="NewVersions"/>1.4. A dokumentum újabb változatai</H1
><P
> Ennek a leírásnak az olvasók visszajelzési alapján korrigált és frissített változata megtalálható 
angol nyelven a </P
><P
><A
HREF="http://www.tldp.org/HOWTO/LDAP-HOWTO.html"
TARGET="_top"
>http://www.tldp.org/HOWTO/LDAP-HOWTO.html</A
></P
><P
>honlapon</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="opinions"/>1.5. Javaslatok és vélemények</H1
><P
> Ha bármilyen kétség merül fel benned valamilyen, az angol dokumentumban található információval kapcsolatban, 
angolul írj levelet erre a <A
HREF="malere@yahoo.com"
TARGET="_top"
>malere@yahoo.com</A
> e-mail címre</P
><P
>Egyéb, a témába vágó hozzáfûzni valód, javaslatod, ötleted is várom!</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Acknowledgements"/>1.6. Köszönetnyilvánítás</H1
><P
> Ez a HOGYAN a TUDelft University - Hollandia -   segítségével jött létre.
Szeretnék köszönetet mondani mindazoknak, akik ennek a dokumentumnak a megírására 
bíztattak: <EM
>Rene van Leuken</EM
> és <EM
>Wim Tiwon</EM
>.
Hálás köszönet érte! Õk is Linux-rajongók, akárcsak én. </P
><P
>Szintén köszönetet szeretnék mondani Thomas Bendler-nek, a német nyelvû LDAP-HOGYAN elkészítéséért 
és sok hasznos ötletéért. Valamint Joshua Go-nak, az LDP projekt önkéntesének. </P
><P
>Karl Lattimer megérdemelne egy különdíjat a SASL részben nyújtott segítségéért. </P
><P
>And thanks my Lord !</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="copyright"/>1.7. Szerzõi jog és licenc</H1
><P
>Copyright (c) 1999 Luiz Ernesto Pinheiro Mal&#232;re.
(Az LDAP Linux HOGYANt 1999-ben Luiz Ernesto Pinheiro Mal&#232;re készítette.) A 
dokumentum szabadon terjeszthetõ, másolható és módosítható a Free Software Foundation által kiadott GNU FDL v1.1, vagy annak késõbbi változatában leírt feltételek szerint. A GNU FDL külön fejezetben található, ennek a dokumentumnak a végén.</P
><P
>Ha kérdésed van látogass el a <A
HREF="http://www.gnu.org/licenses/fdl.txt"
TARGET="_top"
>http://www.gnu.org/licenses/fdl.txt</A
>
oldalra, és lépj kapcsolatba a LINUX-HOGYAN koordinátorával az <A
HREF="guylhem@metalab.unc.edu"
TARGET="_top"
>guylhem@metalab.unc.edu</A
> e-mail címen.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="ipmasq-hu-translation"/>1.8. Magyar fordítás</H1
><P
>&#13;A magyar fordítást <A
HREF="mailto:halasz.g@nns.hu_NO_SPAM"
TARGET="_top"
>Halász Gábor</A
> készítette (2000).
A fordítást <A
HREF="mailto: petvolgyi[kukac]freemail[pont]hu"
TARGET="_top"
>Völgyi Péter</A
> frissítette (2004.01.26). 
A frissítést lektorálta <A
HREF="mailto: kormos[kukac]mail.datatrans[pont]hu"
TARGET="_top"
>Kormos György</A
> (2004.03.16). Az utolsó frissítést <A
HREF="mailto: dacas[kukac]freemail[pont]hu"
TARGET="_top"
>Daczi László</A
> jelenleg is végzi.
Eme dokumentum legfrissebb változata megtalálható a <A
HREF="http://tldp.fsf.hu/index.html"
TARGET="_top"
>Magyar Linux Dokumentációs Projekt</A
> honlapján.
</P
></DIV
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="Installing"/>Fejezet 2.  Az LDAP szerver telepítése </H1
><P
>Öt lépés szükséges a szerver telepítéséhez:
<P
></P
><UL
><LI
><P
>Telepítsd a szerverhez szükséges programokat (ha még nincsenek telepítve a gépedre). </P
></LI
><LI
><P
>Töltsd le a szerver programot.</P
></LI
><LI
><P
>Csomagold ki.</P
></LI
><LI
><P
>Állítsd be a Makefile fájlt.</P
></LI
><LI
><P
>Fordítsd le a szervert.</P
></LI
></UL
></P
><P
>(Azért egyszerûbb, ha a kedvenc disztribúciódban található OpenLDAP csomagot használod, ahelyett, hogy a forrással bajlódnál - a fordító)</P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="PreReq"/>2.1. Elõfeltételek</H1
><P
>Az LDAPv3 mûködéséhez az OpenLDAP kliensnek és szervernek szüksége van további csomagok 
telepítésére is. E dokumentum írásához dobozos Mandrake 9.0-t használtam, 
2.4.20-as rendszermaggal, forrásból telepítettem a Berkeley BDB-t és a SASL 
programkönyvtárakat. </P
><P
><B
CLASS="command"
>OpenSSL TLS programkönyvtárak</B
></P
><P
>Az OpenSSL TLS programkönyvtárai általában az alaprendszer részét képezik, vagy
opcionális programrészként jelennek meg. Az OpenSSL hivatalosan a <A
HREF="http://www.openssl.org"
TARGET="_top"
>http://www.openssl.org</A
> webhelyen található.</P
><P
><B
CLASS="command"
> Azonosítás Kerberos-szal</B
></P
><P
>Az OpenLDAP kliensek és szerverek támogatják a Kerberos alapú
azonosítást. Az OpenLDAP kiemelten támogatja a Heimdal vagy MIT Kerberos V alapú
SASL/GSSAPI azonosítási metódust. Ennek a használatához a megfelelõ csomagokat
(Heimdal vagy MIT Kerberos V) telepíteni kell. 
A Heimdal Kerberos a <A
HREF="http://www.pdc.kth.se/heimdal"
TARGET="_top"
>http://www.pdc.kth.se/heimdal</A
>,
 a MIT Kerberos a <A
HREF="http://web.mit.edu/kerberos/www"
TARGET="_top"
>http://web.mit.edu/kerberos/www</A
>
 webhelyen található meg.</P
><P
>A Kerberos szintû, emelt biztonsági fokú azonosítás használata erõsen javasolt.</P
><P
><B
CLASS="command"
>A Cyrus féle SASL programkönyvtárak</B
></P
><P
>A Cyrus féle SASL (Simple Authentication and Security Layer; egyszerû azonosítás és biztonsági szint) programkönyvtárak általában az alaprendszer részét képezik, vagy kiegészítõ csomagokként találhatóak meg.
A Cyrus SASL a <A
HREF="http://asg.web.cmu.edu/sasl/sasl-library.html"
TARGET="_top"
>http://asg.web.cmu.edu/sasl/sasl-library.html</A
>
webhelyen található meg.

A Cyrus SASL csak akkor tudja használni az OpenSSL és a Kerberos/GSSAPI programkönyvtárakat, ha azokat elõbb telepíted nála.
A dokumentum írása során a Cyrus SASL 2.1.17 verzióját használtam.</P
><P
><B
CLASS="command"
>Adatbázis szoftverek</B
></P
><P
>A Slapd's elsõdleges adatbázis háttere a BDB, mûködéséhez szükséges a <A
HREF="http://www.sleepycat.com"
TARGET="_top"
>Sleepycat Software Berkeley DB</A
> (v4). 
Amennyiben a beállításkor nem áll rendelkezésre, akkor a slapd-t nem lehet elsõdleges hátttér adatbázissal használni.</P
><P
>Ha nincs sem az alap Linux rendszereden, sem kiegészítõ csomagként Berkeley DB (v4), 
a legegyszerûbben a <A
HREF="http://www.sleepycat.com/download/index.shtml"
TARGET="_top"
>Sleepycat</A
> webhelyen lehet hozzájutni.
A dokumentum frissítése idején a legújabb stabil, és ajánlott verzió a 4.2.52-es.
Az OpenLDAP slapd LDBM háttér többféle adatbázis kezelõ, menedzselõ felület használatát támogatja,
így például a Berkeley DB (v3) és a GDBM használatát is. A GDBM letölthetõ az <A
HREF="http://www.fsf.org/"
TARGET="_top"
>FSF</A
> webhelyérõl, amely a
<A
HREF="ftp://ftp.gnu.org/pub/gnu/gdbm/"
TARGET="_top"
>ftp://ftp.gnu.org/pub/gnu/gdbm/</A
> honlapon található.</P
><P
><B
CLASS="command"
>Szálak</B
></P
><P
>A többszálúság nagy valószínûséggel alapértelmezetten támogatott a Linux rendszereden. Az OpenLDAP-t úgy tervezték, hogy ennek elõnyeit kihasználhassa. Az OpenLDAP támogatja a POSIX pthread,
 a Mach CThread és még számos más szálkezelési technológiát.
A <EM
>konfigurációs</EM
> szkript jelez, ha nem talál alkalmas szálkezelési rendszert.
Amennyiben ilyesmi fordulna elõ keresd fel az OpenLDAP GYIK-et, amely a <A
HREF="http://www.openldap.org/faq/"
TARGET="_top"
>http://www.openldap.org/faq/</A
> honlapon található.</P
><P
><B
CLASS="command"
>TCP szûrõk</B
></P
><P
>A <EM
>Slapd</EM
> támogatja a TCP szûrõk (IP szintû hozzáférés szûrõk) használatát, 
amennyiben az elõbb lett telepítve mint a slapd.
A TCP szûrõ vagy más IP alapú hozzáférés szûrõ (mint egy IP alapú tûzfal) használata javasolt nem publikus szerverek adatainak védelmére.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Download"/>2.2. A csomag letöltése</H1
><P
>&#13;Két szabadon terjeszthetõ LDAP szerver ismert, a Univesity of Michigan LDAP szerver és az OpenLDAP szerver.
Létezik még a Netscape Directory Server, ami bizonyos körülmények között szabadon használható (oktatási
intézmények például szabadon hozzájuthatnak). Az OpenLDAP szerver a University of Michigan Server legfrissebb változatán alapul,
további dokumentumok és levelezõlisták találhatók a témába vágóan.
Ez a dokumentum az OpenLDAP szerver használatát feltételezi.</P
><P
>(Az UM LDAP szerver kissé másképp kezeli a tranzakciókat,
mint a Netscape Directory Server, ezért nem mûködik együtt a Netscape Navigatorral.
Az OpenLDAP szerver a Netscape szerveréhez hasonlóan mûködik,
ezért mindenképpen ezt használd, különben "megmagyarázhatatlan" hibákkal fogsz találkozni.
Ha nem használsz Netscape Navigatort, akkor szabadon választhatsz. - a ford.)</P
><P
>Az aktuális OpenLDAP verziót a <A
HREF="http://www.openldap.org"
TARGET="_top"
>http://www.openldap.org</A
> webhelyen találod meg.</P
><P
>A University of Michigan Server legfrissebb változata az <A
HREF="ftp://terminator.rs.itd.umich.edu/ldap"
TARGET="_top"
>ftp://terminator.rs.itd.umich.edu/ldap</A
> webhelyen található.</P
><P
>Ennek a dokumentumnak a megírásához az OpenLDAP 2.2.5-os változatát
használtam, rendszerem a Mandrake 9.0, 2.4.20-as rendszermaggal.</P
><P
>Az OpenLDAP webszerverén megtalálod az OpenLDAP szerver legutolsó
stabil és fejlesztõi változatát. A dokumentum frissítésekor az
utolsó stabil változat az openldap-stable-20031217.tgz (v: 2.1.25),
a fejlesztõi változat az OpenLDAP-2.2.5.tgz.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Unpacking"/>2.3. A szerver csomag kitömörítése</H1
><P
>Ha az betömörített csomag rendelkezésre áll a számítógépen, tömörítsük ki. </P
><P
>Elõször másoljuk a csomagot a megfelelõ helyre, például a /usr/local könyvtárba.
Ezután a következõ parancsot használva kitömöríthetjük a csomagot:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>tar xvzf openldap-2.2.5.tgz </PRE
></FONT
></TD
></TR
></TABLE
><P
>Ugyanilyen jól használható a következõ is: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>gunzip openldap-2.2.5.tgz | tar xvf -</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Configuring"/>2.4. A program beállítása</H1
><P
>Az OPenLDAP szerverrel együtt terjesztett beállító szkript segít a telepítõ könyvtár, a
fordító (compiler) és szerkesztõ (linker) kapcsolóinak beállítására. Segítséget kaphatunk a következõ parancsot kiadva
abban a könyvtárban, ahová a csomagot kitömörítettük:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>./configure --help</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez ki fogja írni az összes lehetõséget a konfiguráló szkript beállításához, mielõtt a programot lefordítanánk.
Néhány hasznos lehetõség a --prefix=pref, --exec-prefix=eprefix és a --bindir=dir, a telepítési
könyvtár beállításához. Ha a configure szkriptet paraméterek nélkül futtatod,
automatikusan megállapítja a szükséges beállításokat és elõkészíti a telepítést
az alapértelmezett helyre. Tehát gépeld be:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>./configure</PRE
></FONT
></TD
></TR
></TABLE
><P
> Figyeld a kimenetét, hogy lásd, minden a megfelelõen történik-e.</P
><P
><B
CLASS="command"
>Tipp:</B
> Néha szükséges a konfigurációs szkript speciális beállítása is, mint például --with-tls
(a slapd biztonságos csatornán keresztüli használatához. LDAPS://). Ebben az 
esetben az SSL/TLS könyvtárak nem biztos, hogy a standard könyvtárakban vannak. 
Beállíthatod az elérési utakat a környezeti paraméterek változtatásával. Ehhez 
használd az <EM
>env</EM
> parancsot.

Tételezzük fel, hogy az openssl csomagot az /usr/local/openssl könyvtárba telepítetted. A következõ 
paranccsal a slapd SSL/TLS támogatással fordítható: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>env CPPFLAGS=-I/usr/local/openssl/include \
      LDFLAGS=-L/usr/local/openssl/lib \
      configure --with-tls ...</PRE
></FONT
></TD
></TR
></TABLE
><P
>A következõ környezeti változókat lehet beállítani az <EM
>env</EM
> paranccsal, 
még a beállítási szkript futtatása elõtt:

<P
></P
><UL
><LI
><P
>CC: Alternatív C fordító.</P
></LI
><LI
><P
>CFLAGS: További fordító kapcsolók beállítása</P
></LI
><LI
><P
>CPPFLAGS: C elõfeldolgozó kapcsolók beállítása. </P
></LI
><LI
><P
>LDFLAGS: Linker kapcsolók beállítása.</P
></LI
><LI
><P
>LIBS: További könyvtárak beállítása.</P
></LI
></UL
></P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Building"/>2.5. A szerver fordítása</H1
><P
> A program konfigurálása után elkezdõdhet a fordítás.
Elõször a függõségeket hozzuk létre a következõ paranccsal: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>make depend</PRE
></FONT
></TD
></TR
></TABLE
><P
>Majd a szerver fordításához a következõ parancsot kell használni: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>make</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ha minden jól ment, a szerver a beállításoknak megfelelõen elkészült. Ha 
nem, térj vissza az elõzõ lépéshez, és tekintsd át a beállításokat. 
Az INSTALL és a README fájlokat érdemes elolvasni! Ellenõrizd a rendszerspecifikus beállításokra vonatkozó javaslatokat,
 mely a doc/install/configure fájlban található meg. </P
><P
>Ahhoz, hogy biztosak legyünk a dolgunkban, futtassunk egy tesztet is (csak néhány percrõl van szó): </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>make test</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ha minden OK, a beállításoknak megfelelõ tesztek lefutnak.
Néhány tesztet átugorhat a program, mint például a többszörözésre vonatkozót. </P
><P
>Most telepítsd a bináris fájlokat és a kézikönyveket (manual). Ennek elvégzéséhez 
root felhasználóként add ki a következõ parancsot:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>su root -c 'make install'</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez minden, most már megvannak a szerver és sok segédprogram bináris 
fájljai. A következõ <A
HREF="#Config"
>3 fejezet</A
>ben az OpenLDAP szerver mûködésének beállításáról lesz szó . </P
></DIV
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="Config"/>Fejezet 3.  Az LDAP szerver konfigurálása </H1
><P
> Ha a programot telepítetted és lefordítottad, jöhet a beállítás.
A slapd futásidejû beállítása a konfigurációs könyvtárban található <EM
>slapd.conf</EM
> fájlon keresztül végezhetõ el,
amelyet a konfigurációs szkript állít be, alapértelmezés szerint ez a /usr/local/etc/openldap.
(Ha csomagból telepíted, akkor valószínûleg a /etc/openldap könyvtárban találod - a fordító) </P
><P
>Ez a fejezet a <EM
>slapd.conf.</EM
> általános beállítási elveit részletezi.
A teljes felsorolást megtalálhatod a slapd.conf(5) kézikönyv oldalon (manual page).
A konfigurációs fájl több részre osztható, úgymint: <B
CLASS="command"
>global (általános)</B
>,
<B
CLASS="command"
>backend specific (háttér specifikus)</B
> és <B
CLASS="command"
> database
specific (adatbázis specifikus)</B
>. A következõkben találhatod a direktívák
magyarázatait, az alapértékeikkel együtt (ha van), példákkal illusztrálva. </P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="ConfigFormat"/>3.1. Konfigurációs file formátuma</H1
><P
>A slapd.conf fájl három konfigurálási információt tartalmaz:global (általános),
backend specific (háttér-specifikus), and database specific (adatbázis-specifikus).
Elõször az általános rész kerül beállításra, ezt követi a háttér,
majd az adott adatbázisra vonatkozó rész zárja a konfig fájlt. </P
><P
> Az általános opciók késõbb felülbírálhatók a háttér 
és/vagy az adatbázis részben, a háttér részben beállított opciók felülbírálhatók az 
adatbázis részben (azoknak az opcióknak, amik egynél többször szerepelnek az 
slapd.conf-ban, utolsó megjelenésük lesz érvényes - a fordító). </P
><P
> Az üres sorok és a "#" jellel kezdõdõ sorok figyelmen kívül maradnak.
Ha white space-el kezdõdik a sor, akkor a következõ sor folytatásaként érvényesül
(még akkor is, ha az elõzõ sor megjegyzés).
Az slapd.conf általános formája a következõ: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;
# global configuration directives
&lt;global config directives&gt;

# backend definition
backend &lt;typeA&gt;
&lt;backend-specific directives&gt;

# first database definition &amp; config directives
database &lt;typeA&gt;
&lt;database-specific directives&gt;

# second database definition &amp; config directives
database &lt;typeB&gt;
&lt;database-specific directives&gt;

# second "typeA" database definition &amp; config directives
database &lt;typeA&gt;
&lt;database-specific directives&gt;

# subsequent backend &amp; database definitions &amp; config directives
... </PRE
></FONT
></TD
></TR
></TABLE
><P
>A konfigurációs fájl paraméterezhetõ. A paramétereket white space-ek választják el.
 Ha a paraméter white space-t tartalmaz, akkor paramétereket idézõjelbe kell tenni, "mint ezt itt".
Ha az argumentum idézõjelet ' " ' vagy backslash-t '\' tartalmaz, 
akkor azt backslash karakternek kell megelõznie.(pl "\\d").</P
><P
> A disztribúció tartalmaz példa konfigurációt, amit a 
konfigurációs könyvtárban találsz (pl.: /usr/local/etc/openldap). A 
/usr/local/etc/openldap/schema könyvtárban található sok, általánosan használt 
jellemzõ, és objektumosztály definíció.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="GlobalDirect"/>3.2. Általános beállítási lehetõségek</H1
><P
> Az ebben a fejezetben leírt beállítási lehetõségek valamennyi háttérre és 
adatbázisra érvényesek, amíg specifikusan felül nem írja a háttér vagy az 
adatbázis definíció. Az argumentumok aktuális értékét a &lt;kapcsok&gt; közé kell 
beírni. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>access to &lt;what&gt; [ by &lt;who&gt; &lt;accesslevel&gt; &lt;control&gt; ]+</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ezen opció biztosítja az &lt;accesslevel&gt; által meghatározott módon (hogyan?) a &lt;what&gt;&gt; által meghatározott
bejegyzésekhez (mit?) és tulajdonságokhoz a &lt;who&gt; által meghatározott kérelmezõk
(ki?) hozzáférését. Részletek az <A
HREF="#AccessControl"
>3.7 </A
> részben.</P
><P
><B
CLASS="command"
>Fontos:</B
> amennyiben nincs hozzáférési direktíva meghatározva, úgy az alapértelmezett hozzáférési szabály az
access to * by * read,  engedélyezi mind az azonosított, mind az anonymus felhasználóknak az olvasási jogot.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>attributetype &lt;RFC2252 Attribute Type Description&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a direktíva egy paraméter típust határoz meg.
További információt találsz a <A
HREF="http://www.openldap.org/doc/admin22/schema.html"
TARGET="_top"
>Schema Specification</A
> (minta) leírásban.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>idletimeout &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Meghatározza egy meddõ kapcsolat bezárásának idejét. (Ennyi másodperc múlva kezdeményezi a kapcsolat megszakítását).
A 0 érték (alaphelyzet) kikapcsolja ezt a funkciót. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>include &lt;filename&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció meghatározza azokat a konfigurációs állományokat, amelyeket a 
slapd végigolvas, mielõtt a következõ sorral folytatná a fájl feldolgozását. A 
beemelt fájlnak követnie kell a slapd konfigurációs formátumát. Ezt a 
lehetõséget az adatbázis-háttér objektumosztályainak és attribútumainak 
definícióit tartalmazó fájlok beemelésére használható. </P
><P
><B
CLASS="command"
> Megjegyzés:</B
> óvatosan kezelendõ ez az opció. Semmi nem korlátozza az 
egymásba ágyazott include-ok számát, és nincs hurokellenõrzés sem. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>loglevel &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció specifikálja, hogy milyen hibakövetõ üzenetek és mûködési statisztikák kerüljenek az syslog-ba 
(jelenleg a syslogd-n(8) keresztül LOCAL4 jellemzõvel kerülnek naplózásra az 
események). Ehhez az OpenLDAP-t --enable-debug kapcsolóval (alaphelyzet) kell 
fordítani a slapd-t, (kivéve a két stat szintet, amelyek mindig mûködnek). A 
loglevel értékei összeadódnak. Annak megjelenítéséhez,hogy melyik érték milyen 
üzeneteket eredményez, a slapd-t -? paraméterrel kell meghívni. Az értékek 
megtalálhatóak az alábbi táblázatban is (&lt;integer&gt;):</P
><P
><DIV
CLASS="table"
><A
NAME="AEN313"/><P
><B
>Táblázat 3-1. Hibakeresõ szintek</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Szint</TH
><TH
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Leírás</TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>-1</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>enable all debugging (minden hibakövetés engedélyezve) </TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>0</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>no debugging (nincs hibakövetés)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>1</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>trace function calls (funkcionális hívások követése)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>2</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>debug packet handling (csomagkezelés hibakövetése)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>4</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>heavy trace debugging (kiterjedt hibakeresés)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>8</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>connection management (kapcsolatkezelés)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>16</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>print out packets sent and received (küldött és fogadott csomagok 
listázása)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>32</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>search filter processing (keresõ szûrõ feldolgozása)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>64</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>configuration file processing (konfigurációs fájl 
feldolgozása)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>128</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>access control list processing (hozzáférési jogosultság lista 
feldolgozása)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>256</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>stats log connections/operations/results (statisztika: napló 
kapcsolat/mûvelet/eredmény) </TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>512</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>stats log entries sent (statisztika: elküldött 
naplóbejegyzések)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>1024</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>print communication with shell backends (shell háttér kommunikáció 
megjelenítése)</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>2048</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>print entry parsing debugging (bejegyzés-fordítás 
hibakövetése)</TD
></TR
></TBODY
></TABLE
></DIV
></P
><P
>Például: </P
><P
>loglevel 255 vagy loglevel -1</P
><P
> Ez nagyon sok üzenetet eredményez a syslog-ban. </P
><P
>Alapértelmezés:</P
><P
>loglevel 256</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>objectclass &lt;RFC2252 Object Class Description&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció definiálja a séma szabályokat az adott objektum-osztályokhoz.
További információt találsz a <A
HREF="http://www.openldap.org/doc/admin22/schema.html"
TARGET="_top"
>Schema Specification</A
>
(minta) leírásban.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>referral &lt;URI&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez specifikálja, hova küldje a slapd a kérést, ha nem talál információt a 
kérés megválaszolásához a helyi adatbázisban. </P
><P
>Példa:</P
><P
>referral ldap://root.openldap.org</P
><P
> Ez átirányítja a nem lokális kéréseket a központi OpenLDAP szervernek 
(University of Michigan LDAP szerver - a fordító). Az ügyes LDAP kliensek újra felteszik a 
kérdést ennél a szervernél, de a legtöbb kliens csak arra képes, hogy egyszerû 
LDAP URL-eket kezeljen, melyek csak host részbõl és esetleg distinguished 
name-bõl állnak. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>sizelimit &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az lehetõség maximalizálja a keresésre adott válasz sorainak számát. </P
><P
>Alapértelmezett:</P
><P
>sizelimit 500</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>timelimit &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez a kapcsoló specifikálja egy kérdés megválaszolására szánható maximális 
idõt, másodpercekben (valós idõben). Ha a kérést ez idõ alatt nem sikerül 
megválaszolni, az eredmény idõtúllépéssel (exceeded timelimit) tér vissza. </P
><P
>Alapértelmezés:</P
><P
>timelimit 3600</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="GeneralBEDirect"/>3.3. Általános háttér opciók</H1
><P
> Ezek az opciók csak azokra a hátterekre érvényesek, amelyekben szerepenek. 
Valamennyi háttértípusnál alkalmazhatók. A háttér opciók minden azonos típusú adatbázisnál megjelennek, 
és az adatbázis direktívákkal felülírhatók. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>backend &lt;type&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció a háttér definíció kezdetét jelöli. A &lt;típus&gt; valamelyik 
bdb vagy a következõk egyike kell legyen: 
<DIV
CLASS="table"
><A
NAME="AEN391"/><P
><B
>Táblázat 3-2. Adatbázis hátterek</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Típus</TH
><TH
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Leírás</TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>bdb</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Berkeley DB tranzakciós adatbázis</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>dnssrv</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>DNS SRV háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>ldbm</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Lightweight DBM hátér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>ldap</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Lightweight Directory Access Protocol (Proxy) háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>meta</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Meta Directory háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>monitor</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Monitor háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>passwd</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
> Read-only hozzáférést biztosít a passwd(5)fájlhoz</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>perl</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Perl programozható háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>shell</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Shell (külsõ program) háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>sql</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>SQL programozható háttér</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>tcp</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>TCP programozható háttér</TD
></TR
></TBODY
></TABLE
></DIV
></P
><P
>Példa:</P
><P
>backend bdb</P
><P
>Ez a bejegyzés jelzi egy új BDB háttér definíciójának kezdetét.
</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="GeneralDBDirect"/>3.4. Általános háttér opciók</H1
><P
> Ezek az opciók csak azokra az adatbázis-hátterekre érvényesek, amelyekben 
szerepelnek. Valamennyi háttértípusnál alkalmazhatók. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>database &lt;típus&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció jelzi az új adatbázis definíció kezdetét. A &lt;típus&gt; az 
elõzõekben felsoroltak valamelyike legyen. </P
><P
>Példa:</P
><P
>database bdb</P
><P
> Ez egy új BDB típusú adatbázis definíció kezdetét jelzi. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>readonly { on | off }</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció az adatbázist csak olvasható (read-only) módba kapcsolja. Az 
adatbázis módosításának kísérlete az "unwilling to perform" hibaüzenetet adja.</P
><P
>Alapértelmezés:</P
><P
>readonly off</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;replica uri=ldap[s]://&lt;hostname&gt;[:&lt;port&gt;] | host=&lt;hostname&gt;[:&lt;port&gt;]
                [bindmethod={simple|kerberos|sasl}]
                ["binddn=&lt;DN&gt;"]
                [saslmech=&lt;mech&gt;]
                [authcid=&lt;identity&gt;]
                [authzid=&lt;identity&gt;]
                [credentials=&lt;password&gt;]
                [srvtab=&lt;filename&gt;]
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció határoz meg egy replikációs helyet  az adatbázishoz. Az uri= paraméter
egy sémát határoz meg, egy gazdagép és opcionálisan egy port, ahol a szolga slapd kérelme kezelhetõ.
Vagy domain név vagy IP cím használható a &lt;hostname&gt; megadására. Ha &lt;port&gt; nincs megadva,
úgy az általános LDAP portot (389 vagy 636) használja.</P
><P
>Az uri engedélyezi, hogy az LDAP szerver másolat LDAP URI-ként legyen meghatározva, például
ldap://slave.example.com:389 vagy ldaps://slave.example.com:636 </P
><P
> A binddn= paraméter adja meg a frissítéshez szükséges csatlakozás DN-ét.
Ennek olyan DN-nek kell lennie, amelynek olvasási/írási joga van a szolga slapd adatbázisához.
Ennek összhangban kell lennie a szolga slapd konfiguráció fájlában lévõ updatedn opcióval.
Általában az a DN <EM
>nem lehet</EM
> azonos a mester adatbázis rootdn-jével.
Mivel a DN-ek szóközöket is tartalmazhatnak, az egész "binddn=&lt;DN&gt;"
sztringet idézõjelek közé kell tenni.</P
><P
> A bindmethod egyaránt lehet simple, kerberos vagy sasl, annak
függvényében, hogy egyszerû jelszó alapú, Kerberos alapú
vagy SASL azonosítás szükséges a szolga szerverhez történõ kapcsolódáshoz. </P
><P
> Amennyiben lehetséges, NE használjuk az egyszerû, jelszó alapú
azonosítást (csak olyan esetekben, amikor a megfelelõ biztonsági intézkedések
megtörténtek (TLS, IPSEC, stb))! A jelszó alapú azonosításhoz binddn és
credentials paraméter kell. A credentials paraméter, amely csak akkor szükséges,
ha egyszerû azonosítást használsz, a szolga szervernek a binddn azonosításához
szükséges jelszót tartalmazza. </P
><P
>A Kerberos azonosítást háttérbe szorítja a SASL azonosítási módszer, különösen a KERBEROS_V4 és GSSAPI
mechanizmusok esetében. A Kerberos azonosításhoz binddn és érvényes srvtab fájl
szükséges (Az srvtab paraméter, amely csak kerberos használatához szükséges,
specifikálja, hogy melyik fájl tartalmazza a kulcsokat. Az alapértelmezett érték
az /etc/srvtab - a fordító.)</P
><P
>Az SASL azonosítás a javasolható módszer. Az SASL azonosítás a saslmech paraméter használatán alapuló mechanizmus specifikációját
igényli. Attól függõen, hogy milyen mechanizmust választunk, az azonosítási
személy és/vagy a credential meghatározható az authcid és a credential
használatával. Az authcid paraméter meghatározhatja az azonosítási személyt. </P
><P
>További információt találsz a <A
HREF="http://www.openldap.org/doc/admin22/replication.html"
TARGET="_top"
>&#13;Replication with Slurpd</A
> (Másolat készítése a Slurpd-vel) leírásban.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>replogfile &lt;fájlnév&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció állítja be az replikációs log fájlt, ahol a slapd naplózza a változásokat. A
replikációs log-ot tipikusan a slapd írja és a slurpd olvassa. Rendszerint ezt a
lehetõséget csak a slurpd használja az adatbázis replikációjára. Mindamellett
arra is használható, hogy tranzakciós naplót készíts, ha a slurpd nem fut. Ebben
az esetben ne felejtsd el rendszeresen darabolni a fájlt, különben kezelhetetlen
méretûre nõ. </P
><P
>További információt találsz a <A
HREF="http://www.openldap.org/doc/admin22/replication.html"
TARGET="_top"
>&#13;Replication with Slurpd</A
> (Másolat készítése a Slurpd-vel) leírásban.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>rootdn &lt;dn&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció specifikálja azt a DN-t, akire nem vonatkozik a hozzáférés szabályozás és az adminisztrációs
korlátozások az adatbázis-mûveletek során. A DN-nek nem kell bejegyzésre mutatnia
a könyvtárban. Viszont mutathat egy SASL identitásra. </P
><P
>Bejegyzés példa:</P
><P
>rootdn "cn=Manager, dc=example, dc=com"</P
><P
>SASL alapú példa:</P
><P
>rootdn "cn=Manager, dc=example, dc=com"</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>rootpw &lt;jelszó&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció állítja be a fent leírt rootdn jelszavát (amikor a rootdn be van állítva egy DN adatbázisban). (Ez a lehetõség adatbázisok 
létrehozásakor vagy replikációs szolgáltatások nyújtásakor hasznos. 
Mindenképpen kerülendõ a kódolatlan jelszavak használata. A legkevesebb
az /etc/password fájlban található crypt kódolású jelszó használata. A slapd 
számos más típusú kódolást támogat - a fordító.)</P
><P
>Példa:</P
><P
>rootpw secret</P
><P
>Jelszó-zagyvalék szolgáltatása is megengedett az RFC 2307 szerint. A 
slappasswd használható a jelszó-zagyvalék létrehozására.</P
><P
>Példa:</P
><P
>rootpw {SSHA}ZKKuqbEKJfKSXhUbHG3fG8MDn9j1v4QN</P
><P
>A zagyvalék (hash) a slappasswd -s secret parancs kiadásakor jön létre.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>suffix &lt;dn toldalék&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> A suffix opció specifikálja a kérések DN toldalékát, ami átkerül a háttér-adatbázishoz. 
Több suffix sor is megadható, de legalább egy szükséges minden adatbázis definícióhoz. </P
><P
>Példa:</P
><P
>suffix "dc=example, dc=com"</P
><P
> A kérések DN-je "dc=example, dc=com" toldalékkal kerülnek az adatbázisba.</P
><P
><B
CLASS="command"
>Figyelem:</B
> Amikor a hátteret - amelyiknek majd a kérést továbbadjuk - kiválasztottuk, a slapd tekintetbe veszi 
a suffix sor(oka)t minden adatbázis definíciónál abban a sorrendben, ahogy a 
fájlban elõfordulnak. Így, ha az egyik adatbázis toldaléka egy másiknak 
elõtagja, akkor ennek meg kell jelennie a konfigurációs file-ban is. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>syncrepl</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció használható egy másolt adatbázisnak az eredetivel történõ szinkronban tartására. Ezáltal a másolt adatbázis tartalma naprakész lesz az eredeti adatbázis tartalmához képest.</P
><P
>Jelen dokumentum nem részletezi ezt az opciót, mivel egy egyszerû LDAP szerver beállítását tûztük célul. Errõl az opciórol további információ a 
<A
HREF="http://www.openldap.org/doc/admin22/syncrepl.html"
TARGET="_top"
>LDAP Sync Replication</A
> honlapon található.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>updatedn &lt;dn&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció csak a szolga slapd-n értelmezhetõ, és meghatározza a replika megváltoztatására jogosult DN-t. 
Ez lehet az a DN, amellyel a slurpd csatlakozik a replikálás során vagy a DN-t 
azonosítja az SASL indentitással. </P
><P
>Bejegyzés alapú példa:</P
><P
>updatedn "cn=Update Daemon, dc=example, dc=com"</P
><P
>SASL alapú példa:</P
><P
>updatedn "uid=slurpd,cn=example.com,cn=digest-md5,cn=auth"</P
><P
>További információk a <A
HREF="http://www.openldap.org/doc/admin/replication.html"
TARGET="_top"
>Replication with Slurpd</A
> (Replikáció a slurpd használatával - angol 
nyelvû) honlapon találhatók.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>updateref &lt;URL&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció csak a szolga slapd-n értelmezhetõ. A replikán végzett frissítési kérések 
jóváhagyásának URL-jét (ami majd a kliensekhez kerül) határozza meg. Annyiszor 
kell meghatározni, ahány URL van.</P
><P
>Példa:</P
><P
>updateref          ldap://master.example.net</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="BDBDirect"/>3.5. BDB adatbázis direktívák</H1
><P
>Az ebben a kategóriában található elõírások 
csak a BDB adatbázisokra vonatkoznak. Ezért az opciókat minden esetben a 
"database bdb" sor követi és megelõz minden további "háttér" vagy "adatbázis" sort. A BDB beállító opciók teljes referenciája a slapd-bdb kézikönyv oldalakon található (man page) (<EM
>man slapd-bdb</EM
>).</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>directory &lt;könyvtár&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a direktíva meghatározza azt a könyvtárat, ahol a BDB adatbázis és a 
hozzá tartozó fájlok elhelyezkednek. </P
><P
>Alapértelmezés:</P
><P
>directory /usr/local/var/openldap-data</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>sessionlog &lt;sid&gt; &lt;limit&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>This directive specifies a session log store in the syncrepl replication provider 
server which contains information on the entries that have been scoped out of the replication 
content identified by &lt;sid&gt;. The first syncrepl search request having the same &lt;sid&gt; 
value in the cookie establishes the session log store in the provider server. The number of the 
entries in the session log store is limited by &lt;limit&gt;. Excessive entries are removed from 
the store in the FIFO order. Both &lt;sid&gt; and &lt;limit&gt; are non-negative integers. &lt;sid&gt; 
has no more than three decimal digits.</P
><P
>The LDAP Content Synchronization operation that falls into a pre-existing session can use the 
session log store in order to reduce the amount of synchronization traffic. If the replica is not 
so outdated that it can be made up-to-date by the information in the session store, the provider slapd 
will send the consumer slapd the identities of the scoped-out entries together with the in-scope 
entries added to or modified within the replication content. If the replica status is outdated 
too much and beyond the coverage of the history store, then the provider slapd will send the identities 
of the unchanged in-scope entries along with the changed in-scope entries. The consumer slapd will 
then remove those entries in the replica which are not identified as present in the provider content.</P
><P
>A syncrepl-rõl további információ a 
<A
HREF="http://www.openldap.org/doc/admin22/syncrepl.html"
TARGET="_top"
>LDAP Sync Replication</A
> honlapon található.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="LDBMDirect"/>3.6. LDBM adatbázis lehetõségek</H1
><P
> Ebben a kategóriában csak az LDBM típusú háttér-adatbázisokra vonatkozó 
opciók találhatók. Ezért az opciókat minden esetben a "database ldbm" sor követi 
és megelõz minden további "database" vagy "backend" sort. A LDBM beállító opciók teljes referenciája a slapd-lbdm kézikönyv oldalakon található (man page; <EM
>man slapd-ldbm</EM
>).</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>cachesize &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció határozza meg az átmeneti memóriában tárolt bejegyzések 
számát, amelyet az LDBM háttér-adatbáziskérések tartanak fent.</P
><P
>Alapértelmezés:</P
><P
>cachesize 1000</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>dbcachesize &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez az opció határozza meg minden egyes nyitott index fájlhoz rendelt 
átmeneti memória méretét byte-ban. Ha nem támogatja az alapját képezõ adatbázis
eljárás, ez az opció kommentezés (#) nélkül is figyelmen kívül marad. A 
felhasznált memória méretének növelése drámaian növeli a teljesítményt, 
különösen az indexek módosításakor vagy 
létrehozásakor.</P
><P
>Alapértelmezés:</P
><P
>dbcachesize 100000</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>dbnolocking</PRE
></FONT
></TD
></TR
></TABLE
><P
>Bekapcsolva ezt az opciót az adatbázist nem lehet zárolni (lock). Növelheti a feldolgozási sebességet, 
persze a biztonság rovására. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>dbnosync</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a lehetõség azt eredményezi, hogy a lemezen levõ adatbázis tartalmak 
nem lesznek automatikusan és azonnal szinkronizálva a memóriatartalommal, amikor 
valami változás történik. Engedélyezve szintén növelheti a sebességet a 
biztonság rovására. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>directory &lt;könyvtár&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
> Ez a direktíva meghatározza azt a könyvtárat, ahol a LBDM adatbázis és a hozzá 
tartozó fájlok elhelyezkednek. </P
><P
>Alapértelmezés:</P
><P
>directory /usr/local/var/openldap-data</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>index {&lt;attrlist&gt; | default} [pres,eq,approx,sub,none]</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a direktíva meghatározza az adott attribútum karbantartásáért felelõs 
indexeket. Ha csak az &lt;attrlist&gt; van megadva, az alapértelmezett indexek 
lesznek csak karbantartva.</P
><P
>Példa:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;index default pres,eq
index uid
index cn,sn pres,eq,sub
index objectClass eq
</PRE
></FONT
></TD
></TR
></TABLE
><P
>!!!FIXME!!! Az elsõ sor beállítja az alapértelmezett index készleteket (present 
(jelenlét) és equality (egyenlõség) lesz a karbantartási szempont). A második sor 
objectClass és uid attribútumok alapján kezeli tovább az alapértelmezett index 
készleteket. A harmadik sor cn és sn attribútum típusok szerint vizsgálja az  
equality (egyenlõség), substring és approximate (becslés) index 
készleteket. !!!FIXME!!!</P
><P
>Alapértelmezés szerint az indexeket nem tartja karban. 
Ajánlott azonban legalább az objectClass szerinti equality (egyenlõség) index 
karbantartása.</P
><P
>index objectClass eq</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>mode &lt;integer&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a direktíva határozza meg az újonnan létrehozott adatbázis index állományainak fájlvédelmi módját. </P
><P
>Alapértelmezés:</P
><P
>mode 0600</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="AccessControl"/>3.7. Hozzáférés szabályozási példák:</H1
><P
>A hozzáférési eszköztár, melyet az <EM
>access</EM
> direktíva 
szabályoz, elég erõteljes. Most bemutatunk néhány példát a használatára 
vonatkozóan. Elõször néhány egyszerû példa: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>access to * by * read </PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a hozzáférési direktíva mindenkinek olvasási jogot biztosít.</P
><P
>A következõ példa bemutatja a regexp használatát a DN alapján történõ 
kereséshez két access direktívában, ahol a sorrend is fontos. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>access to dn=".*, o=U of M, c=US" 
by * search 
access to dn=".*, c=US" 
by * read </PRE
></FONT
></TD
></TR
></TABLE
><P
>Ebben az esetben a hozzáférési jogosultságok így alakulnak: Keresési (search) jogosultsággal rendelkeznek
az 'o=U of M, c=US' dn-û felhasználók, míg a többi, c=US jelzetû felhasználó olvasási (read) - eggyel magasabb szintû - 
jogosultságot kap. Ha fordítva lenne a két access sor, a U of M-re vonatkozó korlátozások nem lépnének életbe, 
mivel a c=US körbe beletartoznak, és a szûkítés nem lépne életbe.
(a hozzáférési listákat felûlrõl lefelé dolgozza fel a program.)</P
><P
>Another way to implement the same access controls is:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>access to dn.children="dc=example,dc=com"
	by * search
	access to dn.children="dc=com"
	by * read
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Read access is granted to entries under the dc=com subtree, except for those entries 
under the dc=example,dc=com subtree, to which search access is granted. No access is granted 
to dc=com as neither access directive matches this DN. If the order of these access directives 
was reversed, the trailing directive would never be reached, since all entries under 
dc=example,dc=com are also under dc=com entries.</P
><P
><B
CLASS="command"
>Note:</B
> Also note that if no access to directive or no "by &lt;who&gt;" clause matches, 
<B
CLASS="command"
>access is denied</B
>. That is, every <EM
>access to</EM
> directive ends with an implicit <EM
>by * none </EM
>clause 
and every access list ends with an implicit <EM
>access to * by * none</EM
> directive.</P
><P
>A következõ példa ismét jól mutatja a sorrend fontosságát. Mind a hozzáférési direktívák (access),
 mind pedig a "by &lt;kicsoda&gt;" cikkely esetében. Bemutatja továbbá az attribútum kapcsoló
 használatát, bizonyos attribútumok és többféle &lt;who&gt; kapcsoló hozzáférési jogainak beállításához. </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>access to dn.subtree="dc=example,dc=com" attr=homePhone
	by self write
	by dn.children=dc=example,dc=com" search
	by peername=IP:10\..+ read
access to dn.subtree="dc=example,dc=com"
	by self write
	by dn.children="dc=example,dc=com" search
	by anonymous auth
</PRE
></FONT
></TD
></TR
></TABLE
><P
>This example applies to entries in the "dc=example,dc=com" subtree. To all 
attributes except homePhone, an entry can write to itself, entries under 
example.com entries can search by them, anybody else has no access (implicit by * none) 
excepting for authentication/authorization (which is always done anonymously). The 
homePhone attribute is writable by the entry, searchable by entries under example.com, 
readable by clients connecting from network 10, and otherwise not readable 
(implicit by * none). All other access is denied by the implicit access to * by * none.</P
><P
>Sometimes it is useful to permit a particular DN to add or remove itself from 
an attribute. For example, if you would like to create a group and allow people
 to add and remove only their own DN from the member attribute, you could accomplish 
 it with an access directive like this: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>access to attr=member,entry 
	by dnattr=member selfwrite 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A dnattr &lt;kicsoda&gt; kapcsoló megmondja,hogy a hozzáférések a 
'member' (tag) -jellemzõben felsorolt elemekre vonatkoznak. 
A 'selfwrite' hozzáférési kapcsoló pedig ezen tagoknak csak
saját DN-jükben történõ hozzáadásra és törlésre ad jogosultságot.

A bejegyzés jellemzõ hozzáadása kötelezõ, mivel a bejegyzéshez való hozzáférés
során szükségszerûen a bejegyzés jellemzõihez is hozzá kell férnünk.</P
><P
>A hozzáférés szabályozásról rengeteg példa található az  OpenLDAP
Adminisztrátorok Kézikönyvében. Kattints a linkre: <A
HREF="http://www.openldap.org/doc/admin22/slapdconfig.html#Access Control"
TARGET="_top"
>Hozzáférés szabályozás</A
>
további információkért.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="ConfigurationExample"/>3.8. Konfigurációs fájl példa</H1
><P
>A következõkben magyarázó szövegrészekkel megszakítva bemutatok egy konfigurációs állományt.
Két adatbázist definiál, az X.500-as fa különbözõ részeinek kezelésére. Mindkettõ BDB adatbázis.
A sorok számozása csak a tájékozódást és a magyarázatot hivatott segíteni, a mûködõ fájlban nincsenek sorszámok.
 Nézzük elõször az általános beállításokat! ( global configuration section)</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;1.    # example config file - global configuration section     példa konfig fájl - általános beállítások rész
2.    include /usr/local/etc/schema/core.schema
3.    referral ldap://root.openldap.org
4.    access to * by * read</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az elsõ sor megjegyzés. Az alap-séma leírásokat tartalmazó külsõ fájl
befoglalása a második sorban történik meg. A harmadik sorban található utalás (referral)
utasítás azt jelenti, hogy az összes olyan keresési kérelem, amelyet a helyi adatbázis nem tud kiszolgálni,
át lesz irányítva a hagyományos LDAP kapun (389) keresztül a root.openldap.org szerverre.</P
><P
>A negyedik sor az általános elérést biztosítja. Minden bejegyzésre érvényes
(minden más, használható adatbázis hozzáférés korlátozás után).</P
><P
>A beállítófájl következõ szakaszában a "dc=example,dc=com" ágban történõ kérések kiszolgálására szolgáló
BDB háttér leírása jön. Az adatbázis két szolga slapd-re lesz megkettõzve. Az elsõ egy tényleges, míg a második egy "vészhelyzeti" tükrözés. Az indexelések több attribútum szerint is karbantartásra kerülnek. A userPassword tulajdonság védett a jogosulatlan hozzáférésektõl.
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;5.     # BDB definition for the example.com
6.     database bdb
7.     suffix "dc=example,dc=com"
8.     directory /usr/local/var/openldap-data
9.     rootdn "cn=Manager,dc=example,dc=com"
10.    rootpw secret
11.    # replication directives
12.    replogfile /usr/local/var/openldap/slapd.replog
13.	   replica uri=ldap://slave1.example.com:389
14.            binddn="cn=Replicator,dc=example,dc=com"
15.            bindmethod=simple credentials=secret
16.    replica uri=ldaps://slave2.example.com:636
17.            binddn="cn=Replicator,dc=example,dc=com"
18.            bindmethod=simple credentials=secret
19.    # indexed attribute definitions
20.    index uid pres,eq
21.    index cn,sn,uid pres,eq,sub
22.    index objectClass eq
23.    # database access control definitions
24.    access to attr=userPassword
25.            by self write
26.            by anonymous auth
27.            by dn.base="cn=Admin,dc=example,dc=com" write
28.            by * none
29.    access to *
30.            by self write
31.            by dn.base="cn=Admin,dc=example,dc=com" write
32.            by * read

</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az 5. sor megjegyzés. Az adatbázis definíció kezdetét a 'database' kulcsszó jelzi (6.sor).
A 7. sor határozza meg a helyi adatbázishoz továbbítandó keresések DN-utótagját.
A 8. sor jelzi az adatbázis fájlok helyét.</P
><P
>A 9. és 10. sor az adatbázis felügyelõt azonosítja és a hozzárendelt jelszót. This entry is not subject to access control or size or time limit restrictions.
Please remeber to encrypt the rootpw using slappasswd.</P
><P
><B
CLASS="command"
>Example: </B
>rootpw {SSHA}Jq4xhhkGa7weT/0xKmaecT4HEXsdqiYA</P
><P
>11-18. sorok a többszörözési feladatot írják le. Bõvebben: <A
HREF="http://www.openldap.org/doc/admin22/replication.html"
TARGET="_top"
>Replication</A
> angol nyelvû oldalon.</P
><P
>A 20. és 22. sorok a különbözõ attribútumokért felelõs indexeket jelzik</P
><P
>A 24-tõl a 32. sorok hozzáférési jogosultságokat szabályoznak az adabázison.
Minthogy ez az elsõ adatbázis, a szabályozók életbe lépnek minden más bejegyzésre is, amelyek nincsenek még adatbázisban (mint pl. a root DSE).
Minden alkalmazható bejegyzésre érvényes, hogy a userPassword attribútum írható a bejegyzés és az 'admin'  bejegyzés által.
Ezt azonosítási célokra lehet használni, máskülönben nem olvasható. Minden más attribútum
írható a bejegyzés és az 'admin' bejegyzés által (mások által nem), és olvashatja minden bejegyzés (akár autentikált, akár nem).</P
><P
>A példa konfigurációs fájl következõ része egy másik BDB adatbázist is definiál.
Ez az adatbázis a dc=example, dc=net alág kereséseit kezeli, de ugyanaz a lényeg, mint
az elsõ adatbázis esetében. Figyeljük meg, hogy a 39. sor nélkül olvasási jogot mindenki, az általános beállítások 4. sorának megfelelõen kap.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;33.    # BDB definition for example.net
34.    database bdb
35.    suffix "dc=example,dc=net"
36.    directory /usr/local/var/openldap-data-net
37.    rootdn "cn=Manager,dc=example,dc=com"
38.    index objectClass eq
39.    access to * by users read</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="RunningLDAP"/>Fejezet 4. Az LDAP szerver futtatása</H1
><P
>Az LDAP démona, a<EM
> slapd</EM
> önállóan futó szerverként használható.
Ez lehetõvé teszi a háttér számára a cache-elés elõnyeinek kihasználását,
jobban tudja kezelni az adatbázisok közötti ütközések problémáit és 
gazdaságosabban bánik a rendszer erõforrásaival. Futtatása az inetd(8)-bõl nem lehetséges.
(Korábban opció volt)</P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="CommandOptions"/>4.1. Parancssori opciók</H1
><P
>A <EM
>slapd</EM
> számos parancssori opciót támogat (részletesen a manuálban).
Ebben a részben néhány, általánosan használt opció leírását taláhatod meg.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-f &lt;fájlnév&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció alternatív konfigurációs fájlt határoz meg a slapd számára
Alapértelmezett: /usr/local/etc/openldap/slapd.conf.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-h &lt;URL-ek&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ezzel az opcióval alternatív port/host párokat állíthatsz be, amiken az LDAP figyel.
Alapértelmezett: ldap:// ami arra utal, hogy az LDAP minden hálózati eszközön figyel a TCP-n keresztül az alapértelmezett LDAP porton (389).
Megadható speciális host-port páros is, vagy más protokoll séma (mint pl. az ldaps:// or ldapi://) is.
Például: -h "ldaps:// ldap://127.0.0.1:667" két figyelõ csatornát hoz létre, egyiket az LDAP SSL-en keresztül 
minden eszközre vonatkozóan és a szabványos LDAP/SSL porton (637), míg a másikat a localhoston (127.0.0.1) a loopback eszközön,
TCP-n, a 667-es kapun keresztül. A hostokat IPv4 szerint, numerikusan, vagy névvel is megadhatjuk.
A port értékének numerikusan kell szerepelnie.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-n &lt;szolgáltaltás-név&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Itt adható meg a naplózásra és más célokra szolgáló szolgáltatás neve. 
Alapértelmezett: slapd.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-l &lt;syslog-local-user&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a paraméter határozza meg a helyi felhasználót a syslog(8) lehetõség használatához. Lehetséges  értékek: LOCAL0, LOCAL1, LOCAL2, ..., és LOCAL7. Az alapértelmezés: LOCAL4. Ez az opció nem használható
minden rendszer alatt. További információkat lásd a  <A
HREF="#Logs"
>6.5 </A
> fejezetben.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-u user -g group</PRE
></FONT
></TD
></TR
></TABLE
><P
>Itt adható meg a felhasználó és a csoport, akinek a nevében fut a slapd. Mind a &lt;user&#8822;, mind a &lt;group&#8822; megadható névvel vagy uid-del.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-r directory</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a paraméter határozza meg a futás idejû könyvtárat. . Ez lesz a slapd chroot(2) könyvtára az indítás után, még mielõtt felolvasná a konfigurációs fájlokat vagy inicializálná a háttereket.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-d &lt;szint&gt; | ?</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció beállítja az slapd hibakeresõ értékét a &lt;szint&gt;-re. 
Amikor a szint a '?' karakter, a különbözõ hibakeresõ szinteket írja ki és 
kilép a slapd attól függetlenül, hogy milyen egyéb opció lett még beállítva. 
A jelenlegi hibakeresõ szintek a következõk:</P
><P
><DIV
CLASS="table"
><A
NAME="AEN613"/><P
><B
>Táblázat 4-1. Hibakövetés szintje</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Level</TH
><TH
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>Leírás</TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>-1</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>minden hibakövetés engedélyezése</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>0</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>nincs hibakövetés</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>1</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>funkció hívások nyomkövetése</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>2</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>csomagkezelés követése</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>4</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>alapos nyomkövetés</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>8</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>kapcsolatkezelés</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>16</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>fogadott és küldött csomagok kiírása </TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>32</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>mintakeresés feldolgozása</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>64</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>konfigurációs fájl feldolgozása</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>128</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>hozzásférésszabályozási lista feldolgozása</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>256</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>kapcsolatok/mûveletek/eredmények naplózása</TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>512</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>küldött bejegyzések naplózása </TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>1024</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>a háttérkommunikáció kiírása </TD
></TR
><TR
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
>2048</TD
><TD
WIDTH="0"
ALIGN="LEFT"
VALIGN="MIDDLE"
> bejegyzések elemzésének kiírása</TD
></TR
></TBODY
></TABLE
></DIV
></P
><P
>Több szint is megadható egyszerre ha felsoroljuk egymás után a kívánt szinteket, mindet külön -d kapcsolóval.
Mivel a hibakövetési szintek additívak egyszerû összeadással elvégezhetõ a számolás:
Például, ha a funkcióhívások nyomkövetésése és a konfigurációs fájl feldolgozása
egyaránt szükséges, akkor ennek a két hibakövetõ szintnek az összeadásával (ebben az esetben 1+64=65 vagyis a kapcsoló: -d 65) egyszerre adható meg a két hibakövetési szint,
vagy a slapd is elvégezheti ezt helyettünk (ekkor a kapcsolók: -d 1 -d 64). További inforációk az &lt;ldap.h&gt; fájlban.</P
><P
><B
CLASS="command"
>Figyelem!</B
>A slapd fordításakor az -LDAP_DEBUG-ot definiálni kell minden
hibakövetõ funkció használatához, kivéve a két naplózási lehetõséget.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="StartingLDAP"/>4.2. Az LDAP kiszolgáló indítása</H1
><P
>Általában a slapd a követlezõképpen fut:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>/usr/local/etc/libexec/slapd [&lt;option&gt;]*</PRE
></FONT
></TD
></TR
></TABLE
><P
>ahol a /usr/local/etc/libexec értékét a konfigurációs
szkript és az &lt;opciók&gt; határozzák meg, az &lt;option&gt; a
fentebb leírtak bármelyike lehet. Ha a hibakeresõ értéke nem definiált, a
slapd automatikusan elágazik és leválasztja magát a vezérlõ terminálról
és a háttérben fut tovább.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="KillingLDAP"/>4.3. Az LDAP kiszolgáló leállítása</H1
><P
>A slapd démon biztonságos leállításához ehhez hasonló parancs szükséges: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>kill -INT `cat $(ETCDIR)/slapd.pid`</PRE
></FONT
></TD
></TR
></TABLE
><P
>Drasztikusabb leállítási módok alkalmazásakor az adatbázisok sérülhetnek, és
a nem mentett adatok elveszhetnek. Itt jegyezzük meg, hogy a slapd pid a slapd.pid fájlba kerül,
amit a slapd.conf fájlban állítottunk be. Pl. /usr/local/var/slapd.pid.</P
><P
>A slapd az argumentumait szintén a slapd.conf által meghatározott elérési úton lévõ slapd.args fájlba írja. Pl. /usr/local/var/slapd.args. </P
></DIV
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="DBCreation"/>Fejezet 5. Adatbázis létrehozás és karbantartása</H1
><P
>Ez a fejezet leírja az adatbázisok létrehozását a semmibõl. Két út van
az adatbázisok létrehozására. Létrehozhatók adatbázisok az LDAP
online használatával. Ennél az eljárásnál egyszerûen a slapd indítása
után a tetszés szerinti LDAP klienssel elvégezhetõ a bejegyzések hozzáadása.
Ez az eljárás viszonylag kis méretû adatbázisoknál használható jól
(néhány száz vagy ezer bejegyzés, a követelmények függvényében).
Azoknál az adatbázisoknál alkalmazható, amelyek támogatják a frissítést (update).</P
><P
>A második eljárás az adatbázisok létrehozására a slapd speciális eszközeinek
segítségével lehetséges, offline módban. Ez a legjobb eljárás, ha sok ezer
bejegyzést kell létrehozni, ami nagyon hosszú idõt venne igénybe
az LDAP eljárással, vagy ha biztos akarsz lenni abban, hogy az adatbázis biztosan ne legyen elérhetõ a
létrehozás ideje alatt. FIGYELEM! Nem minden adatbázis típus támogatja a slapd ezen speciális eszközeit!</P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="DBOnline"/>5.1. Adatbázis online létrehozása</H1
><P
>Az OpenLDAP programcsomag tartalmazza az ldapadd programot, a
bejegyzések online hozzáadásához, vagyis amíkor az LDAP szerver fut.
Amennyiben az online módszert választod az adatbázis létrehozására,
ezt az eszközt kell használnod a bejegyzések hozzáadásához (más, OpenLDAP csomagon kívüli
eszközöket is használhatsz, mint amilyen az <A
HREF="http://www.iit.edu/~gawojar/ldap/"
TARGET="_top"
>Ldap Browser</A
>).
Az elsõ bejegyzések hozzáadása után még további bejegyzések felvétele is
lehetséges. Mindenképpen szükséges a következõ konfigurációs opciók
beállítása a slapd indítása elõtt: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>suffix &lt;dn&gt; </PRE
></FONT
></TD
></TR
></TABLE
><P
>Az <A
HREF="#GeneralDBDirect"
>3.4 </A
> fejezetben leírtak szerint
ez az opció mondja meg, milyen bejegyzések kerülnek ebbe az adatbázisba.
Be kell állítani a létrehozandó részfa gyökerének DN értékét: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>suffix "o=TUDelft, c=NL" </PRE
></FONT
></TD
></TR
></TABLE
><P
>Specifikáni kell a könyvtárat, ahol az index file-ok létrejönnek:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>directory /usr/local/tudelft </PRE
></FONT
></TD
></TR
></TABLE
><P
>Lehetõvé kell tenni, hogy csatlakozhass a slapdhez mint címtár-felhasználó bejegyzések hozzáadásának jogával.
Beállítható úgy a címtár, hogy támogassa a super-user-t, vagy root felhasználót erre a célra.</P
><P
>Ez a következõ két opció segítségével lehetséges az adatbázis létrehozása során:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;rootdn &lt;dn&gt;
rootpw &lt;passwd&gt;   /* Mindenképpen kódolt jelszót használj!!! */
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a két opció határozza meg az adatbázis adminisztrátoraként használható
bejegyzés DN-jét és jelszavát (akinek minden tevékenység engedélyezett).
Az itt meghatározott  DN és a jelszó mindig mûködik, attól függetlenül,
hogy a bejegyzés vagy a jelszó valóban létezik-e. Ez megoldja a tyúk és
a tojás problémáját, vagyis hogyan azonosítható az adminisztrátor, és hozhatók
létre rekordok mielõtt bármilyen bejegyzés létezne.</P
><P
>A <EM
>slapd</EM
> megérti ha SHA-1 kódolású jelszavakat használsz a rootpw
direktívában. Én egy Java osztályt használtam SHA-1 szintû jelszavak létrehozására, de használható a <EM
>slappasswd</EM
> parancs is jelszavak generálására.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>slappasswd -h {SHA}</PRE
></FONT
></TD
></TR
></TABLE
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>rootpw    "{SHA}5en6G6MezRroT3XKqkdPOmY/BfQ="</PRE
></FONT
></TD
></TR
></TABLE
><P
>Például:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;        rootdn "cn=Manager,dc=example,dc=com"
        rootpw "{SHA}5en6G6MezRroT3XKqkdPOmY/BfQ="</PRE
></FONT
></TD
></TR
></TABLE
><P
>The default output for slappasswd is to generate Secure Hash passwords {SSHA}, in this
  	 case you don't need to pass the -h parameter, just call slappasswd directly.</P
><P
>Amennyiben SASL-t használsz a rootpw sort ki kell szedni.
Vess egy pillantást a <A
HREF="#GeneralDBDirect"
>3.4 </A
> és a <A
HREF="#Authentication"
>6.2 </A
> (Autentikáció) fejezetre.</P
><P
>Végül, az adatbázis definícióinak tartalmaznia kell az
szükséges indexek definícióit: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>index {&lt;attrlist&gt; | default} [pres,eq,sub,none] </PRE
></FONT
></TD
></TR
></TABLE
><P
>Például, a cn, sn, uid és objectclass attribútumok indexét a következõ
index konfigurációs sor hozza létre:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;index cn,sn,uid pres,eq,sub
index objectClass pres,eq
</PRE
></FONT
></TD
></TR
></TABLE
><P
><B
CLASS="command"
>Note:</B
> Megjegyzés: figyelj arra, hogy nem minden indextípus használható minden jellemzõ esetében.
Nézd meg a <A
HREF="#LDBMDirect"
>3.6 </A
> fejezetben (példák).</P
><P
>Ha egyszer beállítottad a szükséges dolgokat, indítsd el a slapd-t,
kapcsolódj az LDAP klienssel, és kezdd el a bejegyzések hozzáadását.
Például, a TUDelft bejegyzést követõ a Postmaster bejegyzés létrehozásához
az ldapadd részére létre kell hozni a /tmp/newentry fájlt a következõ
tartalommal: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;o=TUDelft, c=NL
objectClass=organization 
description=Technical University of Delft Netherlands 

cn=Postmaster, o=TUDelft, c=NL 
objectClass=organizationalRole 
cn=Postmaster
description= TUDelft postmaster - postmaster@tudelft.nl </PRE
></FONT
></TD
></TR
></TABLE
><P
>és utána a következõ parancs létrehozza a szükséges bejegyzést: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>ldapadd -f /tmp/newentry -x -D "cn=Manager, o=TUDelft, c=NL" -w secret </PRE
></FONT
></TD
></TR
></TABLE
><P
>A fenti parancs feltételezi, hogy a roodn bejegyzés a "cn=Manager, o=TUDelft, c=NL" és a rootpw a "secret" (vagy kódolt jelszó a slapd.conf-ban).
 Ha nem akarod begépelni a jelszót a parancsorba, használd a -W opciót az
 ldapadd parancs használatakor a -w"jelszó" helyett.
 Felszólítást kapsz jelszó beírására: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;ldapadd -f /tmp/newentry -x -D "cn=Manager, o=TUDelft, c=NL" -W 
Enter LDAP Password: </PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="CreateDBOffline"/>5.2. Adatbázis offline létrehozása</H1
><P
>A második eljárás az adatbázisok offline létrehozása, az alább leírt slapd eszközök segítségével.
Ez a legjobb eljárás ha sok ezer bejegyzés létrehozása szükséges,
ami nagyon hosszú idõt venne igénybe a fent leírt LDAP eszközök használatával.
Ezek az eszközök elolvassák a slapd konfigurációs fájlt és a hozzáadandó bejegyzések
szövegét tartalmazó LDIF file-t. Ez hozza létre közvetenül az LDAP index fájlokat
. For database types which support the tools, they produce the database files directly (otherwise you must use the on-line method above). A következõ néhány konfigurációs lehetõséget mindenképpen
ismerni kell és be kell állítani a konfigurációs fájl  adatbázis-definíciójának
elején: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>suffix &lt;dn&gt; </PRE
></FONT
></TD
></TR
></TABLE
><P
>Az elõzõ bekezdésnek megfelelõen, ez az opció határozza meg, milyen
bejegyzéseket fog tartalmazni az adatbázis. Ennek a létrehozandó részfa
gyökerének DN-jét kell tartalmaznia. Például:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>suffix "o=TUDelft, c=NL" </PRE
></FONT
></TD
></TR
></TABLE
><P
>Mindenképpen meg kell határozni az index fájlok könyvtárát:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>directory /usr/local/tudelft </PRE
></FONT
></TD
></TR
></TABLE
><P
>Végül meg kell mondanunk, milyen indexekre van szükség. Ez egy vagy több index
opcióval végezhetõ el: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>index {&lt;attrlist&gt; | default } [pres,eq,approx,sub,none]</PRE
></FONT
></TD
></TR
></TABLE
><P
>Például:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;index cn,sn,uid pres,eq,sub
index objectClass eq
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A fenti parancs létrehozza a presence, equality és approximate indexeket a cn,sn és
uid attribútumoknál, és equality indexet az objectClass opciónál.
További információk a konfigurációs fájl beállítása fejezetben találhatók errõl az opciókról.</P
><P
>Miután a konfiguráció kész van, létre kell hoznunk az elsõdleges adatbázist a hozzá tartozó indexfájlokkal együtt.
Ezt a slapadd(8) programmal tehetjük meg:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>slapadd -l &lt;inputfile&gt; -f &lt;slapdconfigfile&gt; [-d &lt;debuglevel&gt;]
 [-n &lt;integer&gt;|-b &lt;suffix&gt;]</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az argumentmok jelentései:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-l &lt;inputfile&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>meghatározza az LDIF bemeneti fájlt, ami a hozzáadandó bejegyzéseket
tartalmazza szöveges formában (A következõ fejezet errõl szól).</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-f &lt;slapdconfigfile&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Specifikálja a slapd konfigurációs fájlját, ami meghatározza hol,
milyen indexeket kell létrehozni, stb.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-d &lt;debuglevel&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Bekapcsolja a hibakeresést a debuglevel által meghatározott módon.
A hibakeresés szintjei megegyeznek a slapd értékeivel. (lásd a <A
HREF="#CommandOptions"
>4.1 </A
> további részletekért.)</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-n &lt;databasenumber&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opcionális argumentum határozza meg, hogy az adatbázisok közül melyiket használja a program.
A konfigurációs fájlban szereplõ elsõ adatbázis az "1", a második a "2", stb.
Alapértelmezésként az elsõ adatbázist használja.  A -b argumentummal együtt nem használható.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-b &lt;suffix&gt;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opcionális argumentum határozza meg, hogy az adatbázisok közül melyiket használja a program.
Az utótagot (suffix) összehasonlítja az adatbázisban szereplõ adatbázis direktíva  számával, és így dönti el melyik adatbázist használja.
Az -n argumentummal együtt nem használható.</P
><P
>Néha szükségessé válik az indexek újragenerálása (pl. a slapd.conf(5) módosítása után).
Ezt a slapindex(8) programmal végezhetjük el. A program meghívása a következõképpen történik:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>slapindex -f &lt;slapdconfigfile&gt; [-d &lt;debuglevel&gt;] [-n &lt;databasenumber&gt;|-b &lt;suffix&gt;]</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ahol az -f, -d, -n és a  -b kapcsolók ugyanazok, mint a slapadd(1) program esetében.
A slapindex újraépíti az indexállományokat az éppen aktuális adatbázis tartalmak alapján.</P
><P
>A slapcat programmal az adatbázis tartalmát egy szöveges LDIF fájlba tudjuk önteni (dump).
Akkor lehet hasznos, ha olvasható adatbázis-másolatot szeretnénk készíteni, vagy, ha az adatbázist off-line módon szeretnénk szerkeszteni.
A program indítása:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>slapcat -l &lt;filename&gt; -f &lt;slapdconfigfile&gt; [-d &lt;debuglevel&gt;] [-n &lt;databasenumber&gt;|-b &lt;suffix&gt;]</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ahol az -f opció -n vagy -b kapcsolóival lehet kiválasztani a slapd.conf(5)-ban leírt adatbázisok közül azt, amilyre szükségünk van.
Az LDIF eredmény a standard kimenetre kerül, hacsak nem határoztunk meg egy fájlt a -l opcióban..</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="MoreonLDIF"/>5.3. Bõvebben az LDIF formátumról</H1
><P
>Az LDAP Data Interchange Fromat (LDIF) az LDAP bejegyzések
megjelenítésére szolgál szöveges formában. Egy bejegyés alapvetõ formája:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;#comment      megjegyzés
dn: &lt;distinguished name&gt;
&lt;attrdesc&gt;: &lt;attrvalue&gt;
&lt;attrdesc&gt;: &lt;attrvalue&gt;
...</PRE
></FONT
></TD
></TR
></TABLE
><P
>A '#' kezdetû sorok megjegyzések. Az attribútum leírások (attrdesc)
lehetnek egyszerûek, mint pl. a cn, az objectClass vagy az 1.2.3 (egy attribútum-típussal azonosított OID)
vagy opciókat is magukba foglalhatnak, pl. cn;lang_en_US vagy userCertificate;binary.</P
><P
>A sorok folytathatóak a következõ sorban egy szóköz vagy tab
karatkerrel. Például:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;dn: cn=Barbara J Jensen, dc=example, dc=
 com
cn: Barbara J
    Jensen
</PRE
></FONT
></TD
></TR
></TABLE
><P
>megfelel ennek:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;dn: cn=Barbara J Jensen, dc=example, dc=com
cn: Barbara J Jensen
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Többszörös attribútumok több elválasztott sorban is specifikálhatóak.
Például:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;cn: Barbara J Jensen
cn: Babs Jensen
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ha az &lt;attrvalue&gt; (attribútum érték) nem nyomtatható karaktereket tartalmaz, vagy szóközzel,
kettõsponttal (':'), kisebb jellel('&lt;') kezdõdik, akkor az &lt;attrdesc&gt; (attribútum leírás)-t kettõspont követi,
és az érték base64 kódolású lesz. Például a "begins with space" érték a
következõképpen lesz kódolva:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>cn:: IGJlZ2lucyB3aXRoIGEgc3BhY2U=</PRE
></FONT
></TD
></TR
></TABLE
><P
>Meghatározható egy URL-is amely az attribútum értéket tárolja.
Pl. a következõ sor a jpegPhoto értékét az /útvonal/a/jpeg.képhez fájlból veszi.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>cn:&lt; file://path/to/file.jpeg</PRE
></FONT
></TD
></TR
></TABLE
><P
>A többszörös bejegyzéseket ugyanabban az LDIF file-ban üres sorokkal
kell elválasztani. Egy három bejegyzést tartalmazó LDIF file:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;# Barbara's Entry  #Barbara bejegyzése
dn: cn=Barbara J Jensen, dc=example, dc=com
cn: Barbara J Jensen
cn: Babs Jensen
objectClass: person
sn: Jensen

# Bjorn's Entry #Björn bejegyzése
dn: cn=Bjorn J Jensen, dc=example, dc=com
cn: Bjorn J Jensen
cn: Bjorn Jensen
objectClass: person
sn: Jensen
# Base64 encoded JPEG photo # Base64 kódolású fénykép
jpegPhoto:: /9j/4AAQSkZJRgABAAAAAQABAAD/2wBDABALD
A4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQ
ERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVG

# Jennifer's Entry #Jennifer bejegyzése
dn: cn=Jennifer J Jensen, dc=example, dc=com
cn: Jennifer J Jensen
cn: Jennifer Jensen
objectClass: person
sn: Jensen
# JPEG photo from file # JPEG kép fájlból
jpegPhoto:&lt; file://path/to/file.jpeg</PRE
></FONT
></TD
></TR
></TABLE
><P
>Figyeljük meg, hogy a Bjorn bejegyzésben taláható jpegPhoto érték base64 kódolású, míg
a Jennifer bejegyzésben szereplõ jpegPhoto az URL-ben szereplõ helyen tárolódik.</P
><P
>FIGYELEM: A követõ szóközök benne maradnak az LDIF file-ban. A
többszörös szóközök is megmaradnak. Ha nem szükségesek az adatokban,
akkor el kell távolítani õket.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Utilities"/>5.4. Az ldapsearch, ldapdelete és az ldapmodify progrmok</H1
><P
><B
CLASS="command"
>ldapsearch</B
> - Az ldapsearch a parancsértelmezõ által
elérhetõ felületet biztosít az ldap_search(3) függvény használatához.
Ez a program jól használható bejegyzések kereséséhez az LDAP adatbázisban. </P
><P
>Az ldapsearch szintaktikája a következõ (Az opciók jelentése az ldapsearch
man lapján található): </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;ldapsearch  [-n]  [-u]  [-v]  [-k]  
[-K]  [-t]  [-A] [-B] [-L]
[-R] [-d debuglevel] [-F sep] [-f file] 
[-x] [-D binddn]  [-W]  [-w bindpasswd]  
[-h ldaphost]  [-p ldapport]   [-b searchbase]   
[-s base|one|sub] 
[-a never|always|search|find] [-l timelimit] 
[-z sizelimit] filter [attrs...] 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az <B
CLASS="command"
>ldapsearch</B
> kapcsolatot létesít az LDAP szerverrel, és a szûrõ (filter)
használatával keresést hajt végre az adatbázisban. A szûrõnek
meg kell felenie az RFC 1558-ban definiált LDAP szürõk ábrázolásához.
Ha az ldapsearch egy vagy több bejegyzést talál, az <EM
>attrs</EM
> által
specifikált attribútumokat adja vissza, és az értékeket a standard
kimenetre írja ki. Ha attrs nincs felsorolva, az összes attribútumot
visszaadja.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;ldapsearch -x -b 'o=TUDelft,c=NL' 'objectclass=*' 

ldapsearch -b 'o=TUDelft,c=NL' 'cn=Rene van Leuken'

ldasearch -u -b 'o=TUDelft,c=NL' 'cn=Luiz Malere' sn mail
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A -b opció a searchbase-t (a keresés kindulási pontja), az
-u opció a felhasználóbarát kimenõ információt míg az -x opció az egyszerû azonosítást képviseli.</P
><P
><B
CLASS="command"
>ldapdelete - </B
>Az ldapdelete a parancsértelmezõ által
elérhetõ felületet biztosít az ldap_delete(3) függvény használatához. Ez a program
használható bejegyzések törléséshez az LDAP adatbázisban.</P
><P
>Az ldapdelete szintaktikája a következõ (Az opciók jelentése az ldapdelete
man lapján található): </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;ldapdelete   [-n]   [-v]  [-k]  [-K]
[-c]  [-d debuglevel]  [-f file]  [-D binddn]
[-W]  [-w passwd] [-h ldaphost] [-p ldapport]
[dn]...

</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az <B
CLASS="command"
>ldapdelete</B
> kapcsolatot létesít az LDAP szerverrel, és töröl egy vagy
több bejegyzést. Ha egy vagy több DN argumentum szerepel, akkor azok a
Megkülönbüztetõ Nevü (dn) bejegyzések törlõdnek. Minden
DN-nek meg kell felelnie az RFC1779-ben definiált karatersorral. Ha
nincs dn argumentum megadva, a dn-ek listáját a standard bemenetrõl
olvassa be (vagy az -f kapcsolóval megadott fájlból). </P
><P
>Néhány példa következik az ldapdelete használatára: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;ldapdelete 'cn=Luiz Malere,o=TUDelft,c=NL'

ldapdelete -v 'cn=Rene van Leuken,o=TUDelft,c=NL' -D 'cn=Luiz Malere,o=TUDelft,c=NL' -W 

</PRE
></FONT
></TD
></TR
></TABLE
><P
>A -v opció a  bõbeszédû kimenetet, a -D  a Binddn-t
(az azonosító dn-t) és a -W a jelszó prompt-ot jelenti. </P
><P
><B
CLASS="command"
>ldapmodify - </B
>Az ldapmodify a parancsértelmezõ által
elérhetõ felületet biztosít az ldap_modify(3) és az ldap_add(3) függvények használatához.
 Ez a program bejegyzések módosításához használható az LDAP adatbázisban.</P
><P
>Az ldapmodify szintaktikája a következõ (Az opciók jelentése az ldapmodify
man lapján található): </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;ldapmodify   [-a]  [-b]  [-c]  [-r]  
[-n]  [-v]  [-k]  [-d debuglevel]  
[-D binddn]  [-W]  [-w passwd] 
[-h ldaphost] [-p ldapport] [-f file] 

ldapadd [-b] [-c] [-r] [-n] 
[-v]  [-k]  [-K]  [-d debuglevel]
[-D binddn]  [-w passwd]  [-h ldaphost] 
[-p ldapport] [-f file] 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Az <B
CLASS="command"
>ldapadd</B
> megvalósítása egy hard link az ldapmodify programra. Az
ldapadd hívásakor az ldappmodify -a (új bejegyzés hozzáadása) kapcsolója
automatikusan bekapcsoldódik.

Az ldapmodify kapcsolatot létesít az LDAP szerverrel, és egy vagy több
bejegyzést módosít. A bejegyzések információit a standard inputról
olvassa be, vagy pedig az -f opcióval beállított fájlból. </P
><P
>Néhány példa az ldapmodify használatára: </P
><P
>Tételezzük fel, hogy a /tmp/entrymods fájl létezik, és a következõket
tartalmazza: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;dn: cn=Modify Me, o=University of Michigan, c=US  #módosítandó rész
changetype: modify 
replace: mail
mail: modme@terminator.rs.itd.umich.edu 
- 
add: title 
title: Grand Poobah 
- 
add: jpegPhoto 
jpegPhoto: /tmp/modme.jpeg 
- 
delete: description 
- 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A parancs: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>ldapmodify -b -r -f /tmp/entrymods </PRE
></FONT
></TD
></TR
></TABLE
><P
>kicseréli a "Módositandó" bejegyzés (cn="Modify Me") mail attribútumát a
"modme@terminator.rs.itd.umich.edu"-ra, hozzáadja a  "Grand Poobah" title (cím) attribútumot, és
 a /tmp/modme.jpeg fájl tartalmát, mint jpegPhoto, és törli a description attribútumot.</P
><P
>A fentiekkel megegyezõ módosítások a régebbi ldapmodify bemeneti formájában:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;cn=Modify Me, o=University of Michigan, c=US 
mail=modme@terminator.rs.itd.umich.edu 
+title=Grand Poobah 
+jpegPhoto=/tmp/modme.jpeg 
-description 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>és a hozzá tartozó parancs: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>ldapmodify -b -r -f /tmp/entrymods </PRE
></FONT
></TD
></TR
></TABLE
><P
>Tételezzük fel, hogy a /tmp/entrymods fájl létezik, és a következõket tartalmazza: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;dn: cn=Barbara Jensen, o=University of Michigan, c=US 
objectClass: person
cn: Barbara Jensen 
cn: Babs Jensen 
sn: Jensen 
title: the world's most famous manager 
mail: bjensen@terminator.rs.itd.umich.edu 
uid: bjensen 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A parancs: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>ldapadd -f /tmp/entrymods </PRE
></FONT
></TD
></TR
></TABLE
><P
>hozzáadja a bejegyzést a következõ megkülönböztetõ névvel: cn=Barbara Jensen, o=University of Michigan, c=US,
ha eddig nem létezett volna. Ha létezik ilyen dn-û bejegyzés, a program hibával leáll és nem írja felül a bejegyzést.</P
><P
>Tételezzük fel, hogy a  /tmp/newentry fájl létezik, és a következõket tartalmazza: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>&#13;dn: cn=Barbara Jensen, o=University of Michigan, c=US 
changetype: delete 
</PRE
></FONT
></TD
></TR
></TABLE
><P
>A parancs: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>ldapmodify -f /tmp/entrymods </PRE
></FONT
></TD
></TR
></TABLE
><P
>eltávolítja a Barbara Jensen bejegyzést. </P
><P
>Az -f opció jelenti a fájlt (a módosításhoz szükséges információkat
tartalmazza a standard input helyett), a -b kapcsoló jelzi a bináris
adatokat (minden '/' karakterrel kezdõdõ értéket binárisként kezel),
az -r kapcsoló állítja be a hozzáadást (a létezõ értékeket
alapértelmezésként felülírja). </P
></DIV
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="Additional"/>Fejezet 6. Kiegészítõ információk és lehetõségek</H1
><P
>Ebben a fejezetben további információk találhatók olyan hasznos témákról, mint az
azonosítás, naplózás, és az LDAP kliens. A fejezet végén további hasznos linkeket (magyar nyelvûeket is!), könyveket,
és ajánlott irodalmat, RFC-ket találunk.</P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="LDAPMigrationTools"/>6.1. LDAP Migrációs Eszközök</H1
><P
>Az LDAP Migrációs Eszközök a PADL Software Ltd. által közzétett perl script-ek gyûjteménye, használatuk elõtt ajánlott a licensz feltételek
elolvasása, habár szabad szoftver. Konfigurációs fájlok LDIF formátumra történõ átalakításához használhatóak.
 Ha felmerül az LDAP szerver használata
a felhasználók azonosításhoz, ezek nagyon hasznos programok lehetnek.
A Migration Tools használható a NIS vagy a password archívumok LDIF formába
konvertálásához, ezeket a fájlokat kompatibilissé téve az LDAP
szerverrel. Ezeknek a Perl scripteknek alkalmazásával átköltöztethetõk a
user-ek, group-ok, alias-ok, host-ok, netgroup-ok, network-ok,
protocol-ok, PRC-k és service-k a meglevõ szolgáltatóktól (NIS, fájlok,
és NetInfo) LDIF fomátumúvá. </P
><P
>Az LDAP Migration Tools letölthetõ, és további információk találhatók a következõ címen:
<A
HREF="http://www.padl.com/tools.html"
TARGET="_top"
>http://www.padl.com/OSS/MigrationTools.html</A
></P
><P
>A csomagban találhat README fájl, és a script-ek neve egyértelmû. A
script-ek alkalmazása elõtt el kell olvasni a README fájlt!</P
><P
>További hasznos URL a migrációs eszközökrõl:</P
><P
><A
HREF="http://dataconv.org/apps_ldap.html"
TARGET="_top"
>http://dataconv.org/apps_ldap.html</A
></P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Authentication"/>6.2. Azonosítás LDAP használatával</H1
><P
>Ahhoz, hogy az LDDAP szolgáltatást igénybe vehessük, elõször azonosítani kell magunkat (a klienset)
a szolgáltaóval. Ez annyiból áll, hogy megmondjuk a szervernek, ki akar az adatokhoz férni,
ebbõl a szerver eldönti, hogy mihez férhetünk hozzá és már mehetünk is.
Ha a kliens sikeresen azonosítja magát az LDAP szervernél, akkor ezután kéréseket küld a szervernek,
a szerver pedig ellenõrzi, hogy a kérés kiszolgálása jogos-e vagy sem.
Ez a folyamat a hozzáférés-szabályozás.</P
><P
>Az LDAP-ban az azonosítást a "bind" mûvelet végzi.
Az Ldapv3 háromféle azonosítási módot támogat: anonymous, egyszerû és SASL azonosítást.
Azok az ügyfelek, melyek a "bind" megkerülésével küldenek kéréseket a szerver felé, anonymous-ként lesznek kezelve.
Az egyszerû azonosítás abból áll, hogy az ügyfél elküldi az LDAP szerver felé a felhasználó DN-jét és a felhasználó egyszerû jelszavát.
Ennek a folyamatnak biztonsági problémái adódnak, mivel a jelszó könnyen elolvasható a hálózatról.
Ennek elkerülésére használható az egyszerû azonosítási folyamat egy titkosított csatornán keresztül (mint amilyen az SSL), ezt az LDAP is támogatja. </P
><P
>Végezetül itt van az SASL, vagyis a Simple Authentication and Security Layer (RFC 2222).
Ez a fajta azonosítás egy kérdés-válasz típusú protokoll az ügyfél és a szerver között, melyen keresztül létrejön egy biztonságos csatorna,
ahol a további tranzakciók lebonyolódnak.
Az SASL használatával mindenféle olyan azonosítási mód lehetséges, amelyet a szerver és a kliens megenged.
A Cyrus-SASL csomag a következõ URL-rõl érhetõ el: <A
HREF="http://asg.web.cmu.edu/sasl/sasl-library.html"
TARGET="_top"
>http://asg.web.cmu.edu/sasl/sasl-library.html</A
>.</P
><P
>A felhasználók további azonosítása a címtár fában lévõ további információk eléréséhez,
az LDAP szerver más szolgáltatásokból származó felhasználókat (sendmail, login, ftp, stb. ) is képes azonosítani.
Ezek a specifikus felhasználói információk eljutnak a szerverhez, majd a PAM (Pluggable
Authentication Modules) mechanizmus használatával azonosítja a felhasználókat.
Ez az azonosító modul az LDAP számára elérhetõ tarball formájában a
következõ címen:<A
HREF="http://www.padl.com/OSS/pam_ldap.html"
TARGET="_top"
>http://www.padl.com/OSS/pam_ldap.html</A
></P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="sasl"/>6.3. SASL konfiguráció : Digest-MD5 azonosítás</H1
><P
> Nekem LDAP-SASL azonosítási rendszerem van, amely a DIGEST-MD5 mechanizmust használja.
Ahhoz, hogy mûködjön szigorúan ezekhez a lépésekhez ragaszkodva jutottam el:</P
><P
></P
><UL
><LI
><P
>Töltsük le a SleepyCat aktuális verzióját (4.2.52 -a doksi frissítésekor), majd fordítsuk le.
Letöltés után  csak a doc/install.html (abban a könyvtárban, ahova kitömörítetted a csomagot) fájlban talált instrukciókra támaszkodtam.</P
><P
>Kicsomagolás után a várható parancsok:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:/usr/local/BerkeleyDB.4.2/build_unix#../dist/configure
root@rdnt03:/usr/local/BerkeleyDB.4.2/build_unix#make
root@rdnt03:/usr/local/BerkeleyDB.4.2/build_unix#make install
</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Töltsük le a Cyrus SASL aktuális változatát (2.1.17), tömörítsük ki és kövessük a doc/install.html-ben található utasításokat!
Itt figyelnünk kell egy kicsit: ugyanis a konfiguráció során néhány env (környezeti változó) paramétert is meg kell adnunk</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:/usr/local/cyrus-sasl-2.1.17#env CPPFLAGS="-I/usr/local/BerkeleyDB.4.2/include"
LDFLAGS="-L/usr/local/BerkeleyDB.4.2/lib" ./configure</PRE
></FONT
></TD
></TR
></TABLE
><P
>A CPPFLAGS és LDFLAGS környezeti változóknak a Berkeley DBD telepítési könyvtárában található include és lib könyvtáraira kell mutatniuk.</P
><P
>Ezután már futtathatók a következõk:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:/usr/local/cyrus-sasl-2.1.17#make
root@rdnt03:/usr/local/cyrus-sasl-2.1.17#make install
root@rdnt03:/usr/local/cyrus-sasl-2.1.17#ln -s /usr/local/lib/sasl2 /usr/lib/sasl2</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Végül, telepítettem az OpenLDAP programot (2.2.5) ugyanazokat az utasításokat használva, mint az SASL-nél
csak futtatva a konfigurációs szkriptet:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:/usr/local/openldap-2.2.5#env CPPFLAGS="-I/usr/local/BerkeleyDB.4.2/include"
LDFLAGS="-L/usr/local/BerkeleyDB.4.2/lib" ./configure</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ezután futtattam a továbbiakat:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:/usr/local/openldap-2.2.5#make depend
root@rdnt03:/usr/local/openldap-2.2.5#make
root@rdnt03:/usr/local/openldap-2.2.5#make install</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Majd létrehoztam a sasl felhasználói adatbázist:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:~# saslpasswd2 -c admin</PRE
></FONT
></TD
></TR
></TABLE
><P
>Jelszót kell majd beírni. FIGYELEM! A felhasználónév ne egy DN (megkülönböztetõ név) legyen. A jelszó ugyanaz legyen mint az admin jelszó a címtár fánál.</P
></LI
><LI
><P
>Most be kell állítani az sasl-regexp direktívát a <EM
>slapd.conf</EM
> fájlban, mielõtt elindítanánk a slapd démont és tesztelni kezdenénk az azonosítást. Az én <EM
>slapd.conf</EM
> fájlom a /usr/local/etc/openldap könyvtárban csücsül:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>sasl-regexp uid=(.*),cn=rdnt03,cn=DIGEST-MD5,cn=auth uid=$1,ou=People,o=Ever</PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez a paraméter ebben a formában van:</P
><P
>uid=&lt;username&gt;,cn=&lt;realm&gt;,cn=&lt;mech&gt;,cn=auth</P
><P
>A felhasználónév az sasl-bõl vétetik, és az ldap keresési sztringbe illesztõdik, a $1 helyére. A territóriumod valószínüleg a FQDN-bõl (domain) jön, de néha nem, mint nálam sem. Ahhoz, hogy megtudjuk mi a felségterületeted a következõket kell tenni:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:~# sasldblistusers2
admin@rdnt03: userPassword
admin@rdnt03: cmusaslsecretOTP</PRE
></FONT
></TD
></TR
></TABLE
><P
>Esetemben az <EM
>rdnt03</EM
> jelzi a domén-t. Ha ez a Te FQDN-d nem lehet problémád. A következõ LDIF fájlt használom:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>dn: o=Ever
o: Ever
description: Organization Root
objectClass: top
objectClass: organization

dn: ou=Staff, o=Ever
ou: Staff
description: These are privileged users that can interact with Organization products
objectClass: top
objectClass: organizationalUnit

dn: ou=People, o=Ever
ou: People
objectClass: top
objectClass: organizationalUnit

dn: uid=admin, ou=Staff, o=Ever
uid: admin
cn: LDAP Adminstrator
sn: admin
userPassword: {SHA}5en6G6MezRroT3XKqkdPOmY/BfQ=
objectClass: Top
objectClass: Person
objectClass: Organizationalperson
objectClass: Inetorgperson

dn: uid=admin,ou=People,o=Ever
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
userPassword: {SHA}5en6G6MezRroT3XKqkdPOmY/BfQ=
displayName: admin
mail: admin@eversystems.com.br
uid: admin
cn: Administrator
sn: admin
</PRE
></FONT
></TD
></TR
></TABLE
><P
>Adjunk bejegyzéseket az LDAP címtárunkhoz a következõ paranccsal:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>slapadd -c -l Ever.ldif -f slapd.conf -v -d 256</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Most elindíthatjuk a <EM
>slapd</EM
> démont, és futtassunk le egy keresést az <EM
>ldapsearch</EM
> parancs használatával:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>root@rdnt03:~# ldapsearch -U admin@rdnt03 -b 'o=Ever' '(objectclass=*)'
SASL/DIGEST-MD5 authentication started
Please enter your password:
SASL username: admin@rdnt03
SASL SSF: 128
SASL installing layers
...
Entries
...</PRE
></FONT
></TD
></TR
></TABLE
></LI
></UL
><P
>Ennyi! Amennyiben jobban szeretnéd használni az SASL-t Kerberos V vagy GSSAPI mechanizmusokkal, íme egy hasznos link:
<A
HREF="http://www.openldap.org/doc/admin22/sasl.html"
TARGET="_top"
>http://www.openldap.org/doc/admin22/sasl.html</A
> Ez az oldal feltételezi, hogy már túl vagy az SASL telepítésén és beállításán.
A levelezõlista segíthet, ha elakadnál: <A
HREF="http://asg.web.cmu.edu/sasl/index.html#mailinglists"
TARGET="_top"
>http://asg.web.cmu.edu/sasl/index.html#mailinglists</A
></P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Graphicaltools"/>6.4. Grafikus LDAP eszközök</H1
><P
>A <B
CLASS="command"
>kldap</B
> egy grafikus ldap kliens a KDE környezetet számára.
A Kldap kényelmes felülettel rendelkezik, és képes valamennyi, a címtárban tárolt információs fa megjelentítésére.
Néhány kép az alkalmazásról valamint a letöltési hely:

<A
HREF="http://www.mountpoint.ch/oliver/kldap/"
TARGET="_top"
>http://www.mountpoint.ch/oliver/kldap/</A
></P
><P
>A <B
CLASS="command"
>KDirAdm</B
> könyvtár kezelõ eszközt KDE 2 vagy újabb környezethez írták.
Célja, hogy összegyûjtse a legáltalánosabban használt könyvtár kezelõ eszközöket:

<A
HREF="http://www.carillonis.com/kdiradm/"
TARGET="_top"
>http://www.carillonis.com/kdiradm/</A
></P
><P
>A <B
CLASS="command"
>Directory Administrator</B
>(Könyvtár Titkár) a legelterjedtebben használt Gnome alapú UNIX rendszerû felhasználó és csoportkezelõ alkalmazás LDAP címtár kiszolgálókhoz.
 A Directory administrator lehetõvé teszi felhasználók és csoportok létrehozását és törlését,
 valamint a felhasználókhoz tartozó névjegyalbum információk, kiszolgálónkénti hozzáférés-szabályozások, és Sendmail útvonalválasztások kezelését.

<A
HREF="http://diradmin.open-it.org/index.php"
TARGET="_top"
>http://diradmin.open-it.org/index.php</A
></P
><P
>A <B
CLASS="command"
>GQ</B
>egy másik, a Gnome környezet számára készült grafikus LDAP kliens, egyszerû felülettel.
 Mûködik KDE alatt is, mint ahogy a Kldap is fut Gnome környezetben.
 További információk és a program letölthetõsége:

<A
HREF="http://biot.com/gq/"
TARGET="_top"
>http://biot.com/gq/</A
></P
><P
><B
CLASS="command"
>LDAP Browser/Editor:</B
> Ez egy fantasztikus eszköz, mindenféle adminisztrációs és böngészési lehetõséggel felszerelve.
 Itt megnézhetõ/letölthetõ: <A
HREF="http://www.iit.edu/~gawojar/ldap/"
TARGET="_top"
>Ldap Browser</A
>.</P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Logs"/>6.5. Naplók</H1
><P
>A slapd a syslog(8) képességeit használja naplózásra. Alapértelmezés
szerinti syslog(8) jellemzõ a user LOCAL4, de az értéke LOCAL0, LOCAL1,
egészen LOCAL7-ig engedélyezett. </P
><P
>A naplók létrehozásához szerkeszteni kell a syslog.conf file-t,
rendszerint a /etc könyvtárban.</P
><P
>Ehhez hasonló sort kell létrehozni: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>local4.*     /usr/adm/ldaplog </PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az alapértelmezett LOCAL4 usert állítja be a syslog jellemzõnek. A
syslog szintaxisában kevésbé járatosak számára a syslog, a syslog.conf
és a syslogd man oldalai segítenek. Ha meg kell változtatni az
alapértelmezett user-t vagy szintet, akkor a következõ opciókkal kell
elindítani a slapd-t: </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-s syslog-level </PRE
></FONT
></TD
></TR
></TABLE
><P
>Ez az opció mondja meg, hogy a slapd milyen hibakeresõ állapotait naplózza a syslog(8).
A szint leírja az üzenetek mennyiségét. A következõ kulcsszavak használhatók csökkenõ
sorrendben: emerg, alert, crit, err, warning, notice, info, debug.

Példa: slapd -f myslapd.conf -s debug </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="screen"
>-l syslog-local-user </PRE
></FONT
></TD
></TR
></TABLE
><P
>Kiválasztja a syslog(8) jellemzõ user-ét. Az értékek a LOCAL0, LOCAL1, egészen LOCAL7-ig terjedhetnek.
 LOCAL4 az alapértelmezett. Viszont ez a lehetõség csak azokon a rendszereken
engedélyezett, amelyek támogatják a helyi usereket a syslog(8) jellemzõként. </P
><P
>Néhány pillantás a létrehozott naplókra (a példában: /usr/adm/ldaplog) segíthet felderíteni és megoldani sok problémát. </P
></DIV
></DIV
><DIV
CLASS="chapter"
><HR/><H1
><A
NAME="References"/>Fejezet 7. Referenciák</H1
><P
>Ebben a fejezetben további LDAP dokumentációk felsorolása találhatók:
hasznos linkek, könyvek és RFC-k. </P
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Urls"/>7.1. URL-ek</H1
><P
>Néhány, az LADP-rõl hasznos információkat tartalmazó tartalmazó weboldal címe
következik. Ezek alapján állítottam össze ezt a HOGYANt, szóval, amennyiben további
információkra lenne szükséged, talán segítenek ezek az oldalak </P
><P
><P
></P
><UL
><LI
><P
>University of Michigan LDAP oldal:
<A
HREF="http://www.umich.edu/~dirsvcs/ldap/"
TARGET="_top"
>http://www.umich.edu/~dirsvcs/ldap/</A
></P
></LI
><LI
><P
>University of Michigan LDAP dokumentációs oldal:
<A
HREF="http://www.umich.edu/~dirsvcs/ldap/doc/"
TARGET="_top"
>http://www.umich.edu/~dirsvcs/ldap/doc/</A
></P
></LI
><LI
><P
>OpenLDAP Adminisztrátorok Kézikönyve (testvéroldal):
<A
HREF="http://www.openldap.org/doc/admin"
TARGET="_top"
>http://www.openldap.org/doc/admin</A
></P
></LI
><LI
><P
>Linux Directory Service:
<A
HREF="http://www.rage.net/ldap/"
TARGET="_top"
>http://www.rage.net/ldap/</A
></P
></LI
><LI
><P
>Red Hat és LDAP:
<A
HREF="http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/ch-ldap.html"
TARGET="_top"
>http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/ref-guide/ch-ldap.html</A
></P
></LI
><LI
><P
>Mandrake Linux - OpenLDAP használata azonosításhoz:
<A
HREF="http://www.mandrakesecure.net/en/docs/ldap-auth.php"
TARGET="_top"
>http://www.mandrakesecure.net/en/docs/ldap-auth.php</A
></P
></LI
><LI
><P
> Az OpenLDAP használata más nyílt forráskódú projektekkel:
<A
HREF="ftp://kalamazoolinux.org/pub/pdf/ldapv3.pdf"
TARGET="_top"
>ftp://kalamazoolinux.org/pub/pdf/ldapv3.pdf</A
></P
></LI
></UL
>
</P
><P
>Magyar nyelvû oldalak:
<P
></P
><UL
><LI
><P
>LDAP-ról pár szóban
<A
HREF="http://padre.web.elte.hu/ldap.html"
TARGET="_top"
>http://padre.web.elte.hu/ldap.html</A
></P
></LI
><LI
><P
>Gentoo Linux - OpenLDAP hitelesítési útmutató
<A
HREF="http://www.gentoo.org/doc/hu/ldap-howto.xml"
TARGET="_top"
>http://www.gentoo.org/doc/hu/ldap-howto.xml</A
></P
></LI
><LI
><P
>NOVELL - Fejlesztõi oldalak
<A
HREF="http://www.novell.hu/developer/opensource.shtml"
TARGET="_top"
>http://www.novell.hu/developer/opensource.shtml</A
></P
></LI
><LI
><P
>Az LDAP szerver installálása - U of SZEGED
<A
HREF="http://www.cab.u-szeged.hu/~bilickiv/h_op/inflab_2001_1_f/3/LDAP.htm"
TARGET="_top"
>http://www.cab.u-szeged.hu/~bilickiv/h_op/inflab_2001_1_f/3/LDAP.htm</A
></P
></LI
><LI
><P
>HOGYAN érjük el az LDAP adatbázist Evolution alól?
<A
HREF="http://kszk.sch.bme.hu/net/lists/evolution_ldap/"
TARGET="_top"
>http://kszk.sch.bme.hu/net/lists/evolution_ldap/</A
></P
></LI
></UL
></P
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="Books"/>7.2. Könyvek</H1
><P
>A legnépszerübb és a leghasznosabb LDAP témájú könyvek:</P
><P
></P
><UL
><LI
><P
>Mark Wilcox: Implementing LDAP</P
></LI
><LI
><P
>Howes and Smith: LDAP: Programming Directory-Enabled Applications
      with Lightweight Directory Access Protocol</P
></LI
><LI
><P
>Howes, Smith, and Good: Understanding and Deploying LDAP Directory
      Servers</P
></LI
></UL
></DIV
><DIV
CLASS="section"
><HR/><H1
CLASS="section"
><A
NAME="RFCs"/>7.3. RFC-k</H1
><P
>Az LDAP fejlesztõket támogató <A
HREF="http://www.rfc-editor.org/rfc/"
TARGET="_top"
>RFC-k</A
>:</P
><P
></P
><UL
><LI
><P
>RFC 1558: A String Representation of LDAP Search Filters</P
></LI
><LI
><P
>RFC 1777: Lightweight Directory Access Protocol</P
></LI
><LI
><P
>RFC 1778: The String Representation of Standard Attribute Syntaxes</P
></LI
><LI
><P
>RFC 1779: A String Representation of Distinguished Names</P
></LI
><LI
><P
>RFC 1781: Using the OSI Directory to Achieve User Friendly Naming</P
></LI
><LI
><P
>RFC 1798: Connectionless LDAP</P
></LI
><LI
><P
>RFC 1823: The LDAP Application Programming Interface</P
></LI
><LI
><P
>RFC 1959: An LDAP URL Format</P
></LI
><LI
><P
>RFC 1960: A String Representation of LDAP Search Filters</P
></LI
><LI
><P
>RFC 2251: Lightweight Directory Access Protocol (v3)</P
></LI
><LI
><P
>RFC 2307: LDAP as a Network Information Service</P
></LI
></UL
></DIV
></DIV
></DIV
></BODY
></HTML
>
