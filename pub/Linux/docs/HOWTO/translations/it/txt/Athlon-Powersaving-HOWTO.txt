<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Athlon Powersaving HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="article"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
><A
NAME="AEN2"
>Athlon Powersaving HOWTO</A
></H1
><H3
CLASS="author"
><A
NAME="AEN4"
>Daniel Nofftz</A
></H3
><DIV
CLASS="affiliation"
><DIV
CLASS="address"
><P
CLASS="address"
><CODE
CLASS="email"
>&#60;<A
HREF="mailto:daniel@nofftz.net.NOSPAM"
>daniel@nofftz.net.NOSPAM</A
>&#62;</CODE
></P
></DIV
></DIV
><P
CLASS="pubdate"
>2007-06-06<BR></P
><DIV
CLASS="revhistory"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.2.3</TD
><TD
ALIGN="LEFT"
>2007-06-06</TD
><TD
ALIGN="LEFT"
>Revised by: dn</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>applicate correzioni da 1.2.3 (grazie a Rajeev V. Pillai)</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.2.2</TD
><TD
ALIGN="LEFT"
>2007-05-30</TD
><TD
ALIGN="LEFT"
>Revised by: dn</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>corretto refuso nel comando disable nforce</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.2.1</TD
><TD
ALIGN="LEFT"
>2007-05-13</TD
><TD
ALIGN="LEFT"
>Revised by: dn</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>correzioni per il nuovo copyright, correzione della liberatoria</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.2</TD
><TD
ALIGN="LEFT"
>2007-05-10</TD
><TD
ALIGN="LEFT"
>Revised by: dn</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>aggiunto coolrun, nuovo URL per la versione Portoghese (Brasiliano), cambio di Licenza (da GNU FDL a GNU GPL), alcuni cambi minori relativi all'accessibilit?</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.1.12</TD
><TD
ALIGN="LEFT"
>2006-04-06</TD
><TD
ALIGN="LEFT"
>Revised by: dn</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>corretti refusi</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="abstract"
><P
></P
><A
NAME="AEN37"
></A
><P
>&#13;       Come abilitare la funzionalit? per il risparmio energetico del processore Athlon/Duron/AthlonXP su certe schede madri/chipset. Questo ? utile per risparmiare elettricit? ed abbassare la temperatura della CPU e del sistema. (Diminuir? anche il rumore, se si usano le ventole a controllo termico presenti nella cassa/sul dissipatore della CPU).
      </P
><P
>Traduzione a cura di Giancarlo Contrafatto. Revisione a cura di Antonio Colombo. Per versioni aggiornate di questo documento e per trovare altra documentazione in italiano sul software libero visitare il sito dell'<A
HREF="http://it.tldp.org"
TARGET="_top"
>ILDP</A
></P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#intro"
>Introduzione</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#basics"
>Nozioni di Base sulla modalit? risparmio energetico dell'Athlon</A
></DT
><DT
>1.2. <A
HREF="#copyright"
>Copyright and License</A
></DT
><DT
>1.3. <A
HREF="#disclaimer"
>Liberatoria</A
></DT
><DT
>1.4. <A
HREF="#feedback"
>Feedback/Domande/Supporto</A
></DT
><DT
>1.5. <A
HREF="#newversions"
>Nuove versioni di questo documento</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#approaches"
>I diversi approcci</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#commandline"
>Metodo della riga di comando (raccomandato)</A
></DT
><DT
>2.2. <A
HREF="#coolrun"
>Lo shell script coolrun (raccomandato)</A
></DT
><DT
>2.3. <A
HREF="#athcool"
>Il programma Athcool (raccomandato)</A
></DT
><DT
>2.4. <A
HREF="#biosup"
>Aggiornamenti del BIOS</A
></DT
><DT
>2.5. <A
HREF="#patch"
>Patch del kernel</A
></DT
><DT
>2.6. <A
HREF="#lvcool"
>La soluzione LVCool</A
></DT
><DT
>2.7. <A
HREF="#fvcool"
>Il programma FVCool</A
></DT
><DT
>2.8. <A
HREF="#AMD760MP"
>Risparmio di energia con l'AMD 760MP</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#else"
>Che cos'altro?</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="#testing"
>Come provare per vedere se funziona</A
></DT
><DT
>3.2. <A
HREF="#bugs"
>Bachi noti/Problemi</A
></DT
><DT
>3.3. <A
HREF="#fix"
>Aggiustare i salti nell'audio e altri problemi</A
></DT
><DT
>3.4. <A
HREF="#viafix"
>Un'altra riparazione per i salti nell'audio ed altri problemi (su certi chipset Via)</A
></DT
><DT
>3.5. <A
HREF="#todo"
>Cose da fare</A
></DT
><DT
>3.6. <A
HREF="#translations"
>Traduzioni</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
NAME="intro"
>1. Introduzione</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="basics"
>1.1. Nozioni di Base sulla modalit? risparmio energetico dell'Athlon</A
></H3
><P
>&#13;Il segnale HLT usato dal normale ciclo inattivo del kernel Linux, normalmente non conduce ad alcun significativo risparmio di energia sui processori della famiglia Athlon/Duron (d'ora in poi riferiti come processori Athlon). Per ottenere un risparmio energetico reale con un processore Athlon, bisogna mettere il processore in modalit? STPGNT (Stop Grant Mode). Usando questa modalit?, il processore ? disconnesso dal front-side bus (FSB) e pu? spegnere alcune parti della CPU come pure ridurre il clock per risparmiare energia.
 </P
><P
>&#13; Certe schede madri/chipset moderni supportano anche una funzione che crea un STPGNT quando viene individuato un segnale HLT.
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="copyright"
>1.2. Copyright and License</A
></H3
><P
>&#13;   This document, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Athlon Powersaving HOWTO</I
></SPAN
>,
   is copyrighted (c) 2003-2007 by <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Daniel Nofftz</I
></SPAN
>.
  </P
><P
>&#13;   This work is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License, version 2,
   as published by the Free Software Foundation.
   </P
><P
>&#13;   A copy of the license is available at
   <A
HREF="http://www.daniel.nofftz.net/linux/gpl_v2.txt"
TARGET="_top"
>&#13;   http://www.daniel.nofftz.net/linux/gpl_v2.txt</A
>.
  </P
><P
>&#13;   Linux is a registered trademark of Linus Torvalds.
  </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="disclaimer"
>1.3. Liberatoria</A
></H3
><P
>&#13;  Questo lavoro ? distribuito nella speranza che sia utile, ma SENZA ALCUNA GARANZIA; senza neppure la garanzia implicata di VENDIBILIT? o IDONEIT? A USI PARTICOLARI. Si veda la Licenza Pubblica Generica GNU per maggiori dettagli.
  </P
><P
>&#13;   Tutti i diritti d'autore appartengono ai rispettivi proprietari, se non altrimenti specificato. Non si deve considerare l'uso di un termine in questo documento come influenzante la validit? di alcun marchio o marchio di servizio. La citazione di specifici prodotti o marche non deve essere interpretata come approvazione.
  </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="feedback"
>1.4. Feedback/Domande/Supporto</A
></H3
><P
>&#13;   Ricevere reazioni a questo documento ? estremamente essenziale. Soluzioni nuove per chipset nuovi sono specialmente necessarie, come lo sono i commenti, sia che le soluzioni proposte funzionino oppure no. Si prega di inviare aggiunte, commenti, critiche e domande al seguente indirizzo e-mail: <CODE
CLASS="email"
>&#60;<A
HREF="mailto:daniel@nofftz.net.NOSPAM>"
>daniel@nofftz.net.NOSPAM&#62;</A
>&#62;</CODE
> <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>? possibile scrivermi sia in Inglese che in Tedesco.</I
></SPAN
>
  </P
><P
>&#13;   Se si vuole sostenermi, ? possibile fare donazioni usando Paypal (allo stesso indirizzo email) oppure inviarmi qualche nuovo pezzo di hardware con cui io possa giocare. ;)
  </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="newversions"
>1.5. Nuove versioni di questo documento</A
></H3
><P
>&#13;    La versione pi? recente di questo HOWTO sar? sempre rese disponibili nel sito:
     <A
HREF="http://www.daniel.nofftz.net/linux/"
TARGET="_top"
>http://www.daniel.nofftz.net/linux/
     </A
>
  </P
><P
>&#13;      Il codice sorgente di questo HOWTO ? ospitato al <A
HREF="http://www.tldp.org"
TARGET="_top"
>Linux Documentation Project</A
> oppure pu? essere richiesto a me.
  </P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="approaches"
>2. I diversi approcci</A
></H2
><P
>&#13;   Nella seguente sezione presento diversi approcci per ottenere lo stesso obbiettivo: risparmiare energia in un sistema basato sul Athlon/Athlon-XP. L'approccio che consiglio al momento, ? quello di usare <SPAN
CLASS="QUOTE"
>"il metodo della riga di comando"</SPAN
> o il programma Athcool (la patch al kernel ? ormai obsoleta e non verr? pi? aggiornata, e la patch LVCool supporta solo una famiglia di chipset).
 </P
><P
>&#13;   Quasi tutti questi approcci assegneranno, nel north bridge del chipset, il bit <SPAN
CLASS="QUOTE"
>"disconnessione abilitata quando si individua un STPGNT"</SPAN
>. Il resto del lavoro viene sostenuto dal sottosistema ACPI del kernel, che invia un segnale STPGNT al processore quando entra in modalit? inattiva acpi-c2.
 </P
><P
>&#13;   Se il kernel in uso non ha ancora supporto per ACPI, bisogna abilitarlo nell'impostazione del kernel e ricompilare nuovamente il kernel. Le opzioni-ACPI si trovano sotto <SPAN
CLASS="guimenu"
>Impostazioni generali</SPAN
>+<SPAN
CLASS="guimenu"
>Impostazioni gestione energetica</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>ACPI</SPAN
>. Devono essere impostate almeno le seguenti scelte: <SPAN
CLASS="guimenuitem"
>Gestione bus ACPI</SPAN
>, <SPAN
CLASS="guimenuitem"
>Sistema</SPAN
> e <SPAN
CLASS="guimenuitem"
>Processore</SPAN
>.
 </P
><P
>&#13;   Oppure per il kernel 2.4.22: <SPAN
CLASS="guimenu"
>Impostazioni generali</SPAN
>+<SPAN
CLASS="guimenu"
>Supporto ACPI</SPAN
>. Deve essere impostata almeno la seguente scelta: <SPAN
CLASS="guimenuitem"
>Processore</SPAN
>.
 </P
><P
>Kernel 2.6.x: <SPAN
CLASS="guimenu"
>Opzioni di risparmio energetico</SPAN
>+<SPAN
CLASS="guimenu"
>ACPI</SPAN
>. Deve essere impostata almeno la scelta <SPAN
CLASS="guimenuitem"
>Processore</SPAN
>. Non si dovrebbe abilitare Zona Termica !!
 </P
><P
>&#13;   Alcuni chipset supportano anche un STPGNT se un segnale HLT ? rilevato. Queste schede madri/chipset non hanno bisogno che sia abilitato ACPI! Al momento mi servono riscontri su quali chipset funzionano senza ACPI e quali lo necessitano. Forse potreste provarlo sulla vostra scheda madre ed inviarmi un email. (vedere <A
HREF="#testing"
>Section 3.1</A
>)
 </P
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="commandline"
>2.1. Metodo della riga di comando (raccomandato)</A
></H3
><P
>&#13;   Per usare la linea di comando ? normalmente necessario abilitare ACPI nel kernel, altrimenti se ne viene avvisati. Non ? necessario riavviare il computer per abilitare il risparmio energetico. Lo si pu? abilitare/disabilitare dalla riga di comando, con il comando seguente:
 </P
><P
>&#13;   <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>su KT133/133A, KX133, KL/KLE133, KM/KN133, ...: (decisamente acpi deve essere abilitato)</DT
><DD
><P
>&#13;            abilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 52=$(printf %x $((0x$(setpci -H1 -s 0:0.0 52) | 0x80)))</B
>
            </P
><P
>&#13;            disabilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 52=$(printf %x $((0x$(setpci -H1 -s 0:0.0 52) &#38; 0x7f)))</B
>
            </P
></DD
><DT
>su KT266/266A/333,KM266/266A/333, ...:</DT
><DD
><P
>abilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 92=$(printf %x $((0x$(setpci -H1 -s 0:0.0 92) | 0x80)))</B
></P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 95=$(printf %x $((0x$(setpci -H1 -s 0:0.0 95) | 0x02)))</B
></P
><P
>disabilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 92=$(printf %x $((0x$(setpci -H1 -s 0:0.0 92) &#38; 0x7f)))</B
></P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 95=$(printf %x $((0x$(setpci -H1 -s 0:0.0 95) &#38; 0xfd)))</B
></P
></DD
><DT
>su KT333CF/KT400/KT400A/KM400/KM400A/KT600:</DT
><DD
><P
>abilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 D2=$(printf %x $((0x$(setpci -H1 -s 0:0.0 D2) | 0x80)))</B
></P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 D5=$(printf %x $((0x$(setpci -H1 -s 0:0.0 D5) | 0x02)))</B
></P
><P
>disabilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 D2=$(printf %x $((0x$(setpci -H1 -s 0:0.0 D2) &#38; 0x7f)))</B
></P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 D5=$(printf %x $((0x$(setpci -H1 -s 0:0.0 D5) &#38; 0xfd)))</B
></P
></DD
><DT
>su KT880:</DT
><DD
><P
>abilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 82=$(printf %x $((0x$(setpci -H1 -s 0:0.0 82) | 0x80)))</B
></P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 85=$(printf %x $((0x$(setpci -H1 -s 0:0.0 85) | 0x02)))</B
></P
><P
>disabilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 82=$(printf %x $((0x$(setpci -H1 -s 0:0.0 82) &#38; 0x7f)))</B
></P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 85=$(printf %x $((0x$(setpci -H1 -s 0:0.0 85) &#38; 0xfd)))</B
></P
></DD
><DT
>su SIS730/733:</DT
><DD
><P
>abilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6B=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6B) | 0x01)))</B
></P
><P
>disabilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6B=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6B) &#38; 0xfe)))</B
></P
></DD
><DT
>su SIS735/740/745/755:</DT
><DD
><P
>abilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6A=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6A) | 0x0003)))</B
></P
><P
>disabilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6A=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6A) &#38; 0xfffc)))</B
></P
></DD
><DT
>su SIS741/741GX/746/748:</DT
><DD
><P
>abilitare:<B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6C=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6C) | 0x0003)))</B
></P
><P
>disabilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6C=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6C) &#38; 0xfffc)))</B
></P
></DD
><DT
>su Nforce:</DT
><DD
><P
>abilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 E7=$(printf %x $((0x$(setpci -H1 -s 0:0.0 E7) | 0x06)))</B
></P
><P
>disabilitare:</P
><P
><B
CLASS="command"
>setpci -v -H1 -s 0:0.0 E7=$(printf %x $((0x$(setpci -H1 -s 0:0.0 E7) &#38; 0xf9)))</B
></P
></DD
><DT
>su Nforce2: (funziona con apci non abilitato)</DT
><DD
><P
>abilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6F=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6F) | 0x10)))</B
></P
><P
>disabilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 6F=$(printf %x $((0x$(setpci -H1 -s 0:0.0 6F) &#38; 0xef)))</B
></P
></DD
><DT
>su AMD751 e AMD760/761:(non per il 760MP!!!)(funziona con acpi non abilitato)</DT
><DD
><P
>&#13;            abilitare: <B
CLASS="command"
>setpci -v -s 0:0.0 0x62=$(printf %x $((0x$(setpci -H1 -s 0:0.0 62) | 0x06)))</B
>
            </P
><P
>&#13;            disabilitare: <B
CLASS="command"
>setpci -v -s 0:0.0 0x62=$(printf %x $((0x$(setpci -H1 -s 0:0.0 62) &#38; 0xf9)))</B
>
            </P
></DD
></DL
></DIV
>
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="coolrun"
>2.2. Lo shell script coolrun (raccomandato)</A
></H3
><P
>&#13;  <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Coolrun</I
></SPAN
> ? un breve shell script che fa risparmiare lavoro usando il metodo della riga di comando. ? sviluppato/mantenuto da Grozdan Nikolov ed ? basato su questo HOWTO.
  </P
><P
>&#13;  Si possono avere pi? informazioni (e scaricarlo) qui:
  <A
HREF="https://sourceforge.net/projects/coolrun/"
TARGET="_top"
>&#13;  https://sourceforge.net/projects/coolrun/</A
>
  </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="athcool"
>2.3. Il programma Athcool (raccomandato)</A
></H3
><P
>&#13;    <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Athcool</I
></SPAN
> ? un breve programma che esegue lo stesso compito del comando <B
CLASS="command"
>setpci</B
> visto sopra. Supporta gli stessi chipset, rileva qual ? il vostro chipset e sceglie le impostazioni adatte per far funzionare il risparmio-energia.
 </P
><P
>&#13;   Si possono avere pi? informazioni (e scaricarlo) qui:
   <A
HREF="http://members.jcom.home.ne.jp/jacobi/linux/softwares.html"
TARGET="_top"
>&#13;   http://members.jcom.home.ne.jp/jacobi/linux/softwares.html</A
>  <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Non sono io l'autore di questo programma!</I
></SPAN
>
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="biosup"
>2.4. Aggiornamenti del BIOS</A
></H3
><P
>&#13;   Su alcune schede pi? recenti i fabbricanti forniscono un aggiornamento del BIOS che predispone
   il bit o i bit necessari nel chipset della scheda (oppure offre la scelta di abilitare o no, nell'impostazione del BIOS). Riferirsi alla homepage del fabbricante della scheda madre per accertarsi se tale aggiornamento ? disponibile.
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="patch"
>2.5. Patch del kernel</A
></H3
><P
>&#13;    La patch si basa su un'altra patch (di Jan Niehusmann) che ho trovato su Newsnet. Ho modificato la patch in modo da aggiungere supporto anche per il chipset KT266/266A. Incidentalmente, la mia patch fa lo stesso lavoro del metodo della riga di comando, tranne che lo fa dall'interno del kernel. Ecco perch? raccomando l'utilizzo del metodo della riga di comando, che ? veramente semplice da usare e non richiede di modificare il kernel.
 </P
><DIV
CLASS="procedure"
><P
><B
>Allora... adesso, passo per passo, ecco come applicare la patch:</B
></P
><OL
TYPE="1"
><LI
CLASS="step"
><P
>&#13;     Per prima cosa, scaricare la patch: </P
><P
><A
HREF="http://www.daniel.nofftz.net/linux/amd_cool.diff"
TARGET="_top"
>&#13;     Patch per il Kernel 2.4.17</A
></P
><P
><A
HREF="http://www.daniel.nofftz.net/linux/amd_cool.linux-2.4.21.diff"
TARGET="_top"
>&#13;         Patch per il Kernel 2.4.21</A
> (grazie a Thomas Reinhardt per aver fatto il porting a 2.4.21)</P
><P
><A
HREF="http://www.daniel.nofftz.net/linux/amd_cool.linux-2.6.5.diff"
TARGET="_top"
>&#13;         Patch per il Kernel 2.6.5</A
> con supporto per tutti i chipset Via fino al KT600 (grazie a Sebastian Droege per aver fatto il porting a 2.6.5 ed aggiunto gli altri Chipsets)</P
><P
><A
HREF="http://www.daniel.nofftz.net/linux/amd_cool.linux-2.6.9.diff"
TARGET="_top"
>&#13;         Patch per il Kernel 2.6.9</A
> che supporta tutti i chipset Via fino al KT600 (grazie a Alexander Hug per aver fatto il porting da 2.6.5 a 2.6.9)</P
></LI
><LI
CLASS="step"
><P
>&#13;     Fare login come root
  </P
></LI
><LI
CLASS="step"
><P
>&#13;     <B
CLASS="command"
>cd /usr/src</B
>
  </P
></LI
><LI
CLASS="step"
><P
>&#13;     Applicare la patch: <B
CLASS="command"
>cat $path-to-patch/amd_cool.diff | patch -p0</B
>
         (Per la nuova patch 2.6.5: cd linux e patch -p1)
  </P
></LI
><LI
CLASS="step"
><P
>&#13;     <B
CLASS="command"
>cd linux</B
>
  </P
></LI
><LI
CLASS="step"
><P
>&#13;     Eseguire Make per il nuovo kernel
  </P
></LI
><LI
CLASS="step"
><P
>&#13;     Riavviare e, al prompt d'avvio del kernel, digitare l'istruzione    <KBD
CLASS="userinput"
> amd_disconnect=yes </KBD
>. Ci? perch? si sa che ci sono dei bachi nel processore Athlon, che potrebbero causare problemi su parecchie schede madre. Provare la patch e se funziona, accodare l'istruzione  <KBD
CLASS="userinput"
> amd_disconnect=yes </KBD
> al file <TT
CLASS="filename"
>/etc/lilo.conf</TT
>.
  </P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="lvcool"
>2.6. La soluzione LVCool</A
></H3
><P
>&#13;   <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>LVCool</I
></SPAN
> ? un piccolo porting del programma
   <A
HREF="http://vcool.occludo.net/"
TARGET="_top"
>&#13;   Vcool per Windows</A
>. Supporta solamente i chipsets KT133/133A e KX133 ed io non posso fornire supporto.
   Pu? essere scaricato
   <A
HREF="http://vcool.occludo.net/VC_Linux.html"
TARGET="_top"
>&#13;   qui</A
>. Questa soluzione non ha bisogno di avere ACPI compilata nel kernel.
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="fvcool"
>2.7. Il programma FVCool</A
></H3
><P
>&#13;   <A
HREF="http://www.nt.phys.kyushu-u.ac.jp/shimizu/download/download.html"
TARGET="_top"
>&#13;   Qui </A
> c'? un altro programma per risparmio energetico che d? supporto a parecchi chipset. Io non l'ho provato ma ho sentito dire che funziona. Dategli un'occhiata ... ? anche accompagnato da un programma che potrebbe essere usato per controllare i chip di monitoraggio presenti su certe schede madri (come il pacchetto lm-sensors).
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="AMD760MP"
>2.8. Risparmio di energia con l'AMD 760MP</A
></H3
><P
>&#13;    C'? un modulo del kernel che abilita il risparmio di energia sul chipset del multiprocessore 76MP.
    Potreste trovarlo
   <A
HREF="http://www.muru.com/linux/amd-smp-idle/"
TARGET="_top"
>&#13;   qui;</A
>. Non so se funziona bene, ma ho ricevuto almeno un'email da qualcuno che diceva che funzionava. Perci?, dategli un'occhiata.
 </P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="else"
>3. Che cos'altro?</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="testing"
>3.1. Come provare per vedere se funziona</A
></H3
><P
>&#13;    Bene ... state usando una delle impostazioni risparmia-energia descritte e volete verificare se funziona. Ecco due modi per controllare:
 </P
><P
>&#13;    Se il diffusore della vostra CPU ha una ventola a controllo termico, sarebbe possibile controllare il livello di rumore della ventola per vedere se funziona o no. Dopo qualche minuto di inattivit?, date qualcosa da fare alla CPU.
 <DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><DIV
CLASS="procedure"
><P
><B
>Normalmente lo faccio cos? :</B
></P
><OL
TYPE="1"
><LI
CLASS="step"
><P
>&#13; diventate superuser (root)
 </P
></LI
><LI
CLASS="step"
><P
>&#13;<B
CLASS="command"
>cd /usr/src/linux</B
>
 </P
></LI
><LI
CLASS="step"
><P
>&#13;    e date qualche cosa da fare al computer: <B
CLASS="command"
>while true; do make clean; make bzImage; done</B
>
</P
></LI
></OL
></DIV
></TD
></TR
></TABLE
></DIV
>
 Dopo circa 20 o 30 secondi si dovrebbe notare che il rumore della ventola sta diventando pi? forte e la ventola gira pi? velocemente. Non scordarsi di terminare il while-loop dopo un po' (qualche minuto) con CTRL-C.
 </P
><P
>&#13;    La stessa procedura descritta qui sopra funziona anche con un programma di monitoraggio della temperatura della CPU (come <A
HREF="http://secure.netroedge.com/~lm78/"
TARGET="_top"
>lm-sensors</A
>, <A
HREF="http://www.nt.phys.kyushu-u.ac.jp/shimizu/download/download.html"
TARGET="_top"
>xmbmon</A
> e <A
HREF="http://www.tinet.org/~com.ea/rtsensors/"
TARGET="_top"
>rtsensors</A
>).
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="bugs"
>3.2. Bachi noti/Problemi</A
></H3
><P
>Ci sono due bachi noti nel processore Athlon/Duron. Questi sono i numeri
 11 e 14 nella <I
CLASS="citetitle"
>AMD Athlon Processor Revision Guide</I
>. Sembra che l'Athlon XP sia molto meno affetto da questi bachi. Cos? se si possiede un Athlon XP (come me) si ? fortunati.</P
><P
>Ci possono essere i problemi seguenti (causati dai bachi):
 <P
></P
><UL
><LI
><P
>salti nell'audio durante l'ascolto</P
></LI
><LI
><P
>salti e rallentamenti video durante la visione</P
></LI
><LI
><P
>trasferimenti ultra-DMA a disco rigido rallentati</P
></LI
><LI
><P
>blocco del sistema</P
></LI
><LI
><P
>problemi con l'USB</P
></LI
><LI
><P
>pigolio acuto riportato da alcuni</P
></LI
></UL
>
 </P
><P
>A volte un aggiornamento BIOS aiuta (questo ? un modo per aggirare il baco 11, che si pu? fare tramite BIOS). Ma, per quanto ne so io, ci sono solo poche schede che hanno questa possibilit? di soluzione nel BIOS).</P
><P
>Per l'Asus A7V133-C, si sa che abilitare la scelta-BIOS <CODE
CLASS="option"
>PCI master read caching</CODE
> risolver? la maggior parte dei problemi. Dunque, si dovrebbe cercare tale funzionalit? nel proprio BIOS.</P
><P
>Si sa anche che su certe schede, la scelta-BIOS <CODE
CLASS="option"
>Delayed Transaction</CODE
> risolve alcuni problemi. Si pu? tentare anche questa opzione.</P
><P
>ATTENZIONE: su schede con il KT133A, ci? potrebbe introdurre il famoso baco VIA-Southbridge!</P
><P
>Da un messaggio su Newsnet, riguardante l'Asus A7V:
 <P
></P
><UL
><LI
><P
>senza delayed transaction: salti nell'audio e nella visualizzazione TV</P
></LI
><LI
><P
>con delayed transaction: niente salti nell'audio e solo leggeri problemi di TV</P
></LI
><LI
><P
>con delayed transaction e master read caching: quasi nessun problema di TV e nessun salto nell'audio.</P
></LI
></UL
>
 </P
><P
>Esistono altre cause di problemi:
 <P
></P
><UL
><LI
><P
>l'alimentazione non ? abbastanza forte da soddisfare le fluttuazioni nel consumo di energia del processore/scheda madre</P
></LI
><LI
><P
>i regolatori di voltaggio di certe schede madri potrebbero avere problemi simili a quello dell'alimentatore ;)</P
></LI
><LI
><P
>state usando un K7S5A (per quanto ne so, questa scheda potrebbe avere un comportamento davvero strambo con il risparmio-energia abilitato)</P
></LI
></UL
>
 </P
><P
>&#13; Se si riscontrano problemi minori col risparmio-energia abilitato ma, ci? nonostante si vuole usare il risparmio-energia, si pu? abilitare il risparmio di energia per default, e disabilitarlo quando si vuole ascoltare musica, guardare la TV, ...
 </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="fix"
>3.3. Aggiustare i salti nell'audio e altri problemi</A
></H3
><P
>Grazie a Michael Hamilton per avermi dato l'idea di come funziona.</P
><P
>Il funzionamento di questa riparazione ? stato confermato da due persone, quindi sembra che funzioni, ma potrebbe non funzionare per tutti. Siete gentilmente invitati a comunicarmi ulteriori esperienze!</P
><P
>Allora: sembra che almeno i salti nell'audio siano curabili massimizzando il timer di latenza PCI del dispositivo.</P
><P
>Per prima cosa bisogna trovare il "pci-address" della scheda-audio. Questo si potrebbe fare con <B
CLASS="command"
>lspci</B
>. Si deve cercare qualcosa come "Multimedia audio controller" oppure "AudioPCI". Annotate il "PCI-address" del dispositivo (qualcosa come:  01:06.0 -&#62; che sta per: bus:slot,function) e impostare al massimo il suo timer di latenza. Questo viene fatto usando il comando setpci:</P
><P
><B
CLASS="command"
>setpci -v -s "pci-address" latency_timer=ff</B
></P
><P
>Per maggiori informazioni sul timer di latenza si pu? vedere <A
HREF="http://www-106.ibm.com/developerworks/linux/library/l-hw2.html"
TARGET="_top"
>qui.</A
></P
><P
>Forse questo pu? servire anche a risolvere altri problemi come i problemi con l'USB e i rallentamenti nei trasferimenti al disco rigido, ma per ora questo non ? stato verificato. Consideratevi liberi di provare (ma non date la colpa a me se non funziona o se la situazione peggiora) e fatemi sapere se funziona. il fatto ? che io non ho nessuno di questi problemi per cui, non mi ? possibile provare.</P
><P
>Se funziona, sar? necessario eseguire questo comando setpci ad ogni avviamento/ri-avviamento del computer. Quindi sarebbe cosa saggia metterlo in uno degli init-script (dopo il caricamento del modulo driver!).</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="viafix"
>3.4. Un'altra riparazione per i salti nell'audio ed altri problemi (su certi chipset Via)</A
></H3
><P
>Grazie a Wijatmoko Prayitno per queste informazioni!</P
><P
>Il funzionamento di questa riparazione ? stato confermato per i chipset KT266, KT/KM333 e KT/KM400. Potrebbe anche funzionare su altri chipset Via. Per cortesia fatemi sapere se funziona su altri chipset Via!</P
><P
>Questo ? abbastanza facile, e funziona come il metodo dalla riga di comando per abilitare il risparmio di energia:</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>Aggiustare il suono sui Chipset KT/KM333 e KT/KM400:</DT
><DD
><P
>&#13;            abilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 70=$(printf %x $((0x$(setpci -H1 -s 0:0.0 70) | 0x08)))</B
>
            </P
><P
>&#13;            disabilitare: <B
CLASS="command"
>setpci -v -H1 -s 0:0.0 70=$(printf %x $((0x$(setpci -H1 -s 0:0.0 70) &#38; 0xf7)))</B
>
            </P
></DD
></DL
></DIV
><P
>Se funziona, sar? necessario eseguire questo comando setpci ad ogni avviamento/ri-avviamento del computer. Quindi sarebbe bene metterlo in uno degli init-script (dopo il caricamento del modulo driver!).</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="todo"
>3.5. Cose da fare</A
></H3
><P
>Aggiungere pi? chipset e pi? informazioni a questo documento.</P
><P
>Aggiungere qualche informazione sul sistema a risparmio energetico delle CPU Athlon64 e Opteron.</P
><P
>Aggiungere qualche informazione sui Notebook e il risparmio energetico.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="translations"
>3.6. Traduzioni</A
></H3
><P
>&#13;   Esistono anche traduzioni nelle lingue seguenti. Al momento, alcune non sono aggiornate.
 </P
><P
><A
HREF="http://tldp.fsf.hu/HOWTO/Athlon-Powersaving-HOWTO-hu/index.html"
TARGET="_top"
>&#13; Ungherese</A
>da Zsolt Mocza</P
><P
><A
HREF="http://perso.wanadoo.es/cmayo/docs/Athlon-Powersaving-HOWTO-es.html"
TARGET="_top"
>&#13; Spagnolo</A
> da Carlos Mayo (very out-dated)</P
><P
><A
HREF="http://www.gigantefotos.com.br/sl/pt_BR_Athlon_Powersaving_HOWTO.html"
TARGET="_top"
>&#13; Portoghese Brasiliano/Portoghese</A
> da Bruno Buys</P
><P
><A
HREF="http://www.daniel.nofftz.net/linux/Athlon-Powersaving-HOWTO-fr.html"
TARGET="_top"
>&#13; Francese</A
> da Mathieu Pillard (very out-dated)</P
><P
><A
HREF="http://www.daniel.nofftz.net/linux/Athlon-Powersaving-HOWTO-it.html"
TARGET="_top"
>&#13; Italiano</A
> da Giancarlo Contrafatto</P
><P
><A
HREF="http://www.pluto.it/ildp/howto.html?chunk=all"
TARGET="_top"
>&#13; Tedesco (solo in parte)</A
> da Fabian Mohren</P
><P
><A
HREF="http://www.linux.or.jp/JF/JFdocs/Athlon-Powersaving-HOWTO/index.html"
TARGET="_top"
>Giapponese</A
> da Seiji Kaneko</P
></DIV
></DIV
></DIV
></BODY
></HTML
>
