  The Linux 3Dfx HOWTO
  Bernd Kreimeier (bk@gamers.org)
  v1.03, 12 Luglio 1997

  Questo documento descrive il supporto del chip acceleratore grafico
  3Dfx per Linux. Elenca l'hardware supportato, descrive come configu­
  rare i driver e risponde alle domande più frequenti. Lo scopo è quello
  di portare i nuovi utenti al successo il più velocemente possibile e
  di ridurre così il traffico nei newsgroup e nelle mailing list Usenet.
  Documentazione tradotta da Piero Boato (pboato@dsi.unive.it).
  ______________________________________________________________________

  Indice Generale



  1. Introduzione
     1.1 Riconoscimenti
     1.2 Storia delle Revisioni
     1.3 Nuove Versioni di Questa Documentazione
     1.4 Commenti e Correzioni
     1.5 Politica di Distribuzione

  2. Tecnologia degli Acceleratori Grafici
     2.1 Principi
     2.2 Configurazioni Hardware (Add-on)
     2.3 Limiti di Prestazioni
        2.3.1 Limiti di fill rate
        2.3.2 Perdita di refresh
        2.3.3 Limiti di primitive
     2.4 Caratteristiche dell'Accelerazione Hardware
     2.5 Cenni sull'Architettura Voodoo Graphics (tm)

  3. Installazione
     3.1 Installare la Scheda
        3.1.1 Risoluzione dei problemi di installazione hardware
        3.1.2 Configurare il kernel
        3.1.3 Configurare i device
     3.2 Disposizione dei Monitor
        3.2.1 Soluzione a schermo singolo
        3.2.2 Soluzione a due schermi
     3.3 Installare la Distribuzione Glide
        3.3.1 Usare il programma detect
        3.3.2 Usare i programmi di test

  4. Risposte Alle Domande Più Frequenti
  5. FAQ: Requisiti?
     5.1 Quali sono i requisiti di sistema?
     5.2 Funziona con Linux-Alpha?
     5.3 Quali chipset sono supportati?
     5.4 Quali schede sono supportate?
     5.5 È supportata la Hercules Stingray 128/3D?
     5.6 È supportata la Intergraph Intense 3D Rush?

  6. FAQ: Voodoo Graphics (tm)? 3Dfx?
     6.1 Chi è 3Dfx?
     6.2 Che cos'e il Voodoo Graphics (tm)?
     6.3 Dove posso trovare altre informazioni sul Voodoo Graphics (tm)?

  7. FAQ: Glide? TexUS?
     7.1 Che cos'è Glide?
     7.2 Che cos'è TexUS?
     7.3 Glide è freeware?
     7.4 È disponibile il sorgente della Glide?
     7.5 La Linux Glide è supportata?
     7.6 Dove posso postare le domande su Glide?
     7.7 Dove spedire i bug report?
     7.8 Chi la sta mantenendo?
     7.9 Come posso contribuire alla Linux Glide?
     7.10 Devo usare la Glide?
     7.11 Dovrei programmare usando l'API della Glide?
     7.12 Qual'è la versione attuale?
     7.13 La Linux Glide è identica alla DOS/Windows Glide?
     7.14 Dove trovo informazioni sulla Glide?
     7.15 Dove trovare alcuni demo per Glide?

  8. FAQ: Glide e SVGA?
  9. FAQ: Glide e XFree86?
     9.1 Funziona con XFree86?
     9.2 Funziona solo a schermo intero?
     9.3 Cosa mi dici sulla GLX per XFree86?

  10. FAQ: Glide versus OpenGL/Mesa?
     10.1 Glide è OpenGL?
     10.2 Mesa funziona con 3Dfx?
     10.3 Dove ottengo altre informazioni su OpenGL?
     10.4 Dove ottengo informazioni su Mesa?
     10.5 Dove ottengo informazioni su Mesa Voodoo?
     10.6 C'è una OpenGL commerciale per Linux e 3Dfx?
     10.7 Cosa mi dici di GLUT?

  11. FAQ: Ma Quake?
     11.1 Cosa mi dici della Quake GL?

  12. FAQ: Risoluzione dei problemi
     12.1 Questo hardware è stato testato?
     12.2 Failed to change I/O privilege?
     12.3 Funziona senza i privilegi di root?
     12.4 Le immagini sono distorte (schermo singolo)?
     12.5 L'ultimo frame è ancora lì (schermo singolo o doppio)?
     12.6 Si attiva il powersave (schermo doppio)?
     12.7 La mia macchina sembra stallare (X11, schermo singolo)?
     12.8 La mia macchina stalla (schermo singolo o doppio)?
     12.9 La mia macchina stalla (uso una scheda VGA S3)?
     12.10 Nessun conflitto di indirizzi, ma stalla comunque?
     12.11 Compile/link error: grSstWinOpen()?
     12.12 Compile/link error: grSstOpen()?
     12.13 Cannot open shared object file?
     12.14 Problemi di compilazione con Mesa
     12.15 Mesa funziona, ma non accede alla scheda?


  ______________________________________________________________________

  11..  IInnttrroodduuzziioonnee

  Questo è il Linux 3Dfx HOWTO. Vuole essere una rapida guida su tutto
  quello che c'è da sapere per installare e configurare il supporto per
  3Dfx sotto Linux. Qui si trovano le risposte alle domande più
  frequenti sia riguardo lo specifico supporto per 3Dfx sia riguardo la
  grafica 3D sotto Linux in generale. Inoltre ci sono alcuni riferimenti
  ad altre fonti di informazione su svariati argomenti collegati alla
  grafica 3D generata a computer da acceleratori hardware.

  Queste informazioni sono valide solo per Linux installato su
  piattaforme Intel. Alcune informazioni possono essere applicabili
  anche su altre architetture, ma non ho esperienza o informazioni
  dirette. Sono da applicare solamente su schede basate sulla tecnologia
  3Dfx, ogni altro acceleratore grafico non rientra nel contesto di
  questa documentazione.

  11..11..  RRiiccoonnoosscciimmeennttii

  La maggior parte delle informazioni contenute in questa documentazione
  sono state fornite dalle persone coinvolte nella trasposizione della
  Glide per Linux e nel suo processo di beta test. Daryll Strauss ha
  fatto la trasposizione, Paul J. Metzger ha modificato il driver Mesa
  Voodoo (scritto da David Bucciarelli) per Linux, Brian Paul lo ha
  integrato con la sua famosa libreria Mesa. Riguardo alla Mesa
  accelerata per Voodoo Graphics (tm) un ringrazziamento particolare va
  a Henri Fousse e Charlie Wallace. La gente alla 3Dfx, in particolar
  modo Gary Sanders e Gary McTaggart, ha fornito molto materiale, come
  ha fatto Ross Q. Smith della Quantum3D.

  Grazie al pacchetto SGML-Tools (conosciuto anche come Linuxdoc-SGML),
  questo HOWTO è disponibile in diversi formati, tutti generati dallo
  stesso file sorgente. Per informazioni sull'SGML-Tools vedi la sua
  homepage all'indirizzo web.inter.NL.net/users/C.deGroot/sgmltools/.
  3Dfx, il logo 3Dfx Interactive, Voodoo Graphics (tm), e Voodoo Rush
  (tm) sono marchi registrati dalla 3Dfx Interactive, Inc. Glide, TexUS,
  Pixelfx e Texelfx sono marchi registrati dalla 3Dfx Interactive, Inc.
  OpenGL è un marchio registrato dalla Silicon Graphics. Obsidian è un
  marchio registrato dalla Quantum3D. Gli altri nomi di prodotti sono
  marchi registrati dai rispettivi proprietari e con ciò sono da
  considerarsi propriamente riconosciuti.

  11..22..  SSttoorriiaa ddeellllee RReevviissiioonnii


     VVeerrssiioonnee 11..0033
        Prima versione resa pubblica.


  11..33..  NNuuoovvee VVeerrssiioonnii ddii QQuueessttaa DDooccuummeennttaazziioonnee

  Puoi trovare la versione più aggiornata di questa documentazione
  presso www.gamers.org/dEngine/xf3D/.

  Le nuove versioni di questa documentazione verranno postate nel
  newsgroup comp.os.linux.answers. Inoltre saranno depositate in vari
  siti per l'ftp anonimo che archiviano questo tipo di informazioni come
  ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/.

  Le versioni ipertestuali di questo e di altri Linux HOWTO sono
  disponibili su molti siti World-Wide-Web, compreso
  sunsite.unc.edu/mdw/mdw.html. La maggior parte delle distribuzioni di
  Linux su CD-ROM includono gli HOWTO, spesso nella directory /usr/doc/,
  inoltre presso alcuni rivenditori si può acquistarne una copia
  stampata.

  Se si fa una traduzione di questo documento in un'altra lingua, me lo
  si faccia sapere che accennerò qui alla sua esistenza.

  11..44..  CCoommmmeennttii ee CCoorrrreezziioonnii

  Confido in te, lettore, per far sì che questo HOWTO sia utile. Se si
  hanno suggerimenti, correzioni o commenti, per piacere me li si
  spedisca (bk@gamers.org), e io cercherò di inserirli nella prossima
  revisione. Per piacere si aggiunga HOWTO 3Dfx al soggetto della
  lettera, così procmail lo scaricherà nell'apposita cartella.

  Prima di mandare bug report o domande, _p_e_r _f_a_v_o_r_e _s_i _l_e_g_g_a _p_e_r _i_n_t_e_r_o
  _q_u_e_s_t_o _H_O_W_T_O e _s_i _i_n_v_i_i_n_o _i_n_f_o_r_m_a_z_i_o_n_i _d_e_t_t_a_g_l_i_a_t_e _s_u_l _p_r_o_b_l_e_m_a.

  Se si publica questa documentazione in un qualche CD-ROM o in altro
  supporto fisico,  sarà apprezzata una copia in omaggio. Mi si scriva
  per il mio indirizzo postale. Inoltre si consideri la possibilità di
  una donazione al Linux Documentation Project come contributo al
  mantenimento della documentazione gratuita per Linux. Per maggiori
  informazioni si contatti il coordinatore dei Linux HOWTO, Greg Hankins
  (gregh@sunsite.unc.edu).

  11..55..  PPoolliittiiccaa ddii DDiissttrriibbuuzziioonnee

  Copyright (C) 1997 Bernd Kreimeier.

  Questo HOWTO è una documentazione gratuita; si può ridistribuirlo e/o
  modificarlo secondo le specifiche della GNU General Public License
  publicata dalla Free Software Foundation; presenti nella versione 2
  della License, o (a scelta) in qualche versione seguente.

  Questa documentazione viene distribuita nella speranza che possa
  essere utile, ma sseennzzaa aallccuunnaa ggaarraannzziiaa; senza anche l'implicita
  garanzia di ccoommmmeerrcciiaabbiilliittàà o di aaddeegguuaatteezzzzaa aadd uunnoo ssccooppoo ppaarrttiiccoollaarree.
  Si veda la GNU General Public License per maggiori particolari.

  Si può ottenere una copia della GNU General Public License scrivendo
  alla Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
  02139, USA.


  22..  TTeeccnnoollooggiiaa ddeeggllii AAcccceelleerraattoorrii GGrraaffiiccii

  22..11..  PPrriinncciippii

  Questa sezione descrive _m_o_l_t_o velocemente la tecnologia degli
  acceleratori grafici per computer, in modo da aiutare a capire i
  concetti usati in seguito. Se se ne vuole sapere di più si può
  consultare un libro su OpenGL.

  Fondamentalmente, la grafica 3D su computer richiede spesso un gran
  numero di calcoli per ogni singolo pixel dello schermo. Questo è vero
  soprattutto per quelle applicazioni che devono rappresentare un mondo
  poligonale nei vari frame di un'animazione interattiva. Anche a basse
  risoluzioni come 320x200, ciò richiede una capacità di calcolo
  superiore a quella che può essere fornita anche dal PC più potente.

  Per superare questo collo di bottiglia, alcune società hanno
  progettato, costruito e venduto processori dedicati alle operazioni
  necessarie per la grafica 3D. Purtroppo praticamente nessuno dei
  produttori di schede ha finora offerto alcun supporto per Linux.
  Fortunatamente, il produttore dei chipset Voodoo Graphics (tm) e
  Voodoo Rush (tm), 3Dfx, ha deciso di supportare l'uso delle schede
  basate sul Voodoo Graphics (tm) con Linux. Ciò che si prefigge questa
  documentazione è di descrivere il supporto attualmente disponibile.

  22..22..  CCoonnffiigguurraazziioonnii HHaarrddwwaarree ((AAdddd--oonn))

  Gli acceleratori grafici si trovano in formati diversi: o come schede
  PCI capaci di passare attraverso il segnale video di una scheda VGA
  (possibilmente un acceleratore 2D o video), o come schede PCI che
  generano grafica sia VGA sia 3D (rimpiazzando totalmente il vecchio
  controller VGA). Le schede 3Dfx basate sul Voodoo Graphics (tm)
  appartengono alla prima categoria. Entreremo nel merito in seguito.

  Se non ci sono conflitti hardware, qualsiasi scheda acceleratrice può
  essere presente sotto Linux senza interferire, ma per accedere
  all'acceleratore, si deve disporre di un driver.

  22..33..  LLiimmiittii ddii PPrreessttaazziioonnii

  22..33..11..  LLiimmiittii ddii ffiillll rraattee

  La grafica accelerata dall'hardware è limitata nelle prestazioni per
  diversi motivi. Un tipico collo di bottiglia è il fill rate: il numero
  totale di pixel che l'hardware può generare in condizioni ottimali in
  un determinato tempo - ad es. circa 40 Mpixel/secondo. Data una
  risoluzione di 640x480 e nessuna sovrascrittura, l'hardware non può
  generare più di 130 frame/secondo.

  Il numero di sovrascritture dipende dall'attuale profondità della
  scena (quanti poligoni interseca un raggio passante per un pixel) e
  dall'efficienza dell'algoritmo di determinazione delle superfici
  visibili usato dall'applicazione. Disegnare ogni pixel due volte
  significa 65 frame/secondo, una sovrascrittura pari a 2 (disegnare
  ogni pixel tre volte) ti porta a circa 43 frame/secondo.



  22..33..22..  PPeerrddiittaa ddii rreeffrreesshh

  Inoltre, probabilmente si utilizzeranno due buffer, invertendo il
  buffer in primo piano con quello nascosto non appena il frame è
  completato. Qui entra in gioco la velocità di refresh del monitor: si
  può invertire i buffer soltanto durante il periodo di refresh. Se la
  propria applicazione salta un periodo di refresh a 60Hz ad ogni frame,
  il frame rate effettivo scenderà a 30Hz (un frame ogni due refresh).
  Perdere due periodi di refresh porterà a 20Hz.

  22..33..33..  LLiimmiittii ddii pprriimmiittiivvee

  Se la propria scena non è molto dettagliata (solo pochi poligoni, ma
  molto grandi, con molte sovrascritture), l'applicazione sarà
  probabilmente limitata dal fill rate - è possibile fornire altre
  primitive (linee, triangoli, poligoni) all'hardware, ma la generazione
  dei pixel non può essere in alcun modo accelerata.

  Invece, se la propria applicazione rappresenta un infinità di piccoli
  triangoli o poligoni, probabilmente ci si ritroverà limitati dalla
  generazione delle primitive. Dato una banda passante del PCI di 33MHz
  per 32bit, o 132 MB/sec, e un pacchetto di dati per triangolo di 3
  vertici (9 coordinate, ognuna a 16bit, più 3 colori, ognuno a 24bit),
  e un frame rate di 20Hz, si potranno trasferire circa 240K
  triangoli/frame - senza contare i dati delle texture, gli accessi al
  disco e le altre operazioni.

  22..44..  CCaarraatttteerriissttiicchhee ddeellll''AAcccceelleerraazziioonnee HHaarrddwwaarree

  Le operazioni di rendering solitamente supportate dagli acceleratori
  hardware che si rispettino sono:

  ·  Texture mapping con correzione prospettica

  ·  Alpha-blending, Nebbia

  ·  Anti-aliasing

  ·  Filtering bi-lineare delle texture

  ·  Livello di dettaglio (LOD) MIP mapping

  ·  Correzione a livello sub-pixel

  ·  Ombreggiatura Gouraud basata sui poligoni e modulazione delle
     texture

  ·  Double buffering

  ·  Buffering di profondità, stencil buffer

  Solitamente, l'hardware permette un aumento della risoluzione dello
  schermo (dato che il rendering esclusivamente software è limitato a
  320x200 pixel per i frame rate interattivi), il filtraggio avanzato,
  la traslucenza reale del canale alpha, e l'uso di frame buffer a
  colori reali a 16bpp o 24bpp.

  22..55..  CCeennnnii ssuullll''AArrcchhiitteettttuurraa VVooooddoooo GGrraapphhiiccss ((ttmm))

  Solitamente, il maggior collo di bottiglia si riscontra nell'accesso
  alla memoria delle texture e ai buffer di profondità e dei fotogrammi.
  Per ogni pixel nello schermo, ci sono almeno uno (mappatura in
  vicinanza), quattro (bi-lineare) o otto (tri-lineare) accessi in
  lettura alla memoria delle texture, più una lettura/scrittura al
  buffer di profondità e una lettura/scrittura al buffer dei fotogrammi.

  L'architettura Voodoo Graphics (tm) separa la memoria delle texture da
  quella dei buffer dei fotogrammi e di profondità suddividendo il
  rendering in due stadi separati, con due unità distinte (il pixelfx e
  il texelfx), ognuna con il proprio collegamento alla memoria
  corrispondente. Questo permette un fill rate superiore alla media, a
  discapito della gestione della memoria (p.es. la memoria dedicata ai
  frame non utilizzata non può essere usata per il caching delle
  texture).

  Inoltre, un Voodoo Graphics (tm) può usare due TMU (unità di gestione
  delle texture o texelfx), ed infine, due Voodoo Graphics (tm) possone
  essere collegati per accedere allo stesso RAMDAC con un meccanismo
  chiamato Scan-Line Interleaving (SLI). In parole povere SLI significa
  che ogni pixelfx disegna una riga di schermo ogni due, il che riduce
  l'impatto della banda passante sulla memoria destinata ai frame di
  ogni pixelfx.

  33..  IInnssttaallllaazziioonnee

  Configurare Linux per supportare gli acceleratori 3Dfx richiede i
  seguenti passi:

  1. Installare la scheda.

  2. Installare la distribuzione Glide.

  3. Compilare, linkare e/o lanciare le applicazioni.

  Le sezioni seguenti trattano ognuno di questi passi in dettaglio.

  33..11..  IInnssttaallllaarree llaa SScchheeddaa

  Per installare l'hardware si seguano le istruzioni del produttore o o
  lo si lasci fare al rivenditore. Non dovrebbe essere necessario
  modificare le impostazioni degli IRQ o del canale DMA, dato che il
  Plug&Pray (tm) o quelle predefinite dalla fabbrica dovrebbero
  funzionare. Le schede add-on qui descritte sono dispositivi mappati in
  memoria e non usano IRQ. L'unico tipo di conflitto da evitare è la
  sovrapposizione di memoria con altri dispositivi.

  Dato che 3Dfx non sviluppa o vende nessuna scheda direttamente, è
  inutile contattarla per qualche problema.

  33..11..11..  RRiissoolluuzziioonnee ddeeii pprroobblleemmii ddii iinnssttaallllaazziioonnee hhaarrddwwaarree

  Per verificare l'installazione e la mappatura della memoria, si esegua
  cat /proc/pci. L'output dovrebbe contenere qualcosa come

  ______________________________________________________________________
    Bus  0, device  12, function  0:
      VGA compatible controller: S3 Inc. Vision 968 (rev 0).
        Medium devsel.  IRQ 11.
        Non-prefetchable 32 bit memory at 0xf4000000.

    Bus  0, device   9, function  0:
      Multimedia video controller: Unknown vendor Unknown device (rev 2).
        Vendor id=121a. Device id=1.
        Fast devsel.  Fast back-to-back capable.
        Prefetchable 32 bit memory at 0xfb000000.
  ______________________________________________________________________


  per una Diamond Monster 3D affiancata ad una Diamond Stealth-64.
  Inoltre un cat /proc/cpuinfo /proc/meminfo può essere utile per sco­
  vare un conflitto e/o mandare un bug report.

  Con i kernel attuali, probabilmente si avrà un avviso in fase di boot
  simile a questo

  ______________________________________________________________________
  Jun 12 12:31:52 hal kernel: Warning : Unknown PCI device (121a:1).
  Please read include/linux/pci.h
  ______________________________________________________________________


  che può essere tranquillamente ignorato. Se si ha una scheda non molto
  comune o si incappati in una nuova revisione, si dovrebbe prendersi
  l'onere di seguire le avvertenze  in /usr/include/linux/pci.h e man­
  dare tutte le informazioni necessarie a linux-pcisupport@cao-
  vlsi.ibp.fr.

  Se si incontra un qualche problema con la scheda, si dovrebe provare a
  verificare se il supporto DOS e/o Win95 o NT funziona. Probabilmante
  non si riceverà alcuna risposta utile da un fabbricante di schede per
  un bug report o una richiesta riguardanti Linux. Anzi, avendo avuto a
  che fare con il sistema di supporto e-mail di Diamond, non mi aspetto
  nessuna risposta utile anche per gli altri sistemi operativi.

  33..11..22..  CCoonnffiigguurraarree iill kkeerrnneell

  Non c'è bisogno di alcuna configurazione del kernel, fin tanto che il
  supporto PCI è abilitato. Si può consultare il Linux Kernel HOWTO per
  i dettagli sulla compilazione del kernel.

  33..11..33..  CCoonnffiigguurraarree ii ddeevviiccee

  I driver correnti non hanno (ancora) bisogno di device speciali. Si
  differenziano così dallo sviluppo degli altri driver (p.es. i driver
  sonori, che usano /dev/dsp e /dev/audio). Il driver usa il device
  /dev/mem che dovrebbe sempre essere disponibile. Di conseguenza, si
  deve usare setuid o i diritti di root per accedere alla scheda
  acceleratrice.

  33..22..  DDiissppoossiizziioonnee ddeeii MMoonniittoorr

  Le schede add-on sono utilizzabili in due modi. Si può sia far passare
  il segnale video dalla propria scheda VGA attraverso la scheda
  accelerata e poi allo schermo, sia usare due schermi
  contemporaneamente. Si faccia riferimento al manuale fornito dal
  costruttore della scheda per i dettagli. Entrambe le configurazioni
  sono state provate con la scheda Monster 3D.

  33..22..11..  SSoolluuzziioonnee aa sscchheerrmmoo ssiinnggoolloo

  Questa configurazione permette di controllare l'operatività di base
  della scheda acceleratrice - se il segnale video non viene trasmesso
  al monitor è possibile che ci sia un guaso hardware.

  Si ricorda che il segnale video può deteriorarsi sensibilmente se
  passa attraverso la scheda video. Fino ad un certo punto questo è
  inevitabile. Comunque, in alcune recensioni si sono lamentati della
  scarsa efficenza dei cavi forniti a.es. con la Monster 3D e a
  giudicare da quello che ho testato, non ci sono stati cambiamenti.

  Ci sono altre pecche nella configurazione ad un solo schermo. Passare
  dalla modalità VGA a quella accelerata farà cambiare la risoluzione e
  la frequenza di aggiornamento, anche se si usa una risoluzione di
  640x480 p.es. con X11. Inoltre, se si sta usanto X11, la propria
  applicazione è responsabile della gestione di tutti gli eventi della
  tastiera e del mouse, quindi si potrebbe rimanere bloccato a causa di
  un cambio di contesto o esposizione sullo schermo dell'X11 (che è
  completamente invisibile quando viene usata la modalità accelerata).
  Si potrebbe usare la modalità SVGA in console invece dell'X11.

  Se si usa la configurazione ad un solo monitor e si cambia spesso
  modo, ci si ricordi che il proprio monitor potrebbe non gradire questo
  tipo di utilizzo.

  33..22..22..  SSoolluuzziioonnee aa dduuee sscchheerrmmii

  La scheda acceleratrice non ha bisogno del segnale d'ingresso VGA.
  Invece di far passare l'output video attraverso la scheda
  acceleratrice, si può attaccare un secondo monitor alla sua uscita e
  usarli entrambi contemporaneamente. Questa soluzione è più costosa, ma
  dà risultati migliori, dato che lo schermo principale funzionerà
  sempre in alta risoluzione senza la perdita di qualità del segnale che
  la soluzione passante comporta. Inoltre si può usare X11 e
  l'accelerazione a schermo intero in parallelo, facilitando lo sviluppo
  e il debugging.

  Il problema è che la scheda accelerata non produce alcun segnale video
  quando non viene utilizzata. Di conseguenza, ogni volta che
  l'accelerazione grafica termina, può attivarsi lo screensave/powersave
  hardware del monitor, se esiste. Anche in questo caso, il proprio
  hardware potrebbe non gradire di essere trattato in questo modo. Si
  dovrebbe usare

  ______________________________________________________________________
  setenv SST_DUALSCREEN 1
  ______________________________________________________________________


  per forzare un output video continuo in questa configurazione.

  33..33..  IInnssttaallllaarree llaa DDiissttrriibbuuzziioonnee GGlliiddee

  Il driver e la libreria Glide sono forniti come un unico archivio
  compresso. Si usino tar e gzip per scompattarlo e si seguano le
  istruzioni nel README e nell'INSTALL che accompagnano la
  distribuzione. Si legga ed esegua lo script di installazione.
  L'installazione copia tutto in /usr/local/glide/include,lib,bin e
  imposta l'ld.conf a cercare là. Dove installare la distribuzione e
  impostare l'ld.conf sono due azioni indipendenti. Se non si esegue
  l'impostazione dell'ld.conf allora si avrà bisogno
  dell'LD_LIBRARY_PATH.

  Se si vogliono compilare le proprie applicazioni grafiche, sarà
  necessario installare gli header file in una locazione accessibile in
  fase di compilazione. Se non si vuole usare l'installazione vista
  sopra (cioè si decide per un'altra locazione), ci si assicuri che ogni
  applicazione possa accedere alle librerie condivise in esecuzione o si
  otterrà un risultato del tipo can't load library 'libglide.sò.

  33..33..11..  UUssaarree iill pprrooggrraammmmaa ddeetteecctt

  Nella distribuzione c'è il programma bin/detect (il sorgente non è
  disponibile). Si deve lanciarlo come root, ed si otterrà qualcosa di
  simile



  ______________________________________________________________________
  slot  vendorId   devId   baseAddr0  command  description
  ----  --------  ------  ----------  -------  -----------
    00    0x8086  0x122d  0x00000000   0x0006  Intel:430FX (Triton)
    07    0x8086  0x122e  0x00000000   0x0007  Intel:ISA bridge
    09    0x121a  0x0001  0xfb000008   0x0002  3Dfx:video multimedia adapter
    10    0x1000  0x0001  0x0000e401   0x0007  ???:SCSI bus controller
    11    0x9004  0x8178  0x0000e001   0x0017  Adaptec:SCSI bus controller
    12    0x5333  0x88f0  0xf4000000   0x0083  S3:VGA-compatible display co
  ______________________________________________________________________


  come risultato. Se non si possiedono i diritti di root, il programma
  se ne verrà fuori con

  ______________________________________________________________________
  Permission denied: Failed to change I/O privilege. Are you root?
  ______________________________________________________________________


  L'output potrà tornare utile per un bug report.

  33..33..22..  UUssaarree ii pprrooggrraammmmii ddii tteesstt

  All'interno della distribuzione Glide si può trovare una directory con
  i programmi di test. Si noti che questi programmi sono sotto il
  copyright della 3Dfx e sono legalmente usabili solo se hai comprato
  una scheda con chipset 3Dfx. Si veda il file LICENSE nella
  distribuzione o il loro sito web www.3dfx.com per i dettagli.

  Si raccomanda di compilare e linkare i programmi di test anche se
  nella distribuzione ci sono i binari. Nota che alcuni programmi
  richiedono che altri file della distribuzione, come alpha.3df, siano
  disponibili nella stessa cartella. Tutti i programmi di test usano una
  risoluzione di 640x480. Alcuni richiedono la pressione di più tasti
  come input, altri chiederanno solamente Press A Key To Begin Test. Si
  faccia attenzione alla perdita del contesto di input se si sta
  eseguendo in contemporanea X11 sullo stesso schermo.

  Si consulti il README.test per una lista del programmi, e per altri
  dettagli.


  44..  RRiissppoossttee AAllllee DDoommaannddee PPiiùù FFrreeqquueennttii

  Le sezioni seguenti rispondono ad alcune delle domande che sono state
  poste nei newsgroup e mailing list Usenet. Le FAQ sono state suddivise
  per comodità in più parti, vale a dire

  ·  FAQ: Requisiti?

  ·  FAQ: Voodoo Graphics (tm)? 3Dfx?

  ·  FAQ: Glide?

  ·  FAQ: Glide e SVGA?

  ·  FAQ: Glide e XFree86?

  ·  FAQ: Glide vs. OpenGL/Mesa?

  ·  FAQ: Quake?

  ·  FAQ: Risoluzione dei problemi?


  Ogni sezione elenca alcune domande e risposte, a cui si possono
  ricondurre la maggior parte dei problemi.


  55..  FFAAQQ:: RReeqquuiissiittii??

  55..11..  QQuuaallii ssoonnoo ii rreeqquuiissiittii ddii ssiisstteemmaa??

  Un PC Linux con PCI 2.1 o seguente, un monitor con risoluzione 640x480
  o maggiore e una scheda acceleratrice 3D basata sul 3Dfx Voodoo
  Graphics (tm). Funziona su P5 o P6, con o senza MMX.

  55..22..  FFuunnzziioonnaa ccoonn LLiinnuuxx--AAllpphhaa??

  Attualmente non ci sono distribuzioni Linux Glide per le piattaforme
  diverse dalla i586. Dato che i sorgenti della Glide non sono
  pubblicamente disponibili, si devono aspettare i binari. Quantum3D ha
  annunciato il supporto per DEC Alpha per la seconda metà del 97. Per
  piacere si contatti Daryll Strauss se si è interessati al supporto di
  questo progetto.

  55..33..  QQuuaallii cchhiippsseett ssoonnoo ssuuppppoorrttaattii??

  Attualmente sotto Linux è supportata la più recente revisione dei
  chipset 3Dfx Voodoo Graphics (tm). I chipset Voodoo Rush (tm) non sono
  tuttora supportati.

  55..44..  QQuuaallii sscchheeddee ssoonnoo ssuuppppoorrttaattee??

  Questa sezione elenca le schede che attualmente si sanno funzionare
  sotto Linux. Non ci sono schede ufficialmente supportate, dato che
  3Dfx non vende alcuna scheda. Queste informazioni sono basate
  sull'ultimo kernel di Linux disponibile al momento di scrivere, ed
  elencano le schede che sono state testate, più le schede che
  dovrebbero funzionare, ma che non sono state provate.

  È importante sottolineare che il supporto Linux per una data scheda
  non richiede solamente un driver per la componente acceleratrice 3D.
  Se una scheda integra anche la parte VGA, allora sarà necessario anche
  il supporto per Linux SVGA e per XFree86. Attualmente, è preferibile
  la soluzione con scheda add-on, dato che ti permette di scegliere una
  scheda grafica normale ben supportata da Linux. Ci sono altri aspetti
  discussi in seguito.

  Sono state testate le seguenti configurazioni:

  ·  Diamond Monster 3D con Diamond Stealth 64 3240XL

  ·  Orchid  Righteous 3D con una scheda grafica basata sul S3-968

  ·  Quantum3D Obsidian 50-4220

  Queste sono le configurazioni esistenti delle schede Obsidian, la
  maggior parte delle quali non sono ancora state testate, ma comunque
  dovrebbero funzionare.

     OObbssiiddiiaann 5500--22220000
        1 pixelfx con 2MB di frame buffer memory, 1 texelfx con 2MB di
        texture memory

     OObbssiiddiiaann 5500--22440000
        1 pixelfx con 2MB di frame buffer memory, 1 texelfx con 4MB di
        texture memory

     OObbssiiddiiaann 5500--44440000
        1 pixelfx con 4MB di frame buffer memory, 1 texelfx con 4MB di
        texture memory

     OObbssiiddiiaann 5500--22222200
        1 pixelfx con 2MB di frame buffer memory, 2 texelfx con 2MB di
        texture memory ciascuno, per un totale di 4MB di texture memory

     OObbssiiddiiaann 5500--44222200
        1 pixelfx con 4MB di frame buffer memory, 2 texelfx con 2MB di
        texture memory ciascuno, per un totale di 4MB di texture memory.
        Questa configurazione era l'originale "Obsidian Pro" che era
        stata usata per il 3DS Plug-in Project (ora fatto con la
        Datapath Realistorm). Datapath era solito chiamarla "Pro VR".

     OObbssiiddiiaann 5500--44444400
        1 pixelfx con 4MB di frame buffer memory, 2 texelfx con 4MB di
        texture memory ciascuno, per un totale di 8MB di texture memory.
        Questa configurazione è il nuovo obiettivo per il 3DS Plug-in
        Project (ora fatto con la Datapath Realistorm).

     OObbssiiddiiaann 5500--22444400
        1 pixelfx con 2MB di frame buffer memory, 2 texelfx con 4MB di
        texture memory ciascuno, per un totale di 8MB di texture memory.

     OObbssiiddiiaann 110000--22444400
        aka 2440-SLI, aka XS-100, o semplicemente "SLI".

        Due schede PCI, ognuna con 1 pixelfx con 2MB di frame buffer
        memory e 2 texelfx con 4MB di texture memory ciascuno, per un
        totale di 8MB di texture memory per scheda. Le texture devono
        essere memorizzate su entrambe le schede, così ciò non equivale
        a 16MB di texture memory. L'uscita video scan line interleaved
        permette di raddoppiare il fill rate.

  Il pacchetto commerciale con software aggiuntivo per Autodesk 3DS MAX
  chiamato Obsidian 3DS, originariamente usava 50-4220 ed ora è dis­
  tribuito assieme ad una scheda 50-4440.

  Le seguenti schede non sono ancora state testate:

  ·  Deltron RealVision Flash 3D

  Con l'attuale Glide 2.4, le seguenti schede basate sul Voodoo Rush
  (tm) non dovrebbero funzionare con Linux:

  ·  Hercules Stingray 128/3D

  ·  Intergraph Intense 3D Rush

  Dato che il chipset Voodoo Rush (tm) supporta operazioni in finestra,
  viene usato su schede VGA accelerate, che richiedono un supporto per
  XFree86 o Linux SVGA non ancora disponibile.

  Le schede non basate sui chipset 3Dfx (e.g. prodotte da S3, Matrox,
  3Dlabs, Videologic) _n_o_n funzionano con i driver 3Dfx e esulano dagli
  scopi di questa documentazione.

  55..55..  ÈÈ ssuuppppoorrttaattaa llaa HHeerrccuulleess SSttiinnggrraayy 112288//33DD??

  In questa scheda, l'acceleratore 2D è montato su una scheda PCI e il
  chipset Voodoo Rush (tm) su una scheda figlia. Attualmente questa
  scheda non è supportata nè dalla Linux Glide, né dai server accelerati
  XFree86. Tuttavia il server SVGA XFree86 funziona secondo quanto
  riportato nella mailing list di Mesa.  Supporta gli 8, i 16 e i 32
  bpp.


  ______________________________________________________________________
  # device section settings
  Chipset "AT24"
  Videoram 4032

  # videomodes tested by Oliver Schaertel
  #  25.18  28.32  for 640 x 480   (70hz)
  #  61.60         for 1024 x 786  (60hz)
  #  120           for 1280 x 1024 (66hz)
  ______________________________________________________________________


  Attualmente non c'è supporto per il Voodoo Rush (tm). Varrebbe la pena
  tentare, ma siccome il produttore non ha fornito alcuna scheda di
  prova, ci si deve arrangiare.

  Per quanto riguarda il componente VGA collegato al Voodoo Rush (tm), è
  un acceleratore della Alliance Semiconductor's ProMotion-AT3D
  multimedia. Il supporto XFree86 per l'AT3D/AT24 non sarà accelerato
  prima della XFree86 4.0, che è lungi a venire.

  55..66..  ÈÈ ssuuppppoorrttaattaa llaa IInntteerrggrraapphh IInntteennssee 33DD RRuusshh??

  Sebbene questa scheda sia integrata in un'unica scheda, è
  sostanzialmente la stessa combinazione di chipset (AT3D, Voodoo Rush
  (tm)), così vale lo stesso discorso fatto in precedenza per la
  Hercules Stingray. Da quanto ha detto David E. Anderson della
  Intergraph, per il momento non hanno intenzione di fornire alcun
  supporto per Linux.


  66..  FFAAQQ:: VVooooddoooo GGrraapphhiiccss ((ttmm))?? 33DDffxx??

  66..11..  CChhii èè 33DDffxx??

  3Dfx è un industria di San Jose produttrice di acceleratori grafici 3D
  per giochi arcade, console, e schede per PC. Il loro sito ufficiale è
  www.3dfx.com. 3Dfx non vende direttamente alcuna scheda, ma hanno una
  società associata, la Quantum3D. Si veda la loro home page al sito
  www.quantum3d.com per maggiori informazioni.

  66..22..  CChhee ccooss''ee iill VVooooddoooo GGrraapphhiiccss ((ttmm))??

  Il Voodoo Graphics (tm) è un chipset prodotto dalla 3Dfx. Viene usato
  nelle schede acceleratrici per PC. Si veda la sezione dell'HOWTO
  sull'hardware supportato.

  C'è un nuovo chipset, il Voodoo Rush (tm), che attualmente non è
  supportato sotto Linux.

  66..33..  DDoovvee ppoossssoo ttrroovvaarree aallttrree iinnffoorrmmaazziioonnii ssuull VVooooddoooo GGrraapphhiiccss ((ttmm))??

  C'è una FAQ della 3Dfx, che dovrebbe essere disponibile al loro sito
  web. Si possono trovare informazioni commerciali nei seguenti siti:

  ·  www.3dfx.com

  ·  www.quantum3d.com

  ·  www.orchid.com

  ·  www.diamondmm.com

  ·  www.deltrontech.com


  77..  FFAAQQ:: GGlliiddee?? TTeexxUUSS??

  77..11..  CChhee ccooss''èè GGlliiddee??

  Glide è un API proprietaria più i driver per accedere
  all'accelerazione grafica 3D hardware basata sui chipset prodotti
  dalla 3Dfx. Glide è stato progettato ed implementato per DOS, Windows
  e Macintosh, ed è stato convertito per Linux da Daryll Strauss.

  77..22..  CChhee ccooss''èè TTeexxUUSS??

  Nella distribuzione è libtexus.so, che è l'Interactive Texture Utility
  Software di 3Dfx. è una libreria di eleborazione delle immagine ed
  alcune utility per preparare le immagini per essere usate con la
  libreria Interactive Glide di 3Dfx. Tra le caratteristiche di TexUS ci
  sono la conversione dei formati dei file, la creazione di MIPmap e il
  supporto per l'Interactive Narrow Channel Compression delle texture di
  3Dfx.

  L'utility texus di TexUS legge le immagini in alcuni dei formati più
  diffusi (TGA, PPM, RGT), genera MIPmap e scrive le immagini come file
  di texture 3Dfx Interactive (vedi a.es. alpha.3df, incluso nella
  distribuzione) o come file immagine per essere controllati. Per i
  dettagli sui parametri di texus e sulle API, si veda la documentazione
  di TexUS.

  77..33..  GGlliiddee èè ffrreeeewwaarree??

  No. Glide non è nè GPL nè soggetta a qualche altra licenza pubblica.
  Si veda il file LICENSE nella distribuzione per i dettagli. Glide
  viene fornita solo in formato binaro e non si dovrebbe usare o
  distribuire alcun file se non quelli rilasciati pubblicamente, se non
  si ha firmato un NDA. La distribuzione Glide inclusi i sorgenti dei
  programmi di test sono sotto il copyright della 3Dfx.

  Lo stesso discorso va fatto per tutti i sorgenti presenti nella
  distribuzione Glide. Secondo le parole della 3Dfx: Questi non sono di
  pubblico dominio, ma possono essere distribuiti liberamente solo ai
  posessori di prodotti 3Dfx. Niente scheda, niente codice!

  77..44..  ÈÈ ddiissppoonniibbiillee iill ssoorrggeennttee ddeellllaa GGlliiddee??

  No. Il sorgente della Glide è reso disponibile solo in base ad uno
  speciale accordo e un NDA con 3Dfx.

  77..55..  LLaa LLiinnuuxx GGlliiddee èè ssuuppppoorrttaattaa??

  Attualmente la Linux Glide non è supportata. Essenzialmente, viene
  fornita sotto le stesse restrizioni della DLL GLQuake.

  Comunque, 3Dfx vuole fornire il maggior supporto possibilie, e sta
  iniziando a muoversi in questa direzione. Per il prossimo periodo, si
  dovrà far riferimento al newsgroup 3Dfx (vedere sotto).

  Inoltre, la pagina web della Quantum3D riporta che il supporto Linux
  (per la Obsidian) è previsto sia per l'architettura Intel sia per
  quella AXP nella seconda metà del 97.

  77..66..  DDoovvee ppoossssoo ppoossttaarree llee ddoommaannddee ssuu GGlliiddee??

  Ci sono alcuni newsgroups attualmente disponibili sul server NNTP
  news.3dfx.com gestiti dalla 3Dfx. Questi gruppi USENET sono dedicati
  alla 3Dfx e a Glide in generale e principalmente forniscono assistenza
  per DOS, Win95 e NT. L'attuale elenco è:


  ______________________________________________________________________
  3dfx.d3d.drivers
  3dfx.events
  3dfx.game.titles
  3dfx.games.glquake
  3dfx.glide
  3dfx.glide.linux
  3dfx.oem.products.diamond.monster3d
  3dfx.oem.products.hercules.stingray128-3d
  3dfx.oem.products.orchid.righteous3d
  3dfx.oem.products.quantum3d.obsidian
  3dfx.oem.products.realvision.flash3d
  3dfx.products
  3dfx.test
  ______________________________________________________________________


  Per piacere si usi news.3dfx.com/3dfx.glide.linux per tutte le domande
  relative alla Linux Glide.

  Una mailing list dedicata alla Linux Glide è in preparazione
  (probabilmente sarà disponibile ad agosto inoltrato). Si spedisca una
  lettera a majordomo@gamers.org, senza alcun soggetto, e con info
  linux-3dfx come corpo del messaggio per avere informazioni sulle
  direttive di posting, l'archivio di hypermail e su come iscriversi
  alla lista o averne, quando disponibile, il compendio.

  77..77..  DDoovvee ssppeeddiirree ii bbuugg rreeppoorrtt??

  Attualmente si deve fare riferimento al newsgroup (vedere sopra), che
  è news.3dfx.com/3dfx.glide.linux. Non c'è nessun supporto e-mail
  ufficiale attivato. Per le domande non specificatamente riguardanti la
  Linux Glide, ci si assicuri di usare un altro newsgroup.

  77..88..  CChhii llaa ssttaa mmaanntteenneennddoo??

  3Dfx nominerà presto un mantenitore ufficiale. Attualmente, il
  mantenitore non ufficiale della conversione per Linux della Glide è
  Daryll Strauss. Per favore si postino i bug report nel newsgroup (v.
  sopra). Se si crede di aver trovato un bug non riportato
  precedentemente, per piacere si scriva a Daryll all'indirizzo
  daryll@harlot.rb.ca.us.

  77..99..  CCoommee ppoossssoo ccoonnttrriibbuuiirree aallllaa LLiinnuuxx GGlliiddee??

  Si possono inviare dettagliati bug report. Un'altra possibilità è
  fornire programmi d'esempio da includere nella distribuzione. Un altro
  grande contributo potrebbe essere aggiungere del codice ai sorgenti
  del driver Mesa Voodoo basato sulla Glide. Si vedano la sezione sul
  Mesa Voodoo in seguito.

  77..1100..  DDeevvoo uussaarree llaa GGlliiddee??

  Sì. Dato che per il momento non ci sono altri driver Voodoo Graphics
  (tm) disponibili per Linux.

  77..1111..  DDoovvrreeii pprrooggrraammmmaarree uussaannddoo ll''AAPPII ddeellllaa GGlliiddee??

  Dipende dall'applicazione che si ha intenzione di sviluppare. La Glide
  è un API proprietaria che è in parte simile alla OpenGL o alla Mesa,
  in parte contiene funzioni disponibili come estensioni di qualche
  implementazione di OpenGL e in parte contiene funzioni non
  riscontrabili da nessuna altra parte se non nella Glide.

  Se si vuole usare l'API OpenGL, si deve usare Mesa (vedere sotto).
  Mesa, o meglio il driver Mesa Voodoo, propone una API che si rifà
  all'API OpenGL, molto ben documentata e largamente usata. Comunque, il
  driver Mesa Voodoo è in versione alpha primitiva, quindi se lo si usa
  si devono accettarne le scarse prestazioni e il mancato supporto di
  alcune funzioni.

  In breve, la scelta è personale - se si cercano le massime prestazioni
  e si accettano i problemi di portabilità ad hardware non-3Dfx, La
  Glide non è una cattiva scelta. Se si tiene al mantenimento, l'OpenGL
  potrebbe essere la scelta miglior a lungo termine.

  77..1122..  QQuuaall''èè llaa vveerrssiioonnee aattttuuaallee??

  La versione della Linux Glide che sarà resa pubblica è la 2.4, dato
  che è la prossima release della Glide per DOS/Windows.

  Nota che questo HOWTO è stato scritto basandosi sulla Linux Glide
  2.3.1, dato che la Glide 2.4 non è ancora stata rilasciata e che la
  conversione per Linux della Glide 2.4 non è ancora stata terminata.
  Visto che l'API non cambierà e visto che non ci sono variazioni
  pianificate per la distribuzione Linux Glide, questa documentazione
  ricoprirà ancora la maggior parte dei problemi.

  77..1133..  LLaa LLiinnuuxx GGlliiddee èè iiddeennttiiccaa aallllaa DDOOSS//WWiinnddoowwss GGlliiddee??

  La versione della Linux Glide che verrà resa pubblica sarà la 2.4,
  seguendo la release della DOS/Windows Glide 2.4. L'API e
  l'implementazione si suppongono essere identiche.

  La Glide 2.2 è stata portata in Linux nell'Aprile 1997. La conversione
  della Glide 2.3.1 è stata fatta nel Giugno 1997. Entrambe prive di una
  ottimizzazione chiave per l'impostazione dei triangoli, che sarà
  inclusa nella release 2.4 della Linux Glide. Le conversioni precedenti
  non sono state rese disponibili pubblicamente e sono state usate solo
  per il beta test.

  77..1144..  DDoovvee ttrroovvoo iinnffoorrmmaazziioonnii ssuullllaa GGlliiddee??

  Ci sono esaurienti informazioni disponibili da 3Dfx. Si può scaricarle
  dalla loro home page a www.3dfx.com/software/download_glide.html. Sono
  gratuite, presumendo che tu abbia comprato una scheda basata
  sull'hardware 3Dfx. Per favore si leggano il regolamento di licenza.

  Come inizio, si può cercare qualcosa dei seguenti testi:

  ·  _G_l_i_d_e _R_e_l_e_a_s_e _N_o_t_e_s

  ·  _G_l_i_d_e _P_r_o_g_r_a_m_m_i_n_g _G_u_i_d_e

  ·  _G_l_i_d_e _R_e_f_e_r_e_n_c_e _M_a_n_u_a_l

  ·  _G_l_i_d_e _P_o_r_t_i_n_g _G_u_i_d_e

  ·  _T_e_x_U_s _T_e_x_t_u_r_e _U_t_i_l_i_t_y _S_o_f_t_w_a_r_e

  ·  _A_T_B _R_e_l_e_a_s_e _N_o_t_e_s

  ·  _I_n_s_t_a_l_l_i_n_g _a_n_d _U_s_i_n_g _t_h_e _O_b_s_i_d_i_a_n

     Sono disponibili come documenti Microsoft Word, e fanno parte della
     distribuzione Glide per Windows, cioè del file d'archivio
     autoscompattante. Per scaricarli separatamente dovrebbe essere
     disponibile la copia postscript a www.3dfx.com. Nota che il numero
     della release non è sempre sintonizzato con quello della Glide.



  77..1155..  DDoovvee ttrroovvaarree aallccuunnii ddeemmoo ppeerr GGlliiddee??

  Si possono trovare i sorgenti di demo per Glide all'interno della
  distribuzione (i programmi di test) e alla home page della 3Dfx. Il
  problema con quest'ultimi è che alcuni richiedono ATB. Per portare
  questi demo sotto Linux, dev'essere completamente riscritto la
  gestione degli eventi.

  Inotre, possono essere utili alcuni dei sorgenti delle demo per OpenGL
  che accompagnano Mesa e GLUT. Anche se l'API della Glide è diverso
  dall'API OpenGL, entrambi mirano alla stessa hardware rendering
  pipeline.


  88..  FFAAQQ:: GGlliiddee ee SSVVGGAA??

  Non si dovrebbero avere problemi a lanciare le applicazioni basate
  sulla Glide utilizzando la modalità VGA sia a schermo singolo sia a
  schermo doppio. Potrebbe essere una buona idea utilizzare una
  risoluzione di 640x480 anche in modalita SVGA, se si sta utilizzando
  una configurazione a schermo singolo.

  99..  FFAAQQ:: GGlliiddee ee XXFFrreeee8866??


  99..11..  FFuunnzziioonnaa ccoonn XXFFrreeee8866??

  Sostanzialmente, l'hardware Voodoo Graphics (tm) non si interessa di
  X. L'X server inoltre non noterà che il segnale video generato
  dall'hardware VGA non giunge al monitor nella configurazione a schermo
  singolo. Se la propria applicazione non è stata scritta facendo
  attenzione all'X, il passaggio della Glide alla modalità a schermo
  intero può causare dei problemi (vedi la sezione Risoluzione dei
  Problemi). Se non interessa il sovraccarico di lavoro che comporta
  scrivere un'applicazione sotto X11, si potrebbe usare la console in
  modalità SVGA.

  Riassumendo: sì, funziona sotto XFree86, ma no, non è cooperante se
  non si scrivono le applicazioni accortamente.

  99..22..  FFuunnzziioonnaa ssoolloo aa sscchheerrmmoo iinntteerroo??

  Vedi sopra. L'hardware Voodoo Graphics (tm) non è conscio di un
  ambiente a finestre, e nemmeno lo è la Linux Glide.

  99..33..  CCoossaa mmii ddiiccii ssuullllaa GGLLXX ppeerr XXFFrreeee8866??

  Ci sono un paio di problemi.

  L'hardware Voodoo Graphics (tm) attualmente supportato e l'attuale
  revisione della Linux Glide funzionano solamente a schermo intero, e
  non sono predisposte per condividere un framebuffer (buffer video,
  memoria video) con un ambiente a finestre. Così GLX o qualsiasi altra
  integrazione con l'X11 non è ancora possibile.

  Il Voodoo Rush (tm) potrebbe essere capace di cooperare con XFree86
  (dato che la parte SVGA della scheda funziona con il server SVGA di
  XFree86), ma non è ancora supportato dalla Linux Glide, così come non
  è ancora supportato dai server S3 o dagli altri server XFree86.

  Inoltre GLX è legato a OpenGL o, nel caso di Linux, a Mesa. Il gruppo
  di XFree86 attualmente sta lavorando per integrare Mesa con i loro X
  server. GLX è in fase beta, XFree86 3.3 ha qualche "aggancio" per GLX.
  Si veda la pagina su GLX di Steve Parker a
  www.cs.utah.edu/~sparker/xfree86-3d/ per le informazioni più recenti.
  Attualmente Mesa usa ancora la sua emulazione GLX con Linux.
  1100..  FFAAQQ:: GGlliiddee vveerrssuuss OOppeennGGLL//MMeessaa??

  1100..11..  GGlliiddee èè OOppeennGGLL??

  No, Glide è un API proprietaria di 3Dfx con alcune caratteristiche
  specifiche per il Voodoo Graphics (tm) e il Voodoo Rush (tm). Una
  OpenGL per 3Dfx è in preparazione (vedi sotto). Alcune caratteristiche
  della Glide potrebbero richiedere le EXTensioni a OpenGL, alcune delle
  quali si trovano già in altre implementazioni (a.es. le texture
  paletizzate).

  La cosa più simile all'OpenGL accelerato dall'hardware per Linux che
  si può attualmente trovare è Mesa di Brian Paul assieme al driver Mesa
  Voodoo di David Bucciarelli (vedi sotto).

  1100..22..  MMeessaa ffuunnzziioonnaa ccoonn 33DDffxx??

  Dalla release 2.3 Beta3, Mesa funziona con la Linux Glide 2.2,
  similmente a Mesa con Glide per DOS/Windows. Ci sono patch Mesa 2.3b3
  per la Linux Glide 2.3.1. Le seguenti versioni di Mesa funzioneranno
  con la Linux Glide 2.4; fin tanto che l'API non cambierà, dovrebbero
  essere sufficienti le patch Mesa 2.3b3. La distribuzione Glide non fa
  parte della distribuzione Mesa.

  Potrebbe essere necessario scaricare l'archivio della libreria Mesa da
  l sito FTP iris.ssec.wisc.edu.

  1100..33..  DDoovvee ootttteennggoo aallttrree iinnffoorrmmaazziioonnii ssuu OOppeennGGLL??

  Si usi la porta di accesso alle info su OpenGL di Mark Kilgard a
  reality.sgi.com/mjk_asd/opengl-links.html, e si proceda da là.

  1100..44..  DDoovvee ootttteennggoo iinnffoorrmmaazziioonnii ssuu MMeessaa??

  La home page di Mesa è www.ssec.wisc.edu/~brianp/Mesa.html. C'è un
  archivio della mailing list di Mesa a www.iqm.unicamp.br/mesa/. Questa
  lista non è dedicata a 3Dfx e Glide, ma se si è interessati ad usare
  l'hardware 3Dfx per accelerare Mesa, è un buon punto di partenza.

  1100..55..  DDoovvee ootttteennggoo iinnffoorrmmaazziioonnii ssuu MMeessaa VVooooddoooo??

  Per le ultime informazioni sul driver Mesa Voodoo mantenuto da David
  Bucciarelli (tech.hmw@plus.it) si veda la home page a www-
  hmw.caribel.pisa.it/fxmesa/.

  1100..66..  CC''èè uunnaa OOppeennGGLL ccoommmmeerrcciiaallee ppeerr LLiinnuuxx ee 33DDffxx??

  3Dfx ha pubblicamente annunciato un'implementazione di OpenGL per
  Windows per quest'anno (seconda metà del '97). Non si sa quando questa
  sarà disponibile anche per Linux.

  Di OpenGL realizzate da terze parti, sono a conoscenza di tre
  prodotti:

  ·  MetroLink MetroOpenGL

  ·  XInside OpenGL

  ·  Evans & Sutherland OpenGL

  L'ultima viene distribuita da Portable Graphics, ed è una
  trasposizione pura e semplice della OpenGL reference software
  implementation, con un kit di linkaggio per una vecchia revisione
  degli X server di XFree86. Portable Graphics non ha mai promesso un
  supporto hardware. Per quel che ne so, questo prodotto non è più
  disponibile.
  Gli altri due hanno promesso il supporto per gli acceleratori
  hardware, ma entrambi sono legati ad una trasposizione proprietaria
  degli X server ed entrambi non supportano alcuna accelerazione 3D, per
  quel che ne so.

  1100..77..  CCoossaa mmii ddiiccii ddii GGLLUUTT??

  La distribuzione GLUT di Mark Kilgard è un posto molto valido per
  ottenere applicazioni d'esempio e molti utili programmi. La si trova a
  reality.sgi.com/mjk_asd/glut3/, e si può prendererla comunque. La
  release attuale è GLUT 3.4.

  Comunque, visto che GLUT gestisce il double buffer, finestre, eventi
  ed altre operazioni intimamente legati all'hardware e al sistema
  operativo, una Voodoo-GLUT richiede alcune modifiche specifiche. C'è
  una alpha release disponibile come parte della più recente
  distribuzione Mesa (David Bucciarelli, Henri Fousse).

  1111..  FFAAQQ:: MMaa QQuuaakkee??

  1111..11..  CCoossaa mmii ddiiccii ddeellllaa QQuuaakkee GGLL??

  La DLL rilasciata da 3Dfx è disponibile solo per Windows. Supporta un
  sottoinsieme di OpenGL specifico per Quake (Vedi
  http://www.cs.unc.edu/~martin/3dfx.html per un elenco non ufficiale
  dei code path supportati. No, questa DLL non è stata portata sotto
  Linux. No, non c'è alcuna versione di Quake basata sulla Glide,
  neanche per Windows. Non ho alcuna notizia su una glQuake per Linux.

  1122..  FFAAQQ:: RRiissoolluuzziioonnee ddeeii pprroobblleemmii

  1122..11..  QQuueessttoo hhaarrddwwaarree èè ssttaattoo tteessttaattoo??

  Si vedano i requisiti hardware scritti prima, c'è un elenco di
  hardware che è stato provato e che funziona.

  1122..22..  FFaaiilleedd ttoo cchhaannggee II//OO pprriivviilleeggee??

  Si deve essere root, o rendere setuid la propria applicazione per
  lanciare un'applicazione basata su Glide. A causa del DMA, il driver
  accede a /dev/mem, che non è accessibile in scrittura da alcuno se non
  da root, per validi motivi. Vedi il README della distribuzione Glide
  per Linux.

  1122..33..  FFuunnzziioonnaa sseennzzaa ii pprriivviilleeggii ddii rroooott??

  Ci sono casi particolari in cui, ovviamente, l'uso di setuid diventa
  un problema. Attualmente ci sono soluzioni in preparazione, che
  richiedono cambiamenti all'interno della libreria stessa.

  1122..44..  LLee iimmmmaaggiinnii ssoonnoo ddiissttoorrttee ((sscchheerrmmoo ssiinnggoolloo))??

  Se si sta usando la configurazione analogica passante, il normale
  schermo SVGA o X11 può apparire considerevolmente male. Si può provare
  ad utilizzare un miglior cavo di connessione di quello fornito con la
  scheda acceleratrice (quelli venduti con la Diamond Monster 3D sono
  solitamente peggiori di quelli distribuiti assieme alla Orchid
  Righteous 3D), ma fino ad un certo punto è inevitabile che ci sia una
  perdita di segnale a causa del percorso di trasmissione aggiuntivo.

  Se l'immagine a pieno schermo 640x480 creata dalla scheda
  acceleratrice risulta distorta, ciò può indicare un problema hardware
  reale. Si deve contattare il costruttore della scheda, non 3Dfx per i
  dettagli, dato che la qualità del segnale video non ha niente a che
  fare con l'acceleratore - il costruttore della scheda sceglie il
  RAMDAC, i driver d'uscita e gli altri componenti responsabili.
  1122..55..  LL''uullttiimmoo ffrraammee èè aannccoorraa llìì ((sscchheerrmmoo ssiinnggoolloo oo ddooppppiioo))??

  Si è terminata la propria applicazione con Ctrl-C o non è terminata
  correttamente. La scheda acceleratrice fornirà all'infinito l'attuale
  contenuto del framebuffer come segnale video finché non le verrà detto
  altrimenti.

  1122..66..  SSii aattttiivvaa iill ppoowweerrssaavvee ((sscchheerrmmoo ddooppppiioo))??

  Quando l'applicazione termina nella configurazione a due schermi, la
  scheda acceleratrice non fornisce più alcun segnale video. Perciò il
  powersave si attiva ogni volta. Per evitarlo, si usi

  ______________________________________________________________________
  setenv SST_DUALSCREEN 1
  ______________________________________________________________________



  1122..77..  LLaa mmiiaa mmaacccchhiinnaa sseemmbbrraa ssttaallllaarree ((XX1111,, sscchheerrmmoo ssiinnggoolloo))??

  Se stai utilizzando X quando lanci una applicazione Glide,
  probabilmente si è mosso il mouse fuori dalla finestra e gli input
  della tastiera non raggiungono più l'applicazione.

  Se l'applicazione è progettata per funzionare concorrentemente con
  X11, si potrebbe o ingrandire la finestra a pieno schermo o usare le
  funzioni XGrabPointer e XGrabServer per reindirizzare tutti gli input
  all'applicazione mentre l'X server non può accedere al monitor. Si
  noti che il catturare tutti gli input con XGrabPointer e XGrabServer
  non qualifica l'applicazione come well-behaved (ovvero che si comporta
  bene con X), e che il tuo programma può bloccare l'intero sistema.

  Se si ha questo problema senza utilizzare X, ci si assicuri che non ci
  siano conflitti hardware (vedi sotto).

  1122..88..  LLaa mmiiaa mmaacccchhiinnaa ssttaallllaa ((sscchheerrmmoo ssiinnggoolloo oo ddooppppiioo))??

  Se il sistema non risponde ad alcun input (si stanno usando due
  monitor e ci si accorge della perdita di fuoco (focus), si potrebbe
  essere in presenza di un conflitto hardware più o meno subdolo. Si
  veda la sezione Risoluzione dei problemi all'installazione per i
  dettagli.

  Se non c'è alcun ovvio conflitto di indirizzi, ci possono essere
  ancora altri problemi (v. sotto). Se si sta scrivendo del proprio
  codice, la ragione più comune di stallo è che non si è fatto lo snap
  dei vertici.  Vedi la sezione sullo snapping nella documentazione
  della Glide.

  1122..99..  LLaa mmiiaa mmaacccchhiinnaa ssttaallllaa ((uussoo uunnaa sscchheeddaa VVGGAA SS33))??

  È possibile che ci sia un problema di sovrapposizione di regioni di
  memoria tipico delle S3. Ci sono alcune informazioni ed una patch al
  problema nominato S3 nel sito web della 3Dfx, ma queste si applicano
  solo a Windows. Da come l'ho capito, la causa del problema è che certe
  schede S3 (le più vecchie revisioni della Diamond Stealth S3 968)
  riservano piu spazio di memoria di quello che effettivamente usano,
  così la Voodoo Graphics (tm) deve essere mappata in una differente
  locazione. Comunque, questo non è stato riportato come un probblema
  sotto Linux, e può essere specifico di Windows.

  1122..1100..  NNeessssuunn ccoonnfflliittttoo ddii iinnddiirriizzzzii,, mmaa ssttaallllaa ccoommuunnqquuee??

  Se si sta usando una scheda madre con un supporto PCI non-standard o
  incompleto, si può provare a mischiare un po' le schede. Sto usando un
  ASUS TP4XE che ha il fatidico "Media Slot" modificato, a.es lo slot4
  PCI ha un connettore addizionale per le schede composite SCSI/Sound
  prodotte dalla ASUS, ed ho avuto grossi problemi quando ho installato
  una Diamond Monster 3D in quello slot. Il sistema ha funzionato senza
  problemi quando ho messo la scheda in uno degli slot regolari.

  1122..1111..  CCoommppiillee//lliinnkk eerrrroorr:: ggrrSSssttWWiinnOOppeenn(())??

  (Errore di compilazione/linkaggio: grSstWinOpen()?)

  Dato che la Linux Glide sarà la versione 2.4, questo errore non
  dovrebbe verificarsi. Questa funzione non era disponibile nella Glide
  e quindi anche nella Linux Glide 2.2; le successive non sono mai state
  rese pubbliche.


  1122..1122..  CCoommppiillee//lliinnkk eerrrroorr:: ggrrSSssttOOppeenn(())??

  (Errore di compilazione/linkaggio: grSstOpen()?)

  Il sorgente della propria applicazione è basato sulla Glide 2.2 e
  questa funzione è stata eliminata nella Glide 2.3. Non essendo più
  disponibile non può essere usata con la Linux Glide 2.4. Al suo posto
  si usi la funzione grSstWinOpen.

  Dato che l'integrazione della Linux Glide con Mesa era basata
  originariamente sulla Glide 2.2, le versioni precedenti di Mesa
  possono produrre errori in fase di compilazione. La release Mesa-2.3b3
  è stata aggiornata per essere usata con la Linux Glide 2.3.1; ci si
  assicuri di avere sia la distribuzione che l'aggiornamento, o
  preferibilmente una nuova revisione di Mesa.


  1122..1133..  CCaannnnoott ooppeenn sshhaarreedd oobbjjeecctt ffiillee??

  (Impossibile aprire il file oggetto condiviso?)


  ______________________________________________________________________
  test25: error in loading shared libraries
  libglide2x.so: cannot open shared object file: No such file or directory
  ______________________________________________________________________


  Se, per una qualche ragione, si ha ancora un file binario compilato
  per una versione differente della Linux Glide o se c'è un'inconsis­
  tenza nell'impostazione del proprio ldconfig, il programma non troverà
  la libreria condivisa. Si controlli il nome (a.es. libglide2x.so) ed
  ci si assicuri di usare le opzioni corrette quando si compila e linka
  - a.es. -lglide potrebbe non funzionare con l'installazione di
  default.

  Si noti che il nome delle revisioni della Linux Glide segue la
  convenzione usata nella distribuzione 3Dfx Windows, non la convenzione
  classica di Linux.


  1122..1144..  PPrroobblleemmii ddii ccoommppiillaazziioonnee ccoonn MMeessaa

  Ci si assicuri di settare USE_GLIDE_FULLSCREEN in fxmesa.h. Si
  controlli che le opzioni del linker (a.es. -lglide) corrispondano al
  nome della libreria Linux Glide installata (a.es. -lglide2x invece).
  Ci si assicuri di usare gli aggiornamenti alla release Mesa-2.3b3 o
  seguenti, dato che tutte le release Mesa fino alla 2.3b3 sono basate
  sulla Linux Glide 2.2. Vedi sopra.

  1122..1155..  MMeessaa ffuunnzziioonnaa,, mmaa nnoonn aacccceeddee aallllaa sscchheeddaa??

  Ci si assicuri di aver ricompilato tutte le librerie (compresi i
  toolkit che i programmi dimostrativi usano - si ricorda che GLUT non
  supporta ancora il Voodoo Graphics (tm)) e di aver rimosso le vecchie
  librerie, si lanci ldconfig e/o si imposti il proprio LD_LIBRARY_PATH
  correttamente. Mesa supporta più driver in parallelo (puoi usare X11
  SHM, off screen rendering e Mesa Voodoo in contemporanea), e si
  potrebbe dover creare e cambiare contesto esplicitamente (si veda la
  funzione MakeCurrent) se il Voodoo Graphics (tm) non è la scelta
  predefinita.



