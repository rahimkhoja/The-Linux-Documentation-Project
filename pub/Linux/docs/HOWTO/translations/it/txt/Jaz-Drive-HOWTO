  Jaz-drive HOWTO
  Herbert S. DaSilva
  v1.8, 12 gennaio 2000

  Questo HOWTO si occupa della configurazione e dell'uso delle unità
  Iomega Jaz da 1 Gb e 2 Gb sotto Linux.  Traduzione a cura di Masetti
  Marco (marcomas@libero.it ).
  ______________________________________________________________________

  Indice Generale


  1. Introduzione
     1.1 Storia
     1.2 Ultima versione
        1.2.1 Storia delle versioni
     1.3 Copyright e marchi registrati (in inglese)
     1.4 Riconoscimenti e ringraziamenti

  2. Hardware Jaz
     2.1 Le unità Jaz
     2.2 I "dischi" dell'unità Jaz
     2.3 L'adattatore Host Jaz Jet
     2.4 Altri adattatori Host SCSI
     2.5 Problemi con i driver del kernel

  3. Riconoscimento dell'unità Jaz
     3.1 Durante il test di Power-On
     3.2 Durante il boot
     3.3 Nome del dispositivo

  4. Usare un disco Jaz
     4.1 Dischi formattati DOS
     4.2 Ripartizionare il disco Jaz
     4.3 Dischi Jaz nativi Linux
     4.4 Controllare i dischi nativi Linux
     4.5 Usare fstab per rendere tutto più semplice
        4.5.1 Dischi formattati DOS
        4.5.2 Dischi formattati Linux
        4.5.3 Mount automatico al boot
     4.6 Il disco "tools" del Jaz

  5. Utilità Linux per le unità Jaz
     5.1 jaztool
        5.1.1 Espellere una cartuccia
        5.1.2 Protezione con password
     5.2 jaZip

  6. Il boot dalla cartuccia Jaz
     6.1 Problemi con il BIOS
     6.2 Installare Linux su una cartuccia Jaz


  ______________________________________________________________________

  11..  IInnttrroodduuzziioonnee

  Iomega Jaz è un'unità disco rimovibile che supporta dischi con
  capacità di 1 o 2 Gigabyte.  Diversamente dalle unità Zip, Iomega Jaz
  è disponibile solo come dispositivo SCSI (interno o esterno), quindi
  per queste unità sono richiesti una scheda di interfaccia SCSI e il
  driver.



  11..11..  SSttoorriiaa

  La gran parte di questo HOWTO si è evoluto a partire da quanto creato
  dal precedente autore, Bob Willmot, (può essere contattato
  all'indirizzo bob@willmot.com), che ha mantenuto l'HOWTO fino alla
  versione 1.6, con l'aiuto e le informazioni fornite dalle seguenti
  persone:


  ·  Grant Gunther, grant@torque.net

  ·  Tom Poindexter, tpoindex@nyx.net

  ·  Todd Woods, woods@cs.uiowa.edu

  ·  Richard B. Melrose, rbm@math.mit.edu

  ·  Phil Howard, phil@charon.milepost.com

  ·  Rick Niess, rniess@ocean.st.usm.edu

  11..22..  UUllttiimmaa vveerrssiioonnee

  L'ultima versione di questo documento può essere reperita presso la
  mia homepage http://www.ultranet.com/~hsd/HOWTO/ dove potete trovare
  la versione HTML per la lettura con il browser, una versione
  PostScript adatta per la stampa e il sorgente SGML.  Altre versioni
  possono essere ottenute in formati differenti nella homepage di LDP
  http://www.linuxdoc.org/.

  11..22..11..  SSttoorriiaa ddeellllee vveerrssiioonnii

  v1.8, 12 gennaio 2000

  ·  Corretto un link HTTP errato

  ·  Aggiunti chiarimenti relativi al codice di jaztool per le unità da
     2 Gb

  v1.7, 18 novembre 1999

  ·  Conversione al formato SGML

  ·  Aggiunte informazioni sulle unità da 2Gb

  ·  Aggiunti esempi sulle voci di fstab

  ·  Aggiornamenti generali

  Per qualsiasi commento/suggerimento/correzione scrivete a: Herb
  DaSilva indirizzo casa <mailto:hsd@ma.ultranet.com> o (se si _n_e_c_e_s_s_i_t_a
  di una risposta urgente) indirizzo lavoro <mailto:herb@aoainc.com>.

  11..33..  CCooppyyrriigghhtt ee mmaarrcchhii rreeggiissttrraattii ((iinn iinngglleessee))

  Copyright © 2000,1999 Herbert S. DaSilva

  This manual may be reproduced in whole or in part, without fee,
  subject to the following restrictions:


  ·  The copyright notice above and this permission notice must be
     preserved complete on all complete or partial copies

  ·  Any translation or derived work must be approved by the author in
     writing before distribution.
  ·  If you distribute this work in part, instructions for obtaining the
     complete version of this manual must be included, and a means for
     obtaining a complete version provided.

  ·  Small portions may be reproduced as illustrations for reviews or
     quotes in other works without this permission notice if proper
     citation is given.

  Exceptions to these rules may be granted for academic purposes: Write
  to the author and ask. These restrictions are here to protect us as
  authors, not to restrict you as learners and educators. All source
  code in this document is placed under the GNU General Public License,
  available via anonymous FTP from the GNU archive site
  <ftp://prep.ai.mit.edu/pub/GNU/COPYING>.

  11..44..  RRiiccoonnoosscciimmeennttii ee rriinnggrraazziiaammeennttii

  Grazie a Stephan Burlot, stephan.burlot@edicom.ch, per aver
  puntualizzato l'errore (o la mancanza di chiarezza) riguardante la
  patch per il supporto ai 2 Gb del programma jaztool, corretto nella
  versione 1.8.

  I miei ringraziamenti vanno inoltre a Mark F. Komarinski per il suo
  "HOWTO-HOWTO" - Questo autore LDP è stato aiutato da Mark, hai fatto
  il tuo dovere. ;-)

  22..  HHaarrddwwaarree JJaazz

  22..11..  LLee uunniittàà JJaazz

  Le unità Jaz sono dei dispositivi SCSI e sono disponibili come unità
  esterne con interfaccia auto-terminante a 50-pin SCSI-2 oppure come
  unità interne, formato 3-1/2, con connettore a 50-pin.

  Sia la versione interna che quella esterna sono disponibili con
  capacità di 1 o 2 Gigabyte, quindi in tutto sono disponibili quattro
  tipi di unità Jaz.

  22..22..  II ""ddiisscchhii"" ddeellll''uunniittàà JJaazz

  I dischi del Jaz sono simili a delle cartucce contenenti una pila di 3
  dischetti da 3.5". Da qui in poi userò in modo intercambiabile i
  termini "cartucce" e "dischi".

  Le cartucce da 1 Gb e da 2 Gb appaiono simili, ma esiste una sottile
  differenza nella loro forma che impedisce ad una cartuccia da 2 Gb di
  essere completamente inserita in una unità da 1 Gb. Ovviamente, questo
  significa che non si possono utilizzare cartucce da 2 Gb nelle unità
  da un 1 Gb.

  Le unità Jaz da 2 Gb sono in grado di leggere, scrivere e formattare
  sia le cartucce da 2 Gb che da 1 Gb.

  22..33..  LL''aaddaattttaattoorree HHoosstt JJaazz JJeett

  Iomega vende un adattatore SCSI sotto il nome di Jaz Jet. Esistono e
  sono utilizzati per questa scheda almeno due chipset SCSI, per questa
  ragione, Jaz Jet non è necessariamente l'adattatore migliore che si
  possa acquistare se si ha bisogno di una unità Jaz. La cosa migliore è
  comprare la scheda che _s_a_i essere supportata dalla tua distribuzione
  Linux (vedi prossima sezione).

  Una delle schede Jaz Jet è basata sulla famiglia degli adattatori
  Adaptec 7800. Linux 2.0 la supporta con il driver aic7xxx che è
  incluso nella gran parte dei kernel che supportano lo standard SCSI
  2.x, forniti nella maggioranza delle distribuzioni Linux.
  L'altro adattatore è basato sul chipset Advanced Systems. Al momento
  del boot questa scheda dovrebbe fornire un messaggio simile a questo:

  Jaz Jet PCI SCSI adapter Copyright Advanced Systems 1996

  In base alla tua distribuzione Linux, per utilizzare questo adattatore
  potresti avere la necessità di ricompilare il kernel (con la variabile
  CONFIG_SCSI_ADVANSYS attivata).

  Personalmente non adoro le sorprese, così se devo acquistare un scheda
  preferisco sceglierne una di qualità, con un connettore da 50-pin e
  che so essere supportata.

  22..44..  AAllttrrii aaddaattttaattoorrii HHoosstt SSCCSSII

  Se utilizzi una scheda SCSI Ultra-Wide con connettore da 68-pin, avrai
  bisogno di un adattatore o di un altro cavo. Gli adattatori funzionano
  molto bene con l'unità Jaz, ma posso essere piuttosto costosi, quindi
  se ti appresti ad acquistare una scheda SCSI principalmente per
  connettere un'unità Jaz, la scelta migliore è una scheda con
  connettore da 50 pin.

  Se hai bisogno di qualche suggerimento, io preferisco l'Adaptec
  AHA-2930U - è economica, veloce e l'unità Jaz si collega, usando
  l'apposito cavo fornito, senza alcun problema. Sfortunatamente il
  supporto per questa scheda è abbastanza recente, quindi a meno che tu
  non abbia una distribuzione Linux aggiornata (kernel 2.2.x),
  probabilmente non sarà supportata. Tuttavia sono disponibili delle
  patch per il driver aic7xxx dei kernel 2.0.36, che ne aggiungono il
  supporto. La AHA-2940U è una scelta altrettanto eccellente, supportata
  da più tempo, però costosa.

  22..55..  PPrroobblleemmii ccoonn ii ddrriivveerr ddeell kkeerrnneell

  Come sempre, prima di acquistare una scheda assicurati che la tua
  distribuzione Linux la supporti esplicitamente. Molti produttori, come
  Adaptec, hanno schede con numeri e lettere _s_i_m_i_l_i ad altre, che però
  usano chipset _c_o_m_p_l_e_t_a_m_e_n_t_e _d_i_v_e_r_s_i, e che quindi necessitano di
  _d_r_i_v_e_r _c_o_m_p_l_e_t_a_m_e_n_t_e _d_i_f_f_e_r_e_n_t_i.

  Come configurare il kernel di Linux per sfruttare la scheda SCSI è
  materia per un documento a parte, perciò non la approfondirò qui.

  Informazioni su come ricompilare il kernel possono comunque essere
  reperite nel file /usr/src/linux/README, oppure per i kernel della
  serie 2.x, nella directory /usr/src/linux/Documentation/ .  Se non
  riesci a trovare questi file, controlla di aver installato i sorgenti
  del kernel.

  Puoi anche consultare il Kernel-HOWTO di Brian Ward
  <http://metalab.unc.edu/mdw/HOWTO/Kernel-HOWTO.html>

  33..  RRiiccoonnoosscciimmeennttoo ddeellll''uunniittàà JJaazz

  33..11..  DDuurraannttee iill tteesstt ddii PPoowweerr--OOnn

  Avendo un controller SCSI installato, al momento dell'accensione della
  macchina o del reset, e prima del boot del sistema operativo, il
  controller andrà ad esaminare il bus SCSI verificando la presenza di
  eventuali dispositivi.

  Se la scheda SCSI è correttamente installata, e la tua unità Jaz è
  collegata e accesa, allora dovrebbe comparire sullo schermo qualcosa
  come "Iomega Jaz 1GB" oppure "Iomega Jaz 2GB".


  Se ciò non avviene, allora non ha senso avviare Linux. Spegni il tuo
  PC e l'unità Jaz e controlla di nuovo che tutto sia a posto. In
  particolare, stacca i cavi e assicurati che nessuno dei pin sia
  piegato, poi riattaccali verificando la perfetta connessione.  Se hai
  più dispositivi SCSI collegati controlla che abbiano tutti un ID
  diverso e che l'ultimo della catena sia terminato.

  Quando l'unità sarà riconosciuta nel test di power-on sarai ormai a
  metà strada.


  33..22..  DDuurraannttee iill bboooott

  Quando Linux effettua il boot il driver SCSI dovrebbe visualizzare
  informazioni circa l'adattatore SCSI e quali sono i dispositivi
  connessi al bus.

  I messaggi di boot variano a seconda del driver e dell'adattatore, e
  vengono registrati nel file /var/log/messages (oppure
  /var/adm/messages) proprio come appaiono sullo schermo durante la fase
  di boot.  Puoi anche rivedere i messaggi dell'ultimo boot dal prompt
  con il comando dmesg.

  Segue l'output ottenuto durante il boot del kernel, versione 2.0.36,
  il controller utilizzato è l'Adaptec 2940 (il driver usato è aic7xxx):


  (scsi0) <Adaptec AHA-2940A Ultra SCSI host adapter> found at PCI 14/0
  (scsi0) Narrow Channel, SCSI ID=7, 3/255 SCBs
  (scsi0) Warning - detected auto-termination
  (scsi0) Please verify driver detected settings are correct.
  (scsi0) If not, then please properly set the device termination
  (scsi0) in the Adaptec SCSI BIOS by hitting CTRL-A when prompted
  (scsi0) during machine bootup.
  (scsi0) Cables present (Int-50 NO, Ext-50 YES)
  (scsi0) Downloading sequencer code... 419 instructions downloaded
  scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.2/3.2.4
  <Adaptec AHA-2940A Ultra SCSI host adapter>
  scsi : 1 host.
  Vendor: iomega Model: jaz 2GB Rev: E.17
  Type: Direct-Access ANSI SCSI revision: 02
  Detected scsi removable disk sda at scsi0, channel 0, id 4, lun 0
  scsi : detected 1 SCSI disks total.
  (scsi0:0:4:0) Synchronous at 10.0 Mbyte/sec, offset 15.
  sda : READ CAPACITY failed.
  sda : status = 1, message = 00, host = 0, driver = 28
  sda : extended sense code = 2
  sda : block size assumed to be 512 bytes, disk size 1GB.



  Se non compare qualcosa di simile a queste linee, probabilmente il tuo
  kernel non è stato configurato correttamente (oppure hai sbagliato nel
  scegliere il kernel precompilato).

  Se la linea "scsi0 :" non appare, allora non hai configurato
  correttamente il driver. Alcuni driver comunque ti daranno dei
  suggerimenti su cosa è andato storto. Se non è stato assegnato un nome
  all'unità, probabilmente quando hai compilato il kernel, hai
  dimenticato di includere il supporto ai dispositivi SCSI.

  Nota l'errore READ CAPACITY failed. La maggior parte dei driver SCSI
  (come questo) riconoscono l'unità come rimovibile, e non vanno in
  confusione quando non possono leggere la tabella delle partizioni.
  Tuttavia, alcune schede SCSI non sono così gentili. Se il tuo PC si
  blocca durante il boot, prova a effettuare il boot con una cartuccia
  inserita nell'unità.

  Consulta i file README presenti in /usr/src/linux/drivers/scsi e il
  Kernel HOWTO per altri suggerimenti di debugging.

  33..33..  NNoommee ddeell ddiissppoossiittiivvoo

  Nell'output della sezione precedente nota il nome grezzo del
  dispositivo SCSI, che in questo caso corrisponde a "sda", il nome
  completo è /dev/sda.  Tipicamente se l'unità Jaz è il solo disco SCSI
  del tuo sistema, il nome sarà /dev/sda.  Se invece il tuo hard-disk
  primario è SCSI, o se la tua unità CD-ROM è SCSI, allora potrebbe
  essere sdb, sdc, etc.

  Qualsiasi nome abbia, hai bisogno di conoscerlo per poter accedere
  all'unità, come spiegato nella successiva sezione.

  44..  UUssaarree uunn ddiissccoo JJaazz

  44..11..  DDiisscchhii ffoorrmmaattttaattii DDOOSS

  I dischi dell'unità Jaz sono pre-formattati da Iomega come singola
  partizione con file-system DOS FAT16.  La partizione singola è di
  solito la quarta partizione del disco (per compatibilità con il Mac -
  il Mac richiede che i dati si trovino nella quarta partizione, mentre
  il PC non si cura della partizione in cui si trovano i dati).

  Linux è perfettamente in grado di leggere e scrivere su un file-system
  di tipo FAT16, quindi puoi usare il disco così com'è.  Per usarlo è
  comunque necessario montarlo, quindi la prima cosa da fare è creare un
  mount point.  In questo documento, noi monteremo tutte le nostre unità
  Jaz sotto /dos_jaz, perciò crea questo mount point (per la maggior
  parte di questo tipo di lavori dovrai essere root).  Quello che quindi
  devi fare, e soltanto una volta, è:

  mkdir /dos_jaz

  In una sezione precedente, ti ho detto che è necessario ricordarsi il
  nome grezzo del dispositivo SCSI. Ti servirà adesso. Se la tua unità
  ha nome /dev/sda allora tutti questi esempi ti funzioneranno.  Se no,
  dovrai sostituire "sda" con l'ID di dispositivo della tua unità Jaz.
  Poiché devi eseguire questi comandi come root, dovrai essere sicuro di
  conoscere i nomi corretti.

  Se usi il kernel 2.0, oppure hai aggiunto il supporto VFAT, puoi
  montare il disco Jaz, mantenendo i nomi lunghi sotto FAT16, in questo
  modo:

  mount -t vfat /dev/sda4 /dos_jaz

  Nota che sebbene VFAT ti permetta di utilizzare i nomi lunghi, questi
  sono ancora case _i_n-sensitive, e benché 'ls' visualizzi i permessi,
  non puoi attualmente cambiarli in nessuno dei file.

  Se il formato "vfat" non è riconosciuto dal comando mount, allora usa
  questo comando:

  mount -t msdos /dev/sda4 /dos_jaz

  Una volta eseguito uno dei due comandi di mount, i file del disco
  compariranno sotto la directory /dos_jaz. Mentre il disco è montato
  non potrai espellerlo.

  Quando hai finito di usare il disco, puoi smontarlo con il comando:


  umount /dos_jaz

  Una volta smontato, per espellere la cartuccia premi il tasto presente
  davanti l'unità.

  44..22..  RRiippaarrttiizziioonnaarree iill ddiissccoo JJaazz

  Siccome il disco Jaz è semplicemente un disco, può essere
  ripartizionato e riformattato come un normale disco fisso. Per essere
  montato comunque devi conoscere quali numeri di partizione sono stati
  usati nella ripartizione.

  Per esempio, se la tabella della partizioni era vuota, ed una
  partizione singola è stata creata come prima partizione, i due comandi
  della precedente sezione diventeranno:

  mount -t vfat /dev/sda1 /dos_jaz

  e

  mount -t msdos /dev/sda1 /dos_jaz

  44..33..  DDiisscchhii JJaazz nnaattiivvii LLiinnuuxx

  I dischi Jaz nativi Linux permettono la memorizzazione dei file con i
  permessi e i nomi di file case-sensitive tipici dello standard Unix.
  L'unico svantaggio è che non possono essere usati su sistemi
  DOS/Windows.

  Un disco Jaz viene visto da Linux come fosse un hard-disk, per chi ha
  familiarità con i tool di gestione dei dischi di Linux, nulla di ciò
  che seguirà sarà una sorpresa.

  Se vuoi cancellare un disco Jaz e creare un file-system nativo Linux
  su di esso dovrai usare fdisk sull'intero disco. Mi raccomando di
  essere particolarmente attento usando fdisk, specialmente se hai un
  hard-disk SCSI, non vorremmo che ti capitasse qualche "accidente". :-)
  In particolare se vuoi cancellare un disco Jaz assicurati, prima di
  ogni modifica, di operare sul dispositivo corretto. Nella maggior
  parte dei casi si usa:

  fdisk /dev/sda

  e quindi si elimina la partizione esistente (con il comando d). Poi si
  crea una nuova partizione con il comando n, la si rende partizione
  primaria numero 1 (usa tutti i cilindri), si usa w per scrivere la
  tabella della partizione sul disco e si chiude l'applicazione con q.

  Una volta che la partizione è stata creata, formattala con:

  mke2fs /dev/sda1

  (L'1 è il numero che hai dato alla partizione con fdisk). Io
  preferisco creare un mount point separato per i dischi Jaz nativi
  Linux e questo lo vedrai tra poco quando parleremo di fstab. Comunque
  creiamo pure la mount point adesso e montiamo il disco:

  mkdir /jaz

  mount -t ext2 /dev/sda1 /jaz

  Come al solito, quando il disco Jaz è montato, non può essere espulso.
  Quando hai terminato di usare il disco, smontalo con:

  umount /jaz

  Una volta smontato, per espellere la cartuccia premi il pulsante
  presente davanti l'unità.

  44..44..  CCoonnttrroollllaarree ii ddiisscchhii nnaattiivvii LLiinnuuxx

  Come le altre unità disco, una volta montato e smontato un disco Jaz
  un certo numero di volte, il sistema lo marcherà come "sporco". Quando
  succede, dovresti ottenere un messaggio come il seguente:

  Mounting unchecked filesystem, /dev/sda1. Recommend running e2fsck.

  Quando vedi questo messaggio, è buona cosa controllare il disco.  Il
  disco prima di tutto deve essere _s_m_o_n_t_a_t_o. Sfortunatamente, otterrai
  il messaggio "sporco" solo quando lo monti, perciò puoi o controllare
  il disco quando lo stai usando oppure smontarlo, controllarlo e
  rimontarlo.  Per controllare il disco usa il seguente comando
  (assumendo che la partizione da controllare sia la prima):

  e2fsck /dev/sda1

  44..55..  UUssaarree ffssttaabb ppeerr rreennddeerree ttuuttttoo ppiiùù sseemmpplliiccee

  Finora abbiamo operato come root per montare e smontare i dischi Jaz e
  abbiamo dovuto scrivere un po' per queste operazioni. Ora però
  aggiungendo un paio di voci al file /etc/fstab, possiamo rendere _m_o_l_t_o
  _p_i_ù semplice l'utilizzo dell'unità Jaz.

  44..55..11..  DDiisscchhii ffoorrmmaattttaattii DDOOSS

  Se hai dei dischi preformattati DOS e hai creato la mount point
  /dos_jaz, puoi aggiungere questa linea al file /etc/fstab:

  /dev/sda4 /dos_jaz vfat defaults,user,nosuid,noauto 0 0

  Con questa linea nella fstab, _q_u_a_l_s_i_a_s_i _u_t_e_n_t_e può montare e smontare
  le cartucce Jaz formattate DOS con i seguenti comandi:

  mount /dos_jaz

  umount /dos_jaz

  Questo perché abbiamo segnalato a Linux, in fstab, l'ID del
  dispositivo Jaz e il tipo di file-system, in più gli abbiamo dato
  l'opzione user per consentire a qualsiasi utente di montare e smontare
  il disco. Naturalmente, se la tua unità Jaz è un'altra invece di sda
  dovrai modificarla.  Questa linea non funzionerà con le cartucce DOS
  che sono state ripartizionate, infatti è necessario introdurre
  un'altra voce nel file fstab che indichi una mount point _s_e_p_a_r_a_t_a (es.
  /dos_jaz2).

  44..55..22..  DDiisscchhii ffoorrmmaattttaattii LLiinnuuxx

  Se hai un disco formattato Linux e hai creato il mount point /jaz,
  puoi aggiungere questa linea in fstab:

  /dev/sda1 /jaz ext2 defaults,user,exec,nosuid,noauto 0 0

  Con questa linea in fstab, _q_u_a_l_s_i_a_s_i _u_t_e_n_t_e può montare e smontare una
  cartuccia Jaz formato Linux con i seguenti comandi:

  mount /jaz

  umount /jaz

  Ancora una volta, noi segnaliamo a Linux, in fstab, l'ID del
  dispositivo Jaz e il tipo di file-system, in più gli abbiamo dato
  l'opzione user per consentire a qualsiasi utente di montare e smontare
  il disco.  Qualche amministratore di sistema potrebbe non gradire
  l'opzione exec, in quanto ci sono rischi per la sicurezza a lasciare
  che qualsiasi utente possa eseguire file di origine sconosciuta
  dall'unità. Tuttavia la presenza dell'opzione nosuid rende questi
  rischi minimi.

  44..55..33..  MMoouunntt aauuttoommaattiiccoo aall bboooott

  Entrambi gli esempi su fstab hanno abilitata l'opzione noauto, questa
  impedisce che il disco venga automaticamente montato nella fase di
  boot.  In genere, questa è una buona idea, in quanto se nessun disco è
  presente nell'unità Jaz al boot del computer, oppure se l'unità è
  spenta, si possono ottenere una serie di problemi dipendenti dal
  driver SCSI in uso.

  Se sei _c_e_r_t_o di voler montare l'unità Jaz al boot, rimuovi allora
  l'opzione noauto e assicurati, prima di ogni boot, che l'unità sia
  accesa e che una cartuccia sia inserita.  Nota che ci deve essere una
  sola voce in fstab per quanto riguarda l'unità Jaz auto-montante,
  altrimenti otterrai gli stessi problemi che si hanno non inserendo una
  cartuccia nell'unità.

  44..66..  IIll ddiissccoo ""ttoooollss"" ddeell JJaazz

  Con alcune unità Jaz, il software per utilizzare l'unità è fornito su
  una cartuccia Jaz invece che su un CD-ROM. Il "problema" con questi
  dischi è che la protezione software in scrittura è abilitata, quindi
  l'utente non può cancellare il disco finché i tools non vengono
  installati almeno una volta.

  Ci sono diversi modi per recuperare il disco "tools" del Jaz:

  ·  Installare i tools su un computer DOS/Windows.

  ·  Usare un computer DOS/Windows con i tools Jaz già installati e
     rimuovere la protezione con password.

  ·  Usare una delle utilità Linux citate in una successiva sezione per
     rimuovere la protezione con password.

  Se hai accesso ad uno dei programmi che rimuovono la protezione con
  password, tutto quello di cui hai bisogno è della password usata da
  Iomega, che è:

  APlaceForYourStuff

  Nota che le maiuscole sono importanti.

  55..  UUttiilliittàà LLiinnuuxx ppeerr llee uunniittàà JJaazz

  55..11..  jjaazzttooooll

  jaztool è un'utility scritta da Bob Willmot per supportare alcune
  caratteristiche delle unità Jaz (inclusi espulsione via software e
  protezione in scrittura). jaztool mi piace perché i comandi possono
  essere inclusi in comandi alias e negli script. Inoltre è facile da
  compilare e installare.

  Il sorgente originale di jaztool può essere reperito presso
  http://www.willmot.com/jaztool/ e ne è fatto il mirror anche al mio
  sito http://www.ultranet.com/~hsd/HOWTO/index.shtml#jaztool

  Nota che per usare jaztool con le unità Jaz da 2Gb, devi modificare
  UNA linea di codice.  Modifica la linea 188 da:

  return(!strncasecmp(id,"IOMEGA JAZ 1GB",15));

  a:

  return(!strncasecmp(id,"IOMEGA JAZ",11));

  NNOOTTAA:: Ci sono dduuee ssppaazzii tra IOMEGA e JAZ nelle due linee di codice
  precedenti. SGML (o forse giusto HTML) apparentemente rimuovono gli
  spazi extra.

  Dopo aver compilato e installato jaztool, per poterlo utilizzare devi
  essere root altrimenti non funzionerà.

  Io uso jaztool regolarmente, perciò se hai qualche domanda sarò felice
  di aiutarti.

  55..11..11..  EEssppeelllleerree uunnaa ccaarrttuucccciiaa

  Per espellere la cartuccia usa il seguente comando:

  jaztool /dev/sda eject

  Questa linea potrebbe sembrare lunga da scrivere, comunque è facile
  creare un buon alias come questo:

  alias jazej 'umount /jaz; jaztool /dev/sda eject'

  55..11..22..  PPrrootteezziioonnee ccoonn ppaasssswwoorrdd

  Ci sono due modalità di protezione con password ed entrambe sono
  controllate tramite software. Una è la protezione in scrittura e
  l'altra è la protezione in lettura/scrittura. jaztool ti permette di
  sbloccare un disco protetto in scrittura, mentre la protezione
  lettura/scrittura non è supportata, in quanto sotto Linux, un
  dispositivo che non può essere letto non può essere nemmeno montato.

  Se la cartuccia è protetta in scrittura (come per esempio il disco Jaz
  tools), usa il seguente comando per sbloccarlo (il disco non deve
  essere montato):

  jaztool /dev/sda rw

  jaztool a questo punto si aspetterà una password e se questa è
  corretta, il disco verrà sbloccato ed espulso.  Questo deve accadere
  per permettere al driver SCSI di attivare la nuova modalità appena la
  cartuccia verrà reinserita.

  Per rendere di nuovo il disco protetto in scrittura, usa il comando
  seguente:

  jaztool /dev/sda ro

  jaztool nuovamente si aspetterà la password, quindi il disco verrà
  bloccato ed espulso.

  Nota che jaztool non supporta la caratteristica del "Sprotetto fino ad
  espulsione" presente nel mondo Windows.  Se rimuovi la protezione con
  password, essa rimarrà assente fino a successivo ripristino.

  55..22..  jjaaZZiipp

  Se desideri una semplice e amichevole interfaccia grafica per
  controllare il tuo Jaz (e Zip!), esiste l'utilità jaZip.  Dai
  un'occhiata all'indirizzo: http://www.scripps.edu/~jsmith/jazip/


  Non ho mai usato jaZip, perciò contatta l'autore direttamente per
  eventuali domande. Informazioni su come contattarlo si trovano sul
  sito web sopra citato.

  66..  IIll bboooott ddaallllaa ccaarrttuucccciiaa JJaazz

  66..11..  PPrroobblleemmii ccoonn iill BBIIOOSS

  Se l'unità Jaz coesiste con altri hard-disk SCSI, la maggior parte dei
  BIOS vorranno effettuare il boot del disco SCSI con l'ID più basso.
  L'unità Jaz può essere impostata con ID 0-6 e tipicamente è venduta
  con l'ID SCSI preimpostata a 5. Alcuni BIOS individuano e saltano i
  dispositivi rimovibili come il Jaz. Se vuoi effettuare il boot dal Jaz
  e il tuo BIOS te lo consente, allora imposta il tuo hard-disk SCSI
  principale come Id 1 e poi modifica l'Id SCSI del Jaz da 5 a 0.

  In genere, l'unità Jaz convive con un hard-disk IDE e quasi tutti i
  BIOS vorranno effettuare il boot dal primo hard-disk IDE. Per
  effettuare il boot prima di tutto da un dispositivo SCSI, alcuni BIOS
  ti permettono comunque di modificare un'impostazione nel setup. Altri
  potrebbero richiedere di disabilitare le unità IDE sempre nel setup
  del BIOS.  Altri ancora potrebbero richiedere di staccare fisicamente
  le unità IDE o di disabilitare l'interfaccia IDE.

  66..22..  IInnssttaallllaarree LLiinnuuxx ssuu uunnaa ccaarrttuucccciiaa JJaazz

  Sebbene eseguire Linux su una cartuccia Jaz sia _m_o_l_t_o più lento che
  non da un hard-disk, l'unità Jaz rappresenta un eccellente ERD
  (Emergency Repair Disk).  Inoltre è piacevole essere in grado di fare
  una scappatina in qualche nuovo sistema Linux o provare Linux su
  qualche altra macchina equipaggiata con un'unità Jaz.

  Il modo di gran lunga più semplice per installare Linux su una
  cartuccia Jaz è quello di seguire le procedure di installazione della
  tua distribuzione Linux preferita, avendo come unica unità disco il
  Jaz. Se non sei completamente a tuo agio con LILO, questa è l'unica
  strada percorribile.

  Se vuoi effettuare una "installazione" dal tuo sistema in funzione,
  spesso si può avere successo nel "costruire" un sistema bootabile
  dalla cartuccia Jaz.


  ·  Partiziona l'unità e crea il file-system. Probabilmente avrai
     bisogno di creare anche una partizione di swap, ma se hai molta RAM
     forse no.  Monta la nuova root come /jaz e ogni ulteriore
     partizione dentro questa directory in modo appropriato.

  ·  Copia tutti i file nelle directory relative. Assicurati che tutti i
     file contenuti in /dev siano copiati. Assicurati inoltre che tutti
     i permessi, le proprietà e i group-id siano mantenuti.

  ·  Modifica i file sulla cartuccia Jaz in modo tale che soddisfino le
     richieste per il boot da cartuccia. In particolare mi raccomando di
     modificare /jaz/etc/fstab in modo che la/le partizione/i vengano
     appropriatamente montate. Inoltre adatta anche /jaz/etc/lilo.conf.

  ·  Ci sono due alternative per installare il boot loader LILO:

     ·  Creare un floppy contenente l'immagine del kernel e usare rdev
        per far sì che monti la cartuccia Jaz come root. Quando pronto,
        la prima volta effettua il boot da floppy, ed esegui LILO per
        rendere l'MBR del Jaz bootabile.

     ·  Per installare l'MBR bootabile sulla tua cartuccia Jaz puoi
        eseguire LILO anche dal tuo sistema non-JAZ in funzione. Per
        informazioni complete su questa scelta consulta il LILO mini-
        HOWTO di Alessandro Rubini
        <http://metalab.unc.edu/mdw/HOWTO/mini/LILO.html>.



