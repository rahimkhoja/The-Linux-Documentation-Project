<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Oracle 9i sotto Fedora Core 3 - Installazione HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="article"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
><A
NAME="AEN2"
>Oracle 9i sotto Fedora Core 3 - Installazione HOWTO</A
></H1
><H3
CLASS="author"
><A
NAME="AEN4"
>Gaurav Prasad</A
></H3
><DIV
CLASS="affiliation"
><DIV
CLASS="address"
><P
CLASS="address"
><br>
<CODE
CLASS="email"
>&#60;<A
HREF="mailto:gauravpd at gmail dot com"
>gauravpd at gmail dot com</A
>&#62;</CODE
><br>
</P
></DIV
></DIV
><P
CLASS="pubdate"
>2005-06-27<BR></P
><DIV
CLASS="revhistory"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision v1.0</TD
><TD
ALIGN="LEFT"
>2005-06-22</TD
><TD
ALIGN="LEFT"
>Revised by: MG</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>For inclusion in TLDP: Completed XML article structure with articleinfo, section IDs for cross-referencing; technical, language, grammar and spelling review.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision v1.0-pre1</TD
><TD
ALIGN="LEFT"
>2005-04-01</TD
><TD
ALIGN="LEFT"
>Revised by: GP</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Added miscellaneous errors section.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision v0.1</TD
><TD
ALIGN="LEFT"
>2005-03-25</TD
><TD
ALIGN="LEFT"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>First publication.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="abstract"
><P
></P
><A
NAME="AEN26"
></A
><P
>Questa guida descrive come installare Oracle 9i su Fedora Core 3 o superiore.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#sect_01"
>1. Introduzione</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#sect_01_01"
>Cosa dovete sapere</A
></DT
><DT
>1.2. <A
HREF="#sect_01_02"
>Riconoscimenti</A
></DT
><DT
>1.3. <A
HREF="#sect_01_03"
>Disponibilità e Feedback</A
></DT
><DT
>1.4. <A
HREF="#sect_01_04"
>Licensing Information and Liability</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#sect_02"
>Ottenere Oracle 9i</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#sect_02_01"
>Installazione tramite CD</A
></DT
><DT
>2.2. <A
HREF="#sect_02_02"
>Scarico</A
></DT
><DT
>2.3. <A
HREF="#sect_02_03"
>Installare</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#sect_03"
>Preparazione per la configurazione</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="#sect_03_01"
>Creare gli utenti ed i gruppi</A
></DT
><DT
>3.2. <A
HREF="#sect_03_02"
>Creare le directory</A
></DT
></DL
></DD
><DT
>4. <A
HREF="#sect_04"
>Impostare le variabili d'ambiente</A
></DT
><DT
>5. <A
HREF="#sect_05"
>Impostare i parametri del kernel</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#sect_05_01"
>Modificare /etc/sysctl.conf</A
></DT
><DT
>5.2. <A
HREF="#sect_05_02"
>Modificare /etc/security/limits.conf</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#sect_06"
>Installare le librerie GCC 2.9 Compat</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#sect_06_01"
>Installare i pacchetti GCC 2.96 Compat</A
></DT
><DT
>6.2. <A
HREF="#sect_06_02"
>Creare link simbolici</A
></DT
></DL
></DD
><DT
>7. <A
HREF="#sect_07"
>Eseguire l'installatore</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="#sect_07_01"
>Applicare la patch per libwait.c</A
></DT
><DT
>7.2. <A
HREF="#sect_07_02"
>Configurare il Display</A
></DT
><DT
>7.3. <A
HREF="#sect_07_03"
>Avviare l'installazione</A
></DT
><DT
>7.4. <A
HREF="#sect_07_04"
>Correggere nodeinfo</A
></DT
></DL
></DD
><DT
>8. <A
HREF="#sect_08"
>Creare uno script di avvio</A
></DT
><DT
>9. <A
HREF="#sect_09"
>Errori varii</A
></DT
></DL
></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
NAME="sect_01"
>1. 1. Introduzione</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="sect_01_01"
>1.1. Cosa dovete sapere</A
></H3
><P
>Questa guida è stata scritta a causa della mia frustrazione durante l'installazione di Oracle 9i su FC3. Fondamentalmente l'installazione della 9i su RAS 1,2,3 RH 9, FC1, FC2 è abbastanza ben documentata ma è difficile trovare qualcosa di significativo su FC3; qualcuno ha addirittura suggerito che installare Oracle 9i su FC3 fosse impossibile. Questo HOWTO cerca di condensare tutta la mia esperienza e tutti i miei ritrovamenti con qualsiasi informazione particolare per FC3, che prima era sparsa per tutto il web, in un documento conciso ma utile.</P
><P
>Spero troverete utile questa breve guida.</P
><P
>Se si deve installare Oracle 9i su FC3, si deve essere coscienti dei seguenti fatti:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Fedora non è *supportato ufficialmente* da Oracle Corp.</P
></LI
><LI
><P
>L'installazione di Oracle 9i su FC3 è difficile ma possibile.</P
></LI
><LI
><P
>Di Oracle 9i NON SI PUÒ fare il link con le librerie usate da gcc 3.4.  Su FC3 è necessario usare le librerie compatte GCC di FC2.</P
></LI
><LI
><P
>Il metodo di installazione di Oracle 10 G NON FUNZIONA con 9i.</P
></LI
><LI
><P
>Questo HOWTO tratta prodotti RedHat &#62;= FC3 o superiori o con versioni di gcc superiori a 2.9. Se si sta installando qualsiasi altro prodotto RedHat si possono leggere altre eccellenti guide, per esempio <A
HREF="http://www.puschitz.com/OracleOnLinux.shtml"
TARGET="_top"
>http://www.puschitz.com/OracleOnLinux.shtml</A
> e <A
HREF="http://oracle-base.com/"
TARGET="_top"
>http://oracle-base.com/</A
>.</P
></LI
></OL
><P
>È da tenere presente anche che: </P
><P
></P
><OL
TYPE="1"
><LI
><P
>Questo HOWTO mira solo a fornire assistenza.  Non è un documento UFFICIALE di Oracle.</P
></LI
><LI
><P
>Io non sono un DBA.  Non contattatemi per questioni diverse dal contenuto di questo documento.  Io non vi aiuterò a impostare il vostro database.  Se avete bisogno di aiuto per quello, controllate i forum di Oracle.</P
></LI
><LI
><P
>Il prossimo passo sarà probabilmente la scrittura di qualche script di Bash o in Perl 
per automatizzare completamente questo tedioso, noioso e frustrante processo manuale  ma dipenderà dal tempo a mia disposizione. Le vostre idee sono benvenute.</P
></LI
></OL
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_01_02"
>1.2. Riconoscimenti</A
></H3
><P
>Vorrei ringraziare Jean François per l'aiuto con le parti più
difficoltose.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_01_03"
>1.3. Disponibilità e Feedback</A
></H3
><P
>Si può trovare la versione più recente presso <A
HREF="http://www.pagux.com/oracle9ionfedora3.html"
TARGET="_top"
>http://www.pagux.com/oracle9ionfedora3.html</A
>.</P
><P
>Mi affido a voi, lettori, per rendere questo HOWTO utile. Se avete qualsiasi 
domanda, correzione o commento, inviatemeli ed io cercherò di integrarli nella prossima revisione.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_01_04"
>1.4. Licensing Information and Liability</A
></H3
><P
>Copyright 2005 Gaurav Prasad</P
><P
>This HOWTO is free documentation; you can redistribute it and/or
modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2 of the
License, or (at your option) any later version.   A copy of the license is available at <A
HREF="http://www.gnu.org/copyleft/fdl.html"
TARGET="_top"
>http://www.gnu.org/copyleft/fdl.html</A
>.</P
><P
>This document is distributed in the hope that it will be useful,
but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose.  No liability for the contents of this document can be accepted.
Use the concepts, examples and information at your own risk.
There may be errors and inaccuracies, that could be damaging to
your system.  Proceed with caution, and although accidents are highly
unlikely, the author(s) do not take any responsibility.
</P
><P
>Linux is a registered trademark of Linus Torvalds.</P
><P
>&#13;All copyrights are held by their by their respective owners,
unless specifically noted otherwise.  Use of a term in this
document should not be regarded as affecting the validity of any
trademark or service mark.  Naming of particular products or
brands should not be seen as endorsements.
</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_02"
>2. Ottenere Oracle 9i</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="sect_02_01"
>2.1. Installazione tramite CD</A
></H3
><P
>Se si ha Oracle 9i su un CD allora montare:</P
><P
><B
CLASS="command"
>mount <CODE
CLASS="option"
>-r -o loop=/dev/loop0</CODE
> <TT
CLASS="filename"
>ora9id1.iso Disk1/</TT
></B
> </P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_02_02"
>2.2. Scarico</A
></H3
><P
>Altrimenti scaricarlo da <A
HREF="http://www.oracle.com/technology/software/products/oracle9i/htdocs/linuxsoft.html"
TARGET="_top"
>http://www.oracle.com/technology/software/products/oracle9i/htdocs/linuxsoft.html</A
>.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_02_03"
>2.3. Installare</A
></H3
><P
>Estrarre tutti e tre i seguenti file:</P
><P
><B
CLASS="command"
>gunzip <TT
CLASS="filename"
>ship_9204_linux_disk1.cpio.gz</TT
></B
> </P
><P
><B
CLASS="command"
>cpio <CODE
CLASS="option"
>-idmv -I</CODE
> <TT
CLASS="filename"
>ship_9204_linux_disk1.cpio</TT
></B
> </P
><P
>Non si deve dimenticare l'opzione <CODE
CLASS="option"
>-I</CODE
> o si otterranno errori durante l'estrazione.</P
><P
>Questo comando espanderà l'archivio cpio nella directory <TT
CLASS="filename"
>Disk1</TT
>.  Ripetete il processo per gli altri due archivi.</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_03"
>3. Preparazione per la configurazione</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="sect_03_01"
>3.1. Creare gli utenti ed i gruppi</A
></H3
><P
>Eseguire i seguenti comandi come <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>root</I
></SPAN
>:</P
><PRE
CLASS="screen"
>&#13;# groupadd oinstall
# groupadd dba
# groupadd oper
# groupadd apache
# useradd -g oinstall -G dba oracle
# passwd oracle
</PRE
><P
>Impostare la password per l'utente <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>oracle</I
></SPAN
>.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_03_02"
>3.2. Creare le directory</A
></H3
><P
>La destinazione finale del software sarà :</P
><PRE
CLASS="screen"
>&#13;# mkdir /u01 /u02
# chown oracle.dba /u01 /u02
# chmod 755 /u01 /u02
</PRE
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_04"
>4. Impostare le variabili d'ambiente</A
></H2
><P
>Fare il log in come utente di <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>oracle</I
></SPAN
>:</P
><P
><B
CLASS="command"
>su <CODE
CLASS="option"
>-</CODE
> <CODE
CLASS="parameter"
>oracle</CODE
></B
> </P
><P
>Modificare <TT
CLASS="filename"
>.bash_profile</TT
> nella directory home di <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>oracle</I
></SPAN
> ed aggiungere quanto segue, per esempio utilizzando <B
CLASS="command"
>vim</B
>:</P
><PRE
CLASS="screen"
>&#13;########## Oracle Variables ##########
echo " Welcome to oracle";
ORACLE_BASE=/u01/app/oracle
ORACLE_OWNER=oracle; export ORACLE_OWNER
ORACLE_TERM=xterm; export ORACLE_TERM
ORACLE_HOME=/u01/app/oracle/product/9.2.0.1.0
ORACLE_SID=ORTD
LD_PRELOAD=$HOME/libcwait.so
export DISPLAY=172.28.66.39:0.0
PATH=$PATH:$ORACLE_HOME/bin
LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ORACLE_HOME/lib:$ORACLE_HOME/network/lib

CLASSPATH=$ORACLE_HOME/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib
export CLASSPATH

LD_ASSUME_KERNEL=2.4.1; export LD_ASSUME_KERNEL
THREADS_FLAG=native; export THREADS_FLAG
TMP=/tmp; export TMP
TMPDIR=$TMP; export TMPDIR

export PATH ORACLE_BASE ORACLE_HOME ORACLE_SID LD_LIBRARY_PATH LD_PRELOAD
########## End of Oracle variables ##########
</PRE
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_05"
>5. Impostare i parametri del kernel</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="sect_05_01"
>5.1. Modificare /etc/sysctl.conf</A
></H3
><P
>Aggiungere le seguenti linee al file <TT
CLASS="filename"
>/etc/sysctl.conf</TT
>:</P
><PRE
CLASS="screen"
>&#13;kernel.shmmax = 2147483648
kernel.shmmni = 128
kernel.shmall = 2097152
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
</PRE
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_05_02"
>5.2. Modificare /etc/security/limits.conf</A
></H3
><P
>Si possono inoltre aggiungere le seguenti linee al file <TT
CLASS="filename"
>/etc/security/limits.conf</TT
>:
</P
><PRE
CLASS="screen"
>&#13;oracle soft nofile 65536
oracle hard nofile 65536
oracle soft nproc 16384
oracle hard nproc 16384
</PRE
><P
>L'aggiunta di queste linee richiede il riavvio prima che le nuove impostazioni abbiano effetto.</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_06"
>6. Installare le librerie GCC 2.9 Compat</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="sect_06_01"
>6.1. Installare i pacchetti GCC 2.96 Compat</A
></H3
><P
>Da Fedora Core DUE:</P
><P
></P
><UL
><LI
><P
><TT
CLASS="filename"
>compat-libstdc++-7.3-2.96.126.i386.rpm</TT
></P
></LI
><LI
><P
><TT
CLASS="filename"
>compat-libstdc++-devel-7.3-2.96.126.i386.rpm</TT
></P
></LI
><LI
><P
><TT
CLASS="filename"
>compat-gcc-7.3-2.96.126.i386.rpm</TT
></P
></LI
><LI
><P
><TT
CLASS="filename"
>compat-gcc-c++-7.3-2.96.126.i386.rpm</TT
></P
></LI
></UL
><DIV
CLASS="caution"
><P
></P
><TABLE
CLASS="caution"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/caution.gif"
HSPACE="5"
ALT="Caution"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Non sovrascrivere i pacchetti esistenti</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Assicurarsi di mantenere l'installazione esistente di GCC, oppure una gran parte del software non funzionerà o non potrà essere più compilato. Nel caso questi pacchetti siano già installati sul sistema con numeri di versioni più recenti, usare <B
CLASS="command"
>rpm <CODE
CLASS="option"
>-i --force</CODE
></B
> per installare i più vecchi al posto dei più nuovi.</P
></TD
></TR
></TABLE
></DIV
><P
>Dal sotto-albero di Fedora Core TRE, prendete il pacchetto <SPAN
CLASS="application"
>compat-db</SPAN
>.</P
><P
>Se non si installano le librerie GCC compat come sopra si avranno 
        un'infinità di errori di link.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_06_02"
>6.2. Creare link simbolici</A
></H3
><P
>Mettete prima gcc296 e g++296 nella
        variabile $PATH creando i seguenti link simbolici:</P
><PRE
CLASS="screen"
>&#13;# mv /usr/bin/gcc /usr/bin/gcc323
# mv /usr/bin/g++ /usr/bin/g++323
# ln -s /usr/bin/gcc296 /usr/bin/gcc
# ln -s /usr/bin/g++296 /usr/bin/g++
</PRE
><P
>È da notare che se il sistema sarà già stato aggiornato, le versioni GCC potrebbero essere differenti.</P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_07"
>7. Eseguire l'installatore</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
NAME="sect_07_01"
>7.1. Applicare la patch per libwait.c</A
></H3
><P
>Prima di eseguire l'installatore, allo scopo di evitare strani errori eseguire quanto segue:</P
><P
></P
><UL
><LI
><P
>In <TT
CLASS="filename"
>/home/oracle</TT
>,creare un file chiamato <TT
CLASS="filename"
>libwait.c</TT
> e compilare come descritto qui sotto:</P
><PRE
CLASS="screen"
>Creare un file chiamato libcwait.c nella directory home dell'utente oracle per evitare di avere un errore quando si esegue l'installatore di Oracle. Il file libcwait.c dovrebbe contenere il seguente testo:
/*
gcc -O2 -shared -o $HOME/libcwait.so -fpic $HOME/libcwait.c
*/
#include
#include
#include
Deploying Oracle 9i on Red Hat Enterprise Linux AS 3
Page 11
#include
pid_t
__libc_wait (int *status)
{
int res;
asm volatile ("pushl %%ebx\n\t"
"movl %2, %%ebx\n\t"
"movl %1, %%eax\n\t"
"int $0x80\n\t"
"popl %%ebx"
: "=a" (res)
: "i" (__NR_wait4), "0" (WAIT_ANY), "c" (status), "d" (0), "S" (0));
return res;
}
Next, compile this file in the
oracle
user's home directory by executing the
following command:
gcc -02 -shared -o $HOME/libcwait.so -fpic $HOME/libwait.c
</PRE
><P
><B
CLASS="command"
>gcc <CODE
CLASS="option"
>-shared -o</CODE
> <TT
CLASS="filename"
>libcwait.so libcwait.c</TT
> <CODE
CLASS="option"
>-fpic -O</CODE
></B
> </P
></LI
><LI
><P
>Poi aggiungere questa libreria all'ambiente dell'utente del database:</P
><P
><B
CLASS="command"
>export <CODE
CLASS="varname"
>LD_PRELOAD</CODE
>=<TT
CLASS="filename"
>/home/oracle/libcwait.so</TT
></B
> </P
><P
>In precedenza è stata messa una linea simile in <TT
CLASS="filename"
>.bash_profile</TT
>.</P
></LI
></UL
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_07_02"
>7.2. Configurare il Display</A
></H3
><P
>Eseguire i seguenti comandi come utente oracle:</P
><PRE
CLASS="screen"
>&#13;oracle@9iserver ~&#62; xhost +localhost
oracle@9iserver ~&#62; export DISPLAY=localhost:0.0
</PRE
><P
>Ora è possibile collegarsi al proprio desktop o volendo si può eseguire l'installazione da remoto, ad esempio usando <SPAN
CLASS="application"
>VNC</SPAN
>. Oppure, per esempio, si può eseguire l'installatore dal desktop di Windows
</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_07_03"
>7.3. Avviare l'installazione</A
></H3
><P
>Eseguire l'applicazione d'installazione grafica:</P
><P
><B
CLASS="command"
>/path/to/oracle/Disk1/runInstaller</B
> </P
><P
>Ora proseguire con Graphical setup (se non si è sicuri scegliere Standard database). Da qui il resto del processo d'installazione è ovvio.</P
></DIV
><DIV
CLASS="sect2"
><HR><H3
CLASS="sect2"
><A
NAME="sect_07_04"
>7.4. Correggere nodeinfo</A
></H3
><P
>Ora l'installazione dovrebbe procedere senza alcun errore di link ma alla fine si avrà un errore:</P
><PRE
CLASS="screen"
>&#13;Parameter "nodeinfo" = NO_VALUE
Agent Service Failed
</PRE
><P
>Per correggerlo, eseguire quanto segue per avviare la procedura guidata dopo che l'impostazione è finita:</P
><P
><B
CLASS="command"
>netca &#38;</B
> </P
><P
>Ora cambiare in <CODE
CLASS="varname"
>$ORACLE_HOME</CODE
> ed eseguire <B
CLASS="command"
>./lsnrctl <CODE
CLASS="parameter"
>start</CODE
></B
>.</P
><P
>Verificare che il processo sia in esecuzione:</P
><P
><B
CLASS="command"
>ps <CODE
CLASS="option"
>afx</CODE
> | grep <CODE
CLASS="parameter"
>LISTEN</CODE
></B
> </P
></DIV
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_08"
>8. Creare uno script di avvio</A
></H2
><P
>Allo scopo di avviare il server Oracle automaticamente al momento dell'avvio del sistema, creare il file <TT
CLASS="filename"
>/etc/init.d/oracle</TT
> come segue:</P
><PRE
CLASS="screen"
>&#13;#!/bin/bash
#
# Run-level Startup script for the Oracle Instance and Listener
#
# chkconfig: 345 91 19
# description: Startup/Shutdown Oracle listener and instance

ORA_HOME="/u01/app/oracle/product/9.2.0.1.0"
ORA_OWNR="oracle"

# if the executables do not exist -- display error

if [ ! -f $ORA_HOME/bin/dbstart -o ! -d $ORA_HOME ]
then
        echo "Oracle startup: cannot start"
        exit 1
fi

# depending on parameter -- startup, shutdown, restart 
# of the instance and listener or usage display 

case "$1" in
    start)
        # Oracle listener and instance startup
        echo -n "Starting Oracle: "
        su - $ORA_OWNR -c "$ORA_HOME/bin/lsnrctl start"
        su - $ORA_OWNR -c $ORA_HOME/bin/dbstart
        touch /var/lock/subsys/oracle
        echo "OK"
        ;;
    stop)
 	# Oracle listener and instance shutdown
        echo -n "Shutdown Oracle: "
        su - $ORA_OWNR -c "$ORA_HOME/bin/lsnrctl stop"
        su - $ORA_OWNR -c $ORA_HOME/bin/dbshut
        rm -f /var/lock/subsys/oracle
        echo "OK"
        ;;
    reload|restart)
        $0 stop
        $0 start
        ;;
    *)
        echo "Usage: $0 start|stop|restart|reload"
        exit 1
esac
exit 0
</PRE
><P
>Ora eseguire <B
CLASS="command"
>chkconfig <TT
CLASS="filename"
>oracle</TT
></B
> per l'aggiornamento delle informazioni dei livelli di esecuzione.</P
><P
>Provare ora <B
CLASS="command"
>service <CODE
CLASS="parameter"
>oracle start|stop|restart</CODE
></B
> per verificare che tutto funzioni come atteso.</P
><P
>Se si è arrivati a questo punto senza errori: congratulazioni. Altrimenti, verificare <A
HREF="#sect_09"
>Section 9</A
> per suggerimenti sulla soluzione dei problemi.</P
></DIV
><DIV
CLASS="sect1"
><HR><H2
CLASS="sect1"
><A
NAME="sect_09"
>9. Errori varii</A
></H2
><P
>ERROR:</P
><PRE
CLASS="screen"
>&#13;ORA-01034: ORACLE not available
ORA-27101: shared memory realm does not exist
Linux Error: 2: No such file or directory 
</PRE
><P
>Questo errore capita quando si fa un riavvio e cercare di fare il login. Si ottengono molti errori quando l'istanza non è montata/avviata automaticamente.</P
><P
>Soluzione:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Controllare <TT
CLASS="filename"
>/etc/oratab</TT
> ed assicurarsi che <CODE
CLASS="option"
>*:/opt/oracle/OraHome1</CODE
> e <CODE
CLASS="option"
>ordb:/opt/oracle/OraHome1</CODE
> siano impostati a <SPAN
CLASS="QUOTE"
>"Y"</SPAN
> (YES).</P
></LI
><LI
><P
>Provare ad inizializzare il database: <B
CLASS="command"
>$ORACLE_HOME/bin/dbstart</B
>.</P
></LI
></OL
><P
>ERROR:</P
><PRE
CLASS="screen"
>&#13;No start entry for SID * at /opt/oracle/OraHome1 in /etc/oratab
</PRE
><P
>Potrebbe essere causato da un baco nello script dbstart che cerca il file sid nel posto sbagliato.</P
><P
>Soluzione:</P
><P
></P
><OL
TYPE="1"
><LI
><P
><B
CLASS="command"
>cp <TT
CLASS="filename"
>$ORACLE_BASE/admin/$ORACLE_SID/pfile/init_*.ora</TT
></B
> \</P
><P
><TT
CLASS="filename"
>$ORACLE_HOME/dbs/init$ORACLE_SID.ora</TT
></P
></LI
><LI
><P
>Come utente <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>oracle</I
></SPAN
>:</P
><PRE
CLASS="screen"
>&#13;$ sqlplus
SQL&#62; create pfile from spfile;
SQL&#62; exit
</PRE
></LI
><LI
><P
>Eseguire lo script <TT
CLASS="filename"
>dbstart</TT
>: <B
CLASS="command"
>$ORACLE_HOME/bin/dbstart</B
>.</P
></LI
></OL
></DIV
></DIV
></BODY
></HTML
>