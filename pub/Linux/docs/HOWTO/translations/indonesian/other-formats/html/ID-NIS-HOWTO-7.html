<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.7">
 <TITLE>Linux NIS(YP)/NIS/NIS+ HOWTO : Apa yang Anda butuhkan untuk melakukan setting NIS+ ?</TITLE>
 <LINK HREF="ID-NIS-HOWTO-8.html" REL=next>
 <LINK HREF="ID-NIS-HOWTO-6.html" REL=previous>
 <LINK HREF="ID-NIS-HOWTO.html#toc7" REL=contents>
</HEAD>
<BODY>
<A HREF="ID-NIS-HOWTO-8.html">Next</A>
<A HREF="ID-NIS-HOWTO-6.html">Previous</A>
<A HREF="ID-NIS-HOWTO.html#toc7">Contents</A>
<HR>
<H2><A NAME="s7">7. Apa yang Anda butuhkan untuk melakukan setting NIS+ ?</A></H2>

<H2><A NAME="ss7.1">7.1 Perangkat lunak</A>
</H2>

<P>Kode-kode klien NIS+ untuk Linux dikembangkan untuk GNU C library 
2. Tersedia pula untuk libc5 milik  Linux , dan hampir semua aplikasi 
komersial di link dengan menggunakan library ini, maka Anda tidak 
dapat melakukan kompilasi ulang untuk menggunakan glibc. Ada masalah 
dengan libc5 + NIS+ yaitu Anda tidak dapat me link program statik 
dengannya, dan program-program yang dikompile dengan menggunakan 
library ini tidak akan bekerja dengan versi libc5 yang lain.
<P>Anda perlu untuk mengambil dan mengkompile GNU C library 2 yang 
terbaru. Dan Anda perlu sistem yang berbasis glibc seperti RedHat 5.0 
atau Debian yang masih belum stabil. Tetapi hati-hati: semua ini masih 
dalam taraf beta ! Baca dokumentasi tentang glibc dan dari 
distribusinya ! glibc 2.0.x tidak berisi dukungan untuk NIS+, dan 
tidak akan pernah berisi dukungan tersebut. Versi public pertama dari 
glibc yang mendukung NIS+ adalah versi 2.1.
<P>Program klien NIS+ bisa didapatkan dari :
<BLOCKQUOTE><CODE>
<PRE>

Tempat                  Direktori               Nama Berkas

ftp.kernel.org   /pub/software/libs/glibc   libc-*, glibc-crypt-*,
                                            glibc-linuxthreads-*,
                                            glibc-localedata-*
wauug.erols.com  /pub/net/nis               nis-tools-1.4.tar.gz
wauug.erols.com  /pub/net/nis               pam_keylogin-1.0.tar.gz
</PRE>
</CODE></BLOCKQUOTE>
<P>Distribusi yang berbasiskan glibc bisa didapatkan dari :
<P>
<BLOCKQUOTE><CODE>
<PRE>

         Tempat                         Direktori

         ftp.redhat.com                 /pub/redaht/mustang
         ftp.debian.org                 /pub/debian/hamm
</PRE>
</CODE></BLOCKQUOTE>
<P>Untuk kompilasi library GNU C, silahkan ikuti instruksi yang menyertai 
program tersebut. Di tempat-tempat di bawah ini Anda dapat menemukan 
patched libc5, berbasiskan NYS dan sources glibc yang sesuai standard 
dengan libc5 :
<P>
<BLOCKQUOTE><CODE>
<PRE>

Tempat                  Direktori                 Nama Berkas

ftp.kernel.org  /pub/linux/utils/net/NIS+ libc-5.4.38-nsl-0.4.6.tar.gz
</PRE>
</CODE></BLOCKQUOTE>
<P>Anda sebaiknya juga melihat pada 
<A HREF="http://www-vt.uni-paderborn.de/~kukuk/linux/nisplus.html">http://www-vt.uni-paderborn.de/~kukuk/linux/nisplus.html</A> untuk 
informasi lebih lanjut dan sources yang paling baru.
<P>
<H2><A NAME="ss7.2">7.2 Setting klien NIS+</A>
</H2>

<P>Penting: untuk melakukan setting klien NIS+, baca dokumentasi NIS+ 
milik Solaris Anda, untuk mengetahui apa yang harus dilakukan pada
sisi server ! Dokumen ini hanya berisi apa yang harus dilakukan pada 
sisi klien.
<P>Setelah melakukan instalasi libc yang baru dan program-program 
pendukung untuk nis, buat sebuah pengenal untuk klien baru pada server 
NIS+. Lalu jalankan
<P>
<BLOCKQUOTE><CODE>
<PRE>
domainname nisplus.domain.
nisinit -c -H &lt;NIS+ server>
</PRE>
</CODE></BLOCKQUOTE>
<P>untuk melakukan inisialisasi. Baca petunjuk nisinit untuk pilihan-
pilihan yang menyertai nisinit. Pastikan nama domain akan selalu di 
set setelah booting ulang. Jika Anda tidak mengetahui nama domain NIS+ 
pada jaringan Anda, Anda dapat menanyakannya pada system atau network 
adminstrator Anda.
<P>Anda sebaiknya merubah berkas /etc/nsswitch.conf. Pastikan bahwa 
setelah publickey adalah nisplus ("publickey: nisplus"), dan tidak ada 
yang lain.
<P>Setelah itu,jalankan keyserv, dan pastikan bahwa akan selalu 
diaktifkan secara otomatis pada saat booting. Kemudian jalankan
<P>
<BLOCKQUOTE><CODE>
<PRE>
keylogin -r
</PRE>
</CODE></BLOCKQUOTE>
<P>untuk menyimpan secretkey milik root pada sistem Anda. (Penulis 
mengharapkan Anda telah menambahkan publickey untuk host baru pada 
server NIS+)
<P>Perintah "niscat passwd.org_dir" seharusnya pada saat ini menampilkan 
pada Anda semua isian dari basis data passwd.
<P>
<H2><A NAME="ss7.3">7.3 NIS+, keylogin, login dan PAM</A>
</H2>

<P>Pada saat user login, dia perlu menset secretkey nya pada keyserv. Ini 
dilakukan dengan cara memanggil "keylogin". Login yang berasal dari 
paket shadow akan melakukan ini untuk user. Untuk PAM, Anda harus 
menginstall pam_keylogin-1.1.tar.gz dan merubah berkas 
/etc/pam.d/login untuk menggunakan pam_unix_auth, bukan pwdb, yang 
tidak mendukung NIS+.  Sebagai contoh :
<P>
<BLOCKQUOTE><CODE>
<PRE>
#%PAM-1.0
auth       required     /lib/security/pam_securetty.so
auth       required     /lib/security/pam_keylogin.so
auth       required     /lib/security/pam_unix_auth.so
auth       required     /lib/security/pam_nologin.so
account    required     /lib/security/pam_unix_acct.so
password   required     /lib/security/pam_unix_passwd.so
session    required     /lib/security/pam_unix_session.so
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H2><A NAME="ss7.4">7.4 Berkas nsswitch.conf</A>
</H2>

<P>Berkas /etc/nsswitch.conf milik Network Service Switch, berisi urutan 
pencarian yang dilakukan ketika sebuah informasi dibutuhkan, seperti 
halnya berkas /etc/host.conf, yang berisi cara pencarian yang 
dilakukan untuk mencari host. Sebagai contoh :
<P>
<BLOCKQUOTE><CODE>
<PRE>
    host: files nis dns
</PRE>
</CODE></BLOCKQUOTE>
<P>pada baris di atas, pencarian pertama kali dilakukan pada berkas lokal 
/etc/hosts, apabila tidak ditemukan, dilanjutkan pencarian pada nis 
dan akhirnya pada domain name service (/etc/resolv.conf dan named), 
apabila nama host tersebut belum ditemukan juga, maka akan ditampilkan 
pesan kesalahan.
<P>Versi pertama dari buku petunjuk untuk nsswitch.conf dapat ditemukan 
pada 
<A HREF="http://www-vt.uni-paderborn.de/~kukuk/linux/misc.html">http://www-vt.uni-paderborn.de/~kukuk/linux/misc.html</A>.
<P>Sebuah berkas /etc/nsswitch.conf yang bagus untuk NIS+ adalah :
<BLOCKQUOTE><CODE>
<PRE>
 #
 # /etc/nsswitch.conf
 #
 # An example Name Service Switch config file. This file should be
 # sorted with the most-used services at the beginning.
 #
 # The entry '[NOTFOUND=return]' means that the search for an
 # entry should stop if the search in the previous entry turned
 # up nothing. Note that if the search failed due to some other reason
 # (like no NIS server responding) then the search continues with the
 # next entry.
 #
 # Legal entries are:
 #
 #       nisplus            Use NIS+ (NIS version 3)
 #       nis                Use NIS (NIS version 2), also called YP
 #       dns                Use DNS (Domain Name Service)
 #       files              Use the local files
 #       db                 Use the /var/db databases
 #       [NOTFOUND=return]  Stop searching if not found so far
 #

  passwd:     compat
# for libc5: passwd: files nisplus
  group:        compat
# for libc5: group: files nisplus
  shadow:     compat
# for libc5: shadow: files nisplus

  passwd_compat: nisplus
  group_compat:  nisplus
  shadow_compat: nisplus

  hosts:        nisplus files dns

  services:     nisplus [NOTFOUND=return] files
  networks:     nisplus [NOTFOUND=return] files
  protocols:    nisplus [NOTFOUND=return] files
  rpc:          nisplus [NOTFOUND=return] files
  ethers:       nisplus [NOTFOUND=return] files
  netmasks:     nisplus [NOTFOUND=return] files
  netgroup:     nisplus
  bootparams:   nisplus [NOTFOUND=return] files
  publickey:    nisplus [NOTFOUND=return] files
  automount:    files
  aliases:      nisplus [NOTFOUND=return] files
</PRE>
</CODE></BLOCKQUOTE>
<P>
<HR>
<A HREF="ID-NIS-HOWTO-8.html">Next</A>
<A HREF="ID-NIS-HOWTO-6.html">Previous</A>
<A HREF="ID-NIS-HOWTO.html#toc7">Contents</A>
</BODY>
</HTML>
