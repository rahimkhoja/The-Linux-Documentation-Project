<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.7">
 <TITLE>UMSDOS HOW-TO : Prinsip dasar </TITLE>
 <LINK HREF="ID-UMSDOS-HOWTO-6.html" REL=next>
 <LINK HREF="ID-UMSDOS-HOWTO-4.html" REL=previous>
 <LINK HREF="ID-UMSDOS-HOWTO.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="ID-UMSDOS-HOWTO-6.html">Next</A>
<A HREF="ID-UMSDOS-HOWTO-4.html">Previous</A>
<A HREF="ID-UMSDOS-HOWTO.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Prinsip dasar </A></H2>

<P>
<P>
<P>
<H2><A NAME="ss5.1">5.1 Pengenalan </A>
</H2>

<P>
<P>
<P><EM>Umsdos</EM> memetakan file-file linux secara langsung ke sistem file MS-DOS. Ini adalah translasi satu ke satu. Isi file tidak 
dimanipulasi sama sekali. <EM>Umsdos</EM> hanya bekerja pada nama. File khusus (misalnya links dan devices), dikenakan pengaturan 
khusus. Untuk setiap direktori, terdapat suatu file bernama <CODE>--linux-.---</CODE>. 
<P>
<P>
<H2><A NAME="ss5.2">5.2 <EM>Umsdos</EM> dapat menggantikan sistem file MS-DOS </A>
</H2>

<P>
<P>
<P><EM>Umsdos</EM> dapat dianggap sebagai superset sistem file serbaguna MS-DOS dari linux. Faktanya, kemampuan dan kefleksibelan 
menimbulkan banyak keanehan pada <EM>Umsdos</EM>. Cobalah me-mount floppy DOS yang
baru diformat seperti berikut : 
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
mount -t umsdos /dev/fd0 /mnt 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>lalu lakukan hal berikut: 
<P>
<BLOCKQUOTE><CODE>
<PRE>
ls / >/mnt/LONGFILENAME 
ls -l /mnt 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>anda akan mendapatkan hasil berikut : 
<BLOCKQUOTE><CODE>
<PRE>
   -rwxr-xr-x  1   root   root   302 Apr 14 23:23 longfile 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>Sejauh ini, kelihatannya sistem file <EM>Umsdos</EM> tidak melakukan lebih banyak hal (malah tidak sama sekali) dari sistem file normal 
MS-DOS. 
<P><EM>???</EM>
<P>
<P>
<H2><A NAME="ss5.3">5.3 Directory Promotion</A>
</H2>

<P>
<P>Sejauh ini belum terlihat mengesankan. Inilah triknya. Jika telah dipromosikan, direktori DOS akan diatur dengan cara yang 
sama dengan <EM>Umsdos</EM>. <EM>Umsdos</EM> menggunakan suatu file khusus dalam tiap subdirektori untuk mencapai translasi diantara 
kemampuan lebih (nama panjang, kepemilikan, dsb..) dari <EM>Umsdos</EM> dan keterbatasan file sistem DOS.
File ini tidak terlihat 
oleh pengguna <EM>Umsdos</EM>, tetapi dapat terlihat ketika anda mem-boot DOS. Untuk menghindari kekacauan partisi DOS dengan file 
tersebut (<CODE>--linux-.---</CODE>) yang tidak berguna, kehadiran file tersebut optional. Bila tidak ada, <EM>Umsdos</EM> berperilaku 
seperti MS-DOS. 
<P>Ketika suatu direktori dipromosikan, sembarang operasi subsekuen akan dilakukan dengan semantik yang penuh seperti normalnya 
yang tersedia untuk pengguna Unix dan <EM>Linux</EM>. Dan seluruh subdirektori yang dibuat sesudahnya akan dipromosikan secara 
otomatis. 
<P>Keistimewaan ini mengijinkan anda secara logik mengorganisasikan partisi DOS anda kedalam bagian DOS dan bagian <EM>Linux</EM>. 
Sangat penting untuk memahami bahwa file <CODE>--linux-.---</CODE> berukuran kecil (umumnya 2k per direktori). Dos umumnya 
menggunakan cluster yang besar (sebesar 16 k untuk partisi 500M), jadi dengan menghindari penyimpanan <CODE>--linux-.---</CODE> di 
sembarang tempat akan sangat bermanfaat. 
<P>
<P>
<H2><A NAME="ss5.4">5.4 Bagaimana cara berpromosi: /sbin/umssync </A>
</H2>

<P>
<P>
<P>Suatu direktori dapat dipromosikan kapan saja menggunakan <CODE>/sbin/umssync</CODE>. Dapat digunakan kapan saja. untuk mempromosikan 
direktori, lakukan operasi berikut : 
<P>
<UL>
<LI>Buat sebuah <CODE>--linux-.---</CODE> </LI>
<LI>Bentuklah relasi satu ke satu diantara <CODE>--linux-.---</CODE> dan isi direktori yang sekarang ada. </LI>
</UL>
<P>
<P><CODE>/sbin/umssync</CODE> mengatur file <CODE>--linux-.---</CODE> yang ada. File tersebut tidak dibuat kembali setiap 
waktu. Cukup dengan menambahkan entri yang hilang kedalamnya (file akan dibentuk selama sesi DOS). <EM>umssync</EM> juga akan 
menghapus file-file yang tidak pernah ada dalam direktori DOS dari <CODE>--linux-.---</CODE>., dimana <EM>umssync</EM> mendapatkan nama 
file dari tempat tersebut. Umssync menyimpan <CODE>--linux-.---</CODE> sejalan dengan direktori DOS yang mendasarinya. 
<P>
<P>
<H2><A NAME="ss5.5">5.5 Menggunakan /sbin/umssync pada saat boot </A>
</H2>

<P>
<P>Adalah suatu ide yang baik untuk selalu memanggil /sbin/umssync pada akhir /etc/rc.d/rc.S anda jika belum ada. Perintah berikut 
cocok untuk hampir semua sistem : 
<P>
<BLOCKQUOTE><CODE>
<PRE>
/sbin/umssync -r99 -c -i+ / 
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>option <CODE>-c</CODE> mencegah <EM>umssync</EM> melakukan promosi direktori. Option tersebut hanya mengupdate <CODE>--linux-.---</CODE> yang ada. 
<P>Perintah ini berguna jika anda mengakses direktori linux selama sesi DOS. <EM>Linux</EM> tidak mempunyai cara efisien untuk 
memberitahukan bahwa direktori telah dimodifikasi oleh DOS sehingga <EM>Umsdos</EM> tidak dapat melakukan operasi
<EM>umssync</EM>.
<P>
<H2><A NAME="ss5.6">5.6 Membebaskan promosi (UN-promote) </A>
</H2>

<P>
<P>Hapus saja file <CODE>--linux-.---</CODE> pada sesi DOS dan Anda akan menyesal. 
<P>
<H2><A NAME="ss5.7">5.7 Bagaimana file-file yang terbentuk selama sesi DOS? </A>
</H2>

<P>
<P>Kecuali anda mengunakan <EM>umssync</EM> dalam direktori dimana file-file ditambahkan atau dihapus oleh DOS, anda akan
menemui beberapa masalah : 
<UL>
<LI>Tidak akan meng-crash-kan sistem anda dan tidak juga menyebabkan masalah besar, hanya gangguan saja :-) </LI>
<LI>File-file dibuat oleh DOS. 
<UL>
<LI>Tidak akan terlihat dalam <EM>Linux</EM>. </LI>
<LI>Ketika akan mencoba membuat suatu file dengan nama yang sama, anda akan mendapatkan pesan kesalahan yang menyatakan bahwa 
file telah ada. </LI>
<LI>Hasil-hasil pembentukan tersebut lebih membingungkan dari masalah sebenarnya. Tetapi hal itu tidak merusak sistem file. </LI>
</UL>
</LI>
<LI>File-file yang terhapus oleh DOS tidak menyebabkan masalah. <EM>Umsdos</EM> akan memberitahukan kehilangan pada saat akses 
pertama. Suatu pesan akan dikeluarkan (dan umumnya dicatat dalam <CODE>/var/adm/syslog</CODE>). </LI>
</UL>
<P>
<P>
<HR>
<A HREF="ID-UMSDOS-HOWTO-6.html">Next</A>
<A HREF="ID-UMSDOS-HOWTO-4.html">Previous</A>
<A HREF="ID-UMSDOS-HOWTO.html#toc5">Contents</A>
</BODY>
</HTML>
