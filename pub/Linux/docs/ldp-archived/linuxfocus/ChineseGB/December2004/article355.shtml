<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=gb2312">
 <META NAME="GENERATOR" CONTENT="lfparser_2.51">
 <META NAME="LFCATEGORY" CONTENT="Applications">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf355, Applications: Using gEDA</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Iznogood
 =LF=CAT___: Applications
 =LF=TITLE_: Using gEDA
 =LF=NUMBER: 355
 =LF=ANAME_: article355.shtml
 =LF=PARSER: 2.51
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">站点地图</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">索引</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.shtml"><FONT color=
                 "#DDDDDD" size="2">搜索</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.shtml"><FONT color=
           "#FFFFFF">新闻</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/"><FONT color=
           "#FFFFFF">过往期刊</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.shtml"><FONT color=
           "#FFFFFF">链接</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">关于LF</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">This document is available in: <A href="../../English/December2004/article355.shtml">English</a> &nbsp;<A href="../../ChineseGB/December2004/article355.shtml">ChineseGB</a> &nbsp;<A href="../../Deutsch/December2004/article355.shtml">Deutsch</a> &nbsp;<A href="../../Francais/December2004/article355.shtml">Francais</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images2/article355/iznoT2.png"
 alt="[Photo of the Author]" height="100" width="100">
<BR>by  Iznogood <br> <small>&lt;iznogood/at/iznogood-factory.org&gt;</small>
<BR><BR>
<I>关于作者:</I><BR>
<!-- aboutauthor_start -->
<p>我已经使用 GNU/Linux 有一段时间了，现在用的是
Debian。除了关于电子方面的学习，我大部分时间在为 GNU/Linux 社区做翻译工作。
</p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO gb -->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>目录</i>:
<UL>
  <LI><A HREF="#355lfindex0">简介</A></LI>
  <LI><A HREF="#355lfindex1">gEDA 是什么?</A></LI>
  <LI><A HREF="#355lfindex2">使用 gschem 放置器件</A></LI>
  <LI><A HREF="#355lfindex3">使用 gsch2pcb 生成 PCB</A></LI>
  <LI><A HREF="#355lfindex4">使用 PCB 进行布线</A></LI>
  <LI><A HREF="#355lfindex5">结论</A></LI>
  <LI><A HREF="#355lfindex6">相关文章</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=355">对这篇文章发表评论</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<H2>Using gEDA</H2>
 <img src="../../common/images2/article355/logo.png" alt="[Illustration]"
 height="85" hspace="10" width="300">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>摘要</i>:
<P>
<!-- articleabstract_start -->

如何利用 <a
href="http://www.geda.seul.org">gEDA</a> 社区的自由软件绘制印刷电路版图。

<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->

<A NAME="355lfindex0">&nbsp;</A>
<H2>简介</H2>

为什么又有一篇文章讲 EDA
(电子设计自动化)？因为有不同的方法可以完成，而这种是自由(开放)的。自由带来的最好的一面就是我们有很多工具，既有图形化的，也有更多的命令行的。而这篇文章，我将介绍怎么从头开始绘制一块
PCB (印刷电路版)。
<A NAME="355lfindex1">&nbsp;</A>
<H2>gEDA 是什么?</H2>

最重要的是 gEDA 是一组自由的 (GPL的)
电子设计工具。于是，它总是处于开发状态。这里，我给出一张 gEDA
的框图。点击可以看到放大的图。
<br>
<br>
<center><a href="../../common/images2/article355/gEDA.png"><img src="../../common/images2/article355/gEDA1.png" alt="[Illustration]" hspace="10" width="600" height="368"></a></center><br>
在图的中间是 gschem，图形化的原理图与元件编辑器。它可以被 geda，也就是上
面的那个管理器调用。使用这个管理器，不仅可以调用 gschem，也可以调用 spice
仿真器, PCB designer, gerber 和一个波形显示器。<br>

使用左上角的 tragesym，可以建立元件符号，而 gsymcheck 可以用来检察它们
时候正确。<br>
我们的主要兴趣在于 gschem 下面的工具，是两种处理网络表的方法。这是 gEDA
的一个特点：所有的文件都是纯文本，只是扩展名的不同标志着不同的目的：
<br>
<ul>
  <li>.sym 符号文件</li>
  <li>.sch 原理图文件&nbsp;</li>
  <li>.net 网络表文件&nbsp;</li>
  <li>.pcb PCB 图文件和其他...<br>
  </li>
</ul>
gnetlist 是“官方”的处理用于使用 tclspice, gnucap, ngspice, 等进行 spice
仿真，用 Icarus 进行 Verilog 综合或是生成 PCB 的网络表的工具。gsch2pcb
是一个用于从网络表生成 PCB 的专用工具。它用于从 sch 文件到 pcb 的双向的
翻译工作。最后我们还可以使用 gerbv 检察 pcb 文件。
<br>
<br>
本文中，我只介绍 gschem, gsch2pcb 和 PCB。首先我们从 gschem 开始。<br>
<A NAME="355lfindex2">&nbsp;</A>
<H2>使用 gschem 放置器件</H2>

我就不过多讨论安装了，使用 GNU/Debian 的话只要apt-get install geda-gschem
geda-symbols geda-utils pcb 就可以了。<br>
对于其他系统，可以从 http://geda.seul.org/source.html, 下载需要的文件，
从 http://pcb.sourceforge.net/ 下载 PCB 需要的文件并用通常的方法：
./configure &amp; make &amp; make install 来安装。<br>
<br>
好，现在打开 gschem 吧。有两种方法打开 gschem：直接使用 gschem 命令，或者
带着文件名打开：<i>gschem sample.sch</i>。现在放置器件，这次我们又有两个
选择：使用鼠标点击“添加器件”或是用键盘命令“i”。我们选择 connector 中
的 BNC-1.sym, pwrjack-1.sym，analog 中的两个 resistor-2.sym, 一个
resistor-variable-2.sym, 两个 capacitor-1.sym, 和一个 bridge-1.sym，还有
linear 重的一个 lm317-1.sym。现在，我们得到如下的结果：
<br>
<br>
<div style="text-align: center;"><img alt="" src="../../common/images2/article355/sample1.png"  width="589" height="468"><br>
</div>
<br>
<br>
不用急，你可从
<a href="http://www.iznogood-factory.org/pub/gEDA/introgEDA.en.html">我的
主页</a>  <a href="../../common/src2/article355/index.html">或本地服务器
</a>下载所有这些文件。
<br>
现在我们连接这些元件。这样，我们需要移动、旋转它们。因为我们比较懒，所以我
们使用键盘快捷键来完成这个工作：点击元件，用“er”命令来旋转它，用“ei”命
令来镜向翻动它，“m”命令是移动，而“n”则是连线。我们可以通过选择元件的
名字来移动或旋转它。
<br>
<br>
<br>
<div style="text-align: center;"><img alt="" src="../../common/images2/article355/sample2.png"  width="583" height="425"><br>
</div>
<br>
<br>
接下来，我们可以使用“ee”命令编辑元件属性。首先修改最重要的元件“LM317”。
打开元件属性对话框，我们可以看到：
<br>
<br>
<br>
<div style="text-align: center;"><img alt="" src="../../common/images2/article355/sample3.png"  width="322" height="402"><br>
</div>
<br>
<br>
我们在 value name 属性处写入 LM317, 而 footprint 属性写成 TO220L(让它不可
见)。对电阻，写上电阻值并把 footprint 写成 R025。对电容、电位器重复这个
工作(可以参考本文附带的 sample.sch 文件)……
完成之后，我们用“fs”命令另保文件，或是“fa”保存文件。
<br>
<A NAME="355lfindex3">&nbsp;</A>
<H2>使用 gsch2pcb 生成 PCB</H2>

首先，我们需要使用如下命令来给每个元件一个编号：
<pre class="code">refdes_renum sample.sch<br><br></pre>
如果现在我们再打开原理图，会发现原来的 R?, C?, U? 中的?都变成数字了。这样
我们就可以生成一个网络表了。首先我们必须安装一些 footprint 库并建立一个工程
文件。我们要建立这个文件，因为用于 gschem 的 pcb footprint 的文档很难找。这
里可以找到一个不错的 footprint 库：
<a
href="http://web.wt.net/%7Ebillw/gsch2pcb/gsch2pcb-libs.tar.gz">http://
web.wt.net/%7Ebillw/gsch2pcb/gsch2pcb-libs.tar.gz</a>. (<a href="../../common/src2/article355/index.html">本地拷贝</a>)<br>
下载并安装它：
<pre class="code">
mv gsch2pcb-libs.tar.gz ~/toTheLocationYouWant/
tar xvzf gsch2pcb-libs.tar.gz
</pre>
这样，你就可以修改工程文件为：<br>
<br>
schematics sample.sch
<br>
elements-dir ~/XXX/pcb-elements
<br>
output-name sample<br>
<br>
我命名它为 sampleLFproject，但你可以使用人和你喜欢的名称。schematics 就是
我们的原理图文件。Element-dir 是 pcb 的 footprint 目录，把 XXX 换成你自己
的目录名吧。output-name 就是接下来 pcb 的文件名了。我们把它们保存在和原理
图相同的目录中。<br>
<br>
下一步就是运行:<br>
<pre class="code">gsch2pcb tutorialLFprojet<br><br></pre>
输出的文件是 sample.board 和 sample.net。前者是 PCB 使用的所有元件。而后者
是网络表。
<br>
<A NAME="355lfindex4">&nbsp;</A>
<H2>使用 PCB 进行布线</H2>

现在，我们来打开 PCB：
<pre class="code">pcb sample.pcb<br><br></pre>
我们将看到这样的画面：
<br>
<br>
<br>
<div style="text-align: center;"><img alt="" src="../../common/images2/article355/sample4.png"  width="447" height="316"><br>
</div>
<br>
<br>
所有的元件都放在左上角。我们需要把它们布置在电路板上。然后使用 sample.net
中德 网络表进行连线：File --&gt; load net-list file and optimize Connect
--&gt; rast-nets。挺奇妙的。
<br>
<br>
<br>
<div style="text-align: center;"><img alt="" src="../../common/images2/article355/sample5.png"  width="600" height="628"><br>
</div>
<br>
<br>
现在我们把网络用线和焊点把线布好。<br>
<br>
<div style="text-align: center;"><img alt="" src="../../common/images2/article355/sample6.png"  width="600" height="592"><br>
<br>
<br>
</div>
完成了：现在保存文件，使用 File --&gt; print layou 就可以印制了。
<A NAME="355lfindex5">&nbsp;</A>
<H2>结论</H2>

本文的目的就是简单直接的介绍 gEDA 工具的一些用法，并给出一个简单制作 PCB
的方法。但 gEDA 远远不止这么简单，它值得你使用更长的时间来试用它：你还需
要进行很多优化工作来让输出文件可以用于专业的 PCB 制板商。
<br>
<A NAME="355lfindex6">&nbsp;</A>
<H2>相关文章</H2>

这篇文章主要参考了 Bill Wilson的
bill--at--gkrellm.net 文档 <a

  href="http://web.wt.net/%7Ebillw/gsch2pcb/gsch2pcb.html">gsch2pcb.html</a>。<br>
你可以在<a href="http://www.geda.seul.org">www.geda.seul.org</a>
找到更多信息。 <br>
PCB 可以在<a
  href="http://pcb.sourceforge.net/">pcb.sourceforge.net</a>找到。<br>
如果你懂法语，你可以在
<a href="http://www.iznogood-factory.org">http://www.iznogood-factory.org</a>
找到根多信息，而对于英语读者也有
<a
  href="http://www.iznogood-factory.org/pub/gEDA/introgEDA.en.html">一些材料</a>。<br><br>
<!-- vim: set sw=2 ts=2 et tw=74: -->



<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>对这篇文章发表评论</h2>
每篇文章都有各自的反馈页面。在这个页面里，您可以提交评论，也可以查看其他读者的评论：
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=355">&nbsp;反馈页面&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF 首页</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Go to the index of this issue</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">主页由LinuxFocus编辑组维护</A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Iznogood</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>翻译信息:</font>
<TABLE summary="translators">
  <tr><td><font size="2">en --&gt; -- : Iznogood <small>&lt;iznogood/at/iznogood-factory.org&gt;</small></font></td></tr>
  <tr><td><font size="2">en --&gt; cn: 王旭 &lt;wangxu(at)linuxfocus.org&gt;</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2005-01-11, generated by lfparser version 2.51</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
