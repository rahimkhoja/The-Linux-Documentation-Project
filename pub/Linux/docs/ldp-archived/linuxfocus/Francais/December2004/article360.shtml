<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <META NAME="GENERATOR" CONTENT="lfparser_2.52">
 <META NAME="LFCATEGORY" CONTENT="SystemAdministration">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf360, SystemAdministration: CheckInstall</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Mario M.     Knopf
 =LF=CAT___: SystemAdministration
 =LF=TITLE_: CheckInstall
 =LF=NUMBER: 360
 =LF=ANAME_: article360.shtml
 =LF=PARSER: 2.52
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">Carte</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">Index</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.html"><FONT color=
                 "#DDDDDD" size="2">Recherche</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.shtml"><FONT color=
           "#FFFFFF">Nouvelles</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/index.html"><FONT color=
           "#FFFFFF">Archives</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.html"><FONT color=
           "#FFFFFF">Liens</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">A propos</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">Ce document est disponible en: <A href="../../English/December2004/article360.shtml">English</a> &nbsp;<A href="../../Castellano/December2004/article360.shtml">Castellano</a> &nbsp;<A href="../../ChineseGB/December2004/article360.shtml">ChineseGB</a> &nbsp;<A href="../../Deutsch/December2004/article360.shtml">Deutsch</a> &nbsp;<A href="../../Francais/December2004/article360.shtml">Francais</a> &nbsp;<A href="../../Italiano/December2004/article360.shtml">Italiano</a> &nbsp;<A href="../../Nederlands/December2004/article360.shtml">Nederlands</a> &nbsp;<A href="../../Turkce/December2004/article360.shtml">Turkce</a> &nbsp;<A href="../../Polish/December2004/article360.shtml">Polish</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images2/MarioMKnopf.jpg" alt="[Photo of the Author]" height="130" width="150">
<BR>par  Mario M. Knopf <a href="http://www.neo5k.de/"><font size="1">(homepage)</font></a>
<BR><BR>
<I>L&acute;auteur:</I><BR>
<!-- aboutauthor_start -->
<p>Mario appr&eacute;cie de travailler avec Linux, les r&eacute;seaux et tout sujet relatif &agrave; la s&eacute;curit&eacute;.</p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO fr -->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>Sommaire</i>:
<UL>
  <LI><A HREF="#360lfindex0">Introduction</A></LI>
  <LI><A HREF="#360lfindex1">CheckInstall</A></LI>
  <LI><A HREF="#360lfindex2">Installation</A></LI>
  <LI><A HREF="#360lfindex3">Configuration</A></LI>
  <LI><A HREF="#360lfindex4">Conclusion</A></LI>
  <LI><A HREF="#360lfindex5">Links</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=360">Talkback form for this article</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfPdf ver 0.1 -->
<TABLE style="border-style:outset; border-width:1px" align="right" bgcolor="#ff9616" cellspacing="1"><TR><TD bgcolor="#ff9616">
        <a href="../Archives/lf-2004_12-0360.pdf"><small>PDF</small></a>
        </TD></TR></TABLE>
         

<H2>CheckInstall</H2>
 <img src="../../common/images2/article360.png" alt="[CheckInstall Title]" height="158" hspace="10" width="525">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>R&eacute;sum&eacute;</i>:
<P>
<!-- articleabstract_start -->
<i>Checkinstall</i> est un utilitaire qui g&eacute;n&egrave;re automatiquement des paquets RPM, Debian ou  Slackware &agrave; partir de sources en
    tar.gz. Ce qui permet une installation « propre » et la d&eacute;sinstallation de quasi n'importe quel code source en tar.gz.

    
<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->


    <A NAME="360lfindex0">&nbsp;</A>
<H2>Introduction</H2>


    <p>Il arrive fr&eacute;quemment que des programmes que l'on d&eacute;sire tester n'existent qu'au format tar.gz sans &ecirc;tre disponibles au format RPM ou Debian.
    Dans un tel cas, vous t&eacute;l&eacute;chargez le paquet (package) source, vous le d&eacute;compactez et le compilez manuellement. Jusque l&agrave;, c'est tout bon. Oui, mais que faire si vous voulez supprimer ce programme ? </p>

    <p>Le fichier <i>Makefile</i> peut contenir une routine appropri&eacute;e pour d&eacute;sinstaller le programme mais ce n'est pas syst&eacute;matique. Bien s&ucirc;r, il reste la possibilit&eacute; d'installer le programme dans un r&eacute;pertoire temporaire et d'inscrire tous les fichiers qui ont &eacute;t&eacute; cr&eacute;&eacute;s ou modifi&eacute;s par l'installation et ce en pr&eacute;vision d'une suppression ult&eacute;rieure. Mais convenons que cette proc&eacute;dure est plut&ocirc;t p&eacute;nible et astreignante surtout si des programmes sont fr&eacute;quemment compil&eacute;s &agrave; partir des sources.  <i>CheckInstall</i> [1] &eacute;crit par Felipe Eduardo
    S&aacute;nchez D&iacute;az Dur&aacute;n r&eacute;soud ce probl&egrave;me.</p>

    <p>Il est de r&egrave;gle de compiler et d'installer un programme r&eacute;pondant au standard <i>GNU Autoconf</i> en utilisant la s&eacute;quence bien connue de commandes
    <br>
     <i>./configure &amp;&amp; make &amp;&amp; make
    install</i>.<br>
     Le script shell <i>configure</i> tente de deviner les valeurs correctes de diff&eacute;rentes variables d&eacute;pendantes du syst&egrave;me, qui seront utilis&eacute;es apr&egrave;s, au cours de la compilation. Il v&eacute;rifie si tous les requis pour une compilation correcte sont rencontr&eacute;s et utilise ces valeurs pour g&eacute;n&eacute;rer un  <i>Makefile</i> dans chaque r&eacute;pertoire du paquet. En outre, le script <i>configure</i> g&eacute;n&egrave;re divers autres fichiers. En r&eacute;sum&eacute;, il s'agit de :
    </p>

    <ul>
      <li>un ou plusieurs <i>Makefile(s)</i> dans chaque r&eacute;pertoire/sous-r&eacute;pertoire</li>

      <li>un script shell appel&eacute; <i>config.status</i></li>

      <li>un fichier texte <i>config.log</i></li>

      <li>un autre script shell normalement intitul&eacute; <i>config.cache</i>
      (optionnel)</li>

      <li>divers fichiers d'en-t&ecirc;te C (*.h) avec des d&eacute;finitions sp&eacute;cifiques au syst&egrave;me  (optionnel)</li>
    </ul>

    <p>Apr&egrave;s que le script <i>configure</i> ait achev&eacute; sa t&acirc;che avec succ&egrave;s, vous tapez la commande <i>make</i> pour compiler le paquet. Ce qui va g&eacute;n&eacute;rer les binaires ex&eacute;cutables. Il y a la possibilit&eacute; de lancer, imm&eacute;diatement apr&egrave;s un
   <i>make</i>, un self-test avec la commande <i>make
    check</i>. Mais il s'agit d'une &eacute;tape &eacute;ventuelle car le paquet doit supporter cette proc&eacute;dure suppl&eacute;mentaire. Si le <i>make</i> a accompli son oeuvre, vous pouvez alors installer le programme compil&eacute; gr&acirc;ce &agrave; la commande
    <i>make install</i> - pour des raisons &eacute;videntes, vous devez b&eacute;n&eacute;ficier des droits d'utilisateur privil&eacute;gi&eacute; pour l'accomplissement de cette &eacute;tape. Apr&egrave;s que le programme ait &eacute;t&eacute; install&eacute; vous pouvez enlever les binaires et les fichiers objets du r&eacute;pertoire qui contient le code source en tapant la commande  <i>make
    clean</i>. Si vous pr&eacute;f&eacute;rez aussi effacer les fichiers cr&eacute;&eacute;s par le script <i>configure</i>, alors tapez <i>make distclean</i>. Cependant ces deux derni&egrave;res &eacute;tapes sont, tout comme le <i>make check</i>, optionnelles et sont habituellement utilis&eacute;es par le d&eacute;veloppeur durant la phase de d&eacute;veloppement et de test. Elles peuvent aussi &ecirc;tre utilis&eacute;es par l'utilisateur pour &eacute;pargner la capacit&eacute; du disque dur ou  pour conserver une structure de r&eacute;pertoires claire. En outre,
     <i>make distclean</i> permet de compiler le paquet pour un type d'ordinateur diff&eacute;rent.</p>

    <p>Des informations plus d&eacute;taill&eacute;es sur  <i>GNU Autoconf</i> sont disponibles dans le manuel en ligne &agrave; l'adresse [2]. En plus d'une introduction basique, vous en apprendrez plus sur le « <i>GNU Build System</i> », en cr&eacute;ant vos propres scripts <i>configure</i> , en programmant en <i>M4</i> et en cr&eacute;ant vos propres macros, programmes shell portables et autres.</p>

    <A NAME="360lfindex1">&nbsp;</A>
<H2>CheckInstall</H2>


    <p>Ainsi que nous l'avons d&eacute;j&agrave; mentionn&eacute;, la s&eacute;quence de commande pour g&eacute;n&eacute;rer, &agrave; partir de ses sources, un programme r&eacute;pondant au
    standard <i>GNU Autoconf</i>, est :</p>

    <p class="code">./configure &amp;&amp; make &amp;&amp; make
    install</p>

    <p>Arriv&eacute; &agrave; ce stade, c'est le moment d'utiliser <i>CheckInstall</i>. La commande <i>checkinstall</i> remplace la commande <i>make install</i> . &Eacute;tant entendu que les deux autres commandes sont maintenues et utilis&eacute;es tout comme auparavant. Ainsi, la nouvelle s&eacute;quence de commandes, quand on utilise
     <i>CheckInstall</i>, devient :</p>

    <p class="code">./configure &amp;&amp; make &amp;&amp;
    checkinstall</p>

    <p>Pourtant, l'instruction <i>checkinstall</i>
    lance bien <i>make install</i> par d&eacute;faut et supervise tous les &eacute;v&eacute;nements en &eacute;criture engendr&eacute;s par l'installation. A cet effet
    <i>CheckInstall</i> utilise le programme  <i>Installwatch</i> [3],
    &eacute;crit &agrave; l'origine par Pancrazio de Mauro. Apr&egrave;s que
    <i>make install</i> se soit achev&eacute; avec succ&egrave;s,
    <i>CheckInstall</i> g&eacute;n&egrave;re un paquet  Slackware, Debian ou
    RPM et l'installe avec le gestionnaire par d&eacute;faut de la distribution tout en laissant une copie du paquet dans le r&eacute;pertoire source ou dans le r&eacute;pertoire de stockage standard. Par ailleurs, il est possible de changer le r&eacute;pertoire de stockage par d&eacute;faut &agrave; travers la variable <i>PAK_DIR</i> au sein du fichier de configuration. La copie ainsi « adress&eacute;e » peut &ecirc;tre install&eacute;e, bien s&ucirc;r en tenant compte de possibles d&eacute;pendances, sur d'autres machines du r&eacute;seau sans avoir &agrave; recompiler &agrave; chaque fois les sources du paquet. </p>

    <p><i>CheckInstall</i> ne se limite pas &agrave; l'utilisation de <i>make install</i> mais coop&egrave;re avec d'autres instructions d'installation. Si, par exemple, le script d'installation est
    <i>setup.sh</i>, la s&eacute;quence de commande sera :</p>

    <p class="code">./configure &amp;&amp; make &amp;&amp;
    checkinstall setup.sh</p>

    <p>Par ailleurs, il est possible de lancer
    <i>CheckInstall</i> avec diverses options. La commande suivante propose une vue d'ensemble de toutes les options disponibles qui sont r&eacute;parties dans les sections  <i>Install options</i>,
    <i>Scripting options</i>, <i>Info display options</i>,
    <i>Package tuning options</i>, <i>Cleanup options</i> et
    <i>About CheckInstall</i>:</p>

    <p class="code"># checkinstall -h</p>

    <p>Si <i>CheckInstall</i> est lanc&eacute; avec une de ces options, cette derni&egrave;re supplantera celles qui sont reprises dans le fichier de configuration
    <i>checkinstallrc</i>.</p>

    <p>Mais  <i>CheckInstall</i> a aussi ses limites. Il ne peut manipuler des programmes li&eacute;s (linked) statiquement, parce que  <i>Installwatch</i> n'est pas capable de surveiller les fichiers modifi&eacute;s durant la proc&eacute;dure d'installation. En g&eacute;n&eacute;ral, il y a deux types de biblioth&egrave;ques de programme : des biblioth&egrave;ques li&eacute;es statiquement ou dynamiquement. Ces biblioth&egrave;ques sont int&eacute;gr&eacute;es dans un programme par une directive <i>include</i>. Les programmes li&eacute;s statiquement ont d&eacute;j&agrave; toutes les fonctions de biblioth&egrave;ques n&eacute;cessaires et ne doivent pas les charger en m&eacute;moire lors de leur ex&eacute;cution. En outre, ils sont ind&eacute;pendants des biblioth&egrave;ques install&eacute;es sur le syst&egrave;me utilis&eacute; car le <i>Linker</i> a imbriqu&eacute; la biblioth&egrave;que dans le programme ex&eacute;cutable au moment de la compilation.</p>

    <A NAME="360lfindex2">&nbsp;</A>
<H2>Installation</H2>


    <p><i>CheckInstall</i> fait d&eacute;j&agrave; parti, depuis longtemps, de l'ensemble des logiciels propos&eacute;s par les distributions majeures et peut &ecirc;tre install&eacute; avec le gestionnaire de paquet du syst&egrave;me. Si &ccedil;a n'est pas le cas, vous pouvez t&eacute;l&eacute;charger un fichier « tar-balls » ou un paquet pr&eacute;-compil&eacute; convenant &agrave; diverses distributions, disponible sur le site web du projet [4].</p>

    <p>L'installation de <i>CheckInstall</i> est tr&egrave;s simple et se d&eacute;roule en peu d'&eacute;tapes mais pour une installation r&eacute;ussie, vous avez paradoxalement besoin de <i>CheckInstall</i>. Apr&egrave;s l'instruction incontournable <i>make install</i>, vous tapez <i>checkinstall</i>, qui g&eacute;n&egrave;re un paquet binaire appropri&eacute; venant du programme compil&eacute;. Alors vous pouvez installer ce paquet avec votre gestionnaire de paquet et il est aussi possible de d&eacute;sinstaller ce paquet proprement. Mais avant que <i>CheckInstall</i> ne cr&eacute;e le paquet, vous devez r&eacute;pondre &agrave; une question sur le gestionnaire de paquet utilis&eacute; et v&eacute;rifier l'exactitude des champs d'information. Ces derniers appara&icirc;tront peu apr&egrave;s dans l'en-t&ecirc;te du paquet.</p>

    <p>La proc&eacute;dure d'installation de la nouvelle version b&ecirc;ta
    <i>checkinstall-1.6.0beta4.tgz</i> est expos&eacute;e dans l'encart qui suit. Cela installera   <i>CheckInstall</i>,
    <i>Installwatch</i> et <i>makepak</i>, une version modifi&eacute;e de <i>makepkg</i>. Si les changements de la nouvelle version vous int&eacute;ressent, jetez un oeil sur la <i>Release Notes</i> [5] et/ou dans le <i>Changelog</i> [6].</p>
<pre class="code">$ tar xzf checkinstall-1.6.0beta4.tgz
$ cd checkinstall-1.6.0beta4
checkinstall-1.6.0beta4 $ make
[...]
checkinstall-1.6.0beta4 $ su
Password:
checkinstall-1.6.0beta4 # make install
[...]
checkinstall-1.6.0beta4 # checkinstall

checkinstall 1.6.0beta4, Copyright 2002 Felipe Eduardo Sanchez Diaz Duran
This software is released under the GNU GPL.

Please choose the packaging method you want to use.
Slackware [S], RPM [R] or Debian [D]? R

*************************************
*** RPM package creation selected ***
*************************************

This package will be built according to these values:

1 -  Summary:  [ CheckInstall installations tracker, version 1.6.0beta4 ]
2 -  Name:     [ checkinstall ]
3 -  Version:  [ 1.6.0beta4 ]
4 -  Release:  [ 1 ]
5 -  License:  [ GPL ]
6 -  Group:    [ Applications/System ]
7 -  Architecture: [ i386 ]
8 -  Source location: [ checkinstall-1.6.0beta4 ]
9 -  Alternate source location: [  ]
10 - Provides: [ checkinstall ]
11 - Requires: [  ]

Enter a number to change any of them or press ENTER to continue:

Installing with make install...

========================= Installation results =========================
[...]



========================= Installation successful ======================

Copying documentation directory...
./
./NLS_SUPPORT
./README
./FAQ
./TODO
./CREDITS
./INSTALL
./Changelog
./BUGS
./installwatch-0.7.0beta4/
./installwatch-0.7.0beta4/README
./installwatch-0.7.0beta4/TODO
./installwatch-0.7.0beta4/VERSION
./installwatch-0.7.0beta4/INSTALL
./installwatch-0.7.0beta4/CHANGELOG
./installwatch-0.7.0beta4/BUGS
./installwatch-0.7.0beta4/COPYING
./RELNOTES
./COPYING

Copying files to the temporary directory...OK

Striping ELF binaries and libraries...OK

Compressing man pages...OK

Building file list...OK

Building RPM package...OK

NOTE: The package will not be installed

Erasing temporary files...OK

Writing backup package...OK

Deleting temp dir...OK

****************************************************************

Done. The new package has been saved to

/usr/src/redhat/RPMS/i386/checkinstall-1.6.0beta4-1.i386.rpm
You can install it in your system anytime using:

        rpm -i checkinstall-1.6.0beta4-1.i386.rpm

****************************************************************

checkinstall-1.6.0beta4 # cd /usr/src/redhat/RPMS/i386/
i386 # rpm -i checkinstall-1.6.0beta4-1.i386.rpm
i386 #
</pre>

    <p>L'utilisateur d'une distribution bas&eacute;e sur Debian installera le paquet avec  <i>dpkg -i</i>. Les utilisateurs de Slackware utiliseront <i>installpkg</i>. </p>

    <p>En utilisant la fonction query de votre gestionnaire de paquet, en l'occurence ici RPM, vous pouvez v&eacute;rifier si le paquet a &eacute;t&eacute; proprement install&eacute; dans la base de donn&eacute;es du gestionnaire et voir les champs d'information compl&eacute;mentaires de l'en-t&ecirc;te du paquet.</p>
<pre class="code">$ rpm -qi checkinstall
Name        : checkinstall            Relocations: (not relocatable)
Version     : 1.6.0beta4              Vendor     : (none)
Release     : 1                       Build Date : Mo 06 Dez 2004 17:05:45 CET
Install Date: Di 07 Dez 2004 01:41:49 Build Host : deimos.neo5k.lan
Group       : Applications/System     Source RPM : checkinstall-1.6.0beta4-1.src.rpm
Size        : 264621                  License    : GPL
Signature   : (none)
Packager    : checkinstall-1.6.0beta4
Summary     : CheckInstall installations tracker, version 1.6.0beta4
Description :
CheckInstall installations tracker, version 1.6.0beta4

CheckInstall  keeps  track of all the files created  or
modified  by your installation  script  ("make install"
"make install_modules",  "setup",   etc),   builds    a
standard   binary   package and  installs  it  in  your
system giving you the ability to uninstall it with your
distribution's  standard package management  utilities.
</pre>

    <A NAME="360lfindex3">&nbsp;</A>
<H2>Configuration</H2>


    <p>Vous pouvez modifier le fichier texte  <i>/usr/lib/local/checkinstall/checkinstallrc</i>, suffisamment comment&eacute;, en vue de changer le comportement par d&eacute;faut de
    <i>CheckInstall</i>.</p>

    <p>Du fait que <i>CheckInstall</i> vous demande quel type de paquet doit &ecirc;tre engendr&eacute;, &agrave; chaque utilisation, il est plus judicieux de reprendre cette valeur de mani&egrave;re permanente dans la variable <i>INSTYPE</i>. Il est &eacute;galement utile de s'attarder sur les variables  <i>INSTALL</i>, <i>PAK_DIR</i> et <i>RPM_FLAGS</i> en alternative de <i>DPKG_FLAGS</i>. Avec les deux derni&egrave;res variables, vous pouvez d&eacute;finir quelques « flags (drapeau) » d'installation optionnels et en modifiant <i>PAK_DIR</i>, vous pouvez d&eacute;terminer un autre r&eacute;pertoire qui contiendra la copie du paquet. <i>INSTALL</i> vous permet de d&eacute;cider entre simplement g&eacute;n&eacute;rer le paquet ou l'installer.</p>
<pre class="code">$ cat /usr/lib/local/checkinstall/checkinstallrc

####################################################################
                 #    CheckInstall configuration file   #
                 ########################################

####################################################################
# These are default settings for CheckInstall, modify them as you  #
# need. Remember that command line switches will override them.    #
####################################################################

# Debug level
#   0: No debug
#   1: Keep all temp files except the package's files
#   2: Keep the package's files too

DEBUG=0

# Location of the "installwatch" program
INSTALLWATCH_PREFIX="/usr/local"
INSTALLWATCH=${INSTALLWATCH_PREFIX}/bin/installwatch

# Location of the makepkg program. "makepak" is the default, and is
# included with checkinstall. If you want to use Slackware's native "makepkg"
# then set this to "makepkg"

MAKEPKG=/sbin/makepkg

# makepkg optional flags. These are recommended if running a newer Slackware
# version: "-l y -c n"

MAKEPKG_FLAGS="-l y -c n"

# Is MAKEPKG running interactively? If so, you might want
# to see what it's doing:

SHOW_MAKEPKG=0

# Where will we keep our temp files?
BASE_TMP_DIR=/var/tmp   ##  Don't set this to /tmp or / !!

# Where to place the installed document files
DOC_DIR=""

# Default architecture type (Leave it empty to allow auto-guessing)
ARCHITECTURE=""

# Default package type. Leave it empty to enable asking everytime
#   S : Slackware
#   R : RPM
#   D : Debian

INSTYPE="R"

# Storage directory for newly created packages
# By default they will be stored at the default
# location defined for the package type

PAK_DIR=""

# RPM optional flags
RPM_FLAGS=" --force --nodeps --replacepkgs "

# dpkg optional flags
DPKG_FLAGS=""


## These are boolean. Set them to 1 or 0

# Interactively show the results of the install command (i.e. "make install")?
# This is useful for interactive installation commands
SHOW_INSTALL=1

# Show Slackware package installation script while it runs? Again, useful if
# it's an interactive script
SHOW_SLACK_INSTALL=0

# Automatic deletion of "doc-pak" upon termination?
DEL_DOCPAK=1

# Automatic deletion of the spec file?
DEL_SPEC=1

# Automatic deletion of "description-pak"?
DEL_DESC=1

# Automatically strip all ELF binaries?
STRIP_ELF=1

# Automatically strip all ELF shared libraries?
# Note: this setting will automatically be set to "0" if STRIP_ELF=0
STRIP_SO_ELF=1

# Automatically search for shared libraries and add them to /etc/ld.so.conf?
# This is experimental and could mess up your dynamic loader configuration.
# Use it only if you know what you are doing.
ADD_SO=0

# Automatically compress all man pages?
COMPRESS_MAN=1

# Set the umask to this value
CKUMASK=0022

# Backup files overwritten or modified by your install command?
BACKUP=1

# Write a doinst.sh file that installs your description (Slackware)?
AUTODOINST=1

# Are we going to use filesystem translation?
TRANSLATE=1

# Reset the owner/group of all files to root.root?
RESET_UIDS=0

# Use the new (8.1+) Slackware description file format?
NEW_SLACK=1

# Comma delimited list of files/directories to be ignored
EXCLUDE=""

# Accept default values for all questions?
ACCEPT_DEFAULT=0

# Use "-U" flag in rpm by default when installing a rpm package
# This tells rpm to (U)pdate the package instead of (i)nstalling it.
RPM_IU=U

# Inspect the file list before creating the package
CK_INSPECT=0

# Review the .spec file before creating a .rpm
REVIEW_SPEC=0

# Review the control file before creating a .deb
REVIEW_CONTROL=0

# Install the package or just create it?
INSTALL=0
</pre>
    <A NAME="360lfindex4">&nbsp;</A>
<H2>Conclusion</H2>


    <p><i>CheckInstall</i> est un outil remarquable qui facilite grandement l'administration d'un syst&egrave;me Linux. Particuli&egrave;rement si des programmes doivent &ecirc;tre fr&eacute;quemment compil&eacute;s depuis leurs sources, <i>CheckInstall</i> vous donne la possibilit&eacute;  de les enlever proprement sans risque de rendre le syst&egrave;me incoh&eacute;rent. Par ailleurs, vous pouvez aussi installer ces paquets sur d'autres machines sans avoir &agrave; re-compiler le programme &agrave; chaque fois, &eacute;videmment en prenant en consid&eacute;ration de possibles d&eacute;pendances de paquet. Cependant, ceci n'est pas un gros probl&egrave;me pour les machines identiques. </p>

    <A NAME="360lfindex5">&nbsp;</A>
<H2>Links</H2>


    <p>[1] <a href="http://asic-linux.com.mx/%7Eizto/checkinstall/">http://asic-linux.com.mx/~izto/checkinstall/</a>
    [Page d'accueil de CheckInstall]<br>
    [2] <a href="http://www.gnu.org/software/autoconf/manual/autoconf-2.57/autoconf.html">http://www.gnu.org/software/autoconf/manual/autoconf-2.57/autoconf.html</a>
    [Manuel en ligne de GNU Autoconf]<br>
    [3] <a href="http://asic-linux.com.mx/%7Eizto/checkinstall/installwatch.html">http://asic-linux.com.mx/~izto/checkinstall/installwatch.html</a>
    [Installwatch]<br>
    [4] <a href="http://asic-linux.com.mx/%7Eizto/checkinstall/download.php">http://asic-linux.com.mx/~izto/checkinstall/download.php</a>
    [T&eacute;l&eacute;chargement de CheckInstall]<br>
    [5] <a href="http://asic-linux.com.mx/%7Eizto/checkinstall/docs/RELNOTES">http://asic-linux.com.mx/~izto/checkinstall/docs/RELNOTES</a>
    [Release Notes]<br>
    [6] <a href="http://asic-linux.com.mx/%7Eizto/checkinstall/docs/Changelog">http://asic-linux.com.mx/~izto/checkinstall/docs/Changelog</a>
    [Changelog]</p>
    <!-- vim: set sw=2 ts=2 et tw=74: -->
  

<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>Talkback form for this article</h2>
Every article has its own talkback page. On this page you can submit a comment or look at comments from other readers:
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=360">&nbsp;talkback page&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF Sommaire</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Sommaire de ce num&eacute;ro</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">Site Web maintenu par l&acute;&eacute;quipe d&acute;&eacute;dition LinuxFocus</A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Mario M.     Knopf</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>Translation information:</font>
<TABLE summary="translators">
  <tr><td><font size="2">de --&gt; -- : Mario M. Knopf (<a href="http://www.neo5k.de/"><font size="1">homepage</font></a>)</font></td></tr>
  <tr><td><font size="2">de --&gt; en: Mario M. Knopf (<a href="http://www.neo5k.de/"><font size="1">homepage</font></a>)</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2005-01-21, generated by lfparser version 2.52</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
