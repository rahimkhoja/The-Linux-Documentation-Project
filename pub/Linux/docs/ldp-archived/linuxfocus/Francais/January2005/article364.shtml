<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <META NAME="GENERATOR" CONTENT="lfparser_2.52">
 <META NAME="LFCATEGORY" CONTENT="Applications">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf364, Applications: Contr&ocirc;ler des signatures gpg des courriels avec Sylpheed-Claws</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Iznogood
 =LF=CAT___: Applications
 =LF=TITLE_: Contr&ocirc;ler des signatures gpg des courriels avec Sylpheed-Claws
 =LF=NUMBER: 364
 =LF=ANAME_: article364.shtml
 =LF=PARSER: 2.52
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">Carte</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">Index</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.html"><FONT color=
                 "#DDDDDD" size="2">Recherche</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.shtml"><FONT color=
           "#FFFFFF">Nouvelles</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/index.html"><FONT color=
           "#FFFFFF">Archives</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.html"><FONT color=
           "#FFFFFF">Liens</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">A propos</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">Ce document est disponible en: <A href="../../English/January2005/article364.shtml">English</a> &nbsp;<A href="../../ChineseGB/January2005/article364.shtml">ChineseGB</a> &nbsp;<A href="../../Deutsch/January2005/article364.shtml">Deutsch</a> &nbsp;<A href="../../Francais/January2005/article364.shtml">Francais</a> &nbsp;<A href="../../Indonesian/January2005/article364.shtml">Indonesian</a> &nbsp;<A href="../../Turkce/January2005/article364.shtml">Turkce</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images2/iznoT2.png" alt="[Photo of the Author]" height="100" width="100">
<BR>par  Iznogood <br> <small>&lt;iznogood/at/iznogood-factory.org&gt;</small>
<BR><BR>
<I>L&acute;auteur:</I><BR>
<!-- aboutauthor_start -->
<p>
Je suis sous GNU/Linux depuis un bon moment et actuellement sur une Debian. Malgr&eacute; des &eacute;tudes &eacute;lectronique, je fais surtout du travail de traduction pour la communaut&eacute; GNU/Linux, disponible sur
<a href="http://iznogood-factory.org">Iznogood-Factory</a>.
</p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO fr -->
<BR><BR><I>Traduit en Français par:</I><BR>
Iznogood <small>&lt;iznogood/at/iznogood-factory.org&gt;</small>
<br>
<!--
 =LF=TRANSTO=fr: Iznogood
-->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>Sommaire</i>:
<UL>
  <LI><A HREF="#364lfindex0">Pourquoi contr&ocirc;ler les signatures?</A></LI>
  <LI><A HREF="#364lfindex1">&Agrave; propos de Sylpheed</A></LI>
  <LI><A HREF="#364lfindex2">Comment faire un contr&ocirc;le de signature?</A></LI>
  <LI><A HREF="#364lfindex3">Conclusion</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=364">Talkback form for this article</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfPdf ver 0.1 -->
<TABLE style="border-style:outset; border-width:1px" align="right" bgcolor="#ff9616" cellspacing="1"><TR><TD bgcolor="#ff9616">
        <a href="../Archives/lf-2005_01-0364.pdf"><small>PDF</small></a>
        </TD></TR></TABLE>
         

<H2>Contr&ocirc;ler des signatures gpg des courriels avec Sylpheed-Claws</H2>
 <img src="../../common/images2/article364/syl-gnupg.png" alt="[Illustration]" height="100" hspace="10" width="100">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>R&eacute;sum&eacute;</i>:
<P>
<!-- articleabstract_start -->

Je vais tenter de montrer comment installer un greffon gpg et contr&ocirc;ler une signature de courriel avec Sylpheed-Claws en utilisant quelques commandes de bash par tubes.


<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->


<A NAME="364lfindex0">&nbsp;</A>
<H3>Pourquoi contr&ocirc;ler les signatures?</H3>


 <p>J'ai un jour re&ccedil;u un courriel d'un ami qui m'a demand&eacute;: "Pourquoi m'as-tu envoy&eacute; un courriel avec un virus en pi&egrave;ce jointe?" Houl&agrave;! Quelqu'un avait pris mon adresse et s'en &eacute;tait servi pour lui envoyer un courriel... Nous avons eu de la chance car le virus a &eacute;t&eacute; d&eacute;tect&eacute;. Mais que serait-il pass&eacute; s'il n'y avait eu qu'une date de rendez-vous pour nous rencontrer dans une ville &agrave; 150 kms de sa maison, comme nous en avons pris l'habitude... ou un patch pour un programme en d&eacute;veloppement. Ce serait une mauvaise journ&eacute;e!</p>
<p>
Depuis ce jour, je signe toujours mes courriels. Et je v&eacute;rifie celles des courriels que je re&ccedil;ois lorsqu'ils en ont. C'est une s&eacute;curit&eacute; suppl&eacute;mentaire contre les intrus. Mais quelque fois, je re&ccedil;ois un courriel d'une nouvelle personne avec une signature gpg que je n'ai pas encore contr&ocirc;l&eacute;e. Comme je suis tr&egrave;s fain&eacute;ant, je ne veux pas &agrave; chaque fois ouvrir un xterm, &eacute;crire la commande gpg pour avoir la cl&eacute; publique dans mon trousseau et v&eacute;rifier alors la signature pour chaque nouvelle adresse de courriel. C'est pourquoi je l'ai fait r&eacute;aliser comme une action depuis Sylpheed-Claws.

</p>

<A NAME="364lfindex1">&nbsp;</A>
<H2>&Agrave; propos de Sylpheed</H2>

Sylpheed est un gestionnaire de nouvelles et de courriels graphique, avec GTK, l&eacute;ger et rapide. Il est disponible en deux versions: Sylpheed, la branche principale et Sylpheed-Claws, la version plus avanc&eacute;e. Sylpheed-Claws supporte GPG avec un greffon appel&eacute; PGP/MIME. <br>
Vous avez besoin de sylpheed-claws, sylpheed-claws-plugins,
sylpheed-claws-pgpmime et gpg de compil&eacute;s sur votre machine. Pour les utilisateurs de Debian Sarge, c'est plus facile avec aptitude, vous avez simplement besoin de t&eacute;lecharger les paquets ci-dessus (parmi d'autres mais vous pouvez faire une recherche) ou vous pouvez faire un <br>

<pre class="code">apt-get install sylpheed-claws sylpheed-claws-plugins sylpheed-claws-pgpmime gpg</pre>

Pour le rendre fonctionnel, vous avez besoin d'aller dans Configuration -&gt; Plugins puis
Chager le greffon appel&eacute; pgpmime.so comme montr&eacute; sur les images (vous pouvez, bien s&ucirc;r, choisir d'autres greffons pour vous aider &agrave; utiliser Sylpheed-Claws).<br>

<br>
<center> <img src="../../common/images2/article364/detailplugins.png" alt="[Illustration]"></center><br>

Cela vous montrera PGP/MIME sur la gauche. Vous pouvez maintenant fermer la fen&ecirc;tre.
Allez ensuite dans Preferences dans le menu de Configuration.
<br>
<br>
<center><img src="../../common/images2/article364/config-gpg.png" alt="[Illustration]"></center>
<br>

<p>
Sur la gauche, vous avez Confidentialit&eacute; -&gt; GPG.
Cliquer dessus vous montrera 4 cases &agrave; cocher. Vous devez au moins valider la premi&egrave;re (Contr&ocirc;le automatique de signature). Vous pouvez maintenant contr&ocirc;ler vos mesages. Les autres sont int&eacute;ressantes si vous signez vos messages: la seconde garde votre mot de passe pendant la session, la troisi&egrave;me vous donne la main lors de la saisie au clavier et la derni&egrave;re vous pr&eacute;vient si gpg ne fonctionne pas.</p>


S'il y a un message avec une signature, vous verrez ce logo sur la droite du corps du message:<br><br>

<center> <img src="../../common/images2/article364/detailcrtl.png" alt="[Illustration]"></center>
<br>

Cette ic&ocirc;ne avec une plume montre que le contr&ocirc;le avec gpg est actif mais que l'auteur n'est pas dans votre trousseau ou que la signature st mauvaise.




<A NAME="364lfindex2">&nbsp;</A>
<H2>Comment faire un contr&ocirc;le de signature?</H2>


<p>

Dans Sylpheed-Claws, vous pouvez r&eacute;aliser des actions avec Outils -&gt; Actions lorsque vous &ecirc;tes sur le courriel que vous voulez contr&ocirc;ler.
Mais nous devons d'abord le programmer dans Configuration -&gt; Actions. Vous l'ouvrez: <br><br>

<center> <img src="../../common/images2/article364/config-action.png" alt="[Illustration]"></center>
<br>

<p>Dans le nom de menu, vous placez le nom de la commande (vous pouvez choisir celui que vous voulez), la commande dans Commande (tr&egrave;s difficile!) et vous l'Ajoutez.
Vous avez ici la commande tub&eacute;e pour faire le contr&ocirc;le gpg:<p/>
<br>

<pre class="code">
 ID=`cat %f | grep "From" | grep "<" | grep ">" | cut -f2 -d\&lt; | cut -f1 -d\&gt; `;
 xterm -e gpg --keyserver wwwkeys.ch.pgp.net --search-key $ID </pre>

en une ligne.

La commande gpg normale est:

<pre class="code">
 gpg --keyserver servername --search-key email-address </pre>

avec sylpheed-claws, nous l'ouvrons dans un xterm avec "xterm -e" car nous avons toujours besoin de choisir une des options dans les noms propos&eacute;s.

Pour avoir l'adresse de courriel, l'$ID:

 <li>nous lisons le message avec cat %f</li>
 <li>nous cherchons la ligne From avec "<" et ">"</li>
 <li>nous gardons tout apr&egrave;s "<" et avant ">"</li>
 et nous avons l'adresse.<br>

Lorsque nous contr&ocirc;lons une adresse de courriel avec Actions, nous allons sur le serveur de cl&eacute;s wwwkeys.ch.pgp.net mais vous pouvez le remplacer par le votre ou vous pouvez avoir deux actions diff&eacute;rentes avec deux serveurs de cl&eacute;s, comme moi.<br>
 Vous verrez cet xterm:<br>
<br>

<center> <img src="../../common/images2/article364/xterm.png" alt="[Illustration]"></center>
<br>

Choisissez la bonne adresse et la fen&ecirc;tre se ferme. Vous avez juste &agrave; recontr&ocirc;ler avec l'ic&ocirc;ne sur la droite qui ouvrira un dialogue avec un bouton sur le bas pour la rev&eacute;rification. C'est fait!

Vous devez avoir cette ic&ocirc;ne:<br><br>

<center> <img src="../../common/images2/article364/detailcrtl2.png" alt="[Illustration]"></center>
<br>

Si ce n'est pas le cas, cela signifie que la signature est fausse et vous pouvez mettre le courriel dans la poubelle.<br>
<br>

Si vous avez cette ic&ocirc;ne, cela signifie que l'&eacute;metteur est un ami ou une personne en qui vous avez confiance dans votre trousseau de cl&eacute;s car vous devez l'avoir consid&eacute;r&eacute;(e) comme de confiance.

<br><br>

<center> <img src="../../common/images2/article364/detailcrtl3.png" alt="[Illustration]"></center>
<br>

Vous n'aurez &agrave; le faire qu'une fois pour chaque nouvelle adresse de courriel et tous les courriels seront contr&ocirc;l&eacute;s. Votre s&eacute;curit&eacute; en sera am&eacute;lior&eacute;e.


 <A NAME="364lfindex3">&nbsp;</A>
<H2>Conclusion</H2>


Il devrait &ecirc;tre facile d'adapter les commandes bash en tubes vers un autre lecteur de courriel, graphique ou pas.
Il est assez facile de contr&ocirc;ler vos courriels automatiquement. Un autre avantage: ces courriels contr&ocirc;l&eacute;s n'ont pas besoin de passer au contr&ocirc;le anti-spam car l'adresse a &eacute;t&eacute; contr&ocirc;l&eacute;e une fois et, de ce que j'en sais, les spams n'utilisent pas de signature gpg. C'est, sans aucun doute, une mani&egrave;re de contr&ocirc;ler les courriels sign&eacute;s directement en entr&eacute;e avec procmail pour les valider mais c'est une autre histoire que vous trouverez sur <a href="http://iznogood-factory.org">Iznogood-Factory</a>.


 <br>
 <br>
Vous pouvez trouver plus d'informations sur gpg et les signatures de courriel sur:<br><br>
 <a href="http://www.gnupg.org/">http://www.gnupg.org/</a>
 <br><br>

et pour Sylpheed-Claws, c'est
 <a href="http://sylpheed-claws.sourceforge.net/">ici</a>.
 <br>
 <br>



<!-- vim: set sw=2 ts=2 et tw=74: -->

<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>Talkback form for this article</h2>
Every article has its own talkback page. On this page you can submit a comment or look at comments from other readers:
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=364">&nbsp;talkback page&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF Sommaire</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Sommaire de ce num&eacute;ro</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">Site Web maintenu par l&acute;&eacute;quipe d&acute;&eacute;dition LinuxFocus</A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Iznogood</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>Translation information:</font>
<TABLE summary="translators">
  <tr><td><font size="2">en --&gt; -- : Iznogood <small>&lt;iznogood/at/iznogood-factory.org&gt;</small></font></td></tr>
  <tr><td><font size="2">en --&gt; fr: Iznogood &lt;iznogood/at/iznogood-factory.org&gt;</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2005-01-20, generated by lfparser version 2.52</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
