<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
 <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <META NAME="GENERATOR" CONTENT="lfparser_2.51">
 <META NAME="LFCATEGORY" CONTENT="SoftwareDevelopment">
 <link rel="icon" href="../../common/images/lf-16.png" type="image/png">
 <TITLE>lf354, SoftwareDevelopment: Introduzione a SPF</TITLE>
<style type="text/css">
<!--
 td.top {font-family: Arial,Geneva,Verdana,Helvetica,sans-serif; font-size:12 }
 pre { font-family:monospace,Courier }
 pre.code { font-family:monospace,Courier;background-color:#aedbe8; }
 p.cl { color:#EE9500 }
 table.left { margin-right:0.3cm }
 a.nodec { text-decoration:none }
 p.trans { font-size:8pt; text-align:right }
 p.clbox { width:50%; alignment:center; background-color:#FFD700; 
           border-style:none; border-width:medium; border-color:#FFD700; 
           padding:0.5cm;  text-align:center }
 p.code { width:80%; alignment:center; background-color:#aedbe8; 
          border-style:none; border-width:medium; border-color:#aedbe8; 
          padding:0.1cm;  text-align:left }
 p.foot { background-color:#AAAAAA; color:#FFFFFF; border-style:none; 
          border-width:medium; border-color:#AAAAAA; padding:0.5cm ; 
          margin-top:0.1cm; margin-right:1cm; margin-left:1cm; 
          text-align:center }
 div.tbbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   margin: 2px 5px 2px 5px;
   text-align: center;
   width: 20em;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
 div.bbutton {
   background: #ddd;
   border-right: 1px solid #aaa;
   border-bottom: 1px solid #aaa;
   float: left;
   margin: 2px 5px 2px 5px;
   text-align: center;
   line-height: 1.2em;
   padding: 2px;
   font-size: 12px;
   white-space: nowrap;
   color: #555;
 }
-->
</style>
 
</HEAD>
<BODY bgcolor="#ffffff" text="#000000">
 <!-- this is generated html code. NEVER use this file for your
 translation work. Instead get the file with the same article number
 and .meta.shtml in its name. Translate this meta file and then
 use lfparser program to generate the final article -->
 <!-- lfparser can be obtained from http://main.linuxfocus.org/~guido/dev/lfparser.html -->

<!-- this is used by a number of tools:
 =LF=AUTHOR: Bruno     Sousa
 =LF=CAT___: SoftwareDevelopment
 =LF=TITLE_: Introduzione a SPF
 =LF=NUMBER: 354
 =LF=ANAME_: article354.shtml
 =LF=PARSER: 2.51
 -->

<!-- 2pdaIgnoreStart -->

<!-- start navegation bar, current, style=2 -->
 <!-- top navegation bar -->
 <TABLE summary="topbar_1" cellspacing="0" cellpadding="0" border="0" align="center" width="90%">
   <TR bgcolor="#2e2292">
     <TD class="top"><TABLE summary="topbar_1_logo" cellspacing="0" cellpadding="0" border="0" width=
       "100%">
         <TR><TD width="319"><a href="../../index.shtml"><IMG src="../../common/images/logolftop_319x45.gif"
           alt="[LinuxFocus-icon]" width="319" height="45" align="left" 
           border="0"></a></TD>

           <TD class="top">
             <TABLE summary="topbar_1_links" width="100%">
               <TR align="right">
                 <TD class="top">
                 
                 <A class="nodec" href="../../index.shtml"><FONT color=
                 "#DDDDDD" size="2">&lt;--</FONT></A> &nbsp;| 
                 <A class="nodec" href="../map.html"><FONT color=
                 "#DDDDDD" size="2">Mappa</FONT></A> &nbsp;| 
                 <A class="nodec" href="../indice.html"><FONT color=
                 "#DDDDDD" size="2">Indice</FONT></A> &nbsp;| 
                 <A class="nodec" href="../Search/index.shtml"><FONT color=
                 "#DDDDDD" size="2">Cerca</FONT></A> </TD>
                 
               </TR>

               <TR align="right">
                 <TD class="top">
                   <HR width="100%" noshade size="1">
                 </TD>
               </TR>
             </TABLE>
           </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end top navegation bar -->
 <!-- blue bar -->
 <TABLE summary="topbar_2" cellspacing="0" cellpadding="0" border="0" align="center"
 width="90%">
   <TR bgcolor="#00ffff">
     <TD><IMG src="../../common/images/transpix.gif" width="1" height=
     "2" alt=""></TD>
   </TR>
 </TABLE>
 <!-- end blue bar -->
 <!-- bottom navegation bar -->
 <TABLE summary="topbar_3" cellspacing="0" cellpadding="0" border="0" align="center"
 width="94%">
   <TR bgcolor="#000000">
     <TD>
       <TABLE summary="topbar_3_links" cellspacing="0" cellpadding="1" border="0" width=
       "100%">
         <TR align="center">
           <TD WIDTH="20%"><A class="nodec" href="../News/index.shtml"><FONT color=
           "#FFFFFF">News</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Archives/index.html"><FONT color=
           "#FFFFFF">Archivo</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../Links/index.html"><FONT color=
           "#FFFFFF">Link</FONT></A> </TD>
           <TD WIDTH="5%"><FONT color="#FFFFFF">|</FONT> </TD>
           <TD WIDTH="20%"><A class="nodec" href="../aboutus.html"><FONT color=
           "#FFFFFF">Cose LF</FONT></A> </TD>
         </TR>
       </TABLE>
     </TD>
   </TR>
 </TABLE>
 <!-- end bottom navegation bar -->
<!-- stop navegation bar -->

<!-- SSI_INFO -->

<!-- tr_staticssi include virtual -->
<!-- tr_staticssi exec cmd -->
<!-- addedByLfdynahead ver 1.5 --><TABLE ALIGN="right" border=0><TR><TD ALIGN="right"><FONT SIZE="-1" FACE="Arial,Helvetica">Questo documento &egrave; disponibile in: <A href="../../English/December2004/article354.shtml">English</a> &nbsp;<A href="../../ChineseGB/December2004/article354.shtml">ChineseGB</a> &nbsp;<A href="../../Deutsch/December2004/article354.shtml">Deutsch</a> &nbsp;<A href="../../Francais/December2004/article354.shtml">Francais</a> &nbsp;<A href="../../Italiano/December2004/article354.shtml">Italiano</a> &nbsp;<A href="../../Nederlands/December2004/article354.shtml">Nederlands</a> &nbsp;<A href="../../Portugues/December2004/article354.shtml">Portugues</a> &nbsp;<A href="../../Polish/December2004/article354.shtml">Polish</a> &nbsp;</FONT></TD></TR></TABLE><br>
 


<!-- SSI_INFO STOP -->
<!-- 2pdaIgnoreStop -->

<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_START -->
<TABLE ALIGN="LEFT" BORDER="0" WIDTH="195" summary="about the author" class="left">
<TR>
<TD>

<img src="../../common/images/BrunoSousa.jpg" alt="[Photo of the Author]" width="100" height="142">
<BR>   Bruno Sousa <br> <small>&lt;bruno/at/linuxfocus.org&gt;</small>
<BR><BR>
<I>L'autore:</I><BR>
<!-- aboutauthor_start -->
<p>Bruno e' uno studente in Portogallo.
    Il suo tempo libero lo dedica a Linux ed alla fotografia
    </p>
<!-- aboutauthor_stop -->
<!-- TRANSLATED_TO it -->
<BR><BR><I>Tradotto in Italiano da:</I><BR>
Roberto Pauletto <small>&lt;neverquit/at/cwazy.co.uk&gt;</small>
<br>
<!--
 =LF=TRANSTO=it: Roberto Pauletto
-->
<!-- TRANSLATED_TO_STOP -->
<!-- INDEX_START -->
<BR><i>Contenuto</i>:
<UL>
  <LI><A HREF="#354lfindex0">Che cosa serve a SPF per funzionare?</A></LI>
  <LI><A HREF="#354lfindex1">Il  Record TXT di SPF</A></LI>
  <LI><A HREF="#354lfindex2">Hey, sono un ISP</A></LI>
  <LI><A HREF="#354lfindex3">Quali sono le cose da cui fare attenzione?</A></LI>
  <LI><A HREF="#354lfindex4">Conclusione</A></LI>
  <LI><A HREF="#354lfindex5">Riferimenti</A></LI>
  <LI><A HREF="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=354">Discussioni su quest'articolo</A></LI>
</UL>

</TD></TR></TABLE>
<!-- INDEX_STOP -->
<!-- SHORT_BIO_ABOUT_THE_AUTHOR_AND_INDEX_STOP -->
<!-- HEAD_OF_THE_ARTICLE_START -->
<br>&nbsp;
<table border="0"><tr><td>
<H2>Introduzione a SPF</H2>
 <img hspace="10" alt="[Illustration]" src="../../common/images2/article354.gif" width="171" height="98">
<!-- ABSTRACT OF THE ARTICLE -->
<P><i>Premessa</i>:
<P>
<!-- articleabstract_start -->

    SPF sta per Sender Policy Framework e mira a costituire uno standard
    per prevenire la contraffazione degli indirizzi e-mail. Questo
    articolo fornisce una breve introduzione a SPF, i suoi vantaggi ed i
    suoi svantaggi.
       <br>
<!-- articleabstract_stop -->

<br><!-- HR divider --><center><font color="#8282e0"><b>_________________ _________________ _________________</b></font></center><br>
</td></tr></table>
<!-- HEAD_OF_THE_ARTICLE_STOP -->
<!-- BODY_OF_THE_ARTICLE_START -->

    SPF naque nel 2003, il suo mentore, Meng Weng Wong ha riunito le
    migliori caratteristiche di Reverse MX e DMP (Designated Mailer Protocol) per
    dare vita a SPF.
    <br><br>
      SPF usea il return-path (percorso di ritorno) (oppure MAIL FROM) presente nell'intestazinoe del messaggio email.
      Visto che tutti i MTA (Mail Transport Agent) lavorano con questi
      campi. Comunque Microsoft ha introdotto un nuovo concetto: il PRA
      (Purported Responsible Address - Indirizzo del supposto
      responsabile). Il PRA corrisponde all'indirizzo dell'utente finale
      che usa un MUA  (come Thunderbird).

      <br><br>
      Quindi quando mettiamo insieme  SPF ed il PRA possiamo ottenere
      l'identita' del mittente (il cosiddetto Sender ID). Quindi il Sender ID consente
      ad un utente che riceve email di eseguire il controllo del MAIL FROM
      - provenienza - (controllo SPF) ed il controllo PRA. In un qualche
      modo si puo' dire che i MTA verificheranno il MAIL FROM mentre i MUA
      eseguiranno il controllo PRA.<br>
      <br>
      In effetti SPF necessita che DNS (Domain Name Sytstem) lavori
      propriamente. Questo significa che i record "reverse MX" devono
      essere diffusi, questi record dicono quale macchina <i>spedisce</i>
      l'email da un dato dominio. E' diverso dal record MX, usato
      oggigiorno, che spedifica la macchian che <i>riceve</i> email per un
      dato dominio

      <A NAME="354lfindex0">&nbsp;</A>
<H2>Che cosa serve a SPF per funzionare?</H2>

      Per proteggere il vostro sistema con SPF dovete:
 <ol>
   <li>Configurare  il vostro DNS per aggiungere il record TXT dove viene introdotta l'informazione che
  ceracata da SPF  </li>
  <li>Configurare il vostro sistema di email (qmail, sendmail) per usare SPF, cio' significa eseguire la verifica di
  ogni messaggio ricevuto sul vostro server.</li>
</ol>
Il primo passo verra' svolto sul server DNS dove si trova il dominio.
Nella sezione successiva discuteremo circa i dettagli del record. Una cosa
che dovete tenere presente e' la sintassi usata dal vostro server DNS (bind
or djbdns). Ma non spaventatevi, il sito ufficiale di SPF fornisce un
eccellente wizard (guida passo-passo) che vi spieghera' come fare.

<A NAME="354lfindex1">&nbsp;</A>
<H2>Il  Record TXT di SPF</H2>

		Il record SPF e' contenuto in un record  TXT ed il suo formato e' il seguente:
<pre>
		v=spf1 [[pre] type [ext] ] ... [mod]
</pre>

    <br>
    Il significato di ciascun parametro e' il seguente:
	<table border="1">
 		<tr><td><b><font size="4">Parametro</font></b></td>
			  <td> <b><font size="4">Descrizione</font></b> </td>
    </tr>
    <tr><td> v=spf1 </td> <td> Versione di SPF. Usando SenderID dovreste
        vedere v=spf2</td> </tr>
		<tr><td> pre    </td> <td> Definisce un codice di ritorno quando esiste una corrispondenza.<br> <br>
			I possibili valori sono:
			<table>
			<tr><td><b>Valore</b></td> <td> <b>Descrizione</b> </td></tr>
      <tr><td><b>+</b> </td> <td> Default. Significa  passato quando il test e' definitivo.
</td></tr>
<tr><td> <b>-</b> </td> <td> Vuol dire test fallito. Questo valore in
    genere si applica a -all per dirgli che non si sono precedenti corrispondenze.</td></tr>
<tr><td> <b>~</b> </td> <td> Vuol dire soft fail (fallimento non definitivo). Questo valore in genere viene applicato quando il test non e' definitivo.
</td></tr>
<tr><td> <b>?</b> </td> <td> Vuol dire neutrale. Questo valore si applica
    di norma quando un test non e' definitivo.</td></tr>
			</table>
		</td> </tr>

    <tr><td> type </td> <td> Definisce il tipo da usare per la verifica.
<br><br> Valori possibili sono::
			<table colspan="2">
			<tr><td><b>Valore</b></td> <td> <b>Descrizione</b> </td></tr>
			<tr><td>include </td> <td> per includere i test da un dominio fornito.<br>
          Scritto nella forma include:dominio </td> </tr>
			<tr><td>all</td> <td> to finire la sequenza dei  test. <br>
          Ad esempio se e' -all, allora se tutti i test non sono stati
          completati fino a qui allora abbandona. Ma se non si e' sicuri
          puo' essere usato nella forma ?all che vuol dire  il
          testo sara' accettato.			</td> </tr>
			<tr><td>ip4</td> <td> Usa una versione  IP 4 per verifica. <br>
          Puo' essere usata nella forma  ip4:ipv4 oppure ip4:ipv4/cidr per definire un
          raggio di valori. Questo e' il tipo maggiormente consigliato
          visto che mette il minor carico sui server DNS			</td> </tr>

      <tr><td>ip6</td> <td> Use una versione IP 6 for verifica.</td> </tr>

			<tr><td>a</td> <td> Usa un nome di dominio per verifica.<br>
          Eseguira' una ricerca nel DNS per una A RR.
           <br>
           Puo' essere usato nella forma a:dominio, a:dominio/cidr oppure
           a/cidr

			</td> </tr>

			<tr><td>mx</td> <td> Usa il DNS MX RR per verifica.<br>
          Il MX RR definisce il MTA ricevente, ad esempio se non e' lo
          stesso del MTA che invia, il test basato sul mx fallira. <br>
Puo' essere usato nella forma mx:dominio, mx:dominio/cidr oppure mx/cidr.
			</td> </tr>

      <tr><td>ptr</td> <td> Usa DNS PTR RR for verifica.<br>
          In questo caso viene usato un PTR RR ed una interrogaziore
          reverse map. Se l'host restituito e' compreso nelle stesso
          dominio la comunicazione e' verificata. <br>
          Puo' essere usato nella forma  ptr:dominio
			</td></tr>

      <tr><td>exist</td> <td> Test per l'esistenza di un domninio .<br>
          Puo' essere scritto nella forma exist:dominio. </td> </tr>

			</table>
		</td> </tr>

    <tr><td> ext </td> <td> Definisce un'estensione opzionale per il tipo.
        Se viene omesso allora sara' usato solo un record di tipo singolo
        per l'interrogazione. </td></tr>

    <tr><td> mod </td> <td> E' l'ultimo tipo di direttiva ed agisce come un
        modificatore di record. <br><br>

			<table>
		    <tr><td><b> modificatore</b> </td> <td> <b>Descrizione</b> </td> </tr>
		    <tr><td> redirect </td> <td> Redirige la verifica verso l'uso dei
            record SPF del dominio definito. <br> Usato nella forma redirect=dominio.</td> </tr>
        <tr><td> exp</td> <td> Questo record deve essere l'ultimo e
            consente di personalizzare un messaggio di errore/avvertimento
 <br>
<pre>
<small>
IN TXT "v=spf1 mx -all exp=getlost.example.com"

getlost IN TXT "You are not authorized to send mail for the domain" (Non
siete autorizzati ad inviare mail per il dominio)
</small>
</pre>
<br>
				</td></tr>

			</table>
				</td></tr>
  </table>

    <A NAME="354lfindex2">&nbsp;</A>
<H2>Hey, sono un ISP</H2>

    Gli ISP (Internet Service Provider) avranno alcuni "problemi" con i loro utenti di roaming se
    non stanno usando meccanismi tipo POP-before-Relay invece che SASL
    SMTP.
    <br><br>
 Bene, se siete un ISP che si preoccupa dello spam e delle falsificazioni,
 dovreste  riconsiderare le vostre regole di comportamento per quanto
 riguarda le email ed iniziare ad
 usare SPF <br>
 Ecco alcuni punti che potreste prendere in considerazione.
<ol>
  <li>Per prima cosa configurate il vostro MTA per usare SASL, ad esempio
  potete abilitarlo sulle porte 25 e 587.</li>
  <li>Avvisate i vostri utenti del fatto che state implementando delle
  regole. (spf.pobox.com vi fornisce un esempio, vedere i riferimenti). </li>
  <li>Concedete ai vostri utenti un periodo di adattemento, nel senso che
  inserirete  i vostri record di SPF nel DNS, me con i test softfail (-all)
  invece che con fail (-all).
  </li>
</ol>

<p>Con questo avete protetto i vostri server, i vostri clients ed il mondo
dallo Spam ....</p>

<p>Ci sono molte informazioni sul sito ufficiale di SPF per voi, cosa
state aspettando? </p>


<A NAME="354lfindex3">&nbsp;</A>
<H2>Quali sono le cose da cui fare attenzione?</H2>

SPF e' una soluzione perfetta per proteggervi contro azioni fraudolente. Ha
comunque un limite: il normale inoltro di e-mail (e-mail forwarding) non
funzionera' piu'. Non potete semplicemente ricevere le e-mail nel vostro
MTA  e rispedirle. Dovete riscrivere l'indirizzo del mittente. Delle patch
per i piu' comuni MTA si possono trovare in
<a href="http://spf.pobox.com/downloads.html">SPF side</a>.
In altre parole se iniziate ad inserire i record SPF DNS dovreste anche
aggiornamre il vostro MTA per eseguire una riscrittura dell'indirizzo del
mittente anche se non eseguite ancora la verifica dei record SPF.

    <A NAME="354lfindex4">&nbsp;</A>
<H2>Conclusione</H2>

    <p>Potreste pensare che l'implementazione verso SPF possa essere in
    qualche modo confusa. In realta' non e' complicato, inolte avete anche
    un gran wizard che vi aiuta a terminare il vostro compito (vedere la
    sezione riferimenti). </p>

    <p>Se sete preoccupati per lo spam allora SPF vi aiutera', proteggendo
    il vostro dominio dalle contraffazioni, e tutto quello che dovete fare
    e' aggiungere una riga di testo nel vostro server DNS e configurare il
    vostro server email.</p>

    <p>I vantaggi che SPF vi porta sono notevoli. In ogni caso, come ho gia'
    detto a qualcuno, non e' una differenza come dal giorno alla notte. I
    benefici di SPF si avranno col passare del tempo, quando anche altri
    vi aderiranno..</p>

    <p>Ho parlato del Sender ID, e la sua relazione con SPF, ma non ho
    fornito alcuna spiegazione su di esso. Probabilmente la ragione la
    conoscete gia', la politica di Microsoft e' sempre la stessa, brevetti
    del software. Al riguardo di SenderID potete leggere la posizione di openspf.org
    .</p>

    <p>In un prossimo articolo esamineremo la configurazione del MTA,
    arrivederci quindi.
</p>

<p>Spero di avervi fornito una breve introduzione a SPF. Se volete saperne
di piu', usate i riferimenti citati per scrivere questo articolo.. </p>

    <A NAME="354lfindex5">&nbsp;</A>
<H2>Riferimenti</H2>

	 <a href="http://spf.pobox.com">Il sito ufficiale di SPF.</a>
<br>
	 <a href="http://spf.pobox.com/faq.html">La  FAQ ufficiale di SPF.</a>
<br>
<a href="http://spf.pobox.com/wizard.html">Il wizard ufficiale di SPF.</a>
<br>
	 <a href="http://www.openspf.org/OpenSPF_community_position_v101.html">
La posizione di openspf.org circa SenderID.</a>
<br>
	 <a href="http://trends.newsforge.com/article.pl?sid=04/08/26/1326244&amp;tid=29">Un
eccellente articolo circa SenderId e SPF.</a>
<br>
	 <a href="http://spf.pobox.com/saslconversion.html">Avverte i vostri
     utenti circa la conversione SASL</a>
<br>
		<a href="http://www.zytrax.com/books/dns/ch9/spf.html">HOWTO -
      Definire un record SPF</a>
<br>
     <!-- vim: set sw=2 ts=2 et tw=74: -->
  



<!-- BODY_OF_THE_ARTICLE_STOP -->
<!-- 2pdaIgnoreStart -->
<A NAME="talkback">&nbsp;</a>
<h2>Discussioni su quest'articolo</h2>
ogni articolo possiede una sua pagina di discussione, da questa pagina puoi inviare un commento o leggere quelli degli altri lettori:
<center>
    <table width="250" border=0><tr><td>
    <div class="tbbutton"><A class="nodec" href="http://cgi.linuxfocus.org/cgi-bin/lftalkback?anum=354">&nbsp;pagina di discussione&nbsp;</a></div>
    </td></tr></table>
</center>

<br clear="all">
<HR size="2" noshade>
<table width="250" border=0><tr><td>
<div class="bbutton"><a class="nodec" href="../../index.shtml">&lt;--, LF Home</a></div>
</td><td>
<div class="bbutton"><a class="nodec" href="index.shtml">Indice di questo numero</a></div>
</td></tr></table>
<br clear="all">
<HR size="2" noshade>
<!-- ARTICLE FOOT -->
<CENTER><TABLE WIDTH="98%" summary="footer">
<TR><TD ALIGN=CENTER BGCOLOR="#bdc6d5" WIDTH="50%">
<A HREF="../../common/lfteam.html">Webpages maintained by the LinuxFocus Editor team</A>
<BR><FONT COLOR="#1111aa"><a href="../../common/copy.html">&copy; Bruno     Sousa</a><br>&quot;some rights reserved&quot; see <a href="../../license/index.shtml">linuxfocus.org/license/</a><br><a href="http://www.linuxfocus.org">http://www.LinuxFocus.org</a></FONT>
</TD>
<TD BGCOLOR="#bdc6d5">
<!-- TRANSLATION INFO -->
<font size=2>Translation information:</font>
<TABLE summary="translators">
  <tr><td><font size="2">en --&gt; -- : Bruno Sousa <small>&lt;bruno/at/linuxfocus.org&gt;</small></font></td></tr>
  <tr><td><font size="2">en --&gt; it: Roberto Pauletto &lt;neverquit/at/cwazy.co.uk&gt;</font></td></tr>
</TABLE>
</TD>
</TR></TABLE></CENTER>
<p><font size=1>2005-01-04, generated by lfparser version 2.51</font></p>
<!-- 2pdaIgnoreStop -->
</BODY>
</HTML>
