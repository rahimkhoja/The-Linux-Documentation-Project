<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Activating and deactivating volumes and objects</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="EVMS User Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Selectively activating volumes and objects"
HREF="selectact.html"><LINK
REL="PREVIOUS"
TITLE="Initial activation using /etc/evms.conf"
HREF="initialactivation.html"><LINK
REL="NEXT"
TITLE="Mounting and unmounting volumes from within EVMS"
HREF="mountunmount.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>EVMS User Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="initialactivation.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 18. Selectively activating volumes and objects</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="mountunmount.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN3528"
></A
>18.2. Activating and deactivating volumes and objects</H1
><P
>&#13;The EVMS user interfaces offer the ability to activate or deactivate
a particular volume or object.  The volume or object will be
activated or deactivated when the changes are saved.
</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN3531"
></A
>18.2.1. Activation</H2
><P
>&#13;You can activate inactive volumes and objects using the various EVMS
user interfaces.
</P
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Note</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;EVMS does not currently update the EVMS configuration file
(<TT
CLASS="filename"
>/etc/evms.conf</TT
>) when volumes and objects are
activated.  If you activate a volume or object that is not initially
activated and do not make the corresponding change in
<TT
CLASS="filename"
>/etc/evms.conf</TT
>, the volume or object will not be
activated the next time the system is booted and you run
<B
CLASS="command"
>evms_activate</B
> or one of the user interfaces.
</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3540"
></A
>18.2.1.1. Using the EVMS GUI</H3
><P
>To activate volumes or objects with the GUI, follow these steps:
<P
></P
><OL
TYPE="1"
><LI
><P
>Select  
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Activation</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Activate...</SPAN
>
</P
></LI
><LI
><P
>Select the volume(s) and object(s) you want to activate.
</P
></LI
><LI
><P
>&#13;Click <SPAN
CLASS="guibutton"
>Activate</SPAN
>.
</P
></LI
><LI
><P
>Click <SPAN
CLASS="guibutton"
>Save</SPAN
> to save the changes and
activate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3558"
></A
>18.2.1.2. Using the EVMS GUI context-sensitive menu</H3
><P
>To activate with the GUI context-sensitive menu, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;Right click the volume or object you want to activate.
</P
></LI
><LI
><P
>&#13;Click "Activate."
</P
></LI
><LI
><P
>&#13;Click <SPAN
CLASS="guibutton"
>Activate</SPAN
>.
</P
></LI
><LI
><P
>Click <SPAN
CLASS="guibutton"
>Save</SPAN
> to save the changes and
activate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3572"
></A
>18.2.1.3. Using Ncurses</H3
><P
>To activate a volume or object with Ncurses, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>Select  
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Activation</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Activate...</SPAN
>
</P
></LI
><LI
><P
>Select the volume(s) and object(s) you want to activate.
</P
></LI
><LI
><P
>&#13;Select <SPAN
CLASS="guibutton"
>Activate</SPAN
>.
</P
></LI
><LI
><P
>Select 
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Save</SPAN
> 
to save the changes and
activate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3592"
></A
>18.2.1.4. Using the Ncurses context-sensitive menu</H3
><P
>To enable activation on a volume or object with the 
Ncurses context-sensitive menu, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;Highlight the volume or object you want to activate and press
<B
CLASS="keycap"
>Enter</B
>.
</P
></LI
><LI
><P
>&#13;Select "Activate."
</P
></LI
><LI
><P
>&#13;Select <SPAN
CLASS="guibutton"
>Activate</SPAN
>.
</P
></LI
><LI
><P
>Select 
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Save</SPAN
> 
to save the changes and
activate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3609"
></A
>18.2.1.5. Using the CLI</H3
><P
>To activate a volume or object with the CLI, 
issue the following command to the CLI (where "name" is the name of
the volume or object you want to activate):</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
>&#13;Activate:name
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN3613"
></A
>18.2.2. Deactivation</H2
><P
>&#13;You can deactivate active volumes and objects using the various EVMS
user interfaces.
</P
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Note</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;EVMS does not currently update the EVMS configuration file
(<TT
CLASS="filename"
>/etc/evms.conf</TT
>) when a volume or object is
deactivated.
If you deactivate a volume or object that is initially activated and
do not make the corresponding change in <TT
CLASS="filename"
>/etc/evms.conf</TT
>,
then the volume or object will be activated the next time you run
<B
CLASS="command"
>evms_activate</B
> or one of the user interfaces.
</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3622"
></A
>18.2.2.1. Using the EVMS GUI</H3
><P
>To deactivate a volume or object with the GUI, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>Select  
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Activation</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Deactivate...</SPAN
>
</P
></LI
><LI
><P
>Select the volume(s) and object(s) you want to deactivate.
</P
></LI
><LI
><P
>&#13;Click <SPAN
CLASS="guibutton"
>Deactivate</SPAN
>.
</P
></LI
><LI
><P
>Click <SPAN
CLASS="guibutton"
>Save</SPAN
> to save the changes and
activate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3640"
></A
>18.2.2.2. Using the EVMS GUI context-sensitive menu</H3
><P
>To deactivate a volume or object with the GUI 
context-sensitive menu, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;Right click the volume or object you want to deactivate.
</P
></LI
><LI
><P
>&#13;Click "Deactivate."
</P
></LI
><LI
><P
>&#13;Click <SPAN
CLASS="guibutton"
>Deactivate</SPAN
>.
</P
></LI
><LI
><P
>Click <SPAN
CLASS="guibutton"
>Save</SPAN
> to save the changes and
activate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3654"
></A
>18.2.2.3. Using Ncurses</H3
><P
>To deactive a volume or object with Ncurses, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>Select  
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Activation</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Deactivate...</SPAN
>
</P
></LI
><LI
><P
>Select the volume(s) and object(s) you want to deactivate.
</P
></LI
><LI
><P
>&#13;Select <SPAN
CLASS="guibutton"
>Deactivate</SPAN
>.
</P
></LI
><LI
><P
>Select 
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Save</SPAN
>
to save the changes and
deactivate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3674"
></A
>18.2.2.4. Using the Ncurses context-sensitive menu</H3
><P
>To deactivate a volume or object with the 
Ncurses context-sensitive menu, follow these steps:

<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;Highlight the volume or object you want to deactivate and press
<B
CLASS="keycap"
>Enter</B
>.
</P
></LI
><LI
><P
>&#13;Select "Deactivate."
</P
></LI
><LI
><P
>&#13;Select <SPAN
CLASS="guibutton"
>Deactivate</SPAN
>.
</P
></LI
><LI
><P
>Select 
<SPAN
CLASS="guimenu"
>Actions</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Save</SPAN
> 
to save the changes and
deactivate the volume(s) and object(s).
</P
></LI
></OL
>

</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3691"
></A
>18.2.2.5. Using the CLI</H3
><P
>To deactivate a volume or object with the CLI, 
issue the following command to the CLI (where "name" is the name of
the volume or object you want to deactivate):</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
>&#13;Deactivate:name
</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN3695"
></A
>18.2.3. Activation and deactivation dependencies</H2
><P
>&#13;In order for a volume or object to be active, all of its children
must be active.  When you activate a volume or object, EVMS will
activate all the objects that the volume or object comprises.
</P
><P
>&#13;Similarly, in order for an object to be inactive, all of its
parents cannot be activate.  When you deactivate an object, EVMS
will deactivate all of the objects and volumes that are built from
that object.
</P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3699"
></A
>18.2.3.1. Dependencies during initial activation</H3
><P
>&#13;As discussed in <A
HREF="initialactivation.html"
>Section 18.1</A
>, 
when EVMS starts, it builds an initial list of
volumes and objects whose names match the "include" entry in the
activation section of <TT
CLASS="filename"
>/etc/evms.conf</TT
>.  Because those
volumes and objects cannot be active unless the objects they comprise are
active, EVMS then adds to the list all the objects that are comprised by
the volumes and objects that were found in the initial match.
</P
><P
>&#13;EVMS then removes from the list the volumes and objects whose names
match the "exclude" entry in the activation section of
<TT
CLASS="filename"
>/etc/evms.conf</TT
>.  Because any volumes or objects
that are built from the excluded ones cannot be active, EVMS removes
them from the list as well.
</P
><P
>&#13;The enforcement of the dependencies can result in behavior that is not
immediately apparent.
Let's say, for example, that segment hda7 is made into volume
<TT
CLASS="filename"
>/dev/evms/home</TT
>. and the activation section in
<TT
CLASS="filename"
>/etc/evms.conf</TT
> looks like this:
</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
>&#13;activate {
	include = [*]
	exclude = [hda*]
}
</PRE
></FONT
></TD
></TR
></TABLE
><P
>&#13;When EVMS builds the list of volumes and objects to activate,
everything is included.  EVMS next removes all objects whose names
start with "hda."  hda7 will be removed from the list.
Next, because volume <TT
CLASS="filename"
>/dev/evms/home</TT
> is built
from hda7, it will also be removed from the list and will not be
activated.
So, although volume <TT
CLASS="filename"
>/dev/evms/home</TT
> is not
explicitly in the exclude list, it is not activated because it
depends on an object that will not be activated.
</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="AEN3713"
></A
>18.2.3.2. Dependencies for compatibility volumes</H3
><P
>&#13;Compatibility volumes are made directly from the volume's object.
That is, the device node for the volume points directly to the device
for the volume's object.
Because a compatibility volume is inseparable from its object, a
compatibility volume itself cannot be deactivated.
To deactivate a compatibility volume you must deactivate the volume's object.
</P
><P
>&#13;Similarly, if a compatibility volume and its object are not active
and you activate the volume's object, the compatibility volume will be
active as well.
</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="initialactivation.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="mountunmount.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Initial activation using /etc/evms.conf</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="selectact.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Mounting and unmounting volumes from within EVMS</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>