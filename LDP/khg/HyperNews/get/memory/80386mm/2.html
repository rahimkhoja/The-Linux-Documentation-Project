
<HTML>
<HEAD>
<TITLE>User Code and Data Segment no longer in LDT.</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../Icons/feedback.gif" ALT="Feedback:"
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
User Code and Data Segment no longer in LDT.</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../80386mm.html" >
 80386 Memory Management</A> </font><BR>
<I>Date:</I> Tue, 23 Jul 1996 09:39:45 GMT <BR>
<I>From:</I> Lennart Benschop &lt;<A HREF="mailto:benschop@eb.ele.tue.nl" >benschop@eb.ele.tue.nl</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>

<P>The user code and data segments of a process are no longer in the
LDT, but in the GDT instead. The code and data segment of
each process starts at linear address 0 anyway, only the
physical address is different (different page directory =CR3)
</P>

<P>Processes still have an LDT, this can be used by certain applications (WINE).
</P>

<P>In very early versions of Linux, user space was restricted to 64 MB and there were a maximum of 64 processes (including process 0, which had the kernel in its user space). Back then each
process had a different linear address. making a total of 4GB.
There was only one page directory, and there were per-process
code and data segments, included in the LDT. This (somewhat elegant) scheme was
abandoned to allow more than 64 processes and a per process virtual address space of more than 64MB. That's why certain kernels had they suer code and data segments in the LDT, though they were in fact the same segments for all processes.
</P>

</td></tr>
</table>
<P><NOBR>





</NOBR><BR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
