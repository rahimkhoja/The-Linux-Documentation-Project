
<HTML>
<HEAD>
<TITLE>Creating a new sytem call: solution</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../Icons/idea.gif" ALT="Idea:"
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
Creating a new sytem call: solution</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../../khg.html" >
 The Linux Kernel Hackers' Guide</A> </font><BR>

<I>Re</I>: 
  <IMG SRC="../../../../Icons/question.gif" 
   WIDTH=15 HEIGHT=15
   ALT="Question" ALIGN="absmiddle">
  <A HREF="../135.html" >
   Problem creating a new system call</A> <BR>
<I>Date:</I> Sun, 12 Oct 1997 06:32:03 GMT <BR>
<I>From:</I> <A HREF="http://www.cse.iitb.ernet.in" >C.H.Gopinath</A> &lt;<A HREF="mailto:gopich@cse.iitb.ernet.in" >gopich@cse.iitb.ernet.in</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>
<PRE>The problem is using printk, it won't print on the stdout,
it will be stored in the buffers. If you want the data
to be displayed on the stdout use

	sys_write(1,ptr,len);

where ptr is the string to be displayed and len is its length.

Using this you can check your sys call is created or not.

But regarding assigning a value to a global variable or local
variable i don't know. I am also struggling for the past
one week. I tried to assign and print a string in the system
call. It is compiling without any problem butwhen i try to
execute that, at the assignment it is giving 

General Protection:000
and then dumping all the register values with Segmentation 
Fault.

Can cny body explain why it is happeing like this.

By the by is there any kernel debugging tool for 4.2 kernel,
if so can anybody please give pointers for that.

Thanx in advance,
			--
				C.H.Gopinath
				<A HREF="mailto:gopich@cse.iitb.ernet.in">gopich@cse.iitb.ernet.in</A></PRE>
</td></tr>
</table>
<P><NOBR>





</NOBR><BR>
<P><B><A NAME="Messages">Messages</A></B>
<NOBR>
<font size=-1>







</font>
</NOBR>
 <P>
<NOBR>
<DL COMPACT>
<DT> 1. <IMG src="../../../../Icons/feedback.gif" ALT="Feedback:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="1/1.html">
Kernel Debuggers for Linux</A> <i> by sauru</i>
 <IMG SRC="../../../../Icons/newest.gif" ALT="newest" WIDTH=31 HEIGHT=12
  ALIGN="bottom"> </DT>
</DL>
</NOBR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
