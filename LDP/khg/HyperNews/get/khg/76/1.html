
<HTML>
<HEAD>
<TITLE>Do it in the kernel</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../Icons/feedback.gif" ALT="Feedback:"
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
Do it in the kernel</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../../khg.html" >
 The Linux Kernel Hackers' Guide</A> </font><BR>

<I>Re</I>: 
  <IMG SRC="../../../../Icons/note.gif" 
   WIDTH=15 HEIGHT=15
   ALT="" ALIGN="absmiddle">
  <A HREF="../76.html" >
   How can I "cheat" and change the IP address (src,dest) in the sent socket? </A>  (<A HREF="t2.technion.ac.il/~s2623500" >Rami</A>)<BR>
<I>Date:</I> Sat, 14 Jun 1997 01:31:25 GMT <BR>
<I>From:</I> <A HREF="../../../../~johnsonm" >Michael K. Johnson</A> &lt;<A HREF="mailto:johnsonm@redhat.com" >johnsonm@redhat.com</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>
<p>The only way to do this in user space is to do something
like diald, where a program talks SLIP (or you might choose
PPP) to the kernel over a pty or two, and routes traffic
back and forth through itself, making modifications.

<p>The more reasonable way to do this is to put it in the
generic network filtering.  You can either do simple
rewrites with the existing firewall tools or write your
own firewall modules and drop them into the stack.  That
way you can give yourself the option of making arbitrary
modifications to packets on their way in and/or out of
the system.

<p>Read <A href="../../net/net-intro.html">Network Buffers And Memory Management</a> first to
learn about how the networking stack works, then read
the ipfwadm code and the relevant kernel code.  Good luck.

</td></tr>
</table>
<P><NOBR>





</NOBR><BR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
