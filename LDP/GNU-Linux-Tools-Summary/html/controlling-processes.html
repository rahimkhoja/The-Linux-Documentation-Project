<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Controlling Processes</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="GNU/Linux Command-Line Tools Summary"
HREF="index.html"><LINK
REL="UP"
TITLE="Controlling the system"
HREF="controlling-the-system.html"><LINK
REL="PREVIOUS"
TITLE="Shutting Down/Rebooting the System"
HREF="shutting-down.html"><LINK
REL="NEXT"
TITLE="Controlling services"
HREF="controlling-services.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>GNU/Linux Command-Line Tools Summary</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="shutting-down.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. Controlling the system</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="controlling-services.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CONTROLLING-PROCESSES"
></A
>9.3. Controlling Processes</H1
><P
></P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>ps</DT
><DD
><P
>Will give you a list of the processes running on your system. With no options, <EM
>ps</EM
> will list processes that belong to the current user and have a controlling terminal.</P
><P
>Example options include:</P
><P
></P
><UL
><LI
><P
><EM
>-aux</EM
> --- list all running processes (by all users with some information).</P
></LI
><LI
><P
><EM
>-a</EM
> --- list all processes from all users.</P
></LI
><LI
><P
><EM
>-u</EM
> --- list more information including user names, %cpu usage, and %mem usage et cetera.</P
></LI
><LI
><P
><EM
>-x</EM
> --- list processes without controlling terminals.</P
></LI
><LI
><P
><EM
>-l</EM
> --- display different information including UID and nice value.</P
></LI
><LI
><P
><EM
>--forest</EM
> --- this makes it easier to see the process hierarchy, which will give you an indication of how the various processes on your system interrelate (although you should also try <EM
>pstree</EM
>).</P
></LI
></UL
><P
>For example to list all running processes with additional information, simply type:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ps -aux</PRE
></FONT
></TD
></TR
></TABLE
></DD
><DT
>pstree</DT
><DD
><P
>Displays the processes in the form of a tree structure (similar to how <EM
>tree</EM
> does it for directories). </P
><P
>Use the<EM
> -p </EM
> option to show process id's.</P
><P
>Example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>pstree -p</PRE
></FONT
></TD
></TR
></TABLE
><P
>This would list all processes and their id's.</P
></DD
><DT
>pgrep</DT
><DD
><P
>This command is useful for finding the process id of a particular process when you know part of its name. </P
><P
>Use the <EM
>-l</EM
> option to list the name of the process as well and the <EM
>-u</EM
> option to search via a particular user(s).</P
><P
>Normally <EM
>pgrep</EM
> will only return the pid number; this way you can use it with other commands.</P
><P
>Examples:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>kill $(pgrep mozilla)</PRE
></FONT
></TD
></TR
></TABLE
><P
>This would kill any process name that starts with mozilla. Note that this is the same as using <EM
>pkill</EM
> (see below).</P
><P
>If you are unfamiliar with the <EM
>$( )</EM
> part of this command, please refer to <A
HREF="performing-more-than-one-command.html"
>Section 6.4</A
>.</P
><P
>To list processes id's and names type:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>pgrep -l process_name</PRE
></FONT
></TD
></TR
></TABLE
></DD
><DT
>top</DT
><DD
><P
>Displays the 'top' (as in <SPAN
CLASS="ACRONYM"
>CPU</SPAN
> usage) processes, provides more detail than <EM
>ps</EM
>. </P
><P
><EM
>top</EM
> also provides an updated display, it has many options that make it fully customisable, refer to the manual or info page for details. </P
></DD
><DT
>kill</DT
><DD
><P
>To kill processes on your system, you will need their pid's or id's . Use <EM
>ps</EM
> or <EM
>pstree</EM
> to find out the process id's (pid's), or use <EM
>jobs</EM
> to find out id's.</P
><DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/tip.gif"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>killall and pkill - kill a process by name</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><EM
>pkill</EM
> and <EM
>killall </EM
>can be a lot easier to use than <EM
>kill</EM
>. <EM
>pkill</EM
> allows you to type part of the name of a process to kill it, while <EM
>killall</EM
> requires the full process name. See below for more information.</P
></TD
></TR
></TABLE
></DIV
><P
>Examples:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>kill pid</PRE
></FONT
></TD
></TR
></TABLE
><P
>Simply kill a process (allow it time to save it's files and exit)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>kill %id</PRE
></FONT
></TD
></TR
></TABLE
><P
>Same as above, except it uses an id instead of a pid, you need to use a % (percent) when using an id to kill.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>kill -kill pid</PRE
></FONT
></TD
></TR
></TABLE
><P
>Force a process to be killed (won't allow files to be saved or updated); only use when necessary because all data that the program had will be lost.</P
><P
>There are also many other kill options such as kill -HUP<EM
> </EM
>(hangup)<EM
>...</EM
> refer to the manual/info pages for more information.</P
></DD
></DL
></DIV
><P
></P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>killall</DT
><DD
><P
>Kill a process by it's name, uses names instead of process id's (pid's). Use<EM
> -v </EM
>to have <EM
>killall</EM
> report whether the kill was successful or not and <EM
> -i </EM
>for interactive mode (will prompt you before attempting to kill).</P
><DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/tip.gif"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>pkill - a little like a killall with regular expressions</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>pkill is another command that allows processes to be killed but does so using regular expressions. See below for more information.</P
></TD
></TR
></TABLE
></DIV
><P
>For example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>killall -iv mozilla</PRE
></FONT
></TD
></TR
></TABLE
><P
>Would kill anything named &#8220;mozilla&#8221; and prompt you before each kill and report whether the kill was successful or not. Unfortunately you need to get the name exactly right for <EM
>killall</EM
> to work, you would need to use &#8220;mozilla-bin&#8221; to kill the mozilla browser. If you want something where you don't need to know the exact name try <EM
> pkill </EM
>(below).</P
></DD
><DT
>pkill</DT
><DD
><P
><EM
>pkill</EM
> is used to kill processes according to an extended regular expression. Use the <EM
>-u</EM
> option to kill using a user name(s) and process name (for example to only kill a process of a certain user). <EM
>pkill</EM
> can also send specific signals to processes.</P
><P
>For normal usage simply type:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>pkill process_name</PRE
></FONT
></TD
></TR
></TABLE
><P
>Note that the &#8220;process_name&#8221; doesn't have to be an exact match...</P
><P
>Or to kill the &#8220;process_name&#8221; of only the users &#8220;fred&#8221; and &#8220;anon&#8221; type:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>pkill -u fred anon process_name</PRE
></FONT
></TD
></TR
></TABLE
></DD
><DT
>skill</DT
><DD
><P
><EM
>skill</EM
> is used to send a command/username/tty a particular signal.</P
><P
><EM
>skill</EM
> has a number of options available to ensure correct interpretation (otherwise it just guesses what it is), simply type<EM
> skill -option(s)</EM
></P
><P
></P
><UL
><LI
><P
><EM
>-L</EM
> --- list the various signals that can be sent</P
></LI
><LI
><P
><EM
>-u</EM
> --- specify a username; this is obviously followed by the user name or a space-seperated list of usernames.</P
></LI
><LI
><P
><EM
>-p</EM
> --- process id (followed by the process id)</P
></LI
><LI
><P
><EM
>-c</EM
> --- command name (this is the same as <EM
>killall</EM
>)</P
></LI
><LI
><P
><EM
>-t</EM
> --- (tty number)</P
></LI
><LI
><P
><EM
>-v</EM
> --- verbose mode </P
></LI
><LI
><P
><EM
>-i</EM
> --- interactive mode.</P
></LI
></UL
><P
><EM
>skill</EM
> can be used to stop, continue, or kill processes using the username, command name or process id (or send them any variety of signals you like). </P
><P
>Useful example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>skill -STOP abusive_user_name</PRE
></FONT
></TD
></TR
></TABLE
><P
>The above command will stop all of that users processes, this will cause his screen to freeze until you type:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>skill -CONT abusive_user_name</PRE
></FONT
></TD
></TR
></TABLE
><P
>This would tell that all processes may continue as before. Note that this would only work if you are root. Also note you can list more than one user name with the command so it will apply to multiple users.</P
></DD
><DT
><B
CLASS="KEYCAP"
>CTRL</B
>-<B
CLASS="KEYCAP"
>C</B
>&#13;</DT
><DD
><P
>The break key, will kill (break, stop) something that's running on your terminal.</P
></DD
><DT
>jobs</DT
><DD
><P
>Prints currently running jobs, as in processes you have executed within the shell.</P
></DD
><DT
>bg</DT
><DD
><P
>Backgrounds a process. To start a program in the background (so it doesn't take over the terminal) use an &#8220;&#38;&#8221; (ampersand) sign at the end of the command. You usually use 
<B
CLASS="KEYCAP"
>CTRL</B
>-<B
CLASS="KEYCAP"
>Z</B
>

 to suspend something you are currently using. You can simply use <EM
>bg</EM
> to resume in the background the last job suspended...</P
><P
>Command syntax:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bg job_number</PRE
></FONT
></TD
></TR
></TABLE
><P
>or</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>bg job_name</PRE
></FONT
></TD
></TR
></TABLE
></DD
><DT
>fg</DT
><DD
><P
>Bring a process to the foreground, so you can interact with it. The process will use your current terminal. Note simply use <EM
>fg</EM
> to foreground the last job number suspended... </P
><P
>You can bring jobs to the foreground by name or by number (use <EM
>jobs</EM
> to find the number).</P
><P
>Command syntax:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fg job_number</PRE
></FONT
></TD
></TR
></TABLE
><P
>or </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>fg job_name</PRE
></FONT
></TD
></TR
></TABLE
></DD
><DT
>nice</DT
><DD
><P
>Sets the priority for a process.<EM
> nice -20</EM
> is the maximum priority (only administrative users can assign negative priorities),<EM
> nice 20</EM
> is the minimum priority. You must be root to give a process a higher priority, but you can always lower the priority of your own processes... </P
><P
>Example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>nice -20 make</PRE
></FONT
></TD
></TR
></TABLE
><P
>Would execute <EM
>make</EM
> and it would run at maximum priority.</P
></DD
><DT
>renice</DT
><DD
><P
>Changes the priority of an existing command. You may use the options <EM
>-u</EM
> to change the priorities of all processes for a particular user name and <EM
>-g</EM
> to change priorities for all processes of a particular group. The default is to change via the process id number.</P
><P
>Example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>renice +20 2222</PRE
></FONT
></TD
></TR
></TABLE
><P
>This would change the priority of process 2222 to +20 (minimum priority).</P
></DD
><DT
>snice</DT
><DD
><P
><EM
>snice</EM
> works very similarly to <EM
>skill</EM
>, only it changes the priority of the process(es). Its function is similar to that of <EM
>renice</EM
>.</P
><P
>To use options (to ensure correct interpretation) you simply type<EM
> snice -option(s):</EM
></P
><P
></P
><UL
><LI
><P
><EM
>-u</EM
> --- specify a username; this is obviously followed by the user name or a space-seperated list of usernames.</P
></LI
><LI
><P
><EM
>-p</EM
> --- process id (followed by the process id)</P
></LI
><LI
><P
><EM
>-c</EM
> --- command name (this is the same as <EM
>killall</EM
>)</P
></LI
><LI
><P
><EM
>-t</EM
> --- tty number</P
></LI
><LI
><P
><EM
>-v</EM
> --- verbose mode </P
></LI
><LI
><P
><EM
>-i</EM
> --- interactive mode.</P
></LI
></UL
><P
>Example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>snice -10 -u root</PRE
></FONT
></TD
></TR
></TABLE
><P
>This would increase the priority of all root's processes.</P
><P
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="shutting-down.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="controlling-services.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Shutting Down/Rebooting the System</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="controlling-the-system.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Controlling services</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>