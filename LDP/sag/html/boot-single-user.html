<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Booting in single user mode</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Linux System Administrators Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="init"
HREF="init-intro.html"><LINK
REL="PREVIOUS"
TITLE="Special configuration in 
/etc/inittab"
HREF="inittab.html"><LINK
REL="NEXT"
TITLE="Logging In And Out"
HREF="log-in-and-out.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux System Administrators Guide: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="inittab.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. <B
CLASS="COMMAND"
>init</B
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="log-in-and-out.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="BOOT-SINGLE-USER"
></A
>9.5. Booting in single user mode</H1
><P
>An important run level is <I
CLASS="GLOSSTERM"
>single user 
	mode</I
> (run level 1),
	in which only the system administrator is using the machine
	and as few system services, including logins, as possible are
	running. Single user mode is necessary for a few administrative
	tasks, such as running <B
CLASS="COMMAND"
>fsck</B
> on a
	<TT
CLASS="FILENAME"
>/usr</TT
> partition, since this requires that
	the partition be unmounted, and that can't happen, unless just
	about all system services are killed.</P
><P
>A running system can be taken to single user mode by using
	<B
CLASS="COMMAND"
>telinit</B
> to request run level 1. At bootup,
	it can be entered by giving the word <TT
CLASS="LITERAL"
>single</TT
>
	or <TT
CLASS="LITERAL"
>emergency</TT
> on the kernel command line: the
	kernel gives the command line to <B
CLASS="COMMAND"
>init</B
> as well,
	and <B
CLASS="COMMAND"
>init</B
> understands from that word that it
	shouldn't use the default run level. (The kernel command line is
	entered in a way that depends on how you boot the system.)</P
><P
>Booting into single user mode is sometimes necessary so
	that one can run <B
CLASS="COMMAND"
>fsck</B
> by hand, before anything
	mounts or otherwise touches a broken <TT
CLASS="FILENAME"
>/usr</TT
>
	partition (any activity on a broken filesystem is likely to
	break it more, so <B
CLASS="COMMAND"
>fsck</B
> should be run as soon
	as possible).</P
><P
>The bootup scripts <B
CLASS="COMMAND"
>init</B
> runs
	will automatically enter single user mode, if the automatic
	<B
CLASS="COMMAND"
>fsck</B
> at bootup fails. This is an attempt to
	prevent the system from using a filesystem that is so broken that
	<B
CLASS="COMMAND"
>fsck</B
> can't fix it automatically. Such breakage
	is relatively rare, and usually involves a broken hard disk or an
	experimental kernel release, but it's good to be prepared.</P
><P
>As a security measure, a properly configured system
	will ask for the root password before starting the shell in
	single user mode. Otherwise, it would be simple to just enter
	a suitable line to LILO to get in as root. (This will break if
	<TT
CLASS="FILENAME"
>/etc/passwd</TT
> has been broken by filesystem
	problems, of course, and in that case you'd better have a boot
	floppy handy.)</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="inittab.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="log-in-and-out.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Special configuration in 
<TT
CLASS="FILENAME"
>/etc/inittab</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="init-intro.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Logging In And Out</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>