<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Design</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Pocket Linux Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Some Basic Utilities"
HREF="phase3.html"><LINK
REL="PREVIOUS"
TITLE="Analysis"
HREF="x495.html"><LINK
REL="NEXT"
TITLE="Construction"
HREF="x581.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Pocket Linux Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x495.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 4. Some Basic Utilities</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x581.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN510"
></A
>4.2. Design</H1
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN512"
></A
>4.2.1. Determining Required Commands</H2
><P
>The first question that might come to mind is, "How do we know
      which commands are needed?" It is possible to just start with
      <B
CLASS="command"
>cat</B
> and <B
CLASS="command"
>ls</B
> then install other
      commands as we discover a need for them. But this is terribly
      inefficient. We need a plan or a blueprint to work from. For this we can
      turn to the Filesystem Hierarchy Standard (FHS) available from <A
HREF="http://www.pathname.com/fhs/"
TARGET="_top"
>http://www.pathname.com/fhs/</A
>.
      The FHS dictates which commands should be present on a Linux system and
      where they should be placed in the directory structure.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN518"
></A
>4.2.2. Locating Source Code</H2
><P
>The next logical question is, "Now that we know what we need,
      where do we get the source code?" One way to find the answer to this
      question is to check the manpages. We can either search the manpages
      included with one of the popular GNU/Linux distributions or use one of
      the manpage search engines listed at <A
HREF="http://www.tldp.org/docs.html#man"
TARGET="_top"
>http://www.tldp.org/docs.html#man</A
>.
      One thing that should tip us off as to where to find the source code for
      a particular command is the email address listed for reporting bugs. For
      example the cat manpage lists bug-textutils@gnu.org. From this email
      address we can deduce that <B
CLASS="command"
>cat</B
> is part of the
      textutils package from <A
HREF="http://gnu.org"
TARGET="_top"
>GNU</A
>.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN524"
></A
>4.2.3. Leveraging FHS</H2
><P
>So let's look at the FHS requirements for the
      <TT
CLASS="filename"
>/bin</TT
> directory. The first few commands in the list
      are <B
CLASS="command"
>cat</B
>, <B
CLASS="command"
>chgrp</B
>,
      <B
CLASS="command"
>chmod</B
>, <B
CLASS="command"
>chown</B
> and
      <B
CLASS="command"
>cp</B
>. We already know that <B
CLASS="command"
>cat</B
> is
      part of GNU's textutils. Using the next few commands as keywords in a
      manpage search we discover that we need GNU's fileutils package for
      <B
CLASS="command"
>chmod</B
>, <B
CLASS="command"
>chgrp</B
>,
      <B
CLASS="command"
>chown</B
> and <B
CLASS="command"
>cp</B
>. In fact quite a few
      of the commands in <TT
CLASS="filename"
>/bin</TT
> come from GNU's fileutils.
      The <B
CLASS="command"
>date</B
> command also comes from a GNU package called
      sh-utils. So a good way to tackle the problem of finding source code
      might be to group the commands together by package as shown
      below.</P
><P
></P
><UL
><LI
><P
>The BASH shell -- <B
CLASS="command"
>echo</B
>,
          <B
CLASS="command"
>false</B
>, <B
CLASS="command"
>pwd</B
>,
          <B
CLASS="command"
>sh</B
>, <B
CLASS="command"
>true</B
></P
></LI
><LI
><P
>GNU textutils -- <B
CLASS="command"
>cat</B
></P
></LI
><LI
><P
>GNU fileutils -- <B
CLASS="command"
>chgrp</B
>,
          <B
CLASS="command"
>chmod</B
>, <B
CLASS="command"
>chown</B
>,
          <B
CLASS="command"
>cp</B
>, <B
CLASS="command"
>dd</B
>, <B
CLASS="command"
>df</B
>,
          <B
CLASS="command"
>ln</B
>, <B
CLASS="command"
>ls</B
>,
          <B
CLASS="command"
>mkdir</B
>, <B
CLASS="command"
>mknod</B
>,
          <B
CLASS="command"
>mv</B
>, <B
CLASS="command"
>rm</B
>,
          <B
CLASS="command"
>rmdir</B
>, <B
CLASS="command"
>sync</B
></P
></LI
><LI
><P
>GNU sh-utils -- <B
CLASS="command"
>date</B
>,
          <B
CLASS="command"
>hostname</B
>, <B
CLASS="command"
>stty</B
>,
          <B
CLASS="command"
>su</B
>, <B
CLASS="command"
>uname</B
></P
></LI
></UL
><P
>These four packages do not contain all of the commands in the
      <TT
CLASS="filename"
>/bin</TT
> directory, but they do represent of over 70%
      of them. That should be enough to accomplish our goal of adding some of
      the commonly used external commands. We can worry about the other
      commands in later phases of the project.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN576"
></A
>4.2.4. Downloading Source Code</H2
><P
>To fetch the source code we simply need to connect to <A
HREF="ftp://ftp.gnu.org/gnu"
TARGET="_top"
>GNU's FTP site</A
> and navigate to the
      appropriate package directory.</P
><P
>When we get to the directory for textutils there are several
      versions available. There is also a note informing us that the package
      has been renamed to coreutils. The same message about coreutils appears
      in the fileutils and sh-utils directories as well. So instead of
      downloading three separate packages we can get everything in one
      convenient bundle in the coreutils directory.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x495.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x581.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Analysis</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="phase3.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Construction</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>