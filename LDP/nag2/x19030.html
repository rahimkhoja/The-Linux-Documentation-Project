<HTML
><HEAD
><TITLE
>Managing INN: The ctlinnd Command</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"><LINK
REL="HOME"
TITLE="Linux Network Administrators Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Internet News"
HREF="x-087-2-inn.html"><LINK
REL="PREVIOUS"
TITLE="Running INN"
HREF="x19004.html"><LINK
REL="NEXT"
TITLE="Newsreader Configuration"
HREF="x-087-2-newsreaders.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Network Administrators Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x19004.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 23. Internet News</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x-087-2-newsreaders.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN19030"
>23.7. Managing INN: The ctlinnd Command</A
></H1
><P
>&#13;
The INN news server comes with a command to manage its day-to-day operation.
The <B
CLASS="COMMAND"
>ctlinnd</B
> command can be used to manipulate newsgroups
and newsgroup feeds, to obtain the status, of the server, and to reload, stop,
and start the server.</P
><P
>You'd normally get a summary of the <B
CLASS="COMMAND"
>ctlinnd</B
> command
syntax using:

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><I
CLASS="EMPHASIS"
># ctlinnd -h</I
></PRE
></TD
></TR
></TABLE
></P
><P
>We'll cover some of the more important uses of
<B
CLASS="COMMAND"
>ctlinnd</B
> here; please consult the
<B
CLASS="COMMAND"
>ctlinnd</B
> manual page for more detail.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19046"
>23.7.1. Add a New Group</A
></H2
><P
>Use the following syntax to add a new group:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd newgroup <TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>rest</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>creator</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The arguments are defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></DT
><DD
><P
>The name of the group to create.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>rest</I
></TT
></DT
><DD
><P
>This argument should be coded in the same way as the
<TT
CLASS="REPLACEABLE"
><I
>flags</I
></TT
> field of the <TT
CLASS="FILENAME"
>active</TT
> file.
It defaults to <TT
CLASS="LITERAL"
>y</TT
> if not supplied.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>creator</I
></TT
></DT
><DD
><P
>The name of the person creating the group. Enclose it in quotes
if there are any spaces in the name.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19074"
>23.7.2. Change a Group</A
></H2
><P
>Use the following syntax to change a group:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd changegroup <TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>rest</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The arguments are defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></DT
><DD
><P
>The name of the group to change.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>rest</I
></TT
></DT
><DD
><P
>This argument should be coded in the same way as the <TT
CLASS="REPLACEABLE"
><I
>flags</I
></TT
> field of the <TT
CLASS="FILENAME"
>active</TT
> file.</P
></DD
></DL
></DIV
><P
>This command is useful to change the moderation status of a group.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19096"
>23.7.3. Remove a Group</A
></H2
><P
>Use the following syntax to remove a group:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd rmgroup <TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></DT
><DD
><P
>The name of the group to remove.</P
></DD
></DL
></DIV
><P
>This command removes the specified newsgroup from the
<TT
CLASS="FILENAME"
>active</TT
> file. It has no effect on the news spool. All
articles in the spool for the specified group will be expired in the usual
fashion, but no new articles will be accepted.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19111"
>23.7.4. Renumber a Group</A
></H2
><P
>Use the following syntax to renumber a group:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd renumber <TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></DT
><DD
><P
>The name of the group to renumber. If a <B
CLASS="COMMAND"
>group</B
> is an empty 
string, all groups are renumbered.</P
></DD
></DL
></DIV
><P
>This command updates the low-water mark for the specified group.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19126"
>23.7.5. Allow/Disallow Newsreaders</A
></H2
><P
>Use the following syntax to allow or disallow newsreaders:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd readers <TT
CLASS="REPLACEABLE"
><I
>flag</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The arguments are defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>flag</I
></TT
></DT
><DD
><P
>Specifying <TT
CLASS="LITERAL"
>n</TT
> causes all newsreader connections to be
disallowed. Specifying <TT
CLASS="LITERAL"
>y</TT
> allows newsreader connections.</P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></DT
><DD
><P
>The text supplied will be given to newsreaders who attempt to connect, and 
usually describes the reason for disabling newsreader access. When
reenabling newsreader access, this field must be either an empty 
string or a copy of the text supplied when the newsreader was disabled.</P
><P
>This command does not affect incoming newsfeeds. It only controls connections
from newsreaders.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19148"
>23.7.6. Reject Newsfeed Connections</A
></H2
><P
>Use the following syntax to reject newsfeed connections:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd reject <TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></PRE
></TD
></TR
></TABLE
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></DT
><DD
><P
>The text supplied should explain why incoming connections to 
<B
CLASS="COMMAND"
>innd</B
> are rejected.</P
></DD
></DL
></DIV
><P
>This command does not affect connections that are handed off to
<B
CLASS="COMMAND"
>nnrpd</B
> (i.e., newsreaders); it only affects connections that
would be handled by <B
CLASS="COMMAND"
>innd</B
> directly, such as remote newsfeeds.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19164"
>23.7.7. Allow Newsfeed Connections</A
></H2
><P
>Use the following syntax to allow newsfeed connections:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd allow <TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></DT
><DD
><P
>The supplied text must be the same as that supplied to the preceding
<B
CLASS="COMMAND"
>reject</B
> command or an empty string.</P
></DD
></DL
></DIV
><P
>This command reverses the effect of a <B
CLASS="COMMAND"
>reject</B
> command.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19180"
>23.7.8. Disable News Server</A
></H2
><P
>Use the following syntax to disable the news server:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd throttle <TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></DT
><DD
><P
>The reason for throttling the server.</P
></DD
></DL
></DIV
><P
>This command is simultaneously equivalent to a 
<TT
CLASS="LITERAL"
>newsreaders no</TT
> and a <TT
CLASS="LITERAL"
>reject</TT
>, 
and is useful when emergency work is performed on the news database. 
It ensures that nothing attempts to update it while you are working on it.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19196"
>23.7.9. Restart News Server</A
></H2
><P
>Use the following syntax to restart the news server:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd go <TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>reason</I
></TT
></DT
><DD
><P
>The reason given when stopping the server. If this field is an empty
string, the server will be reenabled unconditionally. If a reason is given, 
only those functions disabled with a reason matching the supplied text
will be restarted.</P
></DD
></DL
></DIV
><P
>This command is used to restart a server function after a
<B
CLASS="COMMAND"
>throttle</B
>, <B
CLASS="COMMAND"
>pause</B
>, or
<B
CLASS="COMMAND"
>reject</B
> command.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19213"
>23.7.10. Display Status of a Newsfeed</A
></H2
><P
>Use the following syntax to display the status of a newsfeed:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd feedinfo <TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
></DT
><DD
><P
>The site name (taken from the <TT
CLASS="FILENAME"
>newsfeeds</TT
> file) for which 
you wish to display the newsfeed's status.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19227"
>23.7.11. Drop a Newsfeed</A
></H2
><P
>Use the following syntax to drop a newsfeed:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd drop <TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
></DT
><DD
><P
>The name of the site (taken from the <TT
CLASS="FILENAME"
>newsfeeds</TT
> file) to
which feeds are dropped. If this field is an empty string, all active feeds 
will be dropped.</P
></DD
></DL
></DIV
><P
>Dropping a newsfeed to a site halts any active feeds to the site. It is not
a permanent change. This command would be useful if you've modified the feed
details for a site and a feed to that site is active.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19242"
>23.7.12. Begin a Newsfeed</A
></H2
><P
>Use the following syntax to begin a newsfeed:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd begin <TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>site</I
></TT
></DT
><DD
><P
>The name of the site from the <TT
CLASS="FILENAME"
>newsfeeds</TT
> file to
which feeds are started. If a feed to the site is already active, a 
<B
CLASS="COMMAND"
>drop</B
> command is done first automatically.</P
></DD
></DL
></DIV
><P
>This command causes the server to reread the <TT
CLASS="FILENAME"
>newsfeeds</TT
>
file, locate the matching entry, and commence a newsfeed to the named
site using the details found. You can use this command to test a new
news feed to a site after you've added or modified its entry in the
<TT
CLASS="FILENAME"
>newsfeeds</TT
> file.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN19260"
>23.7.13. Cancel an Article</A
></H2
><P
>Use the following syntax to cancel an article:</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>ctlinnd cancel <TT
CLASS="REPLACEABLE"
><I
>Message-Id</I
></TT
></PRE
></TD
></TR
></TABLE
></P
><P
>The argument is defined as follows:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>Message-ID</I
></TT
></DT
><DD
><P
>The ID of the article to be cancelled.</P
></DD
></DL
></DIV
><P
>This command causes the specified article to be deleted from the server.
It does not generate a cancel message.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x19004.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x-087-2-newsreaders.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Running INN</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="x-087-2-inn.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Newsreader Configuration</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>